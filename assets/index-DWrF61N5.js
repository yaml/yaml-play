var hk=Object.defineProperty;var fk=(n,e,t)=>e in n?hk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var pm=(n,e,t)=>fk(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Ay(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vh={exports:{}},fo={},xh={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function dk(){if(gm)return Pe;gm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=m&&A[m]||A["@@iterator"],typeof A=="function"?A:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function b(A,I,re){this.props=A,this.context=I,this.refs=S,this.updater=re||x}b.prototype.isReactComponent={},b.prototype.setState=function(A,I){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,I,"setState")},b.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function C(){}C.prototype=b.prototype;function D(A,I,re){this.props=A,this.context=I,this.refs=S,this.updater=re||x}var N=D.prototype=new C;N.constructor=D,k(N,b.prototype),N.isPureReactComponent=!0;var _=Array.isArray,z=Object.prototype.hasOwnProperty,F={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function Q(A,I,re){var ae,ye={},xe=null,Me=null;if(I!=null)for(ae in I.ref!==void 0&&(Me=I.ref),I.key!==void 0&&(xe=""+I.key),I)z.call(I,ae)&&!B.hasOwnProperty(ae)&&(ye[ae]=I[ae]);var Oe=arguments.length-2;if(Oe===1)ye.children=re;else if(1<Oe){for(var Ce=Array(Oe),se=0;se<Oe;se++)Ce[se]=arguments[se+2];ye.children=Ce}if(A&&A.defaultProps)for(ae in Oe=A.defaultProps,Oe)ye[ae]===void 0&&(ye[ae]=Oe[ae]);return{$$typeof:n,type:A,key:xe,ref:Me,props:ye,_owner:F.current}}function X(A,I){return{$$typeof:n,type:A.type,key:I,ref:A.ref,props:A.props,_owner:A._owner}}function K(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function ee(A){var I={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(re){return I[re]})}var te=/\/+/g;function ue(A,I){return typeof A=="object"&&A!==null&&A.key!=null?ee(""+A.key):I.toString(36)}function de(A,I,re,ae,ye){var xe=typeof A;(xe==="undefined"||xe==="boolean")&&(A=null);var Me=!1;if(A===null)Me=!0;else switch(xe){case"string":case"number":Me=!0;break;case"object":switch(A.$$typeof){case n:case e:Me=!0}}if(Me)return Me=A,ye=ye(Me),A=ae===""?"."+ue(Me,0):ae,_(ye)?(re="",A!=null&&(re=A.replace(te,"$&/")+"/"),de(ye,I,re,"",function(se){return se})):ye!=null&&(K(ye)&&(ye=X(ye,re+(!ye.key||Me&&Me.key===ye.key?"":(""+ye.key).replace(te,"$&/")+"/")+A)),I.push(ye)),1;if(Me=0,ae=ae===""?".":ae+":",_(A))for(var Oe=0;Oe<A.length;Oe++){xe=A[Oe];var Ce=ae+ue(xe,Oe);Me+=de(xe,I,re,Ce,ye)}else if(Ce=v(A),typeof Ce=="function")for(A=Ce.call(A),Oe=0;!(xe=A.next()).done;)xe=xe.value,Ce=ae+ue(xe,Oe++),Me+=de(xe,I,re,Ce,ye);else if(xe==="object")throw I=String(A),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return Me}function Y(A,I,re){if(A==null)return A;var ae=[],ye=0;return de(A,ae,"","",function(xe){return I.call(re,xe,ye++)}),ae}function ce(A){if(A._status===-1){var I=A._result;I=I(),I.then(function(re){(A._status===0||A._status===-1)&&(A._status=1,A._result=re)},function(re){(A._status===0||A._status===-1)&&(A._status=2,A._result=re)}),A._status===-1&&(A._status=0,A._result=I)}if(A._status===1)return A._result.default;throw A._result}var fe={current:null},$={transition:null},G={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:$,ReactCurrentOwner:F};function J(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:Y,forEach:function(A,I,re){Y(A,function(){I.apply(this,arguments)},re)},count:function(A){var I=0;return Y(A,function(){I++}),I},toArray:function(A){return Y(A,function(I){return I})||[]},only:function(A){if(!K(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Pe.Component=b,Pe.Fragment=t,Pe.Profiler=s,Pe.PureComponent=D,Pe.StrictMode=r,Pe.Suspense=h,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Pe.act=J,Pe.cloneElement=function(A,I,re){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ae=k({},A.props),ye=A.key,xe=A.ref,Me=A._owner;if(I!=null){if(I.ref!==void 0&&(xe=I.ref,Me=F.current),I.key!==void 0&&(ye=""+I.key),A.type&&A.type.defaultProps)var Oe=A.type.defaultProps;for(Ce in I)z.call(I,Ce)&&!B.hasOwnProperty(Ce)&&(ae[Ce]=I[Ce]===void 0&&Oe!==void 0?Oe[Ce]:I[Ce])}var Ce=arguments.length-2;if(Ce===1)ae.children=re;else if(1<Ce){Oe=Array(Ce);for(var se=0;se<Ce;se++)Oe[se]=arguments[se+2];ae.children=Oe}return{$$typeof:n,type:A.type,key:ye,ref:xe,props:ae,_owner:Me}},Pe.createContext=function(A){return A={$$typeof:a,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:l,_context:A},A.Consumer=A},Pe.createElement=Q,Pe.createFactory=function(A){var I=Q.bind(null,A);return I.type=A,I},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(A){return{$$typeof:c,render:A}},Pe.isValidElement=K,Pe.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:ce}},Pe.memo=function(A,I){return{$$typeof:d,type:A,compare:I===void 0?null:I}},Pe.startTransition=function(A){var I=$.transition;$.transition={};try{A()}finally{$.transition=I}},Pe.unstable_act=J,Pe.useCallback=function(A,I){return fe.current.useCallback(A,I)},Pe.useContext=function(A){return fe.current.useContext(A)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(A){return fe.current.useDeferredValue(A)},Pe.useEffect=function(A,I){return fe.current.useEffect(A,I)},Pe.useId=function(){return fe.current.useId()},Pe.useImperativeHandle=function(A,I,re){return fe.current.useImperativeHandle(A,I,re)},Pe.useInsertionEffect=function(A,I){return fe.current.useInsertionEffect(A,I)},Pe.useLayoutEffect=function(A,I){return fe.current.useLayoutEffect(A,I)},Pe.useMemo=function(A,I){return fe.current.useMemo(A,I)},Pe.useReducer=function(A,I,re){return fe.current.useReducer(A,I,re)},Pe.useRef=function(A){return fe.current.useRef(A)},Pe.useState=function(A){return fe.current.useState(A)},Pe.useSyncExternalStore=function(A,I,re){return fe.current.useSyncExternalStore(A,I,re)},Pe.useTransition=function(){return fe.current.useTransition()},Pe.version="18.3.1",Pe}var mm;function id(){return mm||(mm=1,xh.exports=dk()),xh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function pk(){if(ym)return fo;ym=1;var n=id(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(c,h,d){var p,m={},v=null,x=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(x=h.ref);for(p in h)r.call(h,p)&&!l.hasOwnProperty(p)&&(m[p]=h[p]);if(c&&c.defaultProps)for(p in h=c.defaultProps,h)m[p]===void 0&&(m[p]=h[p]);return{$$typeof:e,type:c,key:v,ref:x,props:m,_owner:s.current}}return fo.Fragment=t,fo.jsx=a,fo.jsxs=a,fo}var vm;function gk(){return vm||(vm=1,vh.exports=pk()),vh.exports}var R=gk(),P=id();const tt=Ay(P);var ya={},wh={exports:{}},Xt={},kh={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function mk(){return xm||(xm=1,(function(n){function e($,G){var J=$.length;$.push(G);e:for(;0<J;){var A=J-1>>>1,I=$[A];if(0<s(I,G))$[A]=G,$[J]=I,J=A;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],J=$.pop();if(J!==G){$[0]=J;e:for(var A=0,I=$.length,re=I>>>1;A<re;){var ae=2*(A+1)-1,ye=$[ae],xe=ae+1,Me=$[xe];if(0>s(ye,J))xe<I&&0>s(Me,ye)?($[A]=Me,$[xe]=J,A=xe):($[A]=ye,$[ae]=J,A=ae);else if(xe<I&&0>s(Me,J))$[A]=Me,$[xe]=J,A=xe;else break e}}return G}function s($,G){var J=$.sortIndex-G.sortIndex;return J!==0?J:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var h=[],d=[],p=1,m=null,v=3,x=!1,k=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N($){for(var G=t(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=$)r(d),G.sortIndex=G.expirationTime,e(h,G);else break;G=t(d)}}function _($){if(S=!1,N($),!k)if(t(h)!==null)k=!0,ce(z);else{var G=t(d);G!==null&&fe(_,G.startTime-$)}}function z($,G){k=!1,S&&(S=!1,C(Q),Q=-1),x=!0;var J=v;try{for(N(G),m=t(h);m!==null&&(!(m.expirationTime>G)||$&&!ee());){var A=m.callback;if(typeof A=="function"){m.callback=null,v=m.priorityLevel;var I=A(m.expirationTime<=G);G=n.unstable_now(),typeof I=="function"?m.callback=I:m===t(h)&&r(h),N(G)}else r(h);m=t(h)}if(m!==null)var re=!0;else{var ae=t(d);ae!==null&&fe(_,ae.startTime-G),re=!1}return re}finally{m=null,v=J,x=!1}}var F=!1,B=null,Q=-1,X=5,K=-1;function ee(){return!(n.unstable_now()-K<X)}function te(){if(B!==null){var $=n.unstable_now();K=$;var G=!0;try{G=B(!0,$)}finally{G?ue():(F=!1,B=null)}}else F=!1}var ue;if(typeof D=="function")ue=function(){D(te)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Y=de.port2;de.port1.onmessage=te,ue=function(){Y.postMessage(null)}}else ue=function(){b(te,0)};function ce($){B=$,F||(F=!0,ue())}function fe($,G){Q=b(function(){$(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){k||x||(k=!0,ce(z))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function($){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var J=v;v=G;try{return $()}finally{v=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=v;v=$;try{return G()}finally{v=J}},n.unstable_scheduleCallback=function($,G,J){var A=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?A+J:A):J=A,$){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=J+I,$={id:p++,callback:G,priorityLevel:$,startTime:J,expirationTime:I,sortIndex:-1},J>A?($.sortIndex=J,e(d,$),t(h)===null&&$===t(d)&&(S?(C(Q),Q=-1):S=!0,fe(_,J-A))):($.sortIndex=I,e(h,$),k||x||(k=!0,ce(z))),$},n.unstable_shouldYield=ee,n.unstable_wrapCallback=function($){var G=v;return function(){var J=v;v=G;try{return $.apply(this,arguments)}finally{v=J}}}})(Sh)),Sh}var wm;function yk(){return wm||(wm=1,kh.exports=mk()),kh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function vk(){if(km)return Xt;km=1;var n=id(),e=yk();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function l(i,o){a(i,o),a(i+"Capture",o)}function a(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(i){return h.call(m,i)?!0:h.call(p,i)?!1:d.test(i)?m[i]=!0:(p[i]=!0,!1)}function x(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,u,f){if(o===null||typeof o>"u"||x(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(i,o,u,f,g,y,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=w}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];b[o]=new S(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(C,D);b[o]=new S(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(C,D);b[o]=new S(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(C,D);b[o]=new S(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function N(i,o,u,f){var g=b.hasOwnProperty(o)?b[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,g,f)&&(u=null),f||g===null?v(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,f=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var _=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),F=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),ee=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),$=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var J=Object.assign,A;function I(i){if(A===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);A=o&&o[1]||""}return`
`+A+i}var re=!1;function ae(i,o){if(!i||re)return"";re=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(j){var f=j}Reflect.construct(i,[],o)}else{try{o.call()}catch(j){f=j}i.call(o.prototype)}else{try{throw Error()}catch(j){f=j}i()}}catch(j){if(j&&f&&typeof j.stack=="string"){for(var g=j.stack.split(`
`),y=f.stack.split(`
`),w=g.length-1,O=y.length-1;1<=w&&0<=O&&g[w]!==y[O];)O--;for(;1<=w&&0<=O;w--,O--)if(g[w]!==y[O]){if(w!==1||O!==1)do if(w--,O--,0>O||g[w]!==y[O]){var M=`
`+g[w].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=w&&0<=O);break}}}finally{re=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?I(i):""}function ye(i){switch(i.tag){case 5:return I(i.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return i=ae(i.type,!1),i;case 11:return i=ae(i.type.render,!1),i;case 1:return i=ae(i.type,!0),i;default:return""}}function xe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case F:return"Portal";case X:return"Profiler";case Q:return"StrictMode";case ue:return"Suspense";case de:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ee:return(i.displayName||"Context")+".Consumer";case K:return(i._context.displayName||"Context")+".Provider";case te:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return o=i.displayName||null,o!==null?o:xe(i.type)||"Memo";case ce:o=i._payload,i=i._init;try{return xe(i(o))}catch{}}return null}function Me(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(o);case 8:return o===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ce(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function se(i){var o=Ce(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(w){f=""+w,y.call(this,w)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ge(i){i._valueTracker||(i._valueTracker=se(i))}function Ee(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Ce(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function gt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function _e(i,o){var u=o.checked;return J({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function on(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Oe(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ln(i,o){o=o.checked,o!=null&&N(i,"checked",o,!1)}function Fn(i,o){ln(i,o);var u=Oe(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?_n(i,o.type,u):o.hasOwnProperty("defaultValue")&&_n(i,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function oi(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function _n(i,o,u){(o!=="number"||gt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Ft=Array.isArray;function wn(i,o,u,f){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Oe(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function Sr(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return J({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ps(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Ft(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Oe(u)}}function As(i,o){var u=Oe(o.value),f=Oe(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function ll(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function al(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vn(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?al(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var kn,br=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(kn=kn||document.createElement("div"),kn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=kn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Or(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var _t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ul=["Webkit","ms","Moz","O"];Object.keys(_t).forEach(function(i){ul.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),_t[o]=_t[i]})});function cl(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||_t.hasOwnProperty(i)&&_t[i]?(""+o).trim():o+"px"}function hl(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=cl(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,g):i[u]=g}}var Ms=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ti(i,o){if(o){if(Ms[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Es(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ni=null;function Ds(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Rs=null,Cr=null,$e=null;function wt(i){if(i=Gs(i)){if(typeof Rs!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Tl(o),Rs(i.stateNode,i.type,o))}}function kt(i){Cr?$e?$e.push(i):$e=[i]:Cr=i}function Sn(){if(Cr){var i=Cr,o=$e;if($e=Cr=null,wt(i),o)for(i=0;i<o.length;i++)wt(o[i])}}function Tt(i,o){return i(o)}function St(){}var Vt=!1;function ir(i,o,u){if(Vt)return i(o,u);Vt=!0;try{return Tt(i,o,u)}finally{Vt=!1,(Cr!==null||$e!==null)&&(St(),Sn())}}function Ue(i,o){var u=i.stateNode;if(u===null)return null;var f=Tl(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var an=!1;if(c)try{var bt={};Object.defineProperty(bt,"passive",{get:function(){an=!0}}),window.addEventListener("test",bt,bt),window.removeEventListener("test",bt,bt)}catch{an=!1}function bn(i,o,u,f,g,y,w,O,M){var j=Array.prototype.slice.call(arguments,3);try{o.apply(u,j)}catch(W){this.onError(W)}}var On=!1,Hn=null,Yt=!1,sr=null,Ts={onError:function(i){On=!0,Hn=i}};function xx(i,o,u,f,g,y,w,O,M){On=!1,Hn=null,bn.apply(Ts,arguments)}function wx(i,o,u,f,g,y,w,O,M){if(xx.apply(this,arguments),On){if(On){var j=Hn;On=!1,Hn=null}else throw Error(t(198));Yt||(Yt=!0,sr=j)}}function li(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function zd(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function jd(i){if(li(i)!==i)throw Error(t(188))}function kx(i){var o=i.alternate;if(!o){if(o=li(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,f=o;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return jd(g),i;if(y===f)return jd(g),o;y=y.sibling}throw Error(t(188))}if(u.return!==f.return)u=g,f=y;else{for(var w=!1,O=g.child;O;){if(O===u){w=!0,u=g,f=y;break}if(O===f){w=!0,f=g,u=y;break}O=O.sibling}if(!w){for(O=y.child;O;){if(O===u){w=!0,u=y,f=g;break}if(O===f){w=!0,f=y,u=g;break}O=O.sibling}if(!w)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Fd(i){return i=kx(i),i!==null?_d(i):null}function _d(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=_d(i);if(o!==null)return o;i=i.sibling}return null}var Vd=e.unstable_scheduleCallback,Hd=e.unstable_cancelCallback,Sx=e.unstable_shouldYield,bx=e.unstable_requestPaint,Je=e.unstable_now,Ox=e.unstable_getCurrentPriorityLevel,ju=e.unstable_ImmediatePriority,Wd=e.unstable_UserBlockingPriority,fl=e.unstable_NormalPriority,Cx=e.unstable_LowPriority,Qd=e.unstable_IdlePriority,dl=null,Wn=null;function Px(i){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(dl,i,void 0,(i.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:Ex,Ax=Math.log,Mx=Math.LN2;function Ex(i){return i>>>=0,i===0?32:31-(Ax(i)/Mx|0)|0}var pl=64,gl=4194304;function Ns(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ml(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,y=i.pingedLanes,w=u&268435455;if(w!==0){var O=w&~g;O!==0?f=Ns(O):(y&=w,y!==0&&(f=Ns(y)))}else w=u&~g,w!==0?f=Ns(w):y!==0&&(f=Ns(y));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,y=o&-o,g>=y||g===16&&(y&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-Cn(o),g=1<<u,f|=i[u],o&=~g;return f}function Dx(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rx(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes;0<y;){var w=31-Cn(y),O=1<<w,M=g[w];M===-1?((O&u)===0||(O&f)!==0)&&(g[w]=Dx(O,o)):M<=o&&(i.expiredLanes|=O),y&=~O}}function Fu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function $d(){var i=pl;return pl<<=1,(pl&4194240)===0&&(pl=64),i}function _u(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ls(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Cn(o),i[o]=u}function Tx(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-Cn(u),y=1<<g;o[g]=0,f[g]=-1,i[g]=-1,u&=~y}}function Vu(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-Cn(u),g=1<<f;g&o|i[f]&o&&(i[f]|=o),u&=~g}}var Be=0;function Ud(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Xd,Hu,Kd,qd,Yd,Wu=!1,yl=[],Pr=null,Ar=null,Mr=null,Is=new Map,Bs=new Map,Er=[],Nx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gd(i,o){switch(i){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Is.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(o.pointerId)}}function zs(i,o,u,f,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},o!==null&&(o=Gs(o),o!==null&&Hu(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function Lx(i,o,u,f,g){switch(o){case"focusin":return Pr=zs(Pr,i,o,u,f,g),!0;case"dragenter":return Ar=zs(Ar,i,o,u,f,g),!0;case"mouseover":return Mr=zs(Mr,i,o,u,f,g),!0;case"pointerover":var y=g.pointerId;return Is.set(y,zs(Is.get(y)||null,i,o,u,f,g)),!0;case"gotpointercapture":return y=g.pointerId,Bs.set(y,zs(Bs.get(y)||null,i,o,u,f,g)),!0}return!1}function Jd(i){var o=ai(i.target);if(o!==null){var u=li(o);if(u!==null){if(o=u.tag,o===13){if(o=zd(u),o!==null){i.blockedOn=o,Yd(i.priority,function(){Kd(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vl(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=$u(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Ni=f,u.target.dispatchEvent(f),Ni=null}else return o=Gs(u),o!==null&&Hu(o),i.blockedOn=u,!1;o.shift()}return!0}function Zd(i,o,u){vl(i)&&u.delete(o)}function Ix(){Wu=!1,Pr!==null&&vl(Pr)&&(Pr=null),Ar!==null&&vl(Ar)&&(Ar=null),Mr!==null&&vl(Mr)&&(Mr=null),Is.forEach(Zd),Bs.forEach(Zd)}function js(i,o){i.blockedOn===o&&(i.blockedOn=null,Wu||(Wu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ix)))}function Fs(i){function o(g){return js(g,i)}if(0<yl.length){js(yl[0],i);for(var u=1;u<yl.length;u++){var f=yl[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Pr!==null&&js(Pr,i),Ar!==null&&js(Ar,i),Mr!==null&&js(Mr,i),Is.forEach(o),Bs.forEach(o),u=0;u<Er.length;u++)f=Er[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<Er.length&&(u=Er[0],u.blockedOn===null);)Jd(u),u.blockedOn===null&&Er.shift()}var Li=_.ReactCurrentBatchConfig,xl=!0;function Bx(i,o,u,f){var g=Be,y=Li.transition;Li.transition=null;try{Be=1,Qu(i,o,u,f)}finally{Be=g,Li.transition=y}}function zx(i,o,u,f){var g=Be,y=Li.transition;Li.transition=null;try{Be=4,Qu(i,o,u,f)}finally{Be=g,Li.transition=y}}function Qu(i,o,u,f){if(xl){var g=$u(i,o,u,f);if(g===null)ac(i,o,f,wl,u),Gd(i,f);else if(Lx(g,i,o,u,f))f.stopPropagation();else if(Gd(i,f),o&4&&-1<Nx.indexOf(i)){for(;g!==null;){var y=Gs(g);if(y!==null&&Xd(y),y=$u(i,o,u,f),y===null&&ac(i,o,f,wl,u),y===g)break;g=y}g!==null&&f.stopPropagation()}else ac(i,o,f,null,u)}}var wl=null;function $u(i,o,u,f){if(wl=null,i=Ds(f),i=ai(i),i!==null)if(o=li(i),o===null)i=null;else if(u=o.tag,u===13){if(i=zd(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return wl=i,null}function ep(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ox()){case ju:return 1;case Wd:return 4;case fl:case Cx:return 16;case Qd:return 536870912;default:return 16}default:return 16}}var Dr=null,Uu=null,kl=null;function tp(){if(kl)return kl;var i,o=Uu,u=o.length,f,g="value"in Dr?Dr.value:Dr.textContent,y=g.length;for(i=0;i<u&&o[i]===g[i];i++);var w=u-i;for(f=1;f<=w&&o[u-f]===g[y-f];f++);return kl=g.slice(i,1<f?1-f:void 0)}function Sl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function bl(){return!0}function np(){return!1}function Gt(i){function o(u,f,g,y,w){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(u=i[O],this[O]=u?u(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?bl:np,this.isPropagationStopped=np,this}return J(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),o}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xu=Gt(Ii),_s=J({},Ii,{view:0,detail:0}),jx=Gt(_s),Ku,qu,Vs,Ol=J({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vs&&(Vs&&i.type==="mousemove"?(Ku=i.screenX-Vs.screenX,qu=i.screenY-Vs.screenY):qu=Ku=0,Vs=i),Ku)},movementY:function(i){return"movementY"in i?i.movementY:qu}}),rp=Gt(Ol),Fx=J({},Ol,{dataTransfer:0}),_x=Gt(Fx),Vx=J({},_s,{relatedTarget:0}),Yu=Gt(Vx),Hx=J({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Wx=Gt(Hx),Qx=J({},Ii,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$x=Gt(Qx),Ux=J({},Ii,{data:0}),ip=Gt(Ux),Xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yx(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=qx[i])?!!o[i]:!1}function Gu(){return Yx}var Gx=J({},_s,{key:function(i){if(i.key){var o=Xx[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Sl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Kx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gu,charCode:function(i){return i.type==="keypress"?Sl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Sl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Jx=Gt(Gx),Zx=J({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sp=Gt(Zx),ew=J({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gu}),tw=Gt(ew),nw=J({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),rw=Gt(nw),iw=J({},Ol,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),sw=Gt(iw),ow=[9,13,27,32],Ju=c&&"CompositionEvent"in window,Hs=null;c&&"documentMode"in document&&(Hs=document.documentMode);var lw=c&&"TextEvent"in window&&!Hs,op=c&&(!Ju||Hs&&8<Hs&&11>=Hs),lp=" ",ap=!1;function up(i,o){switch(i){case"keyup":return ow.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bi=!1;function aw(i,o){switch(i){case"compositionend":return cp(o);case"keypress":return o.which!==32?null:(ap=!0,lp);case"textInput":return i=o.data,i===lp&&ap?null:i;default:return null}}function uw(i,o){if(Bi)return i==="compositionend"||!Ju&&up(i,o)?(i=tp(),kl=Uu=Dr=null,Bi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return op&&o.locale!=="ko"?null:o.data;default:return null}}var cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!cw[i.type]:o==="textarea"}function fp(i,o,u,f){kt(f),o=El(o,"onChange"),0<o.length&&(u=new Xu("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var Ws=null,Qs=null;function hw(i){Dp(i,0)}function Cl(i){var o=Vi(i);if(Ee(o))return i}function fw(i,o){if(i==="change")return o}var dp=!1;if(c){var Zu;if(c){var ec="oninput"in document;if(!ec){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),ec=typeof pp.oninput=="function"}Zu=ec}else Zu=!1;dp=Zu&&(!document.documentMode||9<document.documentMode)}function gp(){Ws&&(Ws.detachEvent("onpropertychange",mp),Qs=Ws=null)}function mp(i){if(i.propertyName==="value"&&Cl(Qs)){var o=[];fp(o,Qs,i,Ds(i)),ir(hw,o)}}function dw(i,o,u){i==="focusin"?(gp(),Ws=o,Qs=u,Ws.attachEvent("onpropertychange",mp)):i==="focusout"&&gp()}function pw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Cl(Qs)}function gw(i,o){if(i==="click")return Cl(o)}function mw(i,o){if(i==="input"||i==="change")return Cl(o)}function yw(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Pn=typeof Object.is=="function"?Object.is:yw;function $s(i,o){if(Pn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!h.call(o,g)||!Pn(i[g],o[g]))return!1}return!0}function yp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vp(i,o){var u=yp(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=yp(u)}}function xp(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?xp(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function wp(){for(var i=window,o=gt();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=gt(i.document)}return o}function tc(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function vw(i){var o=wp(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&xp(u.ownerDocument.documentElement,u)){if(f!==null&&tc(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,y=Math.min(f.start,g);f=f.end===void 0?y:Math.min(f.end,g),!i.extend&&y>f&&(g=f,f=y,y=g),g=vp(u,y);var w=vp(u,f);g&&w&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),y>f?(i.addRange(o),i.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var xw=c&&"documentMode"in document&&11>=document.documentMode,zi=null,nc=null,Us=null,rc=!1;function kp(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;rc||zi==null||zi!==gt(f)||(f=zi,"selectionStart"in f&&tc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Us&&$s(Us,f)||(Us=f,f=El(nc,"onSelect"),0<f.length&&(o=new Xu("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=zi)))}function Pl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ji={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionend:Pl("Transition","TransitionEnd")},ic={},Sp={};c&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function Al(i){if(ic[i])return ic[i];if(!ji[i])return i;var o=ji[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Sp)return ic[i]=o[u];return i}var bp=Al("animationend"),Op=Al("animationiteration"),Cp=Al("animationstart"),Pp=Al("transitionend"),Ap=new Map,Mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(i,o){Ap.set(i,o),l(o,[i])}for(var sc=0;sc<Mp.length;sc++){var oc=Mp[sc],ww=oc.toLowerCase(),kw=oc[0].toUpperCase()+oc.slice(1);Rr(ww,"on"+kw)}Rr(bp,"onAnimationEnd"),Rr(Op,"onAnimationIteration"),Rr(Cp,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Pp,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function Ep(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,wx(f,o,void 0,i),i.currentTarget=null}function Dp(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],g=f.event;f=f.listeners;e:{var y=void 0;if(o)for(var w=f.length-1;0<=w;w--){var O=f[w],M=O.instance,j=O.currentTarget;if(O=O.listener,M!==y&&g.isPropagationStopped())break e;Ep(g,O,j),y=M}else for(w=0;w<f.length;w++){if(O=f[w],M=O.instance,j=O.currentTarget,O=O.listener,M!==y&&g.isPropagationStopped())break e;Ep(g,O,j),y=M}}}if(Yt)throw i=sr,Yt=!1,sr=null,i}function Ve(i,o){var u=o[pc];u===void 0&&(u=o[pc]=new Set);var f=i+"__bubble";u.has(f)||(Rp(o,i,2,!1),u.add(f))}function lc(i,o,u){var f=0;o&&(f|=4),Rp(u,i,f,o)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function Ks(i){if(!i[Ml]){i[Ml]=!0,r.forEach(function(u){u!=="selectionchange"&&(Sw.has(u)||lc(u,!1,i),lc(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ml]||(o[Ml]=!0,lc("selectionchange",!1,o))}}function Rp(i,o,u,f){switch(ep(o)){case 1:var g=Bx;break;case 4:g=zx;break;default:g=Qu}u=g.bind(null,o,u,i),g=void 0,!an||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function ac(i,o,u,f,g){var y=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var O=f.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(w===4)for(w=f.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===g||M.nodeType===8&&M.parentNode===g))return;w=w.return}for(;O!==null;){if(w=ai(O),w===null)return;if(M=w.tag,M===5||M===6){f=y=w;continue e}O=O.parentNode}}f=f.return}ir(function(){var j=y,W=Ds(u),U=[];e:{var H=Ap.get(i);if(H!==void 0){var oe=Xu,he=i;switch(i){case"keypress":if(Sl(u)===0)break e;case"keydown":case"keyup":oe=Jx;break;case"focusin":he="focus",oe=Yu;break;case"focusout":he="blur",oe=Yu;break;case"beforeblur":case"afterblur":oe=Yu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=_x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=tw;break;case bp:case Op:case Cp:oe=Wx;break;case Pp:oe=rw;break;case"scroll":oe=jx;break;case"wheel":oe=sw;break;case"copy":case"cut":case"paste":oe=$x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=sp}var pe=(o&4)!==0,Ze=!pe&&i==="scroll",T=pe?H!==null?H+"Capture":null:H;pe=[];for(var E=j,L;E!==null;){L=E;var q=L.stateNode;if(L.tag===5&&q!==null&&(L=q,T!==null&&(q=Ue(E,T),q!=null&&pe.push(qs(E,q,L)))),Ze)break;E=E.return}0<pe.length&&(H=new oe(H,he,null,u,W),U.push({event:H,listeners:pe}))}}if((o&7)===0){e:{if(H=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",H&&u!==Ni&&(he=u.relatedTarget||u.fromElement)&&(ai(he)||he[or]))break e;if((oe||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,oe?(he=u.relatedTarget||u.toElement,oe=j,he=he?ai(he):null,he!==null&&(Ze=li(he),he!==Ze||he.tag!==5&&he.tag!==6)&&(he=null)):(oe=null,he=j),oe!==he)){if(pe=rp,q="onMouseLeave",T="onMouseEnter",E="mouse",(i==="pointerout"||i==="pointerover")&&(pe=sp,q="onPointerLeave",T="onPointerEnter",E="pointer"),Ze=oe==null?H:Vi(oe),L=he==null?H:Vi(he),H=new pe(q,E+"leave",oe,u,W),H.target=Ze,H.relatedTarget=L,q=null,ai(W)===j&&(pe=new pe(T,E+"enter",he,u,W),pe.target=L,pe.relatedTarget=Ze,q=pe),Ze=q,oe&&he)t:{for(pe=oe,T=he,E=0,L=pe;L;L=Fi(L))E++;for(L=0,q=T;q;q=Fi(q))L++;for(;0<E-L;)pe=Fi(pe),E--;for(;0<L-E;)T=Fi(T),L--;for(;E--;){if(pe===T||T!==null&&pe===T.alternate)break t;pe=Fi(pe),T=Fi(T)}pe=null}else pe=null;oe!==null&&Tp(U,H,oe,pe,!1),he!==null&&Ze!==null&&Tp(U,Ze,he,pe,!0)}}e:{if(H=j?Vi(j):window,oe=H.nodeName&&H.nodeName.toLowerCase(),oe==="select"||oe==="input"&&H.type==="file")var me=fw;else if(hp(H))if(dp)me=mw;else{me=pw;var we=dw}else(oe=H.nodeName)&&oe.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(me=gw);if(me&&(me=me(i,j))){fp(U,me,u,W);break e}we&&we(i,H,j),i==="focusout"&&(we=H._wrapperState)&&we.controlled&&H.type==="number"&&_n(H,"number",H.value)}switch(we=j?Vi(j):window,i){case"focusin":(hp(we)||we.contentEditable==="true")&&(zi=we,nc=j,Us=null);break;case"focusout":Us=nc=zi=null;break;case"mousedown":rc=!0;break;case"contextmenu":case"mouseup":case"dragend":rc=!1,kp(U,u,W);break;case"selectionchange":if(xw)break;case"keydown":case"keyup":kp(U,u,W)}var ke;if(Ju)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Bi?up(i,u)&&(Se="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Se="onCompositionStart");Se&&(op&&u.locale!=="ko"&&(Bi||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Bi&&(ke=tp()):(Dr=W,Uu="value"in Dr?Dr.value:Dr.textContent,Bi=!0)),we=El(j,Se),0<we.length&&(Se=new ip(Se,i,null,u,W),U.push({event:Se,listeners:we}),ke?Se.data=ke:(ke=cp(u),ke!==null&&(Se.data=ke)))),(ke=lw?aw(i,u):uw(i,u))&&(j=El(j,"onBeforeInput"),0<j.length&&(W=new ip("onBeforeInput","beforeinput",null,u,W),U.push({event:W,listeners:j}),W.data=ke))}Dp(U,o)})}function qs(i,o,u){return{instance:i,listener:o,currentTarget:u}}function El(i,o){for(var u=o+"Capture",f=[];i!==null;){var g=i,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=Ue(i,u),y!=null&&f.unshift(qs(i,y,g)),y=Ue(i,o),y!=null&&f.push(qs(i,y,g))),i=i.return}return f}function Fi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Tp(i,o,u,f,g){for(var y=o._reactName,w=[];u!==null&&u!==f;){var O=u,M=O.alternate,j=O.stateNode;if(M!==null&&M===f)break;O.tag===5&&j!==null&&(O=j,g?(M=Ue(u,y),M!=null&&w.unshift(qs(u,M,O))):g||(M=Ue(u,y),M!=null&&w.push(qs(u,M,O)))),u=u.return}w.length!==0&&i.push({event:o,listeners:w})}var bw=/\r\n?/g,Ow=/\u0000|\uFFFD/g;function Np(i){return(typeof i=="string"?i:""+i).replace(bw,`
`).replace(Ow,"")}function Dl(i,o,u){if(o=Np(o),Np(i)!==o&&u)throw Error(t(425))}function Rl(){}var uc=null,cc=null;function hc(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var fc=typeof setTimeout=="function"?setTimeout:void 0,Cw=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,Pw=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(i){return Lp.resolve(null).then(i).catch(Aw)}:fc;function Aw(i){setTimeout(function(){throw i})}function dc(i,o){var u=o,f=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){i.removeChild(g),Fs(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);Fs(o)}function Tr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Ip(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var _i=Math.random().toString(36).slice(2),Qn="__reactFiber$"+_i,Ys="__reactProps$"+_i,or="__reactContainer$"+_i,pc="__reactEvents$"+_i,Mw="__reactListeners$"+_i,Ew="__reactHandles$"+_i;function ai(i){var o=i[Qn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[or]||u[Qn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Ip(i);i!==null;){if(u=i[Qn])return u;i=Ip(i)}return o}i=u,u=i.parentNode}return null}function Gs(i){return i=i[Qn]||i[or],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Vi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Tl(i){return i[Ys]||null}var gc=[],Hi=-1;function Nr(i){return{current:i}}function He(i){0>Hi||(i.current=gc[Hi],gc[Hi]=null,Hi--)}function Fe(i,o){Hi++,gc[Hi]=i.current,i.current=o}var Lr={},Ot=Nr(Lr),Ht=Nr(!1),ui=Lr;function Wi(i,o){var u=i.type.contextTypes;if(!u)return Lr;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in u)g[y]=o[y];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function Wt(i){return i=i.childContextTypes,i!=null}function Nl(){He(Ht),He(Ot)}function Bp(i,o,u){if(Ot.current!==Lr)throw Error(t(168));Fe(Ot,o),Fe(Ht,u)}function zp(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(t(108,Me(i)||"Unknown",g));return J({},u,f)}function Ll(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Lr,ui=Ot.current,Fe(Ot,i),Fe(Ht,Ht.current),!0}function jp(i,o,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=zp(i,o,ui),f.__reactInternalMemoizedMergedChildContext=i,He(Ht),He(Ot),Fe(Ot,i)):He(Ht),Fe(Ht,u)}var lr=null,Il=!1,mc=!1;function Fp(i){lr===null?lr=[i]:lr.push(i)}function Dw(i){Il=!0,Fp(i)}function Ir(){if(!mc&&lr!==null){mc=!0;var i=0,o=Be;try{var u=lr;for(Be=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}lr=null,Il=!1}catch(g){throw lr!==null&&(lr=lr.slice(i+1)),Vd(ju,Ir),g}finally{Be=o,mc=!1}}return null}var Qi=[],$i=0,Bl=null,zl=0,un=[],cn=0,ci=null,ar=1,ur="";function hi(i,o){Qi[$i++]=zl,Qi[$i++]=Bl,Bl=i,zl=o}function _p(i,o,u){un[cn++]=ar,un[cn++]=ur,un[cn++]=ci,ci=i;var f=ar;i=ur;var g=32-Cn(f)-1;f&=~(1<<g),u+=1;var y=32-Cn(o)+g;if(30<y){var w=g-g%5;y=(f&(1<<w)-1).toString(32),f>>=w,g-=w,ar=1<<32-Cn(o)+g|u<<g|f,ur=y+i}else ar=1<<y|u<<g|f,ur=i}function yc(i){i.return!==null&&(hi(i,1),_p(i,1,0))}function vc(i){for(;i===Bl;)Bl=Qi[--$i],Qi[$i]=null,zl=Qi[--$i],Qi[$i]=null;for(;i===ci;)ci=un[--cn],un[cn]=null,ur=un[--cn],un[cn]=null,ar=un[--cn],un[cn]=null}var Jt=null,Zt=null,Qe=!1,An=null;function Vp(i,o){var u=pn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Hp(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Jt=i,Zt=Tr(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Jt=i,Zt=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=ci!==null?{id:ar,overflow:ur}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=pn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Jt=i,Zt=null,!0):!1;default:return!1}}function xc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function wc(i){if(Qe){var o=Zt;if(o){var u=o;if(!Hp(i,o)){if(xc(i))throw Error(t(418));o=Tr(u.nextSibling);var f=Jt;o&&Hp(i,o)?Vp(f,u):(i.flags=i.flags&-4097|2,Qe=!1,Jt=i)}}else{if(xc(i))throw Error(t(418));i.flags=i.flags&-4097|2,Qe=!1,Jt=i}}}function Wp(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Jt=i}function jl(i){if(i!==Jt)return!1;if(!Qe)return Wp(i),Qe=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!hc(i.type,i.memoizedProps)),o&&(o=Zt)){if(xc(i))throw Qp(),Error(t(418));for(;o;)Vp(i,o),o=Tr(o.nextSibling)}if(Wp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Zt=Tr(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Zt=null}}else Zt=Jt?Tr(i.stateNode.nextSibling):null;return!0}function Qp(){for(var i=Zt;i;)i=Tr(i.nextSibling)}function Ui(){Zt=Jt=null,Qe=!1}function kc(i){An===null?An=[i]:An.push(i)}var Rw=_.ReactCurrentBatchConfig;function Js(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var g=f,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(w){var O=g.refs;w===null?delete O[y]:O[y]=w},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Fl(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function $p(i){var o=i._init;return o(i._payload)}function Up(i){function o(T,E){if(i){var L=T.deletions;L===null?(T.deletions=[E],T.flags|=16):L.push(E)}}function u(T,E){if(!i)return null;for(;E!==null;)o(T,E),E=E.sibling;return null}function f(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function g(T,E){return T=Wr(T,E),T.index=0,T.sibling=null,T}function y(T,E,L){return T.index=L,i?(L=T.alternate,L!==null?(L=L.index,L<E?(T.flags|=2,E):L):(T.flags|=2,E)):(T.flags|=1048576,E)}function w(T){return i&&T.alternate===null&&(T.flags|=2),T}function O(T,E,L,q){return E===null||E.tag!==6?(E=fh(L,T.mode,q),E.return=T,E):(E=g(E,L),E.return=T,E)}function M(T,E,L,q){var me=L.type;return me===B?W(T,E,L.props.children,q,L.key):E!==null&&(E.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ce&&$p(me)===E.type)?(q=g(E,L.props),q.ref=Js(T,E,L),q.return=T,q):(q=ua(L.type,L.key,L.props,null,T.mode,q),q.ref=Js(T,E,L),q.return=T,q)}function j(T,E,L,q){return E===null||E.tag!==4||E.stateNode.containerInfo!==L.containerInfo||E.stateNode.implementation!==L.implementation?(E=dh(L,T.mode,q),E.return=T,E):(E=g(E,L.children||[]),E.return=T,E)}function W(T,E,L,q,me){return E===null||E.tag!==7?(E=xi(L,T.mode,q,me),E.return=T,E):(E=g(E,L),E.return=T,E)}function U(T,E,L){if(typeof E=="string"&&E!==""||typeof E=="number")return E=fh(""+E,T.mode,L),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case z:return L=ua(E.type,E.key,E.props,null,T.mode,L),L.ref=Js(T,null,E),L.return=T,L;case F:return E=dh(E,T.mode,L),E.return=T,E;case ce:var q=E._init;return U(T,q(E._payload),L)}if(Ft(E)||G(E))return E=xi(E,T.mode,L,null),E.return=T,E;Fl(T,E)}return null}function H(T,E,L,q){var me=E!==null?E.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return me!==null?null:O(T,E,""+L,q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case z:return L.key===me?M(T,E,L,q):null;case F:return L.key===me?j(T,E,L,q):null;case ce:return me=L._init,H(T,E,me(L._payload),q)}if(Ft(L)||G(L))return me!==null?null:W(T,E,L,q,null);Fl(T,L)}return null}function oe(T,E,L,q,me){if(typeof q=="string"&&q!==""||typeof q=="number")return T=T.get(L)||null,O(E,T,""+q,me);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case z:return T=T.get(q.key===null?L:q.key)||null,M(E,T,q,me);case F:return T=T.get(q.key===null?L:q.key)||null,j(E,T,q,me);case ce:var we=q._init;return oe(T,E,L,we(q._payload),me)}if(Ft(q)||G(q))return T=T.get(L)||null,W(E,T,q,me,null);Fl(E,q)}return null}function he(T,E,L,q){for(var me=null,we=null,ke=E,Se=E=0,ht=null;ke!==null&&Se<L.length;Se++){ke.index>Se?(ht=ke,ke=null):ht=ke.sibling;var Te=H(T,ke,L[Se],q);if(Te===null){ke===null&&(ke=ht);break}i&&ke&&Te.alternate===null&&o(T,ke),E=y(Te,E,Se),we===null?me=Te:we.sibling=Te,we=Te,ke=ht}if(Se===L.length)return u(T,ke),Qe&&hi(T,Se),me;if(ke===null){for(;Se<L.length;Se++)ke=U(T,L[Se],q),ke!==null&&(E=y(ke,E,Se),we===null?me=ke:we.sibling=ke,we=ke);return Qe&&hi(T,Se),me}for(ke=f(T,ke);Se<L.length;Se++)ht=oe(ke,T,Se,L[Se],q),ht!==null&&(i&&ht.alternate!==null&&ke.delete(ht.key===null?Se:ht.key),E=y(ht,E,Se),we===null?me=ht:we.sibling=ht,we=ht);return i&&ke.forEach(function(Qr){return o(T,Qr)}),Qe&&hi(T,Se),me}function pe(T,E,L,q){var me=G(L);if(typeof me!="function")throw Error(t(150));if(L=me.call(L),L==null)throw Error(t(151));for(var we=me=null,ke=E,Se=E=0,ht=null,Te=L.next();ke!==null&&!Te.done;Se++,Te=L.next()){ke.index>Se?(ht=ke,ke=null):ht=ke.sibling;var Qr=H(T,ke,Te.value,q);if(Qr===null){ke===null&&(ke=ht);break}i&&ke&&Qr.alternate===null&&o(T,ke),E=y(Qr,E,Se),we===null?me=Qr:we.sibling=Qr,we=Qr,ke=ht}if(Te.done)return u(T,ke),Qe&&hi(T,Se),me;if(ke===null){for(;!Te.done;Se++,Te=L.next())Te=U(T,Te.value,q),Te!==null&&(E=y(Te,E,Se),we===null?me=Te:we.sibling=Te,we=Te);return Qe&&hi(T,Se),me}for(ke=f(T,ke);!Te.done;Se++,Te=L.next())Te=oe(ke,T,Se,Te.value,q),Te!==null&&(i&&Te.alternate!==null&&ke.delete(Te.key===null?Se:Te.key),E=y(Te,E,Se),we===null?me=Te:we.sibling=Te,we=Te);return i&&ke.forEach(function(ck){return o(T,ck)}),Qe&&hi(T,Se),me}function Ze(T,E,L,q){if(typeof L=="object"&&L!==null&&L.type===B&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case z:e:{for(var me=L.key,we=E;we!==null;){if(we.key===me){if(me=L.type,me===B){if(we.tag===7){u(T,we.sibling),E=g(we,L.props.children),E.return=T,T=E;break e}}else if(we.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ce&&$p(me)===we.type){u(T,we.sibling),E=g(we,L.props),E.ref=Js(T,we,L),E.return=T,T=E;break e}u(T,we);break}else o(T,we);we=we.sibling}L.type===B?(E=xi(L.props.children,T.mode,q,L.key),E.return=T,T=E):(q=ua(L.type,L.key,L.props,null,T.mode,q),q.ref=Js(T,E,L),q.return=T,T=q)}return w(T);case F:e:{for(we=L.key;E!==null;){if(E.key===we)if(E.tag===4&&E.stateNode.containerInfo===L.containerInfo&&E.stateNode.implementation===L.implementation){u(T,E.sibling),E=g(E,L.children||[]),E.return=T,T=E;break e}else{u(T,E);break}else o(T,E);E=E.sibling}E=dh(L,T.mode,q),E.return=T,T=E}return w(T);case ce:return we=L._init,Ze(T,E,we(L._payload),q)}if(Ft(L))return he(T,E,L,q);if(G(L))return pe(T,E,L,q);Fl(T,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,E!==null&&E.tag===6?(u(T,E.sibling),E=g(E,L),E.return=T,T=E):(u(T,E),E=fh(L,T.mode,q),E.return=T,T=E),w(T)):u(T,E)}return Ze}var Xi=Up(!0),Xp=Up(!1),_l=Nr(null),Vl=null,Ki=null,Sc=null;function bc(){Sc=Ki=Vl=null}function Oc(i){var o=_l.current;He(_l),i._currentValue=o}function Cc(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function qi(i,o){Vl=i,Sc=Ki=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Qt=!0),i.firstContext=null)}function hn(i){var o=i._currentValue;if(Sc!==i)if(i={context:i,memoizedValue:o,next:null},Ki===null){if(Vl===null)throw Error(t(308));Ki=i,Vl.dependencies={lanes:0,firstContext:i}}else Ki=Ki.next=i;return o}var fi=null;function Pc(i){fi===null?fi=[i]:fi.push(i)}function Kp(i,o,u,f){var g=o.interleaved;return g===null?(u.next=u,Pc(o)):(u.next=g.next,g.next=u),o.interleaved=u,cr(i,f)}function cr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Br=!1;function Ac(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qp(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function hr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function zr(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(De&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,cr(i,u)}return g=f.interleaved,g===null?(o.next=o,Pc(f)):(o.next=g.next,g.next=o),f.interleaved=o,cr(i,u)}function Hl(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Vu(i,u)}}function Yp(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var w={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?g=y=w:y=y.next=w,u=u.next}while(u!==null);y===null?g=y=o:y=y.next=o}else g=y=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Wl(i,o,u,f){var g=i.updateQueue;Br=!1;var y=g.firstBaseUpdate,w=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var M=O,j=M.next;M.next=null,w===null?y=j:w.next=j,w=M;var W=i.alternate;W!==null&&(W=W.updateQueue,O=W.lastBaseUpdate,O!==w&&(O===null?W.firstBaseUpdate=j:O.next=j,W.lastBaseUpdate=M))}if(y!==null){var U=g.baseState;w=0,W=j=M=null,O=y;do{var H=O.lane,oe=O.eventTime;if((f&H)===H){W!==null&&(W=W.next={eventTime:oe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var he=i,pe=O;switch(H=o,oe=u,pe.tag){case 1:if(he=pe.payload,typeof he=="function"){U=he.call(oe,U,H);break e}U=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=pe.payload,H=typeof he=="function"?he.call(oe,U,H):he,H==null)break e;U=J({},U,H);break e;case 2:Br=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,H=g.effects,H===null?g.effects=[O]:H.push(O))}else oe={eventTime:oe,lane:H,tag:O.tag,payload:O.payload,callback:O.callback,next:null},W===null?(j=W=oe,M=U):W=W.next=oe,w|=H;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;H=O,O=H.next,H.next=null,g.lastBaseUpdate=H,g.shared.pending=null}}while(!0);if(W===null&&(M=U),g.baseState=M,g.firstBaseUpdate=j,g.lastBaseUpdate=W,o=g.shared.interleaved,o!==null){g=o;do w|=g.lane,g=g.next;while(g!==o)}else y===null&&(g.shared.lanes=0);gi|=w,i.lanes=w,i.memoizedState=U}}function Gp(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var Zs={},$n=Nr(Zs),eo=Nr(Zs),to=Nr(Zs);function di(i){if(i===Zs)throw Error(t(174));return i}function Mc(i,o){switch(Fe(to,o),Fe(eo,i),Fe($n,Zs),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Vn(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Vn(o,i)}He($n),Fe($n,o)}function Yi(){He($n),He(eo),He(to)}function Jp(i){di(to.current);var o=di($n.current),u=Vn(o,i.type);o!==u&&(Fe(eo,i),Fe($n,u))}function Ec(i){eo.current===i&&(He($n),He(eo))}var Xe=Nr(0);function Ql(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Dc=[];function Rc(){for(var i=0;i<Dc.length;i++)Dc[i]._workInProgressVersionPrimary=null;Dc.length=0}var $l=_.ReactCurrentDispatcher,Tc=_.ReactCurrentBatchConfig,pi=0,Ke=null,st=null,ut=null,Ul=!1,no=!1,ro=0,Tw=0;function Ct(){throw Error(t(321))}function Nc(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Pn(i[u],o[u]))return!1;return!0}function Lc(i,o,u,f,g,y){if(pi=y,Ke=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$l.current=i===null||i.memoizedState===null?Bw:zw,i=u(f,g),no){y=0;do{if(no=!1,ro=0,25<=y)throw Error(t(301));y+=1,ut=st=null,o.updateQueue=null,$l.current=jw,i=u(f,g)}while(no)}if($l.current=ql,o=st!==null&&st.next!==null,pi=0,ut=st=Ke=null,Ul=!1,o)throw Error(t(300));return i}function Ic(){var i=ro!==0;return ro=0,i}function Un(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ke.memoizedState=ut=i:ut=ut.next=i,ut}function fn(){if(st===null){var i=Ke.alternate;i=i!==null?i.memoizedState:null}else i=st.next;var o=ut===null?Ke.memoizedState:ut.next;if(o!==null)ut=o,st=i;else{if(i===null)throw Error(t(310));st=i,i={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ut===null?Ke.memoizedState=ut=i:ut=ut.next=i}return ut}function io(i,o){return typeof o=="function"?o(i):o}function Bc(i){var o=fn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=st,g=f.baseQueue,y=u.pending;if(y!==null){if(g!==null){var w=g.next;g.next=y.next,y.next=w}f.baseQueue=g=y,u.pending=null}if(g!==null){y=g.next,f=f.baseState;var O=w=null,M=null,j=y;do{var W=j.lane;if((pi&W)===W)M!==null&&(M=M.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),f=j.hasEagerState?j.eagerState:i(f,j.action);else{var U={lane:W,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};M===null?(O=M=U,w=f):M=M.next=U,Ke.lanes|=W,gi|=W}j=j.next}while(j!==null&&j!==y);M===null?w=f:M.next=O,Pn(f,o.memoizedState)||(Qt=!0),o.memoizedState=f,o.baseState=w,o.baseQueue=M,u.lastRenderedState=f}if(i=u.interleaved,i!==null){g=i;do y=g.lane,Ke.lanes|=y,gi|=y,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function zc(i){var o=fn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,g=u.pending,y=o.memoizedState;if(g!==null){u.pending=null;var w=g=g.next;do y=i(y,w.action),w=w.next;while(w!==g);Pn(y,o.memoizedState)||(Qt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,f]}function Zp(){}function eg(i,o){var u=Ke,f=fn(),g=o(),y=!Pn(f.memoizedState,g);if(y&&(f.memoizedState=g,Qt=!0),f=f.queue,jc(rg.bind(null,u,f,i),[i]),f.getSnapshot!==o||y||ut!==null&&ut.memoizedState.tag&1){if(u.flags|=2048,so(9,ng.bind(null,u,f,g,o),void 0,null),ct===null)throw Error(t(349));(pi&30)!==0||tg(u,o,g)}return g}function tg(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Ke.updateQueue,o===null?(o={lastEffect:null,stores:null},Ke.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function ng(i,o,u,f){o.value=u,o.getSnapshot=f,ig(o)&&sg(i)}function rg(i,o,u){return u(function(){ig(o)&&sg(i)})}function ig(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Pn(i,u)}catch{return!0}}function sg(i){var o=cr(i,1);o!==null&&Rn(o,i,1,-1)}function og(i){var o=Un();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:i},o.queue=i,i=i.dispatch=Iw.bind(null,Ke,i),[o.memoizedState,i]}function so(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=Ke.updateQueue,o===null?(o={lastEffect:null,stores:null},Ke.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function lg(){return fn().memoizedState}function Xl(i,o,u,f){var g=Un();Ke.flags|=i,g.memoizedState=so(1|o,u,void 0,f===void 0?null:f)}function Kl(i,o,u,f){var g=fn();f=f===void 0?null:f;var y=void 0;if(st!==null){var w=st.memoizedState;if(y=w.destroy,f!==null&&Nc(f,w.deps)){g.memoizedState=so(o,u,y,f);return}}Ke.flags|=i,g.memoizedState=so(1|o,u,y,f)}function ag(i,o){return Xl(8390656,8,i,o)}function jc(i,o){return Kl(2048,8,i,o)}function ug(i,o){return Kl(4,2,i,o)}function cg(i,o){return Kl(4,4,i,o)}function hg(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function fg(i,o,u){return u=u!=null?u.concat([i]):null,Kl(4,4,hg.bind(null,o,i),u)}function Fc(){}function dg(i,o){var u=fn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Nc(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function pg(i,o){var u=fn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Nc(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function gg(i,o,u){return(pi&21)===0?(i.baseState&&(i.baseState=!1,Qt=!0),i.memoizedState=u):(Pn(u,o)||(u=$d(),Ke.lanes|=u,gi|=u,i.baseState=!0),o)}function Nw(i,o){var u=Be;Be=u!==0&&4>u?u:4,i(!0);var f=Tc.transition;Tc.transition={};try{i(!1),o()}finally{Be=u,Tc.transition=f}}function mg(){return fn().memoizedState}function Lw(i,o,u){var f=Vr(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},yg(i))vg(o,u);else if(u=Kp(i,o,u,f),u!==null){var g=Lt();Rn(u,i,f,g),xg(u,o,f)}}function Iw(i,o,u){var f=Vr(i),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(yg(i))vg(o,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var w=o.lastRenderedState,O=y(w,u);if(g.hasEagerState=!0,g.eagerState=O,Pn(O,w)){var M=o.interleaved;M===null?(g.next=g,Pc(o)):(g.next=M.next,M.next=g),o.interleaved=g;return}}catch{}finally{}u=Kp(i,o,g,f),u!==null&&(g=Lt(),Rn(u,i,f,g),xg(u,o,f))}}function yg(i){var o=i.alternate;return i===Ke||o!==null&&o===Ke}function vg(i,o){no=Ul=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function xg(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Vu(i,u)}}var ql={readContext:hn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},Bw={readContext:hn,useCallback:function(i,o){return Un().memoizedState=[i,o===void 0?null:o],i},useContext:hn,useEffect:ag,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Xl(4194308,4,hg.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Xl(4194308,4,i,o)},useInsertionEffect:function(i,o){return Xl(4,2,i,o)},useMemo:function(i,o){var u=Un();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Un();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=Lw.bind(null,Ke,i),[f.memoizedState,i]},useRef:function(i){var o=Un();return i={current:i},o.memoizedState=i},useState:og,useDebugValue:Fc,useDeferredValue:function(i){return Un().memoizedState=i},useTransition:function(){var i=og(!1),o=i[0];return i=Nw.bind(null,i[1]),Un().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=Ke,g=Un();if(Qe){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),ct===null)throw Error(t(349));(pi&30)!==0||tg(f,o,u)}g.memoizedState=u;var y={value:u,getSnapshot:o};return g.queue=y,ag(rg.bind(null,f,y,i),[i]),f.flags|=2048,so(9,ng.bind(null,f,y,u,o),void 0,null),u},useId:function(){var i=Un(),o=ct.identifierPrefix;if(Qe){var u=ur,f=ar;u=(f&~(1<<32-Cn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=ro++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Tw++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},zw={readContext:hn,useCallback:dg,useContext:hn,useEffect:jc,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:pg,useReducer:Bc,useRef:lg,useState:function(){return Bc(io)},useDebugValue:Fc,useDeferredValue:function(i){var o=fn();return gg(o,st.memoizedState,i)},useTransition:function(){var i=Bc(io)[0],o=fn().memoizedState;return[i,o]},useMutableSource:Zp,useSyncExternalStore:eg,useId:mg,unstable_isNewReconciler:!1},jw={readContext:hn,useCallback:dg,useContext:hn,useEffect:jc,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:pg,useReducer:zc,useRef:lg,useState:function(){return zc(io)},useDebugValue:Fc,useDeferredValue:function(i){var o=fn();return st===null?o.memoizedState=i:gg(o,st.memoizedState,i)},useTransition:function(){var i=zc(io)[0],o=fn().memoizedState;return[i,o]},useMutableSource:Zp,useSyncExternalStore:eg,useId:mg,unstable_isNewReconciler:!1};function Mn(i,o){if(i&&i.defaultProps){o=J({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function _c(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:J({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Yl={isMounted:function(i){return(i=i._reactInternals)?li(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=Lt(),g=Vr(i),y=hr(f,g);y.payload=o,u!=null&&(y.callback=u),o=zr(i,y,g),o!==null&&(Rn(o,i,g,f),Hl(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=Lt(),g=Vr(i),y=hr(f,g);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=zr(i,y,g),o!==null&&(Rn(o,i,g,f),Hl(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Lt(),f=Vr(i),g=hr(u,f);g.tag=2,o!=null&&(g.callback=o),o=zr(i,g,f),o!==null&&(Rn(o,i,f,u),Hl(o,i,f))}};function wg(i,o,u,f,g,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,w):o.prototype&&o.prototype.isPureReactComponent?!$s(u,f)||!$s(g,y):!0}function kg(i,o,u){var f=!1,g=Lr,y=o.contextType;return typeof y=="object"&&y!==null?y=hn(y):(g=Wt(o)?ui:Ot.current,f=o.contextTypes,y=(f=f!=null)?Wi(i,g):Lr),o=new o(u,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Yl,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=y),o}function Sg(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Yl.enqueueReplaceState(o,o.state,null)}function Vc(i,o,u,f){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},Ac(i);var y=o.contextType;typeof y=="object"&&y!==null?g.context=hn(y):(y=Wt(o)?ui:Ot.current,g.context=Wi(i,y)),g.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(_c(i,o,y,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Yl.enqueueReplaceState(g,g.state,null),Wl(i,u,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function Gi(i,o){try{var u="",f=o;do u+=ye(f),f=f.return;while(f);var g=u}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:g,digest:null}}function Hc(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Wc(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Fw=typeof WeakMap=="function"?WeakMap:Map;function bg(i,o,u){u=hr(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){ra||(ra=!0,ih=f),Wc(i,o)},u}function Og(i,o,u){u=hr(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;u.payload=function(){return f(g)},u.callback=function(){Wc(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Wc(i,o),typeof f!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),u}function Cg(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new Fw;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(g.add(u),i=Zw.bind(null,i,o,u),o.then(i,i))}function Pg(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Ag(i,o,u,f,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=hr(-1,1),o.tag=2,zr(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var _w=_.ReactCurrentOwner,Qt=!1;function Nt(i,o,u,f){o.child=i===null?Xp(o,null,u,f):Xi(o,i.child,u,f)}function Mg(i,o,u,f,g){u=u.render;var y=o.ref;return qi(o,g),f=Lc(i,o,u,f,y,g),u=Ic(),i!==null&&!Qt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,fr(i,o,g)):(Qe&&u&&yc(o),o.flags|=1,Nt(i,o,f,g),o.child)}function Eg(i,o,u,f,g){if(i===null){var y=u.type;return typeof y=="function"&&!hh(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,Dg(i,o,y,f,g)):(i=ua(u.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&g)===0){var w=y.memoizedProps;if(u=u.compare,u=u!==null?u:$s,u(w,f)&&i.ref===o.ref)return fr(i,o,g)}return o.flags|=1,i=Wr(y,f),i.ref=o.ref,i.return=o,o.child=i}function Dg(i,o,u,f,g){if(i!==null){var y=i.memoizedProps;if($s(y,f)&&i.ref===o.ref)if(Qt=!1,o.pendingProps=f=y,(i.lanes&g)!==0)(i.flags&131072)!==0&&(Qt=!0);else return o.lanes=i.lanes,fr(i,o,g)}return Qc(i,o,u,f,g)}function Rg(i,o,u){var f=o.pendingProps,g=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Zi,en),en|=u;else{if((u&1073741824)===0)return i=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Fe(Zi,en),en|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:u,Fe(Zi,en),en|=f}else y!==null?(f=y.baseLanes|u,o.memoizedState=null):f=u,Fe(Zi,en),en|=f;return Nt(i,o,g,u),o.child}function Tg(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Qc(i,o,u,f,g){var y=Wt(u)?ui:Ot.current;return y=Wi(o,y),qi(o,g),u=Lc(i,o,u,f,y,g),f=Ic(),i!==null&&!Qt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,fr(i,o,g)):(Qe&&f&&yc(o),o.flags|=1,Nt(i,o,u,g),o.child)}function Ng(i,o,u,f,g){if(Wt(u)){var y=!0;Ll(o)}else y=!1;if(qi(o,g),o.stateNode===null)Jl(i,o),kg(o,u,f),Vc(o,u,f,g),f=!0;else if(i===null){var w=o.stateNode,O=o.memoizedProps;w.props=O;var M=w.context,j=u.contextType;typeof j=="object"&&j!==null?j=hn(j):(j=Wt(u)?ui:Ot.current,j=Wi(o,j));var W=u.getDerivedStateFromProps,U=typeof W=="function"||typeof w.getSnapshotBeforeUpdate=="function";U||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==f||M!==j)&&Sg(o,w,f,j),Br=!1;var H=o.memoizedState;w.state=H,Wl(o,f,w,g),M=o.memoizedState,O!==f||H!==M||Ht.current||Br?(typeof W=="function"&&(_c(o,u,W,f),M=o.memoizedState),(O=Br||wg(o,u,O,f,H,M,j))?(U||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=M),w.props=f,w.state=M,w.context=j,f=O):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{w=o.stateNode,qp(i,o),O=o.memoizedProps,j=o.type===o.elementType?O:Mn(o.type,O),w.props=j,U=o.pendingProps,H=w.context,M=u.contextType,typeof M=="object"&&M!==null?M=hn(M):(M=Wt(u)?ui:Ot.current,M=Wi(o,M));var oe=u.getDerivedStateFromProps;(W=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==U||H!==M)&&Sg(o,w,f,M),Br=!1,H=o.memoizedState,w.state=H,Wl(o,f,w,g);var he=o.memoizedState;O!==U||H!==he||Ht.current||Br?(typeof oe=="function"&&(_c(o,u,oe,f),he=o.memoizedState),(j=Br||wg(o,u,j,f,H,he,M)||!1)?(W||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,he,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,he,M)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===i.memoizedProps&&H===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&H===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=he),w.props=f,w.state=he,w.context=M,f=j):(typeof w.componentDidUpdate!="function"||O===i.memoizedProps&&H===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&H===i.memoizedState||(o.flags|=1024),f=!1)}return $c(i,o,u,f,y,g)}function $c(i,o,u,f,g,y){Tg(i,o);var w=(o.flags&128)!==0;if(!f&&!w)return g&&jp(o,u,!1),fr(i,o,y);f=o.stateNode,_w.current=o;var O=w&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&w?(o.child=Xi(o,i.child,null,y),o.child=Xi(o,null,O,y)):Nt(i,o,O,y),o.memoizedState=f.state,g&&jp(o,u,!0),o.child}function Lg(i){var o=i.stateNode;o.pendingContext?Bp(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Bp(i,o.context,!1),Mc(i,o.containerInfo)}function Ig(i,o,u,f,g){return Ui(),kc(g),o.flags|=256,Nt(i,o,u,f),o.child}var Uc={dehydrated:null,treeContext:null,retryLane:0};function Xc(i){return{baseLanes:i,cachePool:null,transitions:null}}function Bg(i,o,u){var f=o.pendingProps,g=Xe.current,y=!1,w=(o.flags&128)!==0,O;if((O=w)||(O=i!==null&&i.memoizedState===null?!1:(g&2)!==0),O?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Fe(Xe,g&1),i===null)return wc(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(w=f.children,i=f.fallback,y?(f=o.mode,y=o.child,w={mode:"hidden",children:w},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=ca(w,f,0,null),i=xi(i,f,u,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=Xc(u),o.memoizedState=Uc,i):Kc(o,w));if(g=i.memoizedState,g!==null&&(O=g.dehydrated,O!==null))return Vw(i,o,w,f,O,g,u);if(y){y=f.fallback,w=o.mode,g=i.child,O=g.sibling;var M={mode:"hidden",children:f.children};return(w&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=M,o.deletions=null):(f=Wr(g,M),f.subtreeFlags=g.subtreeFlags&14680064),O!==null?y=Wr(O,y):(y=xi(y,w,u,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,w=i.child.memoizedState,w=w===null?Xc(u):{baseLanes:w.baseLanes|u,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=i.childLanes&~u,o.memoizedState=Uc,f}return y=i.child,i=y.sibling,f=Wr(y,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Kc(i,o){return o=ca({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Gl(i,o,u,f){return f!==null&&kc(f),Xi(o,i.child,null,u),i=Kc(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Vw(i,o,u,f,g,y,w){if(u)return o.flags&256?(o.flags&=-257,f=Hc(Error(t(422))),Gl(i,o,w,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=f.fallback,g=o.mode,f=ca({mode:"visible",children:f.children},g,0,null),y=xi(y,g,w,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,(o.mode&1)!==0&&Xi(o,i.child,null,w),o.child.memoizedState=Xc(w),o.memoizedState=Uc,y);if((o.mode&1)===0)return Gl(i,o,w,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var O=f.dgst;return f=O,y=Error(t(419)),f=Hc(y,f,void 0),Gl(i,o,w,f)}if(O=(w&i.childLanes)!==0,Qt||O){if(f=ct,f!==null){switch(w&-w){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|w))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,cr(i,g),Rn(f,i,g,-1))}return ch(),f=Hc(Error(t(421))),Gl(i,o,w,f)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=ek.bind(null,i),g._reactRetry=o,null):(i=y.treeContext,Zt=Tr(g.nextSibling),Jt=o,Qe=!0,An=null,i!==null&&(un[cn++]=ar,un[cn++]=ur,un[cn++]=ci,ar=i.id,ur=i.overflow,ci=o),o=Kc(o,f.children),o.flags|=4096,o)}function zg(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Cc(i.return,o,u)}function qc(i,o,u,f,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=g)}function jg(i,o,u){var f=o.pendingProps,g=f.revealOrder,y=f.tail;if(Nt(i,o,f.children,u),f=Xe.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&zg(i,u,o);else if(i.tag===19)zg(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Fe(Xe,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&Ql(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),qc(o,!1,g,u,y);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Ql(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}qc(o,!0,u,null,y);break;case"together":qc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Jl(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function fr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),gi|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=Wr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Wr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Hw(i,o,u){switch(o.tag){case 3:Lg(o),Ui();break;case 5:Jp(o);break;case 1:Wt(o.type)&&Ll(o);break;case 4:Mc(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;Fe(_l,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Fe(Xe,Xe.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Bg(i,o,u):(Fe(Xe,Xe.current&1),i=fr(i,o,u),i!==null?i.sibling:null);Fe(Xe,Xe.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return jg(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Fe(Xe,Xe.current),f)break;return null;case 22:case 23:return o.lanes=0,Rg(i,o,u)}return fr(i,o,u)}var Fg,Yc,_g,Vg;Fg=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Yc=function(){},_g=function(i,o,u,f){var g=i.memoizedProps;if(g!==f){i=o.stateNode,di($n.current);var y=null;switch(u){case"input":g=_e(i,g),f=_e(i,f),y=[];break;case"select":g=J({},g,{value:void 0}),f=J({},f,{value:void 0}),y=[];break;case"textarea":g=Sr(i,g),f=Sr(i,f),y=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Rl)}Ti(u,f);var w;u=null;for(j in g)if(!f.hasOwnProperty(j)&&g.hasOwnProperty(j)&&g[j]!=null)if(j==="style"){var O=g[j];for(w in O)O.hasOwnProperty(w)&&(u||(u={}),u[w]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(s.hasOwnProperty(j)?y||(y=[]):(y=y||[]).push(j,null));for(j in f){var M=f[j];if(O=g!=null?g[j]:void 0,f.hasOwnProperty(j)&&M!==O&&(M!=null||O!=null))if(j==="style")if(O){for(w in O)!O.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(u||(u={}),u[w]="");for(w in M)M.hasOwnProperty(w)&&O[w]!==M[w]&&(u||(u={}),u[w]=M[w])}else u||(y||(y=[]),y.push(j,u)),u=M;else j==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,O=O?O.__html:void 0,M!=null&&O!==M&&(y=y||[]).push(j,M)):j==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(j,""+M):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(s.hasOwnProperty(j)?(M!=null&&j==="onScroll"&&Ve("scroll",i),y||O===M||(y=[])):(y=y||[]).push(j,M))}u&&(y=y||[]).push("style",u);var j=y;(o.updateQueue=j)&&(o.flags|=4)}},Vg=function(i,o,u,f){u!==f&&(o.flags|=4)};function oo(i,o){if(!Qe)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Pt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function Ww(i,o,u){var f=o.pendingProps;switch(vc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(o),null;case 1:return Wt(o.type)&&Nl(),Pt(o),null;case 3:return f=o.stateNode,Yi(),He(Ht),He(Ot),Rc(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(jl(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,An!==null&&(lh(An),An=null))),Yc(i,o),Pt(o),null;case 5:Ec(o);var g=di(to.current);if(u=o.type,i!==null&&o.stateNode!=null)_g(i,o,u,f,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Pt(o),null}if(i=di($n.current),jl(o)){f=o.stateNode,u=o.type;var y=o.memoizedProps;switch(f[Qn]=o,f[Ys]=y,i=(o.mode&1)!==0,u){case"dialog":Ve("cancel",f),Ve("close",f);break;case"iframe":case"object":case"embed":Ve("load",f);break;case"video":case"audio":for(g=0;g<Xs.length;g++)Ve(Xs[g],f);break;case"source":Ve("error",f);break;case"img":case"image":case"link":Ve("error",f),Ve("load",f);break;case"details":Ve("toggle",f);break;case"input":on(f,y),Ve("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Ve("invalid",f);break;case"textarea":Ps(f,y),Ve("invalid",f)}Ti(u,y),g=null;for(var w in y)if(y.hasOwnProperty(w)){var O=y[w];w==="children"?typeof O=="string"?f.textContent!==O&&(y.suppressHydrationWarning!==!0&&Dl(f.textContent,O,i),g=["children",O]):typeof O=="number"&&f.textContent!==""+O&&(y.suppressHydrationWarning!==!0&&Dl(f.textContent,O,i),g=["children",""+O]):s.hasOwnProperty(w)&&O!=null&&w==="onScroll"&&Ve("scroll",f)}switch(u){case"input":ge(f),oi(f,y,!0);break;case"textarea":ge(f),ll(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Rl)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{w=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=al(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=w.createElement(u,{is:f.is}):(i=w.createElement(u),u==="select"&&(w=i,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):i=w.createElementNS(i,u),i[Qn]=o,i[Ys]=f,Fg(i,o,!1,!1),o.stateNode=i;e:{switch(w=Es(u,f),u){case"dialog":Ve("cancel",i),Ve("close",i),g=f;break;case"iframe":case"object":case"embed":Ve("load",i),g=f;break;case"video":case"audio":for(g=0;g<Xs.length;g++)Ve(Xs[g],i);g=f;break;case"source":Ve("error",i),g=f;break;case"img":case"image":case"link":Ve("error",i),Ve("load",i),g=f;break;case"details":Ve("toggle",i),g=f;break;case"input":on(i,f),g=_e(i,f),Ve("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=J({},f,{value:void 0}),Ve("invalid",i);break;case"textarea":Ps(i,f),g=Sr(i,f),Ve("invalid",i);break;default:g=f}Ti(u,g),O=g;for(y in O)if(O.hasOwnProperty(y)){var M=O[y];y==="style"?hl(i,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&br(i,M)):y==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&Or(i,M):typeof M=="number"&&Or(i,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?M!=null&&y==="onScroll"&&Ve("scroll",i):M!=null&&N(i,y,M,w))}switch(u){case"input":ge(i),oi(i,f,!1);break;case"textarea":ge(i),ll(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Oe(f.value));break;case"select":i.multiple=!!f.multiple,y=f.value,y!=null?wn(i,!!f.multiple,y,!1):f.defaultValue!=null&&wn(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Rl)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Pt(o),null;case 6:if(i&&o.stateNode!=null)Vg(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=di(to.current),di($n.current),jl(o)){if(f=o.stateNode,u=o.memoizedProps,f[Qn]=o,(y=f.nodeValue!==u)&&(i=Jt,i!==null))switch(i.tag){case 3:Dl(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Dl(f.nodeValue,u,(i.mode&1)!==0)}y&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Qn]=o,o.stateNode=f}return Pt(o),null;case 13:if(He(Xe),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Qe&&Zt!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Qp(),Ui(),o.flags|=98560,y=!1;else if(y=jl(o),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Qn]=o}else Ui(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pt(o),y=!1}else An!==null&&(lh(An),An=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Xe.current&1)!==0?ot===0&&(ot=3):ch())),o.updateQueue!==null&&(o.flags|=4),Pt(o),null);case 4:return Yi(),Yc(i,o),i===null&&Ks(o.stateNode.containerInfo),Pt(o),null;case 10:return Oc(o.type._context),Pt(o),null;case 17:return Wt(o.type)&&Nl(),Pt(o),null;case 19:if(He(Xe),y=o.memoizedState,y===null)return Pt(o),null;if(f=(o.flags&128)!==0,w=y.rendering,w===null)if(f)oo(y,!1);else{if(ot!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=Ql(i),w!==null){for(o.flags|=128,oo(y,!1),f=w.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)y=u,i=f,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,i=w.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Fe(Xe,Xe.current&1|2),o.child}i=i.sibling}y.tail!==null&&Je()>es&&(o.flags|=128,f=!0,oo(y,!1),o.lanes=4194304)}else{if(!f)if(i=Ql(w),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),oo(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Qe)return Pt(o),null}else 2*Je()-y.renderingStartTime>es&&u!==1073741824&&(o.flags|=128,f=!0,oo(y,!1),o.lanes=4194304);y.isBackwards?(w.sibling=o.child,o.child=w):(u=y.last,u!==null?u.sibling=w:o.child=w,y.last=w)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Je(),o.sibling=null,u=Xe.current,Fe(Xe,f?u&1|2:u&1),o):(Pt(o),null);case 22:case 23:return uh(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(en&1073741824)!==0&&(Pt(o),o.subtreeFlags&6&&(o.flags|=8192)):Pt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Qw(i,o){switch(vc(o),o.tag){case 1:return Wt(o.type)&&Nl(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Yi(),He(Ht),He(Ot),Rc(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Ec(o),null;case 13:if(He(Xe),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ui()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return He(Xe),null;case 4:return Yi(),null;case 10:return Oc(o.type._context),null;case 22:case 23:return uh(),null;case 24:return null;default:return null}}var Zl=!1,At=!1,$w=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ji(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){qe(i,o,f)}else u.current=null}function Gc(i,o,u){try{u()}catch(f){qe(i,o,f)}}var Hg=!1;function Uw(i,o){if(uc=xl,i=wp(),tc(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var w=0,O=-1,M=-1,j=0,W=0,U=i,H=null;t:for(;;){for(var oe;U!==u||g!==0&&U.nodeType!==3||(O=w+g),U!==y||f!==0&&U.nodeType!==3||(M=w+f),U.nodeType===3&&(w+=U.nodeValue.length),(oe=U.firstChild)!==null;)H=U,U=oe;for(;;){if(U===i)break t;if(H===u&&++j===g&&(O=w),H===y&&++W===f&&(M=w),(oe=U.nextSibling)!==null)break;U=H,H=U.parentNode}U=oe}u=O===-1||M===-1?null:{start:O,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(cc={focusedElem:i,selectionRange:u},xl=!1,le=o;le!==null;)if(o=le,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,le=i;else for(;le!==null;){o=le;try{var he=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var pe=he.memoizedProps,Ze=he.memoizedState,T=o.stateNode,E=T.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Mn(o.type,pe),Ze);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var L=o.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(q){qe(o,o.return,q)}if(i=o.sibling,i!==null){i.return=o.return,le=i;break}le=o.return}return he=Hg,Hg=!1,he}function lo(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var y=g.destroy;g.destroy=void 0,y!==void 0&&Gc(o,u,y)}g=g.next}while(g!==f)}}function ea(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Jc(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Wg(i){var o=i.alternate;o!==null&&(i.alternate=null,Wg(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Qn],delete o[Ys],delete o[pc],delete o[Mw],delete o[Ew])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Qg(i){return i.tag===5||i.tag===3||i.tag===4}function $g(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Qg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zc(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Rl));else if(f!==4&&(i=i.child,i!==null))for(Zc(i,o,u),i=i.sibling;i!==null;)Zc(i,o,u),i=i.sibling}function eh(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(eh(i,o,u),i=i.sibling;i!==null;)eh(i,o,u),i=i.sibling}var mt=null,En=!1;function jr(i,o,u){for(u=u.child;u!==null;)Ug(i,o,u),u=u.sibling}function Ug(i,o,u){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(dl,u)}catch{}switch(u.tag){case 5:At||Ji(u,o);case 6:var f=mt,g=En;mt=null,jr(i,o,u),mt=f,En=g,mt!==null&&(En?(i=mt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):mt.removeChild(u.stateNode));break;case 18:mt!==null&&(En?(i=mt,u=u.stateNode,i.nodeType===8?dc(i.parentNode,u):i.nodeType===1&&dc(i,u),Fs(i)):dc(mt,u.stateNode));break;case 4:f=mt,g=En,mt=u.stateNode.containerInfo,En=!0,jr(i,o,u),mt=f,En=g;break;case 0:case 11:case 14:case 15:if(!At&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var y=g,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&Gc(u,o,w),g=g.next}while(g!==f)}jr(i,o,u);break;case 1:if(!At&&(Ji(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(O){qe(u,o,O)}jr(i,o,u);break;case 21:jr(i,o,u);break;case 22:u.mode&1?(At=(f=At)||u.memoizedState!==null,jr(i,o,u),At=f):jr(i,o,u);break;default:jr(i,o,u)}}function Xg(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new $w),o.forEach(function(f){var g=tk.bind(null,i,f);u.has(f)||(u.add(f),f.then(g,g))})}}function Dn(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var y=i,w=o,O=w;e:for(;O!==null;){switch(O.tag){case 5:mt=O.stateNode,En=!1;break e;case 3:mt=O.stateNode.containerInfo,En=!0;break e;case 4:mt=O.stateNode.containerInfo,En=!0;break e}O=O.return}if(mt===null)throw Error(t(160));Ug(y,w,g),mt=null,En=!1;var M=g.alternate;M!==null&&(M.return=null),g.return=null}catch(j){qe(g,o,j)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Kg(o,i),o=o.sibling}function Kg(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Dn(o,i),Xn(i),f&4){try{lo(3,i,i.return),ea(3,i)}catch(pe){qe(i,i.return,pe)}try{lo(5,i,i.return)}catch(pe){qe(i,i.return,pe)}}break;case 1:Dn(o,i),Xn(i),f&512&&u!==null&&Ji(u,u.return);break;case 5:if(Dn(o,i),Xn(i),f&512&&u!==null&&Ji(u,u.return),i.flags&32){var g=i.stateNode;try{Or(g,"")}catch(pe){qe(i,i.return,pe)}}if(f&4&&(g=i.stateNode,g!=null)){var y=i.memoizedProps,w=u!==null?u.memoizedProps:y,O=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{O==="input"&&y.type==="radio"&&y.name!=null&&ln(g,y),Es(O,w);var j=Es(O,y);for(w=0;w<M.length;w+=2){var W=M[w],U=M[w+1];W==="style"?hl(g,U):W==="dangerouslySetInnerHTML"?br(g,U):W==="children"?Or(g,U):N(g,W,U,j)}switch(O){case"input":Fn(g,y);break;case"textarea":As(g,y);break;case"select":var H=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var oe=y.value;oe!=null?wn(g,!!y.multiple,oe,!1):H!==!!y.multiple&&(y.defaultValue!=null?wn(g,!!y.multiple,y.defaultValue,!0):wn(g,!!y.multiple,y.multiple?[]:"",!1))}g[Ys]=y}catch(pe){qe(i,i.return,pe)}}break;case 6:if(Dn(o,i),Xn(i),f&4){if(i.stateNode===null)throw Error(t(162));g=i.stateNode,y=i.memoizedProps;try{g.nodeValue=y}catch(pe){qe(i,i.return,pe)}}break;case 3:if(Dn(o,i),Xn(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Fs(o.containerInfo)}catch(pe){qe(i,i.return,pe)}break;case 4:Dn(o,i),Xn(i);break;case 13:Dn(o,i),Xn(i),g=i.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(rh=Je())),f&4&&Xg(i);break;case 22:if(W=u!==null&&u.memoizedState!==null,i.mode&1?(At=(j=At)||W,Dn(o,i),At=j):Dn(o,i),Xn(i),f&8192){if(j=i.memoizedState!==null,(i.stateNode.isHidden=j)&&!W&&(i.mode&1)!==0)for(le=i,W=i.child;W!==null;){for(U=le=W;le!==null;){switch(H=le,oe=H.child,H.tag){case 0:case 11:case 14:case 15:lo(4,H,H.return);break;case 1:Ji(H,H.return);var he=H.stateNode;if(typeof he.componentWillUnmount=="function"){f=H,u=H.return;try{o=f,he.props=o.memoizedProps,he.state=o.memoizedState,he.componentWillUnmount()}catch(pe){qe(f,u,pe)}}break;case 5:Ji(H,H.return);break;case 22:if(H.memoizedState!==null){Gg(U);continue}}oe!==null?(oe.return=H,le=oe):Gg(U)}W=W.sibling}e:for(W=null,U=i;;){if(U.tag===5){if(W===null){W=U;try{g=U.stateNode,j?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(O=U.stateNode,M=U.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,O.style.display=cl("display",w))}catch(pe){qe(i,i.return,pe)}}}else if(U.tag===6){if(W===null)try{U.stateNode.nodeValue=j?"":U.memoizedProps}catch(pe){qe(i,i.return,pe)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===i)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===i)break e;for(;U.sibling===null;){if(U.return===null||U.return===i)break e;W===U&&(W=null),U=U.return}W===U&&(W=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Dn(o,i),Xn(i),f&4&&Xg(i);break;case 21:break;default:Dn(o,i),Xn(i)}}function Xn(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Qg(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Or(g,""),f.flags&=-33);var y=$g(i);eh(i,y,g);break;case 3:case 4:var w=f.stateNode.containerInfo,O=$g(i);Zc(i,O,w);break;default:throw Error(t(161))}}catch(M){qe(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Xw(i,o,u){le=i,qg(i)}function qg(i,o,u){for(var f=(i.mode&1)!==0;le!==null;){var g=le,y=g.child;if(g.tag===22&&f){var w=g.memoizedState!==null||Zl;if(!w){var O=g.alternate,M=O!==null&&O.memoizedState!==null||At;O=Zl;var j=At;if(Zl=w,(At=M)&&!j)for(le=g;le!==null;)w=le,M=w.child,w.tag===22&&w.memoizedState!==null?Jg(g):M!==null?(M.return=w,le=M):Jg(g);for(;y!==null;)le=y,qg(y),y=y.sibling;le=g,Zl=O,At=j}Yg(i)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,le=y):Yg(i)}}function Yg(i){for(;le!==null;){var o=le;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:At||ea(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!At)if(u===null)f.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:Mn(o.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Gp(o,y,f);break;case 3:var w=o.updateQueue;if(w!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Gp(o,w,u)}break;case 5:var O=o.stateNode;if(u===null&&o.flags&4){u=O;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var j=o.alternate;if(j!==null){var W=j.memoizedState;if(W!==null){var U=W.dehydrated;U!==null&&Fs(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}At||o.flags&512&&Jc(o)}catch(H){qe(o,o.return,H)}}if(o===i){le=null;break}if(u=o.sibling,u!==null){u.return=o.return,le=u;break}le=o.return}}function Gg(i){for(;le!==null;){var o=le;if(o===i){le=null;break}var u=o.sibling;if(u!==null){u.return=o.return,le=u;break}le=o.return}}function Jg(i){for(;le!==null;){var o=le;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{ea(4,o)}catch(M){qe(o,u,M)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(M){qe(o,g,M)}}var y=o.return;try{Jc(o)}catch(M){qe(o,y,M)}break;case 5:var w=o.return;try{Jc(o)}catch(M){qe(o,w,M)}}}catch(M){qe(o,o.return,M)}if(o===i){le=null;break}var O=o.sibling;if(O!==null){O.return=o.return,le=O;break}le=o.return}}var Kw=Math.ceil,ta=_.ReactCurrentDispatcher,th=_.ReactCurrentOwner,dn=_.ReactCurrentBatchConfig,De=0,ct=null,nt=null,yt=0,en=0,Zi=Nr(0),ot=0,ao=null,gi=0,na=0,nh=0,uo=null,$t=null,rh=0,es=1/0,dr=null,ra=!1,ih=null,Fr=null,ia=!1,_r=null,sa=0,co=0,sh=null,oa=-1,la=0;function Lt(){return(De&6)!==0?Je():oa!==-1?oa:oa=Je()}function Vr(i){return(i.mode&1)===0?1:(De&2)!==0&&yt!==0?yt&-yt:Rw.transition!==null?(la===0&&(la=$d()),la):(i=Be,i!==0||(i=window.event,i=i===void 0?16:ep(i.type)),i)}function Rn(i,o,u,f){if(50<co)throw co=0,sh=null,Error(t(185));Ls(i,u,f),((De&2)===0||i!==ct)&&(i===ct&&((De&2)===0&&(na|=u),ot===4&&Hr(i,yt)),Ut(i,f),u===1&&De===0&&(o.mode&1)===0&&(es=Je()+500,Il&&Ir()))}function Ut(i,o){var u=i.callbackNode;Rx(i,o);var f=ml(i,i===ct?yt:0);if(f===0)u!==null&&Hd(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&Hd(u),o===1)i.tag===0?Dw(em.bind(null,i)):Fp(em.bind(null,i)),Pw(function(){(De&6)===0&&Ir()}),u=null;else{switch(Ud(f)){case 1:u=ju;break;case 4:u=Wd;break;case 16:u=fl;break;case 536870912:u=Qd;break;default:u=fl}u=am(u,Zg.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Zg(i,o){if(oa=-1,la=0,(De&6)!==0)throw Error(t(327));var u=i.callbackNode;if(ts()&&i.callbackNode!==u)return null;var f=ml(i,i===ct?yt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=aa(i,f);else{o=f;var g=De;De|=2;var y=nm();(ct!==i||yt!==o)&&(dr=null,es=Je()+500,yi(i,o));do try{Gw();break}catch(O){tm(i,O)}while(!0);bc(),ta.current=y,De=g,nt!==null?o=0:(ct=null,yt=0,o=ot)}if(o!==0){if(o===2&&(g=Fu(i),g!==0&&(f=g,o=oh(i,g))),o===1)throw u=ao,yi(i,0),Hr(i,f),Ut(i,Je()),u;if(o===6)Hr(i,f);else{if(g=i.current.alternate,(f&30)===0&&!qw(g)&&(o=aa(i,f),o===2&&(y=Fu(i),y!==0&&(f=y,o=oh(i,y))),o===1))throw u=ao,yi(i,0),Hr(i,f),Ut(i,Je()),u;switch(i.finishedWork=g,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:vi(i,$t,dr);break;case 3:if(Hr(i,f),(f&130023424)===f&&(o=rh+500-Je(),10<o)){if(ml(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){Lt(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=fc(vi.bind(null,i,$t,dr),o);break}vi(i,$t,dr);break;case 4:if(Hr(i,f),(f&4194240)===f)break;for(o=i.eventTimes,g=-1;0<f;){var w=31-Cn(f);y=1<<w,w=o[w],w>g&&(g=w),f&=~y}if(f=g,f=Je()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Kw(f/1960))-f,10<f){i.timeoutHandle=fc(vi.bind(null,i,$t,dr),f);break}vi(i,$t,dr);break;case 5:vi(i,$t,dr);break;default:throw Error(t(329))}}}return Ut(i,Je()),i.callbackNode===u?Zg.bind(null,i):null}function oh(i,o){var u=uo;return i.current.memoizedState.isDehydrated&&(yi(i,o).flags|=256),i=aa(i,o),i!==2&&(o=$t,$t=u,o!==null&&lh(o)),i}function lh(i){$t===null?$t=i:$t.push.apply($t,i)}function qw(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],y=g.getSnapshot;g=g.value;try{if(!Pn(y(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hr(i,o){for(o&=~nh,o&=~na,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Cn(o),f=1<<u;i[u]=-1,o&=~f}}function em(i){if((De&6)!==0)throw Error(t(327));ts();var o=ml(i,0);if((o&1)===0)return Ut(i,Je()),null;var u=aa(i,o);if(i.tag!==0&&u===2){var f=Fu(i);f!==0&&(o=f,u=oh(i,f))}if(u===1)throw u=ao,yi(i,0),Hr(i,o),Ut(i,Je()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,vi(i,$t,dr),Ut(i,Je()),null}function ah(i,o){var u=De;De|=1;try{return i(o)}finally{De=u,De===0&&(es=Je()+500,Il&&Ir())}}function mi(i){_r!==null&&_r.tag===0&&(De&6)===0&&ts();var o=De;De|=1;var u=dn.transition,f=Be;try{if(dn.transition=null,Be=1,i)return i()}finally{Be=f,dn.transition=u,De=o,(De&6)===0&&Ir()}}function uh(){en=Zi.current,He(Zi)}function yi(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Cw(u)),nt!==null)for(u=nt.return;u!==null;){var f=u;switch(vc(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Nl();break;case 3:Yi(),He(Ht),He(Ot),Rc();break;case 5:Ec(f);break;case 4:Yi();break;case 13:He(Xe);break;case 19:He(Xe);break;case 10:Oc(f.type._context);break;case 22:case 23:uh()}u=u.return}if(ct=i,nt=i=Wr(i.current,null),yt=en=o,ot=0,ao=null,nh=na=gi=0,$t=uo=null,fi!==null){for(o=0;o<fi.length;o++)if(u=fi[o],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,y=u.pending;if(y!==null){var w=y.next;y.next=g,f.next=w}u.pending=f}fi=null}return i}function tm(i,o){do{var u=nt;try{if(bc(),$l.current=ql,Ul){for(var f=Ke.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Ul=!1}if(pi=0,ut=st=Ke=null,no=!1,ro=0,th.current=null,u===null||u.return===null){ot=1,ao=o,nt=null;break}e:{var y=i,w=u.return,O=u,M=o;if(o=yt,O.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var j=M,W=O,U=W.tag;if((W.mode&1)===0&&(U===0||U===11||U===15)){var H=W.alternate;H?(W.updateQueue=H.updateQueue,W.memoizedState=H.memoizedState,W.lanes=H.lanes):(W.updateQueue=null,W.memoizedState=null)}var oe=Pg(w);if(oe!==null){oe.flags&=-257,Ag(oe,w,O,y,o),oe.mode&1&&Cg(y,j,o),o=oe,M=j;var he=o.updateQueue;if(he===null){var pe=new Set;pe.add(M),o.updateQueue=pe}else he.add(M);break e}else{if((o&1)===0){Cg(y,j,o),ch();break e}M=Error(t(426))}}else if(Qe&&O.mode&1){var Ze=Pg(w);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),Ag(Ze,w,O,y,o),kc(Gi(M,O));break e}}y=M=Gi(M,O),ot!==4&&(ot=2),uo===null?uo=[y]:uo.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var T=bg(y,M,o);Yp(y,T);break e;case 1:O=M;var E=y.type,L=y.stateNode;if((y.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Fr===null||!Fr.has(L)))){y.flags|=65536,o&=-o,y.lanes|=o;var q=Og(y,O,o);Yp(y,q);break e}}y=y.return}while(y!==null)}im(u)}catch(me){o=me,nt===u&&u!==null&&(nt=u=u.return);continue}break}while(!0)}function nm(){var i=ta.current;return ta.current=ql,i===null?ql:i}function ch(){(ot===0||ot===3||ot===2)&&(ot=4),ct===null||(gi&268435455)===0&&(na&268435455)===0||Hr(ct,yt)}function aa(i,o){var u=De;De|=2;var f=nm();(ct!==i||yt!==o)&&(dr=null,yi(i,o));do try{Yw();break}catch(g){tm(i,g)}while(!0);if(bc(),De=u,ta.current=f,nt!==null)throw Error(t(261));return ct=null,yt=0,ot}function Yw(){for(;nt!==null;)rm(nt)}function Gw(){for(;nt!==null&&!Sx();)rm(nt)}function rm(i){var o=lm(i.alternate,i,en);i.memoizedProps=i.pendingProps,o===null?im(i):nt=o,th.current=null}function im(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=Ww(u,o,en),u!==null){nt=u;return}}else{if(u=Qw(u,o),u!==null){u.flags&=32767,nt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{ot=6,nt=null;return}}if(o=o.sibling,o!==null){nt=o;return}nt=o=i}while(o!==null);ot===0&&(ot=5)}function vi(i,o,u){var f=Be,g=dn.transition;try{dn.transition=null,Be=1,Jw(i,o,u,f)}finally{dn.transition=g,Be=f}return null}function Jw(i,o,u,f){do ts();while(_r!==null);if((De&6)!==0)throw Error(t(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=u.lanes|u.childLanes;if(Tx(i,y),i===ct&&(nt=ct=null,yt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ia||(ia=!0,am(fl,function(){return ts(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=dn.transition,dn.transition=null;var w=Be;Be=1;var O=De;De|=4,th.current=null,Uw(i,u),Kg(u,i),vw(cc),xl=!!uc,cc=uc=null,i.current=u,Xw(u),bx(),De=O,Be=w,dn.transition=y}else i.current=u;if(ia&&(ia=!1,_r=i,sa=g),y=i.pendingLanes,y===0&&(Fr=null),Px(u.stateNode),Ut(i,Je()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(ra)throw ra=!1,i=ih,ih=null,i;return(sa&1)!==0&&i.tag!==0&&ts(),y=i.pendingLanes,(y&1)!==0?i===sh?co++:(co=0,sh=i):co=0,Ir(),null}function ts(){if(_r!==null){var i=Ud(sa),o=dn.transition,u=Be;try{if(dn.transition=null,Be=16>i?16:i,_r===null)var f=!1;else{if(i=_r,_r=null,sa=0,(De&6)!==0)throw Error(t(331));var g=De;for(De|=4,le=i.current;le!==null;){var y=le,w=y.child;if((le.flags&16)!==0){var O=y.deletions;if(O!==null){for(var M=0;M<O.length;M++){var j=O[M];for(le=j;le!==null;){var W=le;switch(W.tag){case 0:case 11:case 15:lo(8,W,y)}var U=W.child;if(U!==null)U.return=W,le=U;else for(;le!==null;){W=le;var H=W.sibling,oe=W.return;if(Wg(W),W===j){le=null;break}if(H!==null){H.return=oe,le=H;break}le=oe}}}var he=y.alternate;if(he!==null){var pe=he.child;if(pe!==null){he.child=null;do{var Ze=pe.sibling;pe.sibling=null,pe=Ze}while(pe!==null)}}le=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,le=w;else e:for(;le!==null;){if(y=le,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:lo(9,y,y.return)}var T=y.sibling;if(T!==null){T.return=y.return,le=T;break e}le=y.return}}var E=i.current;for(le=E;le!==null;){w=le;var L=w.child;if((w.subtreeFlags&2064)!==0&&L!==null)L.return=w,le=L;else e:for(w=E;le!==null;){if(O=le,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:ea(9,O)}}catch(me){qe(O,O.return,me)}if(O===w){le=null;break e}var q=O.sibling;if(q!==null){q.return=O.return,le=q;break e}le=O.return}}if(De=g,Ir(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(dl,i)}catch{}f=!0}return f}finally{Be=u,dn.transition=o}}return!1}function sm(i,o,u){o=Gi(u,o),o=bg(i,o,1),i=zr(i,o,1),o=Lt(),i!==null&&(Ls(i,1,o),Ut(i,o))}function qe(i,o,u){if(i.tag===3)sm(i,i,u);else for(;o!==null;){if(o.tag===3){sm(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Fr===null||!Fr.has(f))){i=Gi(u,i),i=Og(o,i,1),o=zr(o,i,1),i=Lt(),o!==null&&(Ls(o,1,i),Ut(o,i));break}}o=o.return}}function Zw(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=Lt(),i.pingedLanes|=i.suspendedLanes&u,ct===i&&(yt&u)===u&&(ot===4||ot===3&&(yt&130023424)===yt&&500>Je()-rh?yi(i,0):nh|=u),Ut(i,o)}function om(i,o){o===0&&((i.mode&1)===0?o=1:(o=gl,gl<<=1,(gl&130023424)===0&&(gl=4194304)));var u=Lt();i=cr(i,o),i!==null&&(Ls(i,o,u),Ut(i,u))}function ek(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),om(i,u)}function tk(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),om(i,u)}var lm;lm=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Ht.current)Qt=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return Qt=!1,Hw(i,o,u);Qt=(i.flags&131072)!==0}else Qt=!1,Qe&&(o.flags&1048576)!==0&&_p(o,zl,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Jl(i,o),i=o.pendingProps;var g=Wi(o,Ot.current);qi(o,u),g=Lc(null,o,f,i,g,u);var y=Ic();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Wt(f)?(y=!0,Ll(o)):y=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ac(o),g.updater=Yl,o.stateNode=g,g._reactInternals=o,Vc(o,f,i,u),o=$c(null,o,f,!0,y,u)):(o.tag=0,Qe&&y&&yc(o),Nt(null,o,g,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Jl(i,o),i=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=rk(f),i=Mn(f,i),g){case 0:o=Qc(null,o,f,i,u);break e;case 1:o=Ng(null,o,f,i,u);break e;case 11:o=Mg(null,o,f,i,u);break e;case 14:o=Eg(null,o,f,Mn(f.type,i),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Mn(f,g),Qc(i,o,f,g,u);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Mn(f,g),Ng(i,o,f,g,u);case 3:e:{if(Lg(o),i===null)throw Error(t(387));f=o.pendingProps,y=o.memoizedState,g=y.element,qp(i,o),Wl(o,f,null,u);var w=o.memoizedState;if(f=w.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){g=Gi(Error(t(423)),o),o=Ig(i,o,f,u,g);break e}else if(f!==g){g=Gi(Error(t(424)),o),o=Ig(i,o,f,u,g);break e}else for(Zt=Tr(o.stateNode.containerInfo.firstChild),Jt=o,Qe=!0,An=null,u=Xp(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ui(),f===g){o=fr(i,o,u);break e}Nt(i,o,f,u)}o=o.child}return o;case 5:return Jp(o),i===null&&wc(o),f=o.type,g=o.pendingProps,y=i!==null?i.memoizedProps:null,w=g.children,hc(f,g)?w=null:y!==null&&hc(f,y)&&(o.flags|=32),Tg(i,o),Nt(i,o,w,u),o.child;case 6:return i===null&&wc(o),null;case 13:return Bg(i,o,u);case 4:return Mc(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Xi(o,null,f,u):Nt(i,o,f,u),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Mn(f,g),Mg(i,o,f,g,u);case 7:return Nt(i,o,o.pendingProps,u),o.child;case 8:return Nt(i,o,o.pendingProps.children,u),o.child;case 12:return Nt(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,y=o.memoizedProps,w=g.value,Fe(_l,f._currentValue),f._currentValue=w,y!==null)if(Pn(y.value,w)){if(y.children===g.children&&!Ht.current){o=fr(i,o,u);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var O=y.dependencies;if(O!==null){w=y.child;for(var M=O.firstContext;M!==null;){if(M.context===f){if(y.tag===1){M=hr(-1,u&-u),M.tag=2;var j=y.updateQueue;if(j!==null){j=j.shared;var W=j.pending;W===null?M.next=M:(M.next=W.next,W.next=M),j.pending=M}}y.lanes|=u,M=y.alternate,M!==null&&(M.lanes|=u),Cc(y.return,u,o),O.lanes|=u;break}M=M.next}}else if(y.tag===10)w=y.type===o.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=u,O=w.alternate,O!==null&&(O.lanes|=u),Cc(w,u,o),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===o){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Nt(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,qi(o,u),g=hn(g),f=f(g),o.flags|=1,Nt(i,o,f,u),o.child;case 14:return f=o.type,g=Mn(f,o.pendingProps),g=Mn(f.type,g),Eg(i,o,f,g,u);case 15:return Dg(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Mn(f,g),Jl(i,o),o.tag=1,Wt(f)?(i=!0,Ll(o)):i=!1,qi(o,u),kg(o,f,g),Vc(o,f,g,u),$c(null,o,f,!0,i,u);case 19:return jg(i,o,u);case 22:return Rg(i,o,u)}throw Error(t(156,o.tag))};function am(i,o){return Vd(i,o)}function nk(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(i,o,u,f){return new nk(i,o,u,f)}function hh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function rk(i){if(typeof i=="function")return hh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===te)return 11;if(i===Y)return 14}return 2}function Wr(i,o){var u=i.alternate;return u===null?(u=pn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function ua(i,o,u,f,g,y){var w=2;if(f=i,typeof i=="function")hh(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case B:return xi(u.children,g,y,o);case Q:w=8,g|=8;break;case X:return i=pn(12,u,o,g|2),i.elementType=X,i.lanes=y,i;case ue:return i=pn(13,u,o,g),i.elementType=ue,i.lanes=y,i;case de:return i=pn(19,u,o,g),i.elementType=de,i.lanes=y,i;case fe:return ca(u,g,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:w=10;break e;case ee:w=9;break e;case te:w=11;break e;case Y:w=14;break e;case ce:w=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=pn(w,u,o,g),o.elementType=i,o.type=f,o.lanes=y,o}function xi(i,o,u,f){return i=pn(7,i,f,o),i.lanes=u,i}function ca(i,o,u,f){return i=pn(22,i,f,o),i.elementType=fe,i.lanes=u,i.stateNode={isHidden:!1},i}function fh(i,o,u){return i=pn(6,i,null,o),i.lanes=u,i}function dh(i,o,u){return o=pn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function ik(i,o,u,f,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_u(0),this.expirationTimes=_u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_u(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function ph(i,o,u,f,g,y,w,O,M){return i=new ik(i,o,u,O,M),o===1?(o=1,y===!0&&(o|=8)):o=0,y=pn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(y),i}function sk(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function um(i){if(!i)return Lr;i=i._reactInternals;e:{if(li(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Wt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(Wt(u))return zp(i,u,o)}return o}function cm(i,o,u,f,g,y,w,O,M){return i=ph(u,f,!0,i,g,y,w,O,M),i.context=um(null),u=i.current,f=Lt(),g=Vr(u),y=hr(f,g),y.callback=o??null,zr(u,y,g),i.current.lanes=g,Ls(i,g,f),Ut(i,f),i}function ha(i,o,u,f){var g=o.current,y=Lt(),w=Vr(g);return u=um(u),o.context===null?o.context=u:o.pendingContext=u,o=hr(y,w),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=zr(g,o,w),i!==null&&(Rn(i,g,w,y),Hl(i,g,w)),w}function fa(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hm(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function gh(i,o){hm(i,o),(i=i.alternate)&&hm(i,o)}function ok(){return null}var fm=typeof reportError=="function"?reportError:function(i){console.error(i)};function mh(i){this._internalRoot=i}da.prototype.render=mh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));ha(i,o,null,null)},da.prototype.unmount=mh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;mi(function(){ha(null,i,null,null)}),o[or]=null}};function da(i){this._internalRoot=i}da.prototype.unstable_scheduleHydration=function(i){if(i){var o=qd();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Er.length&&o!==0&&o<Er[u].priority;u++);Er.splice(u,0,i),u===0&&Jd(i)}};function yh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pa(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function dm(){}function lk(i,o,u,f,g){if(g){if(typeof f=="function"){var y=f;f=function(){var j=fa(w);y.call(j)}}var w=cm(o,f,i,0,null,!1,!1,"",dm);return i._reactRootContainer=w,i[or]=w.current,Ks(i.nodeType===8?i.parentNode:i),mi(),w}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var O=f;f=function(){var j=fa(M);O.call(j)}}var M=ph(i,0,!1,null,null,!1,!1,"",dm);return i._reactRootContainer=M,i[or]=M.current,Ks(i.nodeType===8?i.parentNode:i),mi(function(){ha(o,M,u,f)}),M}function ga(i,o,u,f,g){var y=u._reactRootContainer;if(y){var w=y;if(typeof g=="function"){var O=g;g=function(){var M=fa(w);O.call(M)}}ha(o,w,i,g)}else w=lk(u,o,i,g,f);return fa(w)}Xd=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ns(o.pendingLanes);u!==0&&(Vu(o,u|1),Ut(o,Je()),(De&6)===0&&(es=Je()+500,Ir()))}break;case 13:mi(function(){var f=cr(i,1);if(f!==null){var g=Lt();Rn(f,i,1,g)}}),gh(i,1)}},Hu=function(i){if(i.tag===13){var o=cr(i,134217728);if(o!==null){var u=Lt();Rn(o,i,134217728,u)}gh(i,134217728)}},Kd=function(i){if(i.tag===13){var o=Vr(i),u=cr(i,o);if(u!==null){var f=Lt();Rn(u,i,o,f)}gh(i,o)}},qd=function(){return Be},Yd=function(i,o){var u=Be;try{return Be=i,o()}finally{Be=u}},Rs=function(i,o,u){switch(o){case"input":if(Fn(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var g=Tl(f);if(!g)throw Error(t(90));Ee(f),Fn(f,g)}}}break;case"textarea":As(i,u);break;case"select":o=u.value,o!=null&&wn(i,!!u.multiple,o,!1)}},Tt=ah,St=mi;var ak={usingClientEntryPoint:!1,Events:[Gs,Vi,Tl,kt,Sn,ah]},ho={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uk={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Fd(i),i===null?null:i.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||ok,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{dl=ma.inject(uk),Wn=ma}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ak,Xt.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yh(o))throw Error(t(200));return sk(i,o,null,u)},Xt.createRoot=function(i,o){if(!yh(i))throw Error(t(299));var u=!1,f="",g=fm;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=ph(i,1,!1,null,null,u,!1,f,g),i[or]=o.current,Ks(i.nodeType===8?i.parentNode:i),new mh(o)},Xt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Fd(o),i=i===null?null:i.stateNode,i},Xt.flushSync=function(i){return mi(i)},Xt.hydrate=function(i,o,u){if(!pa(o))throw Error(t(200));return ga(null,i,o,!0,u)},Xt.hydrateRoot=function(i,o,u){if(!yh(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,g=!1,y="",w=fm;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),o=cm(o,null,i,1,u??null,g,!1,y,w),i[or]=o.current,Ks(i),f)for(i=0;i<f.length;i++)u=f[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new da(o)},Xt.render=function(i,o,u){if(!pa(o))throw Error(t(200));return ga(null,i,o,!1,u)},Xt.unmountComponentAtNode=function(i){if(!pa(i))throw Error(t(40));return i._reactRootContainer?(mi(function(){ga(null,null,i,!1,function(){i._reactRootContainer=null,i[or]=null})}),!0):!1},Xt.unstable_batchedUpdates=ah,Xt.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!pa(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return ga(i,o,u,!1,f)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var Sm;function My(){if(Sm)return wh.exports;Sm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wh.exports=vk(),wh.exports}var bm;function xk(){if(bm)return ya;bm=1;var n=My();return ya.createRoot=n.createRoot,ya.hydrateRoot=n.hydrateRoot,ya}var wk=xk();const kk=Ay(wk);var xo=My();function Sk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return P.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const bu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ks(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function sd(n){return"nodeType"in n}function qt(n){var e,t;return n?ks(n)?n:sd(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function od(n){const{Document:e}=qt(n);return n instanceof e}function Yo(n){return ks(n)?!1:n instanceof qt(n).HTMLElement}function Ey(n){return n instanceof qt(n).SVGElement}function Ss(n){return n?ks(n)?n.document:sd(n)?od(n)?n:Yo(n)||Ey(n)?n.ownerDocument:document:document:document}const tr=bu?P.useLayoutEffect:P.useEffect;function ld(n){const e=P.useRef(n);return tr(()=>{e.current=n}),P.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function bk(){const n=P.useRef(null),e=P.useCallback((r,s)=>{n.current=setInterval(r,s)},[]),t=P.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function Io(n,e){e===void 0&&(e=[n]);const t=P.useRef(n);return tr(()=>{t.current!==n&&(t.current=n)},e),t}function Go(n,e){const t=P.useRef();return P.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function tu(n){const e=ld(n),t=P.useRef(null),r=P.useCallback(s=>{s!==t.current&&(e==null||e(s,t.current)),t.current=s},[]);return[t,r]}function tf(n){const e=P.useRef();return P.useEffect(()=>{e.current=n},[n]),e.current}let bh={};function Jo(n,e){return P.useMemo(()=>{if(e)return e;const t=bh[n]==null?0:bh[n]+1;return bh[n]=t,n+"-"+t},[n,e])}function Dy(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.reduce((l,a)=>{const c=Object.entries(a);for(const[h,d]of c){const p=l[h];p!=null&&(l[h]=p+n*d)}return l},{...e})}}const as=Dy(1),nu=Dy(-1);function Ok(n){return"clientX"in n&&"clientY"in n}function ad(n){if(!n)return!1;const{KeyboardEvent:e}=qt(n.target);return e&&n instanceof e}function Ck(n){if(!n)return!1;const{TouchEvent:e}=qt(n.target);return e&&n instanceof e}function nf(n){if(Ck(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return Ok(n)?{x:n.clientX,y:n.clientY}:null}const Bo=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Bo.Translate.toString(n),Bo.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),Om="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Pk(n){return n.matches(Om)?n:n.querySelector(Om)}const Ak={display:"none"};function Mk(n){let{id:e,value:t}=n;return tt.createElement("div",{id:e,style:Ak},t)}function Ek(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return tt.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},t)}function Dk(){const[n,e]=P.useState("");return{announce:P.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const Ry=P.createContext(null);function Rk(n){const e=P.useContext(Ry);P.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function Tk(){const[n]=P.useState(()=>new Set),e=P.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[P.useCallback(r=>{let{type:s,event:l}=r;n.forEach(a=>{var c;return(c=a[s])==null?void 0:c.call(a,l)})},[n]),e]}const Nk={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Lk={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Ik(n){let{announcements:e=Lk,container:t,hiddenTextDescribedById:r,screenReaderInstructions:s=Nk}=n;const{announce:l,announcement:a}=Dk(),c=Jo("DndLiveRegion"),[h,d]=P.useState(!1);if(P.useEffect(()=>{d(!0)},[]),Rk(P.useMemo(()=>({onDragStart(m){let{active:v}=m;l(e.onDragStart({active:v}))},onDragMove(m){let{active:v,over:x}=m;e.onDragMove&&l(e.onDragMove({active:v,over:x}))},onDragOver(m){let{active:v,over:x}=m;l(e.onDragOver({active:v,over:x}))},onDragEnd(m){let{active:v,over:x}=m;l(e.onDragEnd({active:v,over:x}))},onDragCancel(m){let{active:v,over:x}=m;l(e.onDragCancel({active:v,over:x}))}}),[l,e])),!h)return null;const p=tt.createElement(tt.Fragment,null,tt.createElement(Mk,{id:r,value:s.draggable}),tt.createElement(Ek,{id:c,announcement:a}));return t?xo.createPortal(p,t):p}var lt;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(lt||(lt={}));function ru(){}function Cm(n,e){return P.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Bk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return P.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Nn=Object.freeze({x:0,y:0});function zk(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function jk(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function Fk(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function _k(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function Pm(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const Vk=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=Pm(e,e.left,e.top),l=[];for(const a of r){const{id:c}=a,h=t.get(c);if(h){const d=zk(Pm(h),s);l.push({id:c,data:{droppableContainer:a,value:d}})}}return l.sort(jk)};function Hk(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),s=Math.min(e.left+e.width,n.left+n.width),l=Math.min(e.top+e.height,n.top+n.height),a=s-r,c=l-t;if(r<s&&t<l){const h=e.width*e.height,d=n.width*n.height,p=a*c,m=p/(h+d-p);return Number(m.toFixed(4))}return 0}const Wk=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=[];for(const l of r){const{id:a}=l,c=t.get(a);if(c){const h=Hk(c,e);h>0&&s.push({id:a,data:{droppableContainer:l,value:h}})}}return s.sort(Fk)};function Qk(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function Ty(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Nn}function $k(n){return function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return s.reduce((a,c)=>({...a,top:a.top+n*c.y,bottom:a.bottom+n*c.y,left:a.left+n*c.x,right:a.right+n*c.x}),{...t})}}const Uk=$k(1);function Xk(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Kk(n,e,t){const r=Xk(e);if(!r)return n;const{scaleX:s,scaleY:l,x:a,y:c}=r,h=n.left-a-(1-s)*parseFloat(t),d=n.top-c-(1-l)*parseFloat(t.slice(t.indexOf(" ")+1)),p=s?n.width/s:n.width,m=l?n.height/l:n.height;return{width:p,height:m,top:d,right:h+p,bottom:d+m,left:h}}const qk={ignoreTransform:!1};function bs(n,e){e===void 0&&(e=qk);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:p}=qt(n).getComputedStyle(n);d&&(t=Kk(t,d,p))}const{top:r,left:s,width:l,height:a,bottom:c,right:h}=t;return{top:r,left:s,width:l,height:a,bottom:c,right:h}}function Am(n){return bs(n,{ignoreTransform:!0})}function Yk(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Gk(n,e){return e===void 0&&(e=qt(n).getComputedStyle(n)),e.position==="fixed"}function Jk(n,e){e===void 0&&(e=qt(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const l=e[s];return typeof l=="string"?t.test(l):!1})}function ud(n,e){const t=[];function r(s){if(e!=null&&t.length>=e||!s)return t;if(od(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!Yo(s)||Ey(s)||t.includes(s))return t;const l=qt(n).getComputedStyle(s);return s!==n&&Jk(s,l)&&t.push(s),Gk(s,l)?t:r(s.parentNode)}return n?r(n):t}function Ny(n){const[e]=ud(n,1);return e??null}function Oh(n){return!bu||!n?null:ks(n)?n:sd(n)?od(n)||n===Ss(n).scrollingElement?window:Yo(n)?n:null:null}function Ly(n){return ks(n)?n.scrollX:n.scrollLeft}function Iy(n){return ks(n)?n.scrollY:n.scrollTop}function rf(n){return{x:Ly(n),y:Iy(n)}}var ft;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(ft||(ft={}));function By(n){return!bu||!n?!1:n===document.scrollingElement}function zy(n){const e={x:0,y:0},t=By(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},s=n.scrollTop<=e.y,l=n.scrollLeft<=e.x,a=n.scrollTop>=r.y,c=n.scrollLeft>=r.x;return{isTop:s,isLeft:l,isBottom:a,isRight:c,maxScroll:r,minScroll:e}}const Zk={x:.2,y:.2};function eS(n,e,t,r,s){let{top:l,left:a,right:c,bottom:h}=t;r===void 0&&(r=10),s===void 0&&(s=Zk);const{isTop:d,isBottom:p,isLeft:m,isRight:v}=zy(n),x={x:0,y:0},k={x:0,y:0},S={height:e.height*s.y,width:e.width*s.x};return!d&&l<=e.top+S.height?(x.y=ft.Backward,k.y=r*Math.abs((e.top+S.height-l)/S.height)):!p&&h>=e.bottom-S.height&&(x.y=ft.Forward,k.y=r*Math.abs((e.bottom-S.height-h)/S.height)),!v&&c>=e.right-S.width?(x.x=ft.Forward,k.x=r*Math.abs((e.right-S.width-c)/S.width)):!m&&a<=e.left+S.width&&(x.x=ft.Backward,k.x=r*Math.abs((e.left+S.width-a)/S.width)),{direction:x,speed:k}}function tS(n){if(n===document.scrollingElement){const{innerWidth:l,innerHeight:a}=window;return{top:0,left:0,right:l,bottom:a,width:l,height:a}}const{top:e,left:t,right:r,bottom:s}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:s,width:n.clientWidth,height:n.clientHeight}}function jy(n){return n.reduce((e,t)=>as(e,rf(t)),Nn)}function nS(n){return n.reduce((e,t)=>e+Ly(t),0)}function rS(n){return n.reduce((e,t)=>e+Iy(t),0)}function iS(n,e){if(e===void 0&&(e=bs),!n)return;const{top:t,left:r,bottom:s,right:l}=e(n);Ny(n)&&(s<=0||l<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const sS=[["x",["left","right"],nS],["y",["top","bottom"],rS]];class cd{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ud(t),s=jy(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,a,c]of sS)for(const h of a)Object.defineProperty(this,h,{get:()=>{const d=c(r),p=s[l]-d;return this.rect[h]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Co{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var s;(s=this.target)==null||s.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function oS(n){const{EventTarget:e}=qt(n);return n instanceof e?n:Ss(n)}function Ch(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var gn;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(gn||(gn={}));function Mm(n){n.preventDefault()}function lS(n){n.stopPropagation()}var Ne;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Ne||(Ne={}));const Fy={start:[Ne.Space,Ne.Enter],cancel:[Ne.Esc],end:[Ne.Space,Ne.Enter,Ne.Tab]},aS=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Ne.Right:return{...t,x:t.x+25};case Ne.Left:return{...t,x:t.x-25};case Ne.Down:return{...t,y:t.y+25};case Ne.Up:return{...t,y:t.y-25}}};class hd{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Co(Ss(t)),this.windowListeners=new Co(qt(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(gn.Resize,this.handleCancel),this.windowListeners.add(gn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(gn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&iS(r),t(Nn)}handleKeyDown(e){if(ad(e)){const{active:t,context:r,options:s}=this.props,{keyboardCodes:l=Fy,coordinateGetter:a=aS,scrollBehavior:c="smooth"}=s,{code:h}=e;if(l.end.includes(h)){this.handleEnd(e);return}if(l.cancel.includes(h)){this.handleCancel(e);return}const{collisionRect:d}=r.current,p=d?{x:d.left,y:d.top}:Nn;this.referenceCoordinates||(this.referenceCoordinates=p);const m=a(e,{active:t,context:r.current,currentCoordinates:p});if(m){const v=nu(m,p),x={x:0,y:0},{scrollableAncestors:k}=r.current;for(const S of k){const b=e.code,{isTop:C,isRight:D,isLeft:N,isBottom:_,maxScroll:z,minScroll:F}=zy(S),B=tS(S),Q={x:Math.min(b===Ne.Right?B.right-B.width/2:B.right,Math.max(b===Ne.Right?B.left:B.left+B.width/2,m.x)),y:Math.min(b===Ne.Down?B.bottom-B.height/2:B.bottom,Math.max(b===Ne.Down?B.top:B.top+B.height/2,m.y))},X=b===Ne.Right&&!D||b===Ne.Left&&!N,K=b===Ne.Down&&!_||b===Ne.Up&&!C;if(X&&Q.x!==m.x){const ee=S.scrollLeft+v.x,te=b===Ne.Right&&ee<=z.x||b===Ne.Left&&ee>=F.x;if(te&&!v.y){S.scrollTo({left:ee,behavior:c});return}te?x.x=S.scrollLeft-ee:x.x=b===Ne.Right?S.scrollLeft-z.x:S.scrollLeft-F.x,x.x&&S.scrollBy({left:-x.x,behavior:c});break}else if(K&&Q.y!==m.y){const ee=S.scrollTop+v.y,te=b===Ne.Down&&ee<=z.y||b===Ne.Up&&ee>=F.y;if(te&&!v.x){S.scrollTo({top:ee,behavior:c});return}te?x.y=S.scrollTop-ee:x.y=b===Ne.Down?S.scrollTop-z.y:S.scrollTop-F.y,x.y&&S.scrollBy({top:-x.y,behavior:c});break}}this.handleMove(e,as(nu(m,this.referenceCoordinates),x))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}hd.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=Fy,onActivation:s}=e,{active:l}=t;const{code:a}=n.nativeEvent;if(r.start.includes(a)){const c=l.activatorNode.current;return c&&n.target!==c?!1:(n.preventDefault(),s==null||s({event:n.nativeEvent}),!0)}return!1}}];function Em(n){return!!(n&&"distance"in n)}function Dm(n){return!!(n&&"delay"in n)}class fd{constructor(e,t,r){var s;r===void 0&&(r=oS(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:l}=e,{target:a}=l;this.props=e,this.events=t,this.document=Ss(a),this.documentListeners=new Co(this.document),this.listeners=new Co(r),this.windowListeners=new Co(qt(a)),this.initialCoordinates=(s=nf(l))!=null?s:Nn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(gn.Resize,this.handleCancel),this.windowListeners.add(gn.DragStart,Mm),this.windowListeners.add(gn.VisibilityChange,this.handleCancel),this.windowListeners.add(gn.ContextMenu,Mm),this.documentListeners.add(gn.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Dm(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Em(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(gn.Click,lS,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(gn.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:s,props:l}=this,{onMove:a,options:{activationConstraint:c}}=l;if(!s)return;const h=(t=nf(e))!=null?t:Nn,d=nu(s,h);if(!r&&c){if(Em(c)){if(c.tolerance!=null&&Ch(d,c.tolerance))return this.handleCancel();if(Ch(d,c.distance))return this.handleStart()}if(Dm(c)&&Ch(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),a(h)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Ne.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const uS={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class dd extends fd{constructor(e){const{event:t}=e,r=Ss(t.target);super(e,uS,r)}}dd.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const cS={move:{name:"mousemove"},end:{name:"mouseup"}};var sf;(function(n){n[n.RightClick=2]="RightClick"})(sf||(sf={}));class hS extends fd{constructor(e){super(e,cS,Ss(e.event.target))}}hS.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===sf.RightClick?!1:(r==null||r({event:t}),!0)}}];const Ph={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class fS extends fd{constructor(e){super(e,Ph)}static setup(){return window.addEventListener(Ph.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ph.move.name,e)};function e(){}}}fS.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:s}=t;return s.length>1?!1:(r==null||r({event:t}),!0)}}];var Po;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Po||(Po={}));var iu;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(iu||(iu={}));function dS(n){let{acceleration:e,activator:t=Po.Pointer,canScroll:r,draggingRect:s,enabled:l,interval:a=5,order:c=iu.TreeOrder,pointerCoordinates:h,scrollableAncestors:d,scrollableAncestorRects:p,delta:m,threshold:v}=n;const x=gS({delta:m,disabled:!l}),[k,S]=bk(),b=P.useRef({x:0,y:0}),C=P.useRef({x:0,y:0}),D=P.useMemo(()=>{switch(t){case Po.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Po.DraggableRect:return s}},[t,s,h]),N=P.useRef(null),_=P.useCallback(()=>{const F=N.current;if(!F)return;const B=b.current.x*C.current.x,Q=b.current.y*C.current.y;F.scrollBy(B,Q)},[]),z=P.useMemo(()=>c===iu.TreeOrder?[...d].reverse():d,[c,d]);P.useEffect(()=>{if(!l||!d.length||!D){S();return}for(const F of z){if((r==null?void 0:r(F))===!1)continue;const B=d.indexOf(F),Q=p[B];if(!Q)continue;const{direction:X,speed:K}=eS(F,Q,D,e,v);for(const ee of["x","y"])x[ee][X[ee]]||(K[ee]=0,X[ee]=0);if(K.x>0||K.y>0){S(),N.current=F,k(_,a),b.current=K,C.current=X;return}}b.current={x:0,y:0},C.current={x:0,y:0},S()},[e,_,r,S,l,a,JSON.stringify(D),JSON.stringify(x),k,d,z,p,JSON.stringify(v)])}const pS={x:{[ft.Backward]:!1,[ft.Forward]:!1},y:{[ft.Backward]:!1,[ft.Forward]:!1}};function gS(n){let{delta:e,disabled:t}=n;const r=tf(e);return Go(s=>{if(t||!r||!s)return pS;const l={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[ft.Backward]:s.x[ft.Backward]||l.x===-1,[ft.Forward]:s.x[ft.Forward]||l.x===1},y:{[ft.Backward]:s.y[ft.Backward]||l.y===-1,[ft.Forward]:s.y[ft.Forward]||l.y===1}}},[t,e,r])}function mS(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return Go(s=>{var l;return e==null?null:(l=r??s)!=null?l:null},[r,e])}function yS(n,e){return P.useMemo(()=>n.reduce((t,r)=>{const{sensor:s}=r,l=s.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...t,...l]},[]),[n,e])}var zo;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(zo||(zo={}));var of;(function(n){n.Optimized="optimized"})(of||(of={}));const Rm=new Map;function vS(n,e){let{dragging:t,dependencies:r,config:s}=e;const[l,a]=P.useState(null),{frequency:c,measure:h,strategy:d}=s,p=P.useRef(n),m=b(),v=Io(m),x=P.useCallback(function(C){C===void 0&&(C=[]),!v.current&&a(D=>D===null?C:D.concat(C.filter(N=>!D.includes(N))))},[v]),k=P.useRef(null),S=Go(C=>{if(m&&!t)return Rm;if(!C||C===Rm||p.current!==n||l!=null){const D=new Map;for(let N of n){if(!N)continue;if(l&&l.length>0&&!l.includes(N.id)&&N.rect.current){D.set(N.id,N.rect.current);continue}const _=N.node.current,z=_?new cd(h(_),_):null;N.rect.current=z,z&&D.set(N.id,z)}return D}return C},[n,l,t,m,h]);return P.useEffect(()=>{p.current=n},[n]),P.useEffect(()=>{m||x()},[t,m]),P.useEffect(()=>{l&&l.length>0&&a(null)},[JSON.stringify(l)]),P.useEffect(()=>{m||typeof c!="number"||k.current!==null||(k.current=setTimeout(()=>{x(),k.current=null},c))},[c,m,x,...r]),{droppableRects:S,measureDroppableContainers:x,measuringScheduled:l!=null};function b(){switch(d){case zo.Always:return!1;case zo.BeforeDragging:return t;default:return!t}}}function _y(n,e){return Go(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function xS(n,e){return _y(n,e)}function wS(n){let{callback:e,disabled:t}=n;const r=ld(e),s=P.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,t]);return P.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Ou(n){let{callback:e,disabled:t}=n;const r=ld(e),s=P.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[t]);return P.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function kS(n){return new cd(bs(n),n)}function Tm(n,e,t){e===void 0&&(e=kS);const[r,s]=P.useState(null);function l(){s(h=>{if(!n)return null;if(n.isConnected===!1){var d;return(d=h??t)!=null?d:null}const p=e(n);return JSON.stringify(h)===JSON.stringify(p)?h:p})}const a=wS({callback(h){if(n)for(const d of h){const{type:p,target:m}=d;if(p==="childList"&&m instanceof HTMLElement&&m.contains(n)){l();break}}}}),c=Ou({callback:l});return tr(()=>{l(),n?(c==null||c.observe(n),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(c==null||c.disconnect(),a==null||a.disconnect())},[n]),r}function SS(n){const e=_y(n);return Ty(n,e)}const Nm=[];function bS(n){const e=P.useRef(n),t=Go(r=>n?r&&r!==Nm&&n&&e.current&&n.parentNode===e.current.parentNode?r:ud(n):Nm,[n]);return P.useEffect(()=>{e.current=n},[n]),t}function OS(n){const[e,t]=P.useState(null),r=P.useRef(n),s=P.useCallback(l=>{const a=Oh(l.target);a&&t(c=>c?(c.set(a,rf(a)),new Map(c)):null)},[]);return P.useEffect(()=>{const l=r.current;if(n!==l){a(l);const c=n.map(h=>{const d=Oh(h);return d?(d.addEventListener("scroll",s,{passive:!0}),[d,rf(d)]):null}).filter(h=>h!=null);t(c.length?new Map(c):null),r.current=n}return()=>{a(n),a(l)};function a(c){c.forEach(h=>{const d=Oh(h);d==null||d.removeEventListener("scroll",s)})}},[s,n]),P.useMemo(()=>n.length?e?Array.from(e.values()).reduce((l,a)=>as(l,a),Nn):jy(n):Nn,[n,e])}function Lm(n,e){e===void 0&&(e=[]);const t=P.useRef(null);return P.useEffect(()=>{t.current=null},e),P.useEffect(()=>{const r=n!==Nn;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?nu(n,t.current):Nn}function CS(n){P.useEffect(()=>{if(!bu)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function PS(n,e){return P.useMemo(()=>n.reduce((t,r)=>{let{eventName:s,handler:l}=r;return t[s]=a=>{l(a,e)},t},{}),[n,e])}function Vy(n){return P.useMemo(()=>n?Yk(n):null,[n])}const Im=[];function AS(n,e){e===void 0&&(e=bs);const[t]=n,r=Vy(t?qt(t):null),[s,l]=P.useState(Im);function a(){l(()=>n.length?n.map(h=>By(h)?r:new cd(e(h),h)):Im)}const c=Ou({callback:a});return tr(()=>{c==null||c.disconnect(),a(),n.forEach(h=>c==null?void 0:c.observe(h))},[n]),s}function MS(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Yo(e)?e:n}function ES(n){let{measure:e}=n;const[t,r]=P.useState(null),s=P.useCallback(d=>{for(const{target:p}of d)if(Yo(p)){r(m=>{const v=e(p);return m?{...m,width:v.width,height:v.height}:v});break}},[e]),l=Ou({callback:s}),a=P.useCallback(d=>{const p=MS(d);l==null||l.disconnect(),p&&(l==null||l.observe(p)),r(p?e(p):null)},[e,l]),[c,h]=tu(a);return P.useMemo(()=>({nodeRef:c,rect:t,setRef:h}),[t,c,h])}const DS=[{sensor:dd,options:{}},{sensor:hd,options:{}}],RS={current:{}},Ha={draggable:{measure:Am},droppable:{measure:Am,strategy:zo.WhileDragging,frequency:of.Optimized},dragOverlay:{measure:bs}};class Ao extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const TS={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ao,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ru},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ha,measureDroppableContainers:ru,windowRect:null,measuringScheduled:!1},NS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ru,draggableNodes:new Map,over:null,measureDroppableContainers:ru},Cu=P.createContext(NS),Hy=P.createContext(TS);function LS(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ao}}}function IS(n,e){switch(e.type){case lt.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case lt.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case lt.DragEnd:case lt.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case lt.RegisterDroppable:{const{element:t}=e,{id:r}=t,s=new Ao(n.droppable.containers);return s.set(r,t),{...n,droppable:{...n.droppable,containers:s}}}case lt.SetDroppableDisabled:{const{id:t,key:r,disabled:s}=e,l=n.droppable.containers.get(t);if(!l||r!==l.key)return n;const a=new Ao(n.droppable.containers);return a.set(t,{...l,disabled:s}),{...n,droppable:{...n.droppable,containers:a}}}case lt.UnregisterDroppable:{const{id:t,key:r}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const l=new Ao(n.droppable.containers);return l.delete(t),{...n,droppable:{...n.droppable,containers:l}}}default:return n}}function BS(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:s}=P.useContext(Cu),l=tf(r),a=tf(t==null?void 0:t.id);return P.useEffect(()=>{if(!e&&!r&&l&&a!=null){if(!ad(l)||document.activeElement===l.target)return;const c=s.get(a);if(!c)return;const{activatorNode:h,node:d}=c;if(!h.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[h.current,d.current]){if(!p)continue;const m=Pk(p);if(m){m.focus();break}}})}},[r,e,s,a,l]),null}function zS(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((s,l)=>l({transform:s,...r}),t):t}function jS(n){return P.useMemo(()=>({draggable:{...Ha.draggable,...n==null?void 0:n.draggable},droppable:{...Ha.droppable,...n==null?void 0:n.droppable},dragOverlay:{...Ha.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function FS(n){let{activeNode:e,measure:t,initialRect:r,config:s=!0}=n;const l=P.useRef(!1),{x:a,y:c}=typeof s=="boolean"?{x:s,y:s}:s;tr(()=>{if(!a&&!c||!e){l.current=!1;return}if(l.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const p=t(d),m=Ty(p,r);if(a||(m.x=0),c||(m.y=0),l.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const v=Ny(d);v&&v.scrollBy({top:m.y,left:m.x})}},[e,a,c,r,t])}const Wy=P.createContext({...Nn,scaleX:1,scaleY:1});var $r;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})($r||($r={}));const _S=P.memo(function(e){var t,r,s,l;let{id:a,accessibility:c,autoScroll:h=!0,children:d,sensors:p=DS,collisionDetection:m=Wk,measuring:v,modifiers:x,...k}=e;const S=P.useReducer(IS,void 0,LS),[b,C]=S,[D,N]=Tk(),[_,z]=P.useState($r.Uninitialized),F=_===$r.Initialized,{draggable:{active:B,nodes:Q,translate:X},droppable:{containers:K}}=b,ee=B!=null?Q.get(B):null,te=P.useRef({initial:null,translated:null}),ue=P.useMemo(()=>{var $e;return B!=null?{id:B,data:($e=ee==null?void 0:ee.data)!=null?$e:RS,rect:te}:null},[B,ee]),de=P.useRef(null),[Y,ce]=P.useState(null),[fe,$]=P.useState(null),G=Io(k,Object.values(k)),J=Jo("DndDescribedBy",a),A=P.useMemo(()=>K.getEnabled(),[K]),I=jS(v),{droppableRects:re,measureDroppableContainers:ae,measuringScheduled:ye}=vS(A,{dragging:F,dependencies:[X.x,X.y],config:I.droppable}),xe=mS(Q,B),Me=P.useMemo(()=>fe?nf(fe):null,[fe]),Oe=Cr(),Ce=xS(xe,I.draggable.measure);FS({activeNode:B!=null?Q.get(B):null,config:Oe.layoutShiftCompensation,initialRect:Ce,measure:I.draggable.measure});const se=Tm(xe,I.draggable.measure,Ce),ge=Tm(xe?xe.parentElement:null),Ee=P.useRef({activatorEvent:null,active:null,activeNode:xe,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:Q,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),gt=K.getNodeFor((t=Ee.current.over)==null?void 0:t.id),_e=ES({measure:I.dragOverlay.measure}),on=(r=_e.nodeRef.current)!=null?r:xe,ln=F?(s=_e.rect)!=null?s:se:null,Fn=!!(_e.nodeRef.current&&_e.rect),oi=SS(Fn?null:se),_n=Vy(on?qt(on):null),Ft=bS(F?gt??xe:null),wn=AS(Ft),Sr=zS(x,{transform:{x:X.x-oi.x,y:X.y-oi.y,scaleX:1,scaleY:1},activatorEvent:fe,active:ue,activeNodeRect:se,containerNodeRect:ge,draggingNodeRect:ln,over:Ee.current.over,overlayNodeRect:_e.rect,scrollableAncestors:Ft,scrollableAncestorRects:wn,windowRect:_n}),Ps=Me?as(Me,X):null,As=OS(Ft),ll=Lm(As),al=Lm(As,[se]),Vn=as(Sr,ll),kn=ln?Uk(ln,Sr):null,br=ue&&kn?m({active:ue,collisionRect:kn,droppableRects:re,droppableContainers:A,pointerCoordinates:Ps}):null,Or=_k(br,"id"),[_t,ul]=P.useState(null),cl=Fn?Sr:as(Sr,al),hl=Qk(cl,(l=_t==null?void 0:_t.rect)!=null?l:null,se),Ms=P.useRef(null),Ti=P.useCallback(($e,wt)=>{let{sensor:kt,options:Sn}=wt;if(de.current==null)return;const Tt=Q.get(de.current);if(!Tt)return;const St=$e.nativeEvent,Vt=new kt({active:de.current,activeNode:Tt,event:St,options:Sn,context:Ee,onAbort(Ue){if(!Q.get(Ue))return;const{onDragAbort:bt}=G.current,bn={id:Ue};bt==null||bt(bn),D({type:"onDragAbort",event:bn})},onPending(Ue,an,bt,bn){if(!Q.get(Ue))return;const{onDragPending:Hn}=G.current,Yt={id:Ue,constraint:an,initialCoordinates:bt,offset:bn};Hn==null||Hn(Yt),D({type:"onDragPending",event:Yt})},onStart(Ue){const an=de.current;if(an==null)return;const bt=Q.get(an);if(!bt)return;const{onDragStart:bn}=G.current,On={activatorEvent:St,active:{id:an,data:bt.data,rect:te}};xo.unstable_batchedUpdates(()=>{bn==null||bn(On),z($r.Initializing),C({type:lt.DragStart,initialCoordinates:Ue,active:an}),D({type:"onDragStart",event:On}),ce(Ms.current),$(St)})},onMove(Ue){C({type:lt.DragMove,coordinates:Ue})},onEnd:ir(lt.DragEnd),onCancel:ir(lt.DragCancel)});Ms.current=Vt;function ir(Ue){return async function(){const{active:bt,collisions:bn,over:On,scrollAdjustedTranslate:Hn}=Ee.current;let Yt=null;if(bt&&Hn){const{cancelDrop:sr}=G.current;Yt={activatorEvent:St,active:bt,collisions:bn,delta:Hn,over:On},Ue===lt.DragEnd&&typeof sr=="function"&&await Promise.resolve(sr(Yt))&&(Ue=lt.DragCancel)}de.current=null,xo.unstable_batchedUpdates(()=>{C({type:Ue}),z($r.Uninitialized),ul(null),ce(null),$(null),Ms.current=null;const sr=Ue===lt.DragEnd?"onDragEnd":"onDragCancel";if(Yt){const Ts=G.current[sr];Ts==null||Ts(Yt),D({type:sr,event:Yt})}})}}},[Q]),Es=P.useCallback(($e,wt)=>(kt,Sn)=>{const Tt=kt.nativeEvent,St=Q.get(Sn);if(de.current!==null||!St||Tt.dndKit||Tt.defaultPrevented)return;const Vt={active:St};$e(kt,wt.options,Vt)===!0&&(Tt.dndKit={capturedBy:wt.sensor},de.current=Sn,Ti(kt,wt))},[Q,Ti]),Ni=yS(p,Es);CS(p),tr(()=>{se&&_===$r.Initializing&&z($r.Initialized)},[se,_]),P.useEffect(()=>{const{onDragMove:$e}=G.current,{active:wt,activatorEvent:kt,collisions:Sn,over:Tt}=Ee.current;if(!wt||!kt)return;const St={active:wt,activatorEvent:kt,collisions:Sn,delta:{x:Vn.x,y:Vn.y},over:Tt};xo.unstable_batchedUpdates(()=>{$e==null||$e(St),D({type:"onDragMove",event:St})})},[Vn.x,Vn.y]),P.useEffect(()=>{const{active:$e,activatorEvent:wt,collisions:kt,droppableContainers:Sn,scrollAdjustedTranslate:Tt}=Ee.current;if(!$e||de.current==null||!wt||!Tt)return;const{onDragOver:St}=G.current,Vt=Sn.get(Or),ir=Vt&&Vt.rect.current?{id:Vt.id,rect:Vt.rect.current,data:Vt.data,disabled:Vt.disabled}:null,Ue={active:$e,activatorEvent:wt,collisions:kt,delta:{x:Tt.x,y:Tt.y},over:ir};xo.unstable_batchedUpdates(()=>{ul(ir),St==null||St(Ue),D({type:"onDragOver",event:Ue})})},[Or]),tr(()=>{Ee.current={activatorEvent:fe,active:ue,activeNode:xe,collisionRect:kn,collisions:br,droppableRects:re,draggableNodes:Q,draggingNode:on,draggingNodeRect:ln,droppableContainers:K,over:_t,scrollableAncestors:Ft,scrollAdjustedTranslate:Vn},te.current={initial:ln,translated:kn}},[ue,xe,br,kn,Q,on,ln,re,K,_t,Ft,Vn]),dS({...Oe,delta:X,draggingRect:kn,pointerCoordinates:Ps,scrollableAncestors:Ft,scrollableAncestorRects:wn});const Ds=P.useMemo(()=>({active:ue,activeNode:xe,activeNodeRect:se,activatorEvent:fe,collisions:br,containerNodeRect:ge,dragOverlay:_e,draggableNodes:Q,droppableContainers:K,droppableRects:re,over:_t,measureDroppableContainers:ae,scrollableAncestors:Ft,scrollableAncestorRects:wn,measuringConfiguration:I,measuringScheduled:ye,windowRect:_n}),[ue,xe,se,fe,br,ge,_e,Q,K,re,_t,ae,Ft,wn,I,ye,_n]),Rs=P.useMemo(()=>({activatorEvent:fe,activators:Ni,active:ue,activeNodeRect:se,ariaDescribedById:{draggable:J},dispatch:C,draggableNodes:Q,over:_t,measureDroppableContainers:ae}),[fe,Ni,ue,se,C,J,Q,_t,ae]);return tt.createElement(Ry.Provider,{value:N},tt.createElement(Cu.Provider,{value:Rs},tt.createElement(Hy.Provider,{value:Ds},tt.createElement(Wy.Provider,{value:hl},d)),tt.createElement(BS,{disabled:(c==null?void 0:c.restoreFocus)===!1})),tt.createElement(Ik,{...c,hiddenTextDescribedById:J}));function Cr(){const $e=(Y==null?void 0:Y.autoScrollEnabled)===!1,wt=typeof h=="object"?h.enabled===!1:h===!1,kt=F&&!$e&&!wt;return typeof h=="object"?{...h,enabled:kt}:{enabled:kt}}}),VS=P.createContext(null),Bm="button",HS="Draggable";function WS(n){let{id:e,data:t,disabled:r=!1,attributes:s}=n;const l=Jo(HS),{activators:a,activatorEvent:c,active:h,activeNodeRect:d,ariaDescribedById:p,draggableNodes:m,over:v}=P.useContext(Cu),{role:x=Bm,roleDescription:k="draggable",tabIndex:S=0}=s??{},b=(h==null?void 0:h.id)===e,C=P.useContext(b?Wy:VS),[D,N]=tu(),[_,z]=tu(),F=PS(a,e),B=Io(t);tr(()=>(m.set(e,{id:e,key:l,node:D,activatorNode:_,data:B}),()=>{const X=m.get(e);X&&X.key===l&&m.delete(e)}),[m,e]);const Q=P.useMemo(()=>({role:x,tabIndex:S,"aria-disabled":r,"aria-pressed":b&&x===Bm?!0:void 0,"aria-roledescription":k,"aria-describedby":p.draggable}),[r,x,S,b,k,p.draggable]);return{active:h,activatorEvent:c,activeNodeRect:d,attributes:Q,isDragging:b,listeners:r?void 0:F,node:D,over:v,setNodeRef:N,setActivatorNodeRef:z,transform:C}}function QS(){return P.useContext(Hy)}const $S="Droppable",US={timeout:25};function XS(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:s}=n;const l=Jo($S),{active:a,dispatch:c,over:h,measureDroppableContainers:d}=P.useContext(Cu),p=P.useRef({disabled:t}),m=P.useRef(!1),v=P.useRef(null),x=P.useRef(null),{disabled:k,updateMeasurementsFor:S,timeout:b}={...US,...s},C=Io(S??r),D=P.useCallback(()=>{if(!m.current){m.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),x.current=null},b)},[b]),N=Ou({callback:D,disabled:k||!a}),_=P.useCallback((Q,X)=>{N&&(X&&(N.unobserve(X),m.current=!1),Q&&N.observe(Q))},[N]),[z,F]=tu(_),B=Io(e);return P.useEffect(()=>{!N||!z.current||(N.disconnect(),m.current=!1,N.observe(z.current))},[z,N]),P.useEffect(()=>(c({type:lt.RegisterDroppable,element:{id:r,key:l,disabled:t,node:z,rect:v,data:B}}),()=>c({type:lt.UnregisterDroppable,key:l,id:r})),[r]),P.useEffect(()=>{t!==p.current.disabled&&(c({type:lt.SetDroppableDisabled,id:r,key:l,disabled:t}),p.current.disabled=t)},[r,l,t,c]),{active:a,rect:v,isOver:(h==null?void 0:h.id)===r,node:z,over:h,setNodeRef:F}}function Qy(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function KS(n,e){return n.reduce((t,r,s)=>{const l=e.get(r);return l&&(t[s]=l),t},Array(n.length))}function va(n){return n!==null&&n>=0}function qS(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function YS(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const xa={scaleX:1,scaleY:1},GS=n=>{var e;let{rects:t,activeNodeRect:r,activeIndex:s,overIndex:l,index:a}=n;const c=(e=t[s])!=null?e:r;if(!c)return null;const h=JS(t,a,s);if(a===s){const d=t[l];return d?{x:s<l?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...xa}:null}return a>s&&a<=l?{x:-c.width-h,y:0,...xa}:a<s&&a>=l?{x:c.width+h,y:0,...xa}:{x:0,y:0,...xa}};function JS(n,e,t){const r=n[e],s=n[e-1],l=n[e+1];return!r||!s&&!l?0:t<e?s?r.left-(s.left+s.width):l.left-(r.left+r.width):l?l.left-(r.left+r.width):r.left-(s.left+s.width)}const $y=n=>{let{rects:e,activeIndex:t,overIndex:r,index:s}=n;const l=Qy(e,r,t),a=e[s],c=l[s];return!c||!a?null:{x:c.left-a.left,y:c.top-a.top,scaleX:c.width/a.width,scaleY:c.height/a.height}},Uy="Sortable",Xy=tt.createContext({activeIndex:-1,containerId:Uy,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:$y,disabled:{draggable:!1,droppable:!1}});function ZS(n){let{children:e,id:t,items:r,strategy:s=$y,disabled:l=!1}=n;const{active:a,dragOverlay:c,droppableRects:h,over:d,measureDroppableContainers:p}=QS(),m=Jo(Uy,t),v=c.rect!==null,x=P.useMemo(()=>r.map(F=>typeof F=="object"&&"id"in F?F.id:F),[r]),k=a!=null,S=a?x.indexOf(a.id):-1,b=d?x.indexOf(d.id):-1,C=P.useRef(x),D=!qS(x,C.current),N=b!==-1&&S===-1||D,_=YS(l);tr(()=>{D&&k&&p(x)},[D,x,k,p]),P.useEffect(()=>{C.current=x},[x]);const z=P.useMemo(()=>({activeIndex:S,containerId:m,disabled:_,disableTransforms:N,items:x,overIndex:b,useDragOverlay:v,sortedRects:KS(x,h),strategy:s}),[S,m,_.draggable,_.droppable,N,x,b,h,v,s]);return tt.createElement(Xy.Provider,{value:z},e)}const eb=n=>{let{id:e,items:t,activeIndex:r,overIndex:s}=n;return Qy(t,r,s).indexOf(e)},tb=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:s,items:l,newIndex:a,previousItems:c,previousContainerId:h,transition:d}=n;return!d||!r||c!==l&&s===a?!1:t?!0:a!==s&&e===h},nb={duration:200,easing:"ease"},Ky="transform",rb=Bo.Transition.toString({property:Ky,duration:0,easing:"linear"}),ib={roleDescription:"sortable"};function sb(n){let{disabled:e,index:t,node:r,rect:s}=n;const[l,a]=P.useState(null),c=P.useRef(t);return tr(()=>{if(!e&&t!==c.current&&r.current){const h=s.current;if(h){const d=bs(r.current,{ignoreTransform:!0}),p={x:h.left-d.left,y:h.top-d.top,scaleX:h.width/d.width,scaleY:h.height/d.height};(p.x||p.y)&&a(p)}}t!==c.current&&(c.current=t)},[e,t,r,s]),P.useEffect(()=>{l&&a(null)},[l]),l}function ob(n){let{animateLayoutChanges:e=tb,attributes:t,disabled:r,data:s,getNewIndex:l=eb,id:a,strategy:c,resizeObserverConfig:h,transition:d=nb}=n;const{items:p,containerId:m,activeIndex:v,disabled:x,disableTransforms:k,sortedRects:S,overIndex:b,useDragOverlay:C,strategy:D}=P.useContext(Xy),N=lb(r,x),_=p.indexOf(a),z=P.useMemo(()=>({sortable:{containerId:m,index:_,items:p},...s}),[m,s,_,p]),F=P.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:B,node:Q,isOver:X,setNodeRef:K}=XS({id:a,data:z,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:F,...h}}),{active:ee,activatorEvent:te,activeNodeRect:ue,attributes:de,setNodeRef:Y,listeners:ce,isDragging:fe,over:$,setActivatorNodeRef:G,transform:J}=WS({id:a,data:z,attributes:{...ib,...t},disabled:N.draggable}),A=Sk(K,Y),I=!!ee,re=I&&!k&&va(v)&&va(b),ae=!C&&fe,ye=ae&&re?J:null,Me=re?ye??(c??D)({rects:S,activeNodeRect:ue,activeIndex:v,overIndex:b,index:_}):null,Oe=va(v)&&va(b)?l({id:a,items:p,activeIndex:v,overIndex:b}):_,Ce=ee==null?void 0:ee.id,se=P.useRef({activeId:Ce,items:p,newIndex:Oe,containerId:m}),ge=p!==se.current.items,Ee=e({active:ee,containerId:m,isDragging:fe,isSorting:I,id:a,index:_,items:p,newIndex:se.current.newIndex,previousItems:se.current.items,previousContainerId:se.current.containerId,transition:d,wasDragging:se.current.activeId!=null}),gt=sb({disabled:!Ee,index:_,node:Q,rect:B});return P.useEffect(()=>{I&&se.current.newIndex!==Oe&&(se.current.newIndex=Oe),m!==se.current.containerId&&(se.current.containerId=m),p!==se.current.items&&(se.current.items=p)},[I,Oe,m,p]),P.useEffect(()=>{if(Ce===se.current.activeId)return;if(Ce!=null&&se.current.activeId==null){se.current.activeId=Ce;return}const on=setTimeout(()=>{se.current.activeId=Ce},50);return()=>clearTimeout(on)},[Ce]),{active:ee,activeIndex:v,attributes:de,data:z,rect:B,index:_,newIndex:Oe,items:p,isOver:X,isSorting:I,isDragging:fe,listeners:ce,node:Q,overIndex:b,over:$,setNodeRef:A,setActivatorNodeRef:G,setDroppableNodeRef:K,setDraggableNodeRef:Y,transform:gt??Me,transition:_e()};function _e(){if(gt||ge&&se.current.newIndex===_)return rb;if(!(ae&&!ad(te)||!d)&&(I||Ee))return Bo.Transition.toString({...d,property:Ky})}}function lb(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}Ne.Down,Ne.Right,Ne.Up,Ne.Left;function zm(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function ab(n){if(Array.isArray(n))return n}function ub(n,e,t){return(e=mb(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cb(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,l,a,c=[],h=!0,d=!1;try{if(l=(t=t.call(n)).next,e!==0)for(;!(h=(r=l.call(t)).done)&&(c.push(r.value),c.length!==e);h=!0);}catch(p){d=!0,s=p}finally{try{if(!h&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(d)throw s}}return c}}function hb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jm(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Fm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jm(Object(t),!0).forEach(function(r){ub(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jm(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function fb(n,e){if(n==null)return{};var t,r,s=db(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(r=0;r<l.length;r++)t=l[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}function db(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function pb(n,e){return ab(n)||cb(n,e)||yb(n,e)||hb()}function gb(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mb(n){var e=gb(n,"string");return typeof e=="symbol"?e:e+""}function yb(n,e){if(n){if(typeof n=="string")return zm(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?zm(n,e):void 0}}function vb(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _m(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Vm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_m(Object(t),!0).forEach(function(r){vb(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_m(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xb(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduceRight(function(s,l){return l(s)},r)}}function wo(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return s.length>=n.length?n.apply(this,s):function(){for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return e.apply(t,[].concat(s,c))}}}function su(n){return{}.toString.call(n).includes("Object")}function wb(n){return!Object.keys(n).length}function jo(n){return typeof n=="function"}function kb(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Sb(n,e){return su(e)||Zr("changeType"),Object.keys(e).some(function(t){return!kb(n,t)})&&Zr("changeField"),e}function bb(n){jo(n)||Zr("selectorType")}function Ob(n){jo(n)||su(n)||Zr("handlerType"),su(n)&&Object.values(n).some(function(e){return!jo(e)})&&Zr("handlersType")}function Cb(n){n||Zr("initialIsRequired"),su(n)||Zr("initialType"),wb(n)&&Zr("initialContent")}function Pb(n,e){throw new Error(n[e]||n.default)}var Ab={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Zr=wo(Pb)(Ab),wa={changes:Sb,selector:bb,handler:Ob,initial:Cb};function Mb(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};wa.initial(n),wa.handler(e);var t={current:n},r=wo(Rb)(t,e),s=wo(Db)(t),l=wo(wa.changes)(n),a=wo(Eb)(t);function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(p){return p};return wa.selector(d),d(t.current)}function h(d){xb(r,s,l,a)(d)}return[c,h]}function Eb(n,e){return jo(e)?e(n.current):e}function Db(n,e){return n.current=Vm(Vm({},n.current),e),e}function Rb(n,e,t){return jo(e)?e(n.current):Object.keys(t).forEach(function(r){var s;return(s=e[r])===null||s===void 0?void 0:s.call(e,n.current[r])}),t}var Tb={create:Mb},Nb={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Lb(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return s.length>=n.length?n.apply(this,s):function(){for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return e.apply(t,[].concat(s,c))}}}function Ib(n){return{}.toString.call(n).includes("Object")}function Bb(n){return n||Hm("configIsRequired"),Ib(n)||Hm("configType"),n.urls?(zb(),{paths:{vs:n.urls.monacoBase}}):n}function zb(){console.warn(qy.deprecation)}function jb(n,e){throw new Error(n[e]||n.default)}var qy={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Hm=Lb(jb)(qy),Fb={config:Bb},_b=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduceRight(function(l,a){return a(l)},s)}};function Yy(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],Yy(n[t],e[t]))}),Fm(Fm({},n),e)}var Vb={type:"cancelation",msg:"operation is manually canceled"};function Ah(n){var e=!1,t=new Promise(function(r,s){n.then(function(l){return e?s(Vb):r(l)}),n.catch(s)});return t.cancel=function(){return e=!0},t}var Hb=["monaco"],Wb=Tb.create({config:Nb,isInitialized:!1,resolve:null,reject:null,monaco:null}),Gy=pb(Wb,2),Zo=Gy[0],Pu=Gy[1];function Qb(n){var e=Fb.config(n),t=e.monaco,r=fb(e,Hb);Pu(function(s){return{config:Yy(s.config,r),monaco:t}})}function $b(){var n=Zo(function(e){var t=e.monaco,r=e.isInitialized,s=e.resolve;return{monaco:t,isInitialized:r,resolve:s}});if(!n.isInitialized){if(Pu({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),Ah(Mh);if(window.monaco&&window.monaco.editor)return Jy(window.monaco),n.resolve(window.monaco),Ah(Mh);_b(Ub,Kb)(qb)}return Ah(Mh)}function Ub(n){return document.body.appendChild(n)}function Xb(n){var e=document.createElement("script");return n&&(e.src=n),e}function Kb(n){var e=Zo(function(r){var s=r.config,l=r.reject;return{config:s,reject:l}}),t=Xb("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function qb(){var n=Zo(function(t){var r=t.config,s=t.resolve,l=t.reject;return{config:r,resolve:s,reject:l}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){var r=t.m||t;Jy(r),n.resolve(r)},function(t){n.reject(t)})}function Jy(n){Zo().monaco||Pu({monaco:n})}function Yb(){return Zo(function(n){var e=n.monaco;return e})}var Mh=new Promise(function(n,e){return Pu({resolve:n,reject:e})}),Zy={config:Qb,init:$b,__getMonacoInstance:Yb},Gb={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Eh=Gb,Jb={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Zb=Jb;function eO({children:n}){return tt.createElement("div",{style:Zb.container},n)}var tO=eO,nO=tO;function rO({width:n,height:e,isEditorReady:t,loading:r,_ref:s,className:l,wrapperProps:a}){return tt.createElement("section",{style:{...Eh.wrapper,width:n,height:e},...a},!t&&tt.createElement(nO,null,r),tt.createElement("div",{ref:s,style:{...Eh.fullWidth,...!t&&Eh.hide},className:l}))}var iO=rO,ev=P.memo(iO);function sO(n){P.useEffect(n,[])}var tv=sO;function oO(n,e,t=!0){let r=P.useRef(!0);P.useEffect(r.current||!t?()=>{r.current=!1}:n,e)}var rn=oO;function Mo(){}function rs(n,e,t,r){return lO(n,r)||aO(n,e,t,r)}function lO(n,e){return n.editor.getModel(nv(n,e))}function aO(n,e,t,r){return n.editor.createModel(e,t,r?nv(n,r):void 0)}function nv(n,e){return n.Uri.parse(e)}function uO({original:n,modified:e,language:t,originalLanguage:r,modifiedLanguage:s,originalModelPath:l,modifiedModelPath:a,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:h=!1,theme:d="light",loading:p="Loading...",options:m={},height:v="100%",width:x="100%",className:k,wrapperProps:S={},beforeMount:b=Mo,onMount:C=Mo}){let[D,N]=P.useState(!1),[_,z]=P.useState(!0),F=P.useRef(null),B=P.useRef(null),Q=P.useRef(null),X=P.useRef(C),K=P.useRef(b),ee=P.useRef(!1);tv(()=>{let Y=Zy.init();return Y.then(ce=>(B.current=ce)&&z(!1)).catch(ce=>(ce==null?void 0:ce.type)!=="cancelation"&&console.error("Monaco initialization: error:",ce)),()=>F.current?de():Y.cancel()}),rn(()=>{if(F.current&&B.current){let Y=F.current.getOriginalEditor(),ce=rs(B.current,n||"",r||t||"text",l||"");ce!==Y.getModel()&&Y.setModel(ce)}},[l],D),rn(()=>{if(F.current&&B.current){let Y=F.current.getModifiedEditor(),ce=rs(B.current,e||"",s||t||"text",a||"");ce!==Y.getModel()&&Y.setModel(ce)}},[a],D),rn(()=>{let Y=F.current.getModifiedEditor();Y.getOption(B.current.editor.EditorOption.readOnly)?Y.setValue(e||""):e!==Y.getValue()&&(Y.executeEdits("",[{range:Y.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),Y.pushUndoStop())},[e],D),rn(()=>{var Y,ce;(ce=(Y=F.current)==null?void 0:Y.getModel())==null||ce.original.setValue(n||"")},[n],D),rn(()=>{let{original:Y,modified:ce}=F.current.getModel();B.current.editor.setModelLanguage(Y,r||t||"text"),B.current.editor.setModelLanguage(ce,s||t||"text")},[t,r,s],D),rn(()=>{var Y;(Y=B.current)==null||Y.editor.setTheme(d)},[d],D),rn(()=>{var Y;(Y=F.current)==null||Y.updateOptions(m)},[m],D);let te=P.useCallback(()=>{var fe;if(!B.current)return;K.current(B.current);let Y=rs(B.current,n||"",r||t||"text",l||""),ce=rs(B.current,e||"",s||t||"text",a||"");(fe=F.current)==null||fe.setModel({original:Y,modified:ce})},[t,e,s,n,r,l,a]),ue=P.useCallback(()=>{var Y;!ee.current&&Q.current&&(F.current=B.current.editor.createDiffEditor(Q.current,{automaticLayout:!0,...m}),te(),(Y=B.current)==null||Y.editor.setTheme(d),N(!0),ee.current=!0)},[m,d,te]);P.useEffect(()=>{D&&X.current(F.current,B.current)},[D]),P.useEffect(()=>{!_&&!D&&ue()},[_,D,ue]);function de(){var ce,fe,$,G;let Y=(ce=F.current)==null?void 0:ce.getModel();c||((fe=Y==null?void 0:Y.original)==null||fe.dispose()),h||(($=Y==null?void 0:Y.modified)==null||$.dispose()),(G=F.current)==null||G.dispose()}return tt.createElement(ev,{width:x,height:v,isEditorReady:D,loading:p,_ref:Q,className:k,wrapperProps:S})}var cO=uO;P.memo(cO);function hO(n){let e=P.useRef();return P.useEffect(()=>{e.current=n},[n]),e.current}var fO=hO,ka=new Map;function dO({defaultValue:n,defaultLanguage:e,defaultPath:t,value:r,language:s,path:l,theme:a="light",line:c,loading:h="Loading...",options:d={},overrideServices:p={},saveViewState:m=!0,keepCurrentModel:v=!1,width:x="100%",height:k="100%",className:S,wrapperProps:b={},beforeMount:C=Mo,onMount:D=Mo,onChange:N,onValidate:_=Mo}){let[z,F]=P.useState(!1),[B,Q]=P.useState(!0),X=P.useRef(null),K=P.useRef(null),ee=P.useRef(null),te=P.useRef(D),ue=P.useRef(C),de=P.useRef(),Y=P.useRef(r),ce=fO(l),fe=P.useRef(!1),$=P.useRef(!1);tv(()=>{let A=Zy.init();return A.then(I=>(X.current=I)&&Q(!1)).catch(I=>(I==null?void 0:I.type)!=="cancelation"&&console.error("Monaco initialization: error:",I)),()=>K.current?J():A.cancel()}),rn(()=>{var I,re,ae,ye;let A=rs(X.current,n||r||"",e||s||"",l||t||"");A!==((I=K.current)==null?void 0:I.getModel())&&(m&&ka.set(ce,(re=K.current)==null?void 0:re.saveViewState()),(ae=K.current)==null||ae.setModel(A),m&&((ye=K.current)==null||ye.restoreViewState(ka.get(l))))},[l],z),rn(()=>{var A;(A=K.current)==null||A.updateOptions(d)},[d],z),rn(()=>{!K.current||r===void 0||(K.current.getOption(X.current.editor.EditorOption.readOnly)?K.current.setValue(r):r!==K.current.getValue()&&($.current=!0,K.current.executeEdits("",[{range:K.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),K.current.pushUndoStop(),$.current=!1))},[r],z),rn(()=>{var I,re;let A=(I=K.current)==null?void 0:I.getModel();A&&s&&((re=X.current)==null||re.editor.setModelLanguage(A,s))},[s],z),rn(()=>{var A;c!==void 0&&((A=K.current)==null||A.revealLine(c))},[c],z),rn(()=>{var A;(A=X.current)==null||A.editor.setTheme(a)},[a],z);let G=P.useCallback(()=>{var A;if(!(!ee.current||!X.current)&&!fe.current){ue.current(X.current);let I=l||t,re=rs(X.current,r||n||"",e||s||"",I||"");K.current=(A=X.current)==null?void 0:A.editor.create(ee.current,{model:re,automaticLayout:!0,...d},p),m&&K.current.restoreViewState(ka.get(I)),X.current.editor.setTheme(a),c!==void 0&&K.current.revealLine(c),F(!0),fe.current=!0}},[n,e,t,r,s,l,d,p,m,a,c]);P.useEffect(()=>{z&&te.current(K.current,X.current)},[z]),P.useEffect(()=>{!B&&!z&&G()},[B,z,G]),Y.current=r,P.useEffect(()=>{var A,I;z&&N&&((A=de.current)==null||A.dispose(),de.current=(I=K.current)==null?void 0:I.onDidChangeModelContent(re=>{$.current||N(K.current.getValue(),re)}))},[z,N]),P.useEffect(()=>{if(z){let A=X.current.editor.onDidChangeMarkers(I=>{var ae;let re=(ae=K.current.getModel())==null?void 0:ae.uri;if(re&&I.find(ye=>ye.path===re.path)){let ye=X.current.editor.getModelMarkers({resource:re});_==null||_(ye)}});return()=>{A==null||A.dispose()}}return()=>{}},[z,_]);function J(){var A,I;(A=de.current)==null||A.dispose(),v?m&&ka.set(l,K.current.saveViewState()):(I=K.current.getModel())==null||I.dispose(),K.current.dispose()}return tt.createElement(ev,{width:x,height:k,isEditorReady:z,loading:h,_ref:ee,className:S,wrapperProps:b})}var pO=dO,gO=P.memo(pO),mO=gO;let lf=[],rv=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?rv:lf).push(t=t+n[e])})();function yO(n){if(n<768)return!1;for(let e=0,t=lf.length;;){let r=e+t>>1;if(n<lf[r])t=r;else if(n>=rv[r])e=r+1;else return!0;if(e==t)return!1}}function Wm(n){return n>=127462&&n<=127487}const Qm=8205;function vO(n,e,t=!0,r=!0){return(t?iv:xO)(n,e,r)}function iv(n,e,t){if(e==n.length)return e;e&&sv(n.charCodeAt(e))&&ov(n.charCodeAt(e-1))&&e--;let r=Dh(n,e);for(e+=$m(r);e<n.length;){let s=Dh(n,e);if(r==Qm||s==Qm||t&&yO(s))e+=$m(s),r=s;else if(Wm(s)){let l=0,a=e-2;for(;a>=0&&Wm(Dh(n,a));)l++,a-=2;if(l%2==0)break;e+=2}else break}return e}function xO(n,e,t){for(;e>0;){let r=iv(n,e-2,t);if(r<e)return r;e--}return 0}function Dh(n,e){let t=n.charCodeAt(e);if(!ov(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return sv(r)?(t-55296<<10)+(r-56320)+65536:t}function sv(n){return n>=56320&&n<57344}function ov(n){return n>=55296&&n<56320}function $m(n){return n<65536?1:2}class Re{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=ds(this,e,t);let s=[];return this.decompose(0,e,s,2),r.length&&r.decompose(0,r.length,s,3),this.decompose(t,this.length,s,1),Jn.from(s,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=ds(this,e,t);let r=[];return this.decompose(e,t,r,0),Jn.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),s=new Eo(this),l=new Eo(e);for(let a=t,c=t;;){if(s.next(a),l.next(a),a=0,s.lineBreak!=l.lineBreak||s.done!=l.done||s.value!=l.value)return!1;if(c+=s.value.length,s.done||c>=r)return!0}}iter(e=1){return new Eo(this,e)}iterRange(e,t=this.length){return new lv(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;r=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new av(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Re.empty:e.length<=32?new et(e):Jn.from(et.split(e,[]))}}class et extends Re{constructor(e,t=wO(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,s){for(let l=0;;l++){let a=this.text[l],c=s+a.length;if((t?r:c)>=e)return new kO(s,c,r,a);s=c+1,r++}}decompose(e,t,r,s){let l=e<=0&&t>=this.length?this:new et(Um(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let a=r.pop(),c=Wa(l.text,a.text.slice(),0,l.length);if(c.length<=32)r.push(new et(c,a.length+l.length));else{let h=c.length>>1;r.push(new et(c.slice(0,h)),new et(c.slice(h)))}}else r.push(l)}replace(e,t,r){if(!(r instanceof et))return super.replace(e,t,r);[e,t]=ds(this,e,t);let s=Wa(this.text,Wa(r.text,Um(this.text,0,e)),t),l=this.length+r.length-(t-e);return s.length<=32?new et(s,l):Jn.from(et.split(s,[]),l)}sliceString(e,t=this.length,r=`
`){[e,t]=ds(this,e,t);let s="";for(let l=0,a=0;l<=t&&a<this.text.length;a++){let c=this.text[a],h=l+c.length;l>e&&a&&(s+=r),e<h&&t>l&&(s+=c.slice(Math.max(0,e-l),t-l)),l=h+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],s=-1;for(let l of e)r.push(l),s+=l.length+1,r.length==32&&(t.push(new et(r,s)),r=[],s=-1);return s>-1&&t.push(new et(r,s)),t}}class Jn extends Re{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,s){for(let l=0;;l++){let a=this.children[l],c=s+a.length,h=r+a.lines-1;if((t?h:c)>=e)return a.lineInner(e,t,r,s);s=c+1,r=h+1}}decompose(e,t,r,s){for(let l=0,a=0;a<=t&&l<this.children.length;l++){let c=this.children[l],h=a+c.length;if(e<=h&&t>=a){let d=s&((a<=e?1:0)|(h>=t?2:0));a>=e&&h<=t&&!d?r.push(c):c.decompose(e-a,t-a,r,d)}a=h+1}}replace(e,t,r){if([e,t]=ds(this,e,t),r.lines<this.lines)for(let s=0,l=0;s<this.children.length;s++){let a=this.children[s],c=l+a.length;if(e>=l&&t<=c){let h=a.replace(e-l,t-l,r),d=this.lines-a.lines+h.lines;if(h.lines<d>>4&&h.lines>d>>6){let p=this.children.slice();return p[s]=h,new Jn(p,this.length-(t-e)+r.length)}return super.replace(l,c,h)}l=c+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=ds(this,e,t);let s="";for(let l=0,a=0;l<this.children.length&&a<=t;l++){let c=this.children[l],h=a+c.length;a>e&&l&&(s+=r),e<h&&t>a&&(s+=c.sliceString(e-a,t-a,r)),a=h+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Jn))return 0;let r=0,[s,l,a,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,l+=t){if(s==a||l==c)return r;let h=this.children[s],d=e.children[l];if(h!=d)return r+h.scanIdentical(d,t);r+=h.length+1}}static from(e,t=e.reduce((r,s)=>r+s.length+1,-1)){let r=0;for(let x of e)r+=x.lines;if(r<32){let x=[];for(let k of e)k.flatten(x);return new et(x,t)}let s=Math.max(32,r>>5),l=s<<1,a=s>>1,c=[],h=0,d=-1,p=[];function m(x){let k;if(x.lines>l&&x instanceof Jn)for(let S of x.children)m(S);else x.lines>a&&(h>a||!h)?(v(),c.push(x)):x instanceof et&&h&&(k=p[p.length-1])instanceof et&&x.lines+k.lines<=32?(h+=x.lines,d+=x.length+1,p[p.length-1]=new et(k.text.concat(x.text),k.length+1+x.length)):(h+x.lines>s&&v(),h+=x.lines,d+=x.length+1,p.push(x))}function v(){h!=0&&(c.push(p.length==1?p[0]:Jn.from(p,d)),d=-1,h=p.length=0)}for(let x of e)m(x);return v(),c.length==1?c[0]:new Jn(c,t)}}Re.empty=new et([""],0);function wO(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Wa(n,e,t=0,r=1e9){for(let s=0,l=0,a=!0;l<n.length&&s<=r;l++){let c=n[l],h=s+c.length;h>=t&&(h>r&&(c=c.slice(0,r-s)),s<t&&(c=c.slice(t-s)),a?(e[e.length-1]+=c,a=!1):e.push(c)),s=h+1}return e}function Um(n,e,t){return Wa(n,[""],e,t)}class Eo{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof et?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,s=this.nodes[r],l=this.offsets[r],a=l>>1,c=s instanceof et?s.text.length:s.children.length;if(a==(t>0?c:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((l&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof et){let h=s.text[a+(t<0?-1:0)];if(this.offsets[r]+=t,h.length>Math.max(0,e))return this.value=e==0?h:t>0?h.slice(e):h.slice(0,h.length-e),this;e-=h.length}else{let h=s.children[a+(t<0?-1:0)];e>h.length?(e-=h.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(h),this.offsets.push(t>0?1:(h instanceof et?h.text.length:h.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class lv{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new Eo(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=r?s:t<0?s.slice(s.length-r):s.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class av{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:s}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Re.prototype[Symbol.iterator]=function(){return this.iter()},Eo.prototype[Symbol.iterator]=lv.prototype[Symbol.iterator]=av.prototype[Symbol.iterator]=function(){return this});class kO{constructor(e,t,r,s){this.from=e,this.to=t,this.number=r,this.text=s}get length(){return this.to-this.from}}function ds(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function Bt(n,e,t=!0,r=!0){return vO(n,e,t,r)}function SO(n){return n>=56320&&n<57344}function bO(n){return n>=55296&&n<56320}function OO(n,e){let t=n.charCodeAt(e);if(!bO(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return SO(r)?(t-55296<<10)+(r-56320)+65536:t}function CO(n){return n<65536?1:2}const af=/\r\n?|\n/;var sn=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(sn||(sn={}));class vr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,s=0;t<this.sections.length;){let l=this.sections[t++],a=this.sections[t++];a<0?(e(r,s,l),s+=l):s+=a,r+=l}}iterChangedRanges(e,t=!1){uf(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],s=this.sections[t++];s<0?e.push(r,s):e.push(s,r)}return new vr(e)}composeDesc(e){return this.empty?e:e.empty?this:uv(this,e)}mapDesc(e,t=!1){return e.empty?this:cf(this,e,t)}mapPos(e,t=-1,r=sn.Simple){let s=0,l=0;for(let a=0;a<this.sections.length;){let c=this.sections[a++],h=this.sections[a++],d=s+c;if(h<0){if(d>e)return l+(e-s);l+=c}else{if(r!=sn.Simple&&d>=e&&(r==sn.TrackDel&&s<e&&d>e||r==sn.TrackBefore&&s<e||r==sn.TrackAfter&&d>e))return null;if(d>e||d==e&&t<0&&!c)return e==s||t<0?l:l+h;l+=h}s=d}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return l}touchesRange(e,t=e){for(let r=0,s=0;r<this.sections.length&&s<=t;){let l=this.sections[r++],a=this.sections[r++],c=s+l;if(a>=0&&s<=t&&c>=e)return s<e&&c>t?"cover":!0;s=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+r+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new vr(e)}static create(e){return new vr(e)}}class dt extends vr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return uf(this,(t,r,s,l,a)=>e=e.replace(s,s+(r-t),a),!1),e}mapDesc(e,t=!1){return cf(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let s=0,l=0;s<t.length;s+=2){let a=t[s],c=t[s+1];if(c>=0){t[s]=c,t[s+1]=a;let h=s>>1;for(;r.length<h;)r.push(Re.empty);r.push(a?e.slice(l,l+a):Re.empty)}l+=a}return new dt(t,r)}compose(e){return this.empty?e:e.empty?this:uv(this,e,!0)}map(e,t=!1){return e.empty?this:cf(this,e,t,!0)}iterChanges(e,t=!1){uf(this,e,t)}get desc(){return vr.create(this.sections)}filter(e){let t=[],r=[],s=[],l=new Fo(this);e:for(let a=0,c=0;;){let h=a==e.length?1e9:e[a++];for(;c<h||c==h&&l.len==0;){if(l.done)break e;let p=Math.min(l.len,h-c);Mt(s,p,-1);let m=l.ins==-1?-1:l.off==0?l.ins:0;Mt(t,p,m),m>0&&qr(r,t,l.text),l.forward(p),c+=p}let d=e[a++];for(;c<d;){if(l.done)break e;let p=Math.min(l.len,d-c);Mt(t,p,-1),Mt(s,p,l.ins==-1?-1:l.off==0?l.ins:0),l.forward(p),c+=p}}return{changes:new dt(t,r),filtered:vr.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],s=this.sections[t+1];s<0?e.push(r):s==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let s=[],l=[],a=0,c=null;function h(p=!1){if(!p&&!s.length)return;a<t&&Mt(s,t-a,-1);let m=new dt(s,l);c=c?c.compose(m.map(c)):m,s=[],l=[],a=0}function d(p){if(Array.isArray(p))for(let m of p)d(m);else if(p instanceof dt){if(p.length!=t)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${t})`);h(),c=c?c.compose(p.map(c)):p}else{let{from:m,to:v=m,insert:x}=p;if(m>v||m<0||v>t)throw new RangeError(`Invalid change range ${m} to ${v} (in doc of length ${t})`);let k=x?typeof x=="string"?Re.of(x.split(r||af)):x:Re.empty,S=k.length;if(m==v&&S==0)return;m<a&&h(),m>a&&Mt(s,m-a,-1),Mt(s,v-m,S),qr(l,s,k),a=v}}return d(e),h(!c),c}static empty(e){return new dt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")t.push(l,-1);else{if(!Array.isArray(l)||typeof l[0]!="number"||l.some((a,c)=>c&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(l.length==1)t.push(l[0],0);else{for(;r.length<s;)r.push(Re.empty);r[s]=Re.of(l.slice(1)),t.push(l[0],r[s].length)}}}return new dt(t,r)}static createSet(e,t){return new dt(e,t)}}function Mt(n,e,t,r=!1){if(e==0&&t<=0)return;let s=n.length-2;s>=0&&t<=0&&t==n[s+1]?n[s]+=e:s>=0&&e==0&&n[s]==0?n[s+1]+=t:r?(n[s]+=e,n[s+1]+=t):n.push(e,t)}function qr(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Re.empty);n.push(t)}}function uf(n,e,t){let r=n.inserted;for(let s=0,l=0,a=0;a<n.sections.length;){let c=n.sections[a++],h=n.sections[a++];if(h<0)s+=c,l+=c;else{let d=s,p=l,m=Re.empty;for(;d+=c,p+=h,h&&r&&(m=m.append(r[a-2>>1])),!(t||a==n.sections.length||n.sections[a+1]<0);)c=n.sections[a++],h=n.sections[a++];e(s,d,l,p,m),s=d,l=p}}}function cf(n,e,t,r=!1){let s=[],l=r?[]:null,a=new Fo(n),c=new Fo(e);for(let h=-1;;){if(a.done&&c.len||c.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&c.ins==-1){let d=Math.min(a.len,c.len);Mt(s,d,-1),a.forward(d),c.forward(d)}else if(c.ins>=0&&(a.ins<0||h==a.i||a.off==0&&(c.len<a.len||c.len==a.len&&!t))){let d=c.len;for(Mt(s,c.ins,-1);d;){let p=Math.min(a.len,d);a.ins>=0&&h<a.i&&a.len<=p&&(Mt(s,0,a.ins),l&&qr(l,s,a.text),h=a.i),a.forward(p),d-=p}c.next()}else if(a.ins>=0){let d=0,p=a.len;for(;p;)if(c.ins==-1){let m=Math.min(p,c.len);d+=m,p-=m,c.forward(m)}else if(c.ins==0&&c.len<p)p-=c.len,c.next();else break;Mt(s,d,h<a.i?a.ins:0),l&&h<a.i&&qr(l,s,a.text),h=a.i,a.forward(a.len-p)}else{if(a.done&&c.done)return l?dt.createSet(s,l):vr.create(s);throw new Error("Mismatched change set lengths")}}}function uv(n,e,t=!1){let r=[],s=t?[]:null,l=new Fo(n),a=new Fo(e);for(let c=!1;;){if(l.done&&a.done)return s?dt.createSet(r,s):vr.create(r);if(l.ins==0)Mt(r,l.len,0,c),l.next();else if(a.len==0&&!a.done)Mt(r,0,a.ins,c),s&&qr(s,r,a.text),a.next();else{if(l.done||a.done)throw new Error("Mismatched change set lengths");{let h=Math.min(l.len2,a.len),d=r.length;if(l.ins==-1){let p=a.ins==-1?-1:a.off?0:a.ins;Mt(r,h,p,c),s&&p&&qr(s,r,a.text)}else a.ins==-1?(Mt(r,l.off?0:l.len,h,c),s&&qr(s,r,l.textBit(h))):(Mt(r,l.off?0:l.len,a.off?0:a.ins,c),s&&!a.off&&qr(s,r,a.text));c=(l.ins>h||a.ins>=0&&a.len>h)&&(c||r.length>d),l.forward2(h),a.forward(h)}}}}class Fo{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Re.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Re.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Oi{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,s;return this.empty?r=s=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),r==this.from&&s==this.to?this:new Oi(r,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Z.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Z.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Z.range(e.anchor,e.head)}static create(e,t,r){return new Oi(e,t,r)}}class Z{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Z.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Z([this.main],0)}addRange(e,t=!0){return Z.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,Z.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Z(e.ranges.map(t=>Oi.fromJSON(t)),e.main)}static single(e,t=e){return new Z([Z.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,s=0;s<e.length;s++){let l=e[s];if(l.empty?l.from<=r:l.from<r)return Z.normalized(e.slice(),t);r=l.to}return new Z(e,t)}static cursor(e,t=0,r,s){return Oi.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(s??16777215)<<6)}static range(e,t,r,s){let l=(r??16777215)<<6|(s==null?7:Math.min(6,s));return t<e?Oi.create(t,e,48|l):Oi.create(e,t,(t>e?8:0)|l)}static normalized(e,t=0){let r=e[t];e.sort((s,l)=>s.from-l.from),t=e.indexOf(r);for(let s=1;s<e.length;s++){let l=e[s],a=e[s-1];if(l.empty?l.from<=a.to:l.from<a.to){let c=a.from,h=Math.max(l.to,a.to);s<=t&&t--,e.splice(--s,2,l.anchor>l.head?Z.range(h,c):Z.range(c,h))}}return new Z(e,t)}}function cv(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let pd=0;class ve{constructor(e,t,r,s,l){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=s,this.id=pd++,this.default=e([]),this.extensions=typeof l=="function"?l(this):l}get reader(){return this}static define(e={}){return new ve(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:gd),!!e.static,e.enables)}of(e){return new Qa([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Qa(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Qa(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function gd(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Qa{constructor(e,t,r,s){this.dependencies=e,this.facet=t,this.type=r,this.value=s,this.id=pd++}dynamicSlot(e){var t;let r=this.value,s=this.facet.compareInput,l=this.id,a=e[l]>>1,c=this.type==2,h=!1,d=!1,p=[];for(let m of this.dependencies)m=="doc"?h=!0:m=="selection"?d=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&p.push(e[m.id]);return{create(m){return m.values[a]=r(m),1},update(m,v){if(h&&v.docChanged||d&&(v.docChanged||v.selection)||hf(m,p)){let x=r(m);if(c?!Xm(x,m.values[a],s):!s(x,m.values[a]))return m.values[a]=x,1}return 0},reconfigure:(m,v)=>{let x,k=v.config.address[l];if(k!=null){let S=lu(v,k);if(this.dependencies.every(b=>b instanceof ve?v.facet(b)===m.facet(b):b instanceof Ri?v.field(b,!1)==m.field(b,!1):!0)||(c?Xm(x=r(m),S,s):s(x=r(m),S)))return m.values[a]=S,0}else x=r(m);return m.values[a]=x,1}}}}function Xm(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function hf(n,e){let t=!1;for(let r of e)Do(n,r)&1&&(t=!0);return t}function PO(n,e,t){let r=t.map(h=>n[h.id]),s=t.map(h=>h.type),l=r.filter(h=>!(h&1)),a=n[e.id]>>1;function c(h){let d=[];for(let p=0;p<r.length;p++){let m=lu(h,r[p]);if(s[p]==2)for(let v of m)d.push(v);else d.push(m)}return e.combine(d)}return{create(h){for(let d of r)Do(h,d);return h.values[a]=c(h),1},update(h,d){if(!hf(h,l))return 0;let p=c(h);return e.compare(p,h.values[a])?0:(h.values[a]=p,1)},reconfigure(h,d){let p=hf(h,r),m=d.config.facets[e.id],v=d.facet(e);if(m&&!p&&gd(t,m))return h.values[a]=v,0;let x=c(h);return e.compare(x,v)?(h.values[a]=v,0):(h.values[a]=x,1)}}}const Sa=ve.define({static:!0});class Ri{constructor(e,t,r,s,l){this.id=e,this.createF=t,this.updateF=r,this.compareF=s,this.spec=l,this.provides=void 0}static define(e){let t=new Ri(pd++,e.create,e.update,e.compare||((r,s)=>r===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Sa).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,s)=>{let l=r.values[t],a=this.updateF(l,s);return this.compareF(l,a)?0:(r.values[t]=a,1)},reconfigure:(r,s)=>{let l=r.facet(Sa),a=s.facet(Sa),c;return(c=l.find(h=>h.field==this))&&c!=a.find(h=>h.field==this)?(r.values[t]=c.create(r),1):s.config.address[this.id]!=null?(r.values[t]=s.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,Sa.of({field:this,create:e})]}get extension(){return this}}const Si={lowest:4,low:3,default:2,high:1,highest:0};function po(n){return e=>new hv(e,n)}const Au={highest:po(Si.highest),high:po(Si.high),default:po(Si.default),low:po(Si.low),lowest:po(Si.lowest)};class hv{constructor(e,t){this.inner=e,this.prec=t}}class el{of(e){return new ff(this,e)}reconfigure(e){return el.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class ff{constructor(e,t){this.compartment=e,this.inner=t}}class ou{constructor(e,t,r,s,l,a){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=s,this.staticValues=l,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let s=[],l=Object.create(null),a=new Map;for(let v of AO(e,t,a))v instanceof Ri?s.push(v):(l[v.facet.id]||(l[v.facet.id]=[])).push(v);let c=Object.create(null),h=[],d=[];for(let v of s)c[v.id]=d.length<<1,d.push(x=>v.slot(x));let p=r==null?void 0:r.config.facets;for(let v in l){let x=l[v],k=x[0].facet,S=p&&p[v]||[];if(x.every(b=>b.type==0))if(c[k.id]=h.length<<1|1,gd(S,x))h.push(r.facet(k));else{let b=k.combine(x.map(C=>C.value));h.push(r&&k.compare(b,r.facet(k))?r.facet(k):b)}else{for(let b of x)b.type==0?(c[b.id]=h.length<<1|1,h.push(b.value)):(c[b.id]=d.length<<1,d.push(C=>b.dynamicSlot(C)));c[k.id]=d.length<<1,d.push(b=>PO(b,k,x))}}let m=d.map(v=>v(c));return new ou(e,a,m,c,h,l)}}function AO(n,e,t){let r=[[],[],[],[],[]],s=new Map;function l(a,c){let h=s.get(a);if(h!=null){if(h<=c)return;let d=r[h].indexOf(a);d>-1&&r[h].splice(d,1),a instanceof ff&&t.delete(a.compartment)}if(s.set(a,c),Array.isArray(a))for(let d of a)l(d,c);else if(a instanceof ff){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=e.get(a.compartment)||a.inner;t.set(a.compartment,d),l(d,c)}else if(a instanceof hv)l(a.inner,a.prec);else if(a instanceof Ri)r[c].push(a),a.provides&&l(a.provides,c);else if(a instanceof Qa)r[c].push(a),a.facet.extensions&&l(a.facet.extensions,Si.default);else{let d=a.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);l(d,c)}}return l(n,Si.default),r.reduce((a,c)=>a.concat(c))}function Do(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let s=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|s}function lu(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const fv=ve.define(),df=ve.define({combine:n=>n.some(e=>e),static:!0}),dv=ve.define({combine:n=>n.length?n[0]:void 0,static:!0}),pv=ve.define(),gv=ve.define(),mv=ve.define(),yv=ve.define({combine:n=>n.length?n[0]:!1});class Os{constructor(e,t){this.type=e,this.value=t}static define(){return new MO}}class MO{of(e){return new Os(this,e)}}class EO{constructor(e){this.map=e}of(e){return new at(this,e)}}class at{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new at(this.type,t)}is(e){return this.type==e}static define(e={}){return new EO(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let s of e){let l=s.map(t);l&&r.push(l)}return r}}at.reconfigure=at.define();at.appendConfig=at.define();class Dt{constructor(e,t,r,s,l,a){this.startState=e,this.changes=t,this.selection=r,this.effects=s,this.annotations=l,this.scrollIntoView=a,this._doc=null,this._state=null,r&&cv(r,t.newLength),l.some(c=>c.type==Dt.time)||(this.annotations=l.concat(Dt.time.of(Date.now())))}static create(e,t,r,s,l,a){return new Dt(e,t,r,s,l,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Dt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Dt.time=Os.define();Dt.userEvent=Os.define();Dt.addToHistory=Os.define();Dt.remote=Os.define();function DO(n,e){let t=[];for(let r=0,s=0;;){let l,a;if(r<n.length&&(s==e.length||e[s]>=n[r]))l=n[r++],a=n[r++];else if(s<e.length)l=e[s++],a=e[s++];else return t;!t.length||t[t.length-1]<l?t.push(l,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function vv(n,e,t){var r;let s,l,a;return t?(s=e.changes,l=dt.empty(e.changes.length),a=n.changes.compose(e.changes)):(s=e.changes.map(n.changes),l=n.changes.mapDesc(e.changes,!0),a=n.changes.compose(s)),{changes:a,selection:e.selection?e.selection.map(l):(r=n.selection)===null||r===void 0?void 0:r.map(s),effects:at.mapEffects(n.effects,s).concat(at.mapEffects(e.effects,l)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function pf(n,e,t){let r=e.selection,s=us(e.annotations);return e.userEvent&&(s=s.concat(Dt.userEvent.of(e.userEvent))),{changes:e.changes instanceof dt?e.changes:dt.of(e.changes||[],t,n.facet(dv)),selection:r&&(r instanceof Z?r:Z.single(r.anchor,r.head)),effects:us(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function xv(n,e,t){let r=pf(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let l=1;l<e.length;l++){e[l].filter===!1&&(t=!1);let a=!!e[l].sequential;r=vv(r,pf(n,e[l],a?r.changes.newLength:n.doc.length),a)}let s=Dt.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return TO(t?RO(s):s)}function RO(n){let e=n.startState,t=!0;for(let s of e.facet(pv)){let l=s(n);if(l===!1){t=!1;break}Array.isArray(l)&&(t=t===!0?l:DO(t,l))}if(t!==!0){let s,l;if(t===!1)l=n.changes.invertedDesc,s=dt.empty(e.doc.length);else{let a=n.changes.filter(t);s=a.changes,l=a.filtered.mapDesc(a.changes).invertedDesc}n=Dt.create(e,s,n.selection&&n.selection.map(l),at.mapEffects(n.effects,l),n.annotations,n.scrollIntoView)}let r=e.facet(gv);for(let s=r.length-1;s>=0;s--){let l=r[s](n);l instanceof Dt?n=l:Array.isArray(l)&&l.length==1&&l[0]instanceof Dt?n=l[0]:n=xv(e,us(l),!1)}return n}function TO(n){let e=n.startState,t=e.facet(mv),r=n;for(let s=t.length-1;s>=0;s--){let l=t[s](n);l&&Object.keys(l).length&&(r=vv(r,pf(e,l,n.changes.newLength),!0))}return r==n?n:Dt.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const NO=[];function us(n){return n==null?NO:Array.isArray(n)?n:[n]}var yr=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})(yr||(yr={}));const LO=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let gf;try{gf=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function IO(n){if(gf)return gf.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||LO.test(t)))return!0}return!1}function BO(n){return e=>{if(!/\S/.test(e))return yr.Space;if(IO(e))return yr.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return yr.Word;return yr.Other}}class Le{constructor(e,t,r,s,l,a){this.config=e,this.doc=t,this.selection=r,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=l,a&&(a._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)Do(this,c<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return Do(this,r),lu(this,r)}update(...e){return xv(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:s}=t;for(let c of e.effects)c.is(el.reconfigure)?(t&&(s=new Map,t.compartments.forEach((h,d)=>s.set(d,h)),t=null),s.set(c.value.compartment,c.value.extension)):c.is(at.reconfigure)?(t=null,r=c.value):c.is(at.appendConfig)&&(t=null,r=us(r).concat(c.value));let l;t?l=e.startState.values.slice():(t=ou.resolve(r,s,this),l=new Le(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(h,d)=>d.reconfigure(h,this),null).values);let a=e.startState.facet(df)?e.newSelection:e.newSelection.asSingle();new Le(t,e.newDoc,a,l,(c,h)=>h.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Z.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),s=this.changes(r.changes),l=[r.range],a=us(r.effects);for(let c=1;c<t.ranges.length;c++){let h=e(t.ranges[c]),d=this.changes(h.changes),p=d.map(s);for(let v=0;v<c;v++)l[v]=l[v].map(p);let m=s.mapDesc(d,!0);l.push(h.range.map(m)),s=s.compose(p),a=at.mapEffects(a,p).concat(at.mapEffects(us(h.effects),m))}return{changes:s,selection:Z.create(l,t.mainIndex),effects:a}}changes(e=[]){return e instanceof dt?e:dt.of(e,this.doc.length,this.facet(Le.lineSeparator))}toText(e){return Re.of(e.split(this.facet(Le.lineSeparator)||af))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Do(this,t),lu(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let s=e[r];s instanceof Ri&&this.config.address[s.id]!=null&&(t[r]=s.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(r){for(let l in r)if(Object.prototype.hasOwnProperty.call(e,l)){let a=r[l],c=e[l];s.push(a.init(h=>a.spec.fromJSON(c,h)))}}return Le.create({doc:e.doc,selection:Z.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=ou.resolve(e.extensions||[],new Map),r=e.doc instanceof Re?e.doc:Re.of((e.doc||"").split(t.staticFacet(Le.lineSeparator)||af)),s=e.selection?e.selection instanceof Z?e.selection:Z.single(e.selection.anchor,e.selection.head):Z.single(0);return cv(s,r.length),t.staticFacet(df)||(s=s.asSingle()),new Le(t,r,s,t.dynamicSlots.map(()=>null),(l,a)=>a.create(l),null)}get tabSize(){return this.facet(Le.tabSize)}get lineBreak(){return this.facet(Le.lineSeparator)||`
`}get readOnly(){return this.facet(yv)}phrase(e,...t){for(let r of this.facet(Le.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,s)=>{if(s=="$")return"$";let l=+(s||1);return!l||l>t.length?r:t[l-1]})),e}languageDataAt(e,t,r=-1){let s=[];for(let l of this.facet(fv))for(let a of l(this,t,r))Object.prototype.hasOwnProperty.call(a,e)&&s.push(a[e]);return s}charCategorizer(e){return BO(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:s}=this.doc.lineAt(e),l=this.charCategorizer(e),a=e-r,c=e-r;for(;a>0;){let h=Bt(t,a,!1);if(l(t.slice(h,a))!=yr.Word)break;a=h}for(;c<s;){let h=Bt(t,c);if(l(t.slice(c,h))!=yr.Word)break;c=h}return a==c?null:Z.range(a+r,c+r)}}Le.allowMultipleSelections=df;Le.tabSize=ve.define({combine:n=>n.length?n[0]:4});Le.lineSeparator=dv;Le.readOnly=yv;Le.phrases=ve.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(s=>n[s]==e[s])}});Le.languageData=fv;Le.changeFilter=pv;Le.transactionFilter=gv;Le.transactionExtender=mv;el.reconfigure=at.define();function wv(n,e,t={}){let r={};for(let s of n)for(let l of Object.keys(s)){let a=s[l],c=r[l];if(c===void 0)r[l]=a;else if(!(c===a||a===void 0))if(Object.hasOwnProperty.call(t,l))r[l]=t[l](c,a);else throw new Error("Config merge conflict for field "+l)}for(let s in e)r[s]===void 0&&(r[s]=e[s]);return r}class ps{eq(e){return this==e}range(e,t=e){return mf.create(e,t,this)}}ps.prototype.startSide=ps.prototype.endSide=0;ps.prototype.point=!1;ps.prototype.mapMode=sn.TrackDel;let mf=class kv{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new kv(e,t,r)}};function yf(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class md{constructor(e,t,r,s){this.from=e,this.to=t,this.value=r,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,s=0){let l=r?this.to:this.from;for(let a=s,c=l.length;;){if(a==c)return a;let h=a+c>>1,d=l[h]-e||(r?this.value[h].endSide:this.value[h].startSide)-t;if(h==a)return d>=0?a:c;d>=0?c=h:a=h+1}}between(e,t,r,s){for(let l=this.findIndex(t,-1e9,!0),a=this.findIndex(r,1e9,!1,l);l<a;l++)if(s(this.from[l]+e,this.to[l]+e,this.value[l])===!1)return!1}map(e,t){let r=[],s=[],l=[],a=-1,c=-1;for(let h=0;h<this.value.length;h++){let d=this.value[h],p=this.from[h]+e,m=this.to[h]+e,v,x;if(p==m){let k=t.mapPos(p,d.startSide,d.mapMode);if(k==null||(v=x=k,d.startSide!=d.endSide&&(x=t.mapPos(p,d.endSide),x<v)))continue}else if(v=t.mapPos(p,d.startSide),x=t.mapPos(m,d.endSide),v>x||v==x&&d.startSide>0&&d.endSide<=0)continue;(x-v||d.endSide-d.startSide)<0||(a<0&&(a=v),d.point&&(c=Math.max(c,x-v)),r.push(d),s.push(v-a),l.push(x-a))}return{mapped:r.length?new md(s,l,r,c):null,pos:a}}}class Ie{constructor(e,t,r,s){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=s}static create(e,t,r,s){return new Ie(e,t,r,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:s=0,filterTo:l=this.length}=e,a=e.filter;if(t.length==0&&!a)return this;if(r&&(t=t.slice().sort(yf)),this.isEmpty)return t.length?Ie.of(t):this;let c=new Sv(this,null,-1).goto(0),h=0,d=[],p=new _o;for(;c.value||h<t.length;)if(h<t.length&&(c.from-t[h].from||c.startSide-t[h].value.startSide)>=0){let m=t[h++];p.addInner(m.from,m.to,m.value)||d.push(m)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(h==t.length||this.chunkEnd(c.chunkIndex)<t[h].from)&&(!a||s>this.chunkEnd(c.chunkIndex)||l<this.chunkPos[c.chunkIndex])&&p.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!a||s>c.to||l<c.from||a(c.from,c.to,c.value))&&(p.addInner(c.from,c.to,c.value)||d.push(mf.create(c.from,c.to,c.value))),c.next());return p.finishInner(this.nextLayer.isEmpty&&!d.length?Ie.empty:this.nextLayer.update({add:d,filter:a,filterFrom:s,filterTo:l}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],s=-1;for(let a=0;a<this.chunk.length;a++){let c=this.chunkPos[a],h=this.chunk[a],d=e.touchesRange(c,c+h.length);if(d===!1)s=Math.max(s,h.maxPoint),t.push(h),r.push(e.mapPos(c));else if(d===!0){let{mapped:p,pos:m}=h.map(c,e);p&&(s=Math.max(s,p.maxPoint),t.push(p),r.push(m))}}let l=this.nextLayer.map(e);return t.length==0?l:new Ie(r,t,l||Ie.empty,s)}between(e,t,r){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],a=this.chunk[s];if(t>=l&&e<=l+a.length&&a.between(l,e-l,t-l,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return Vo.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Vo.from(e).goto(t)}static compare(e,t,r,s,l=-1){let a=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=l),c=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=l),h=Km(a,c,r),d=new go(a,h,l),p=new go(c,h,l);r.iterGaps((m,v,x)=>qm(d,m,p,v,x,s)),r.empty&&r.length==0&&qm(d,0,p,0,0,s)}static eq(e,t,r=0,s){s==null&&(s=999999999);let l=e.filter(p=>!p.isEmpty&&t.indexOf(p)<0),a=t.filter(p=>!p.isEmpty&&e.indexOf(p)<0);if(l.length!=a.length)return!1;if(!l.length)return!0;let c=Km(l,a),h=new go(l,c,0).goto(r),d=new go(a,c,0).goto(r);for(;;){if(h.to!=d.to||!vf(h.active,d.active)||h.point&&(!d.point||!h.point.eq(d.point)))return!1;if(h.to>s)return!0;h.next(),d.next()}}static spans(e,t,r,s,l=-1){let a=new go(e,null,l).goto(t),c=t,h=a.openStart;for(;;){let d=Math.min(a.to,r);if(a.point){let p=a.activeForPoint(a.to),m=a.pointFrom<t?p.length+1:a.point.startSide<0?p.length:Math.min(p.length,h);s.point(c,d,a.point,p,m,a.pointRank),h=Math.min(a.openEnd(d),p.length)}else d>c&&(s.span(c,d,a.active,h),h=a.openEnd(d));if(a.to>r)return h+(a.point&&a.to>r?1:0);c=a.to,a.next()}}static of(e,t=!1){let r=new _o;for(let s of e instanceof mf?[e]:t?zO(e):e)r.add(s.from,s.to,s.value);return r.finish()}static join(e){if(!e.length)return Ie.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let s=e[r];s!=Ie.empty;s=s.nextLayer)t=new Ie(s.chunkPos,s.chunk,t,Math.max(s.maxPoint,t.maxPoint));return t}}Ie.empty=new Ie([],[],null,-1);function zO(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(yf(e,r)>0)return n.slice().sort(yf);e=r}return n}Ie.empty.nextLayer=Ie.empty;class _o{finishChunk(e){this.chunks.push(new md(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new _o)).add(e,t,r)}addInner(e,t,r){let s=e-this.lastTo||r.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Ie.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Ie.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Km(n,e,t){let r=new Map;for(let l of n)for(let a=0;a<l.chunk.length;a++)l.chunk[a].maxPoint<=0&&r.set(l.chunk[a],l.chunkPos[a]);let s=new Set;for(let l of e)for(let a=0;a<l.chunk.length;a++){let c=r.get(l.chunk[a]);c!=null&&(t?t.mapPos(c):c)==l.chunkPos[a]&&!(t!=null&&t.touchesRange(c,c+l.chunk[a].length))&&s.add(l.chunk[a])}return s}class Sv{constructor(e,t,r,s=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Vo{constructor(e){this.heap=e}static from(e,t=null,r=-1){let s=[];for(let l=0;l<e.length;l++)for(let a=e[l];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&s.push(new Sv(a,t,r,l));return s.length==1?s[0]:new Vo(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)Rh(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)Rh(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Rh(this.heap,0)}}}function Rh(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let s=n[r];if(r+1<n.length&&s.compare(n[r+1])>=0&&(s=n[r+1],r++),t.compare(s)<0)break;n[r]=t,n[e]=s,e=r}}class go{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Vo.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){ba(this.active,e),ba(this.activeTo,e),ba(this.activeRank,e),this.minActive=Ym(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:s,rank:l}=this.cursor;for(;t<this.activeRank.length&&(l-this.activeRank[t]||s-this.activeTo[t])>0;)t++;Oa(this.active,t,r),Oa(this.activeTo,t,s),Oa(this.activeRank,t,l),e&&Oa(e,t,this.cursor.from),this.minActive=Ym(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),r&&ba(r,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let l=this.cursor.value;if(!l.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=l,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=l.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let s=r.length-1;s>=0&&r[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function qm(n,e,t,r,s,l){n.goto(e),t.goto(r);let a=r+s,c=r,h=r-e;for(;;){let d=n.to+h-t.to,p=d||n.endSide-t.endSide,m=p<0?n.to+h:t.to,v=Math.min(m,a);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&vf(n.activeForPoint(n.to),t.activeForPoint(t.to))||l.comparePoint(c,v,n.point,t.point):v>c&&!vf(n.active,t.active)&&l.compareRange(c,v,n.active,t.active),m>a)break;(d||n.openEnd!=t.openEnd)&&l.boundChange&&l.boundChange(m),c=m,p<=0&&n.next(),p>=0&&t.next()}}function vf(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function ba(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function Oa(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function Ym(n,e){let t=-1,r=1e9;for(let s=0;s<e.length;s++)(e[s]-r||n[s].endSide-n[t].endSide)<0&&(t=s,r=e[s]);return t}function Mu(n,e,t=n.length){let r=0;for(let s=0;s<t&&s<n.length;)n.charCodeAt(s)==9?(r+=e-r%e,s++):(r++,s=Bt(n,s));return r}function jO(n,e,t,r){for(let s=0,l=0;;){if(l>=e)return s;if(s==n.length)break;l+=n.charCodeAt(s)==9?t-l%t:1,s=Bt(n,s)}return n.length}const xf="",Gm=typeof Symbol>"u"?"__"+xf:Symbol.for(xf),wf=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ei{constructor(e,t){this.rules=[];let{finish:r}=t||{};function s(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function l(a,c,h,d){let p=[],m=/^@(\w+)\b/.exec(a[0]),v=m&&m[1]=="keyframes";if(m&&c==null)return h.push(a[0]+";");for(let x in c){let k=c[x];if(/&/.test(x))l(x.split(/,\s*/).map(S=>a.map(b=>S.replace(/&/,b))).reduce((S,b)=>S.concat(b)),k,h);else if(k&&typeof k=="object"){if(!m)throw new RangeError("The value of a property ("+x+") should be a primitive value.");l(s(x),k,p,v)}else k!=null&&p.push(x.replace(/_.*/,"").replace(/[A-Z]/g,S=>"-"+S.toLowerCase())+": "+k+";")}(p.length||v)&&h.push((r&&!m&&!d?a.map(r):a).join(", ")+" {"+p.join(" ")+"}")}for(let a in e)l(s(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Jm[Gm]||1;return Jm[Gm]=e+1,xf+e.toString(36)}static mount(e,t,r){let s=e[wf],l=r&&r.nonce;s?l&&s.setNonce(l):s=new FO(e,l),s.mount(Array.isArray(t)?t:[t],e)}}let Zm=new Map;class FO{constructor(e,t){let r=e.ownerDocument||e,s=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let l=Zm.get(r);if(l)return e[wf]=l;this.sheet=new s.CSSStyleSheet,Zm.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[wf]=this}mount(e,t){let r=this.sheet,s=0,l=0;for(let a=0;a<e.length;a++){let c=e[a],h=this.modules.indexOf(c);if(h<l&&h>-1&&(this.modules.splice(h,1),l--,h=-1),h==-1){if(this.modules.splice(l++,0,c),r)for(let d=0;d<c.rules.length;d++)r.insertRule(c.rules[d],s++)}else{for(;l<h;)s+=this.modules[l++].rules.length;s+=c.rules.length,l++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let a="";for(let h=0;h<this.modules.length;h++)a+=this.modules[h].getRules()+`
`;this.styleTag.textContent=a;let c=t.head||t;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ti={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ho={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_O=typeof navigator<"u"&&/Mac/.test(navigator.platform),VO=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var xt=0;xt<10;xt++)ti[48+xt]=ti[96+xt]=String(xt);for(var xt=1;xt<=24;xt++)ti[xt+111]="F"+xt;for(var xt=65;xt<=90;xt++)ti[xt]=String.fromCharCode(xt+32),Ho[xt]=String.fromCharCode(xt);for(var Th in ti)Ho.hasOwnProperty(Th)||(Ho[Th]=ti[Th]);function HO(n){var e=_O&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||VO&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Ho:ti)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}let It=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},kf=typeof document<"u"?document:{documentElement:{style:{}}};const Sf=/Edge\/(\d+)/.exec(It.userAgent),bv=/MSIE \d/.test(It.userAgent),bf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(It.userAgent),Eu=!!(bv||bf||Sf),e0=!Eu&&/gecko\/(\d+)/i.test(It.userAgent),Nh=!Eu&&/Chrome\/(\d+)/.exec(It.userAgent),WO="webkitFontSmoothing"in kf.documentElement.style,Of=!Eu&&/Apple Computer/.test(It.vendor),t0=Of&&(/Mobile\/\w+/.test(It.userAgent)||It.maxTouchPoints>2);var ie={mac:t0||/Mac/.test(It.platform),windows:/Win/.test(It.platform),linux:/Linux|X11/.test(It.platform),ie:Eu,ie_version:bv?kf.documentMode||6:bf?+bf[1]:Sf?+Sf[1]:0,gecko:e0,gecko_version:e0?+(/Firefox\/(\d+)/.exec(It.userAgent)||[0,0])[1]:0,chrome:!!Nh,chrome_version:Nh?+Nh[1]:0,ios:t0,android:/Android\b/.test(It.userAgent),webkit_version:WO?+(/\bAppleWebKit\/(\d+)/.exec(It.userAgent)||[0,0])[1]:0,safari:Of,safari_version:Of?+(/\bVersion\/(\d+(\.\d+)?)/.exec(It.userAgent)||[0,0])[1]:0,tabSize:kf.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function Wo(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Cf(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function $a(n,e){if(!e.anchorNode)return!1;try{return Cf(n,e.anchorNode)}catch{return!1}}function Qo(n){return n.nodeType==3?Mi(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Ro(n,e,t,r){return t?n0(n,e,t,r,-1)||n0(n,e,t,r,1):!1}function Ai(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function au(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function n0(n,e,t,r,s){for(;;){if(n==t&&e==r)return!0;if(e==(s<0?0:nr(n))){if(n.nodeName=="DIV")return!1;let l=n.parentNode;if(!l||l.nodeType!=1)return!1;e=Ai(n)+(s<0?0:1),n=l}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=s<0?nr(n):0}else return!1}}function nr(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Du(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function QO(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function Ov(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function $O(n,e,t,r,s,l,a,c){let h=n.ownerDocument,d=h.defaultView||window;for(let p=n,m=!1;p&&!m;)if(p.nodeType==1){let v,x=p==h.body,k=1,S=1;if(x)v=QO(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(m=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let D=p.getBoundingClientRect();({scaleX:k,scaleY:S}=Ov(p,D)),v={left:D.left,right:D.left+p.clientWidth*k,top:D.top,bottom:D.top+p.clientHeight*S}}let b=0,C=0;if(s=="nearest")e.top<v.top?(C=e.top-(v.top+a),t>0&&e.bottom>v.bottom+C&&(C=e.bottom-v.bottom+a)):e.bottom>v.bottom&&(C=e.bottom-v.bottom+a,t<0&&e.top-C<v.top&&(C=e.top-(v.top+a)));else{let D=e.bottom-e.top,N=v.bottom-v.top;C=(s=="center"&&D<=N?e.top+D/2-N/2:s=="start"||s=="center"&&t<0?e.top-a:e.bottom-N+a)-v.top}if(r=="nearest"?e.left<v.left?(b=e.left-(v.left+l),t>0&&e.right>v.right+b&&(b=e.right-v.right+l)):e.right>v.right&&(b=e.right-v.right+l,t<0&&e.left<v.left+b&&(b=e.left-(v.left+l))):b=(r=="center"?e.left+(e.right-e.left)/2-(v.right-v.left)/2:r=="start"==c?e.left-l:e.right-(v.right-v.left)+l)-v.left,b||C)if(x)d.scrollBy(b,C);else{let D=0,N=0;if(C){let _=p.scrollTop;p.scrollTop+=C/S,N=(p.scrollTop-_)*S}if(b){let _=p.scrollLeft;p.scrollLeft+=b/k,D=(p.scrollLeft-_)*k}e={left:e.left-D,top:e.top-N,right:e.right-D,bottom:e.bottom-N},D&&Math.abs(D-b)<1&&(r="nearest"),N&&Math.abs(N-C)<1&&(s="nearest")}if(x)break;(e.top<v.top||e.bottom>v.bottom||e.left<v.left||e.right>v.right)&&(e={left:Math.max(e.left,v.left),right:Math.min(e.right,v.right),top:Math.max(e.top,v.top),bottom:Math.min(e.bottom,v.bottom)}),p=p.assignedSlot||p.parentNode}else if(p.nodeType==11)p=p.host;else break}function UO(n){let e=n.ownerDocument,t,r;for(let s=n.parentNode;s&&!(s==e.body||t&&r);)if(s.nodeType==1)!r&&s.scrollHeight>s.clientHeight&&(r=s),!t&&s.scrollWidth>s.clientWidth&&(t=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:t,y:r}}class XO{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?nr(t):0),r,Math.min(e.focusOffset,r?nr(r):0))}set(e,t,r,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=s}}let ki=null;ie.safari&&ie.safari_version>=26&&(ki=!1);function Cv(n){if(n.setActive)return n.setActive();if(ki)return n.focus(ki);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(ki==null?{get preventScroll(){return ki={preventScroll:!0},!0}}:void 0),!ki){ki=!1;for(let t=0;t<e.length;){let r=e[t++],s=e[t++],l=e[t++];r.scrollTop!=s&&(r.scrollTop=s),r.scrollLeft!=l&&(r.scrollLeft=l)}}}let r0;function Mi(n,e,t=e){let r=r0||(r0=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function cs(n,e,t,r){let s={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=r);let l=new KeyboardEvent("keydown",s);l.synthetic=!0,n.dispatchEvent(l);let a=new KeyboardEvent("keyup",s);return a.synthetic=!0,n.dispatchEvent(a),l.defaultPrevented||a.defaultPrevented}function KO(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function Pv(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function qO(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,nr(t));;)if(r){if(t.nodeType!=1)return!1;let s=t.childNodes[r-1];s.contentEditable=="false"?r--:(t=s,r=nr(t))}else{if(t==n)return!0;r=Ai(t),t=t.parentNode}}function Av(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function Mv(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=nr(t)}else if(t.parentNode&&!au(t))r=Ai(t),t=t.parentNode;else return null}}function Ev(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!au(t))r=Ai(t)+1,t=t.parentNode;else return null}}class Et{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Et(e.parentNode,Ai(e),t)}static after(e,t){return new Et(e.parentNode,Ai(e)+1,t)}}const yd=[];class ze{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,s=null,l;for(let a of this.children){if(a.flags&7){if(!a.dom&&(l=s?s.nextSibling:r.firstChild)){let c=ze.get(l);(!c||!c.parent&&c.canReuseDOM(a))&&a.reuseDOM(l)}a.sync(e,t),a.flags&=-8}if(l=s?s.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&l!=a.dom&&(t.written=!0),a.dom.parentNode==r)for(;l&&l!=a.dom;)l=i0(l);else r.insertBefore(a.dom,l);s=a.dom}for(l=s?s.nextSibling:r.firstChild,l&&t&&t.node==r&&(t.written=!0);l;)l=i0(l)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let s=nr(e)==0?0:t==0?-1:1;for(;;){let l=e.parentNode;if(l==this.dom)break;s==0&&l.firstChild!=l.lastChild&&(e==l.firstChild?s=-1:s=1),e=l}s<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!ze.get(r);)r=r.nextSibling;if(!r)return this.length;for(let s=0,l=0;;s++){let a=this.children[s];if(a.dom==r)return l;l+=a.length+a.breakAfter}}domBoundsAround(e,t,r=0){let s=-1,l=-1,a=-1,c=-1;for(let h=0,d=r,p=r;h<this.children.length;h++){let m=this.children[h],v=d+m.length;if(d<e&&v>t)return m.domBoundsAround(e,t,d);if(v>=e&&s==-1&&(s=h,l=d),d>t&&m.dom.parentNode==this.dom){a=h,c=p;break}p=v,d=v+m.breakAfter}return{from:l,to:c<0?r+this.length:c,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=yd){this.markDirty();for(let s=e;s<t;s++){let l=this.children[s];l.parent==this&&r.indexOf(l)<0&&l.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let s=0;s<r.length;s++)r[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Dv(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,s,l,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ze.prototype.breakAfter=0;function i0(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Dv{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function Rv(n,e,t,r,s,l,a,c,h){let{children:d}=n,p=d.length?d[e]:null,m=l.length?l[l.length-1]:null,v=m?m.breakAfter:a;if(!(e==r&&p&&!a&&!v&&l.length<2&&p.merge(t,s,l.length?m:null,t==0,c,h))){if(r<d.length){let x=d[r];x&&(s<x.length||x.breakAfter&&(m!=null&&m.breakAfter))?(e==r&&(x=x.split(s),s=0),!v&&m&&x.merge(0,s,m,!0,0,h)?l[l.length-1]=x:((s||x.children.length&&!x.children[0].length)&&x.merge(0,s,null,!1,0,h),l.push(x))):x!=null&&x.breakAfter&&(m?m.breakAfter=1:a=1),r++}for(p&&(p.breakAfter=a,t>0&&(!a&&l.length&&p.merge(t,p.length,l[0],!1,c,0)?p.breakAfter=l.shift().breakAfter:(t<p.length||p.children.length&&p.children[p.children.length-1].length==0)&&p.merge(t,p.length,null,!1,c,0),e++));e<r&&l.length;)if(d[r-1].become(l[l.length-1]))r--,l.pop(),h=l.length?0:c;else if(d[e].become(l[0]))e++,l.shift(),c=l.length?0:h;else break;!l.length&&e&&r<d.length&&!d[e-1].breakAfter&&d[r].merge(0,0,d[e-1],!1,c,h)&&e--,(e<r||l.length)&&n.replaceChildren(e,r,l)}}function Tv(n,e,t,r,s,l){let a=n.childCursor(),{i:c,off:h}=a.findPos(t,1),{i:d,off:p}=a.findPos(e,-1),m=e-t;for(let v of r)m+=v.length;n.length+=m,Rv(n,d,p,c,h,r,0,s,l)}const YO=256;class Ln extends ze{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Ln)||this.length-(t-e)+r.length>YO||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Ln(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Et(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return GO(this.dom,e,t)}}class wr extends ze{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let s of t)s.setParent(this)}setAttrs(e){if(Pv(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,s,l,a){return r&&(!(r instanceof wr&&r.mark.eq(this.mark))||e&&l<=0||t<this.length&&a<=0)?!1:(Tv(this,e,t,r?r.children.slice():[],l-1,a-1),this.markDirty(),!0)}split(e){let t=[],r=0,s=-1,l=0;for(let c of this.children){let h=r+c.length;h>e&&t.push(r<e?c.split(e-r):c),s<0&&r>=e&&(s=l),r=h,l++}let a=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new wr(this.mark,t,a)}domAtPos(e){return Nv(this,e)}coordsAt(e,t){return Iv(this,e,t)}}function GO(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let s=e,l=e,a=0;e==0&&t<0||e==r&&t>=0?ie.chrome||ie.gecko||(e?(s--,a=1):l<r&&(l++,a=-1)):t<0?s--:l<r&&l++;let c=Mi(n,s,l).getClientRects();if(!c.length)return null;let h=c[(a?a<0:t>=0)?0:c.length-1];return ie.safari&&!a&&h.width==0&&(h=Array.prototype.find.call(c,d=>d.width)||h),a?Du(h,a<0):h||null}class Yr extends ze{static create(e,t,r){return new Yr(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=Yr.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,s,l,a){return r&&(!(r instanceof Yr)||!this.widget.compare(r.widget)||e>0&&l<=0||t<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Yr&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Re.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,s=this.posAtStart;return r?r.slice(s,s+this.length):Re.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Et.before(this.dom):Et.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let s=this.dom.getClientRects(),l=null;if(!s.length)return null;let a=this.side?this.side<0:e>0;for(let c=a?s.length-1:0;l=s[c],!(e>0?c==0:c==s.length-1||l.top<l.bottom);c+=a?-1:1);return Du(l,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class gs extends ze{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof gs&&e.side==this.side}split(){return new gs(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Et.before(this.dom):Et.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Re.empty}get isHidden(){return!0}}Ln.prototype.children=Yr.prototype.children=gs.prototype.children=yd;function Nv(n,e){let t=n.dom,{children:r}=n,s=0;for(let l=0;s<r.length;s++){let a=r[s],c=l+a.length;if(!(c==l&&a.getSide()<=0)){if(e>l&&e<c&&a.dom.parentNode==t)return a.domAtPos(e-l);if(e<=l)break;l=c}}for(let l=s;l>0;l--){let a=r[l-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let l=s;l<r.length;l++){let a=r[l];if(a.dom.parentNode==t)return a.domAtPos(0)}return new Et(t,0)}function Lv(n,e,t){let r,{children:s}=n;t>0&&e instanceof wr&&s.length&&(r=s[s.length-1])instanceof wr&&r.mark.eq(e.mark)?Lv(r,e.children[0],t-1):(s.push(e),e.setParent(n)),n.length+=e.length}function Iv(n,e,t){let r=null,s=-1,l=null,a=-1;function c(d,p){for(let m=0,v=0;m<d.children.length&&v<=p;m++){let x=d.children[m],k=v+x.length;k>=p&&(x.children.length?c(x,p-v):(!l||l.isHidden&&(t>0||ZO(l,x)))&&(k>p||v==k&&x.getSide()>0)?(l=x,a=p-v):(v<p||v==k&&x.getSide()<0&&!x.isHidden)&&(r=x,s=p-v)),v=k}}c(n,e);let h=(t<0?r:l)||r||l;return h?h.coordsAt(Math.max(0,h==r?s:a),t):JO(n)}function JO(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Qo(e);return t[t.length-1]||null}function ZO(n,e){let t=n.coordsAt(0,1),r=e.coordsAt(0,1);return t&&r&&r.top<t.bottom}function Pf(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const s0=Object.create(null);function uu(n,e,t){if(n==e)return!0;n||(n=s0),e||(e=s0);let r=Object.keys(n),s=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=s.length-(t&&s.indexOf(t)>-1?1:0))return!1;for(let l of r)if(l!=t&&(s.indexOf(l)==-1||n[l]!==e[l]))return!1;return!0}function Af(n,e,t){let r=!1;if(e)for(let s in e)t&&s in t||(r=!0,s=="style"?n.style.cssText="":n.removeAttribute(s));if(t)for(let s in t)e&&e[s]==t[s]||(r=!0,s=="style"?n.style.cssText=t[s]:n.setAttribute(s,t[s]));return r}function eC(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class tl{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var zt=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(zt||(zt={}));class Ge extends ps{constructor(e,t,r,s){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=s}get heightRelevant(){return!1}static mark(e){return new nl(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new ni(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,s;if(e.isBlockGap)r=-5e8,s=4e8;else{let{start:l,end:a}=Bv(e,t);r=(l?t?-3e8:-1:5e8)-1,s=(a?t?2e8:1:-6e8)+1}return new ni(e,r,s,t,e.widget||null,!0)}static line(e){return new rl(e)}static set(e,t=!1){return Ie.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ge.none=Ie.empty;class nl extends Ge{constructor(e){let{start:t,end:r}=Bv(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof nl&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&uu(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}nl.prototype.point=!1;class rl extends Ge{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof rl&&this.spec.class==e.spec.class&&uu(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}rl.prototype.mapMode=sn.TrackBefore;rl.prototype.point=!0;class ni extends Ge{constructor(e,t,r,s,l,a){super(t,r,l,e),this.block=s,this.isReplace=a,this.mapMode=s?t<=0?sn.TrackBefore:sn.TrackAfter:sn.TrackDel}get type(){return this.startSide!=this.endSide?zt.WidgetRange:this.startSide<=0?zt.WidgetBefore:zt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ni&&tC(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}ni.prototype.point=!0;function Bv(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function tC(n,e){return n==e||!!(n&&e&&n.compare(e))}function Ua(n,e,t,r=0){let s=t.length-1;s>=0&&t[s]+r>=n?t[s]=Math.max(t[s],e):t.push(n,e)}class rt extends ze{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,s,l,a){if(r){if(!(r instanceof rt))return!1;this.dom||r.transferDOM(this)}return s&&this.setDeco(r?r.attrs:null),Tv(this,e,t,r?r.children.slice():[],l,a),!0}split(e){let t=new rt;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:s}=this.childPos(e);s&&(t.append(this.children[r].split(s),0),this.children[r].merge(s,this.children[r].length,null,!1,0,0),r++);for(let l=r;l<this.children.length;l++)t.append(this.children[l],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){uu(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Lv(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=Pf(t,this.attrs||{})),r&&(this.attrs=Pf({class:r},this.attrs||{}))}domAtPos(e){return Nv(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(Pv(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Af(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let s=this.dom.lastChild;for(;s&&ze.get(s)instanceof wr;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((r=ze.get(s))===null||r===void 0?void 0:r.isEditable)==!1&&(!ie.ios||!this.children.some(l=>l instanceof Ln))){let l=document.createElement("BR");l.cmIgnore=!0,this.dom.appendChild(l)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Ln)||/[^ -~]/.test(r.text))return null;let s=Qo(r.dom);if(s.length!=1)return null;e+=s[0].width,t=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=Iv(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:s}=this.parent.view.viewState,l=r.bottom-r.top;if(Math.abs(l-s.lineHeight)<2&&s.textHeight<l){let a=(l-s.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return e instanceof rt&&this.children.length==0&&e.children.length==0&&uu(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,s=0;r<e.children.length;r++){let l=e.children[r],a=s+l.length;if(a>=t){if(l instanceof rt)return l;if(a>t)break}s=a+l.breakAfter}return null}}class xr extends ze{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,s,l,a){return r&&(!(r instanceof xr)||!this.widget.compare(r.widget)||e>0&&l<=0||t<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Et.before(this.dom):Et.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new xr(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return yd}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Re.empty}domBoundsAround(){return null}become(e){return e instanceof xr&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof Mf?null:Du(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class Mf extends tl{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class To{constructor(e,t,r,s){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof xr&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new rt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ca(new gs(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof xr)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:c,done:h}=this.cursor.next(this.skip);if(this.skip=0,h)throw new Error("Ran out of text content when drawing inline views");if(c){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=a,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e),l=Math.min(s,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(Ca(new Ln(this.text.slice(this.textOff,this.textOff+l)),t),r),this.atCursorPos=!0,this.textOff+=l,e-=l,r=s<=l?0:t.length}}span(e,t,r,s){this.buildText(t-e,r,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,r,s,l,a){if(this.disallowBlockEffectsFor[a]&&r instanceof ni){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=t-e;if(r instanceof ni)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new xr(r.widget||ms.block,c,r));else{let h=Yr.create(r.widget||ms.inline,c,c?0:r.startSide),d=this.atCursorPos&&!h.isEditable&&l<=s.length&&(e<t||r.startSide>0),p=!h.isEditable&&(e<t||l>s.length||r.startSide<=0),m=this.getLine();this.pendingBuffer==2&&!d&&!h.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),d&&(m.append(Ca(new gs(1),s),l),l=s.length+Math.max(0,l-s.length)),m.append(Ca(h,s),l),this.atCursorPos=p,this.pendingBuffer=p?e<t||l>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=l)}static build(e,t,r,s,l){let a=new To(e,t,r,l);return a.openEnd=Ie.spans(s,t,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function Ca(n,e){for(let t of e)n=new wr(t,[n],n.length);return n}class ms extends tl{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}ms.inline=new ms("span");ms.block=new ms("div");var Ye=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(Ye||(Ye={}));const Ei=Ye.LTR,vd=Ye.RTL;function zv(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const nC=zv("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),rC=zv("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Ef=Object.create(null),Kn=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Ef[e]=t,Ef[t]=-e}function jv(n){return n<=247?nC[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?rC[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const iC=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Gr{get dir(){return this.level%2?vd:Ei}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,s){let l=-1;for(let a=0;a<e.length;a++){let c=e[a];if(c.from<=t&&c.to>=t){if(c.level==r)return a;(l<0||(s!=0?s<0?c.from<t:c.to>t:e[l].level>c.level))&&(l=a)}}if(l<0)throw new RangeError("Index out of range");return l}}function Fv(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],s=e[t];if(r.from!=s.from||r.to!=s.to||r.direction!=s.direction||!Fv(r.inner,s.inner))return!1}return!0}const je=[];function sC(n,e,t,r,s){for(let l=0;l<=r.length;l++){let a=l?r[l-1].to:e,c=l<r.length?r[l].from:t,h=l?256:s;for(let d=a,p=h,m=h;d<c;d++){let v=jv(n.charCodeAt(d));v==512?v=p:v==8&&m==4&&(v=16),je[d]=v==4?2:v,v&7&&(m=v),p=v}for(let d=a,p=h,m=h;d<c;d++){let v=je[d];if(v==128)d<c-1&&p==je[d+1]&&p&24?v=je[d]=p:je[d]=256;else if(v==64){let x=d+1;for(;x<c&&je[x]==64;)x++;let k=d&&p==8||x<t&&je[x]==8?m==1?1:8:256;for(let S=d;S<x;S++)je[S]=k;d=x-1}else v==8&&m==1&&(je[d]=1);p=v,v&7&&(m=v)}}}function oC(n,e,t,r,s){let l=s==1?2:1;for(let a=0,c=0,h=0;a<=r.length;a++){let d=a?r[a-1].to:e,p=a<r.length?r[a].from:t;for(let m=d,v,x,k;m<p;m++)if(x=Ef[v=n.charCodeAt(m)])if(x<0){for(let S=c-3;S>=0;S-=3)if(Kn[S+1]==-x){let b=Kn[S+2],C=b&2?s:b&4?b&1?l:s:0;C&&(je[m]=je[Kn[S]]=C),c=S;break}}else{if(Kn.length==189)break;Kn[c++]=m,Kn[c++]=v,Kn[c++]=h}else if((k=je[m])==2||k==1){let S=k==s;h=S?0:1;for(let b=c-3;b>=0;b-=3){let C=Kn[b+2];if(C&2)break;if(S)Kn[b+2]|=2;else{if(C&4)break;Kn[b+2]|=4}}}}}function lC(n,e,t,r){for(let s=0,l=r;s<=t.length;s++){let a=s?t[s-1].to:n,c=s<t.length?t[s].from:e;for(let h=a;h<c;){let d=je[h];if(d==256){let p=h+1;for(;;)if(p==c){if(s==t.length)break;p=t[s++].to,c=s<t.length?t[s].from:e}else if(je[p]==256)p++;else break;let m=l==1,v=(p<e?je[p]:r)==1,x=m==v?m?1:2:r;for(let k=p,S=s,b=S?t[S-1].to:n;k>h;)k==b&&(k=t[--S].from,b=S?t[S-1].to:n),je[--k]=x;h=p}else l=d,h++}}}function Df(n,e,t,r,s,l,a){let c=r%2?2:1;if(r%2==s%2)for(let h=e,d=0;h<t;){let p=!0,m=!1;if(d==l.length||h<l[d].from){let S=je[h];S!=c&&(p=!1,m=S==16)}let v=!p&&c==1?[]:null,x=p?r:r+1,k=h;e:for(;;)if(d<l.length&&k==l[d].from){if(m)break e;let S=l[d];if(!p)for(let b=S.to,C=d+1;;){if(b==t)break e;if(C<l.length&&l[C].from==b)b=l[C++].to;else{if(je[b]==c)break e;break}}if(d++,v)v.push(S);else{S.from>h&&a.push(new Gr(h,S.from,x));let b=S.direction==Ei!=!(x%2);Rf(n,b?r+1:r,s,S.inner,S.from,S.to,a),h=S.to}k=S.to}else{if(k==t||(p?je[k]!=c:je[k]==c))break;k++}v?Df(n,h,k,r+1,s,v,a):h<k&&a.push(new Gr(h,k,x)),h=k}else for(let h=t,d=l.length;h>e;){let p=!0,m=!1;if(!d||h>l[d-1].to){let S=je[h-1];S!=c&&(p=!1,m=S==16)}let v=!p&&c==1?[]:null,x=p?r:r+1,k=h;e:for(;;)if(d&&k==l[d-1].to){if(m)break e;let S=l[--d];if(!p)for(let b=S.from,C=d;;){if(b==e)break e;if(C&&l[C-1].to==b)b=l[--C].from;else{if(je[b-1]==c)break e;break}}if(v)v.push(S);else{S.to<h&&a.push(new Gr(S.to,h,x));let b=S.direction==Ei!=!(x%2);Rf(n,b?r+1:r,s,S.inner,S.from,S.to,a),h=S.from}k=S.from}else{if(k==e||(p?je[k-1]!=c:je[k-1]==c))break;k--}v?Df(n,k,h,r+1,s,v,a):k<h&&a.push(new Gr(k,h,x)),h=k}}function Rf(n,e,t,r,s,l,a){let c=e%2?2:1;sC(n,s,l,r,c),oC(n,s,l,r,c),lC(s,l,r,c),Df(n,s,l,e,t,r,a)}function aC(n,e,t){if(!n)return[new Gr(0,0,e==vd?1:0)];if(e==Ei&&!t.length&&!iC.test(n))return _v(n.length);if(t.length)for(;n.length>je.length;)je[je.length]=256;let r=[],s=e==Ei?0:1;return Rf(n,s,s,t,0,n.length,r),r}function _v(n){return[new Gr(0,n,0)]}let Vv="";function uC(n,e,t,r,s){var l;let a=r.head-n.from,c=Gr.find(e,a,(l=r.bidiLevel)!==null&&l!==void 0?l:-1,r.assoc),h=e[c],d=h.side(s,t);if(a==d){let v=c+=s?1:-1;if(v<0||v>=e.length)return null;h=e[c=v],a=h.side(!s,t),d=h.side(s,t)}let p=Bt(n.text,a,h.forward(s,t));(p<h.from||p>h.to)&&(p=d),Vv=n.text.slice(Math.min(a,p),Math.max(a,p));let m=c==(s?e.length-1:0)?null:e[c+(s?1:-1)];return m&&p==d&&m.level+(s?0:1)<h.level?Z.cursor(m.side(!s,t)+n.from,m.forward(s,t)?1:-1,m.level):Z.cursor(p+n.from,h.forward(s,t)?-1:1,h.level)}function cC(n,e,t){for(let r=e;r<t;r++){let s=jv(n.charCodeAt(r));if(s==1)return Ei;if(s==2||s==4)return vd}return Ei}const Hv=ve.define(),Wv=ve.define(),Qv=ve.define(),$v=ve.define(),Tf=ve.define(),Uv=ve.define(),Xv=ve.define(),xd=ve.define(),wd=ve.define(),Kv=ve.define({combine:n=>n.some(e=>e)}),qv=ve.define({combine:n=>n.some(e=>e)}),Yv=ve.define();class hs{constructor(e,t="nearest",r="nearest",s=5,l=5,a=!1){this.range=e,this.y=t,this.x=r,this.yMargin=s,this.xMargin=l,this.isSnapshot=a}map(e){return e.empty?this:new hs(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new hs(Z.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Pa=at.define({map:(n,e)=>n.map(e)}),Gv=at.define();function er(n,e,t){let r=n.facet($v);r.length?r[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const mr=ve.define({combine:n=>n.length?n[0]:!0});let hC=0;const is=ve.define({combine(n){return n.filter((e,t)=>{for(let r=0;r<t;r++)if(n[r].plugin==e.plugin)return!1;return!0})}});class In{constructor(e,t,r,s,l){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=s,this.baseExtensions=l(this),this.extension=this.baseExtensions.concat(is.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(is.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:r,eventObservers:s,provide:l,decorations:a}=t||{};return new In(hC++,e,r,s,c=>{let h=[];return a&&h.push($o.of(d=>{let p=d.plugin(c);return p?a(p):Ge.none})),l&&h.push(l(c)),h})}static fromClass(e,t){return In.define((r,s)=>new e(r,s),t)}}class Lh{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(er(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){er(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){er(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Jv=ve.define(),kd=ve.define(),$o=ve.define(),Zv=ve.define(),il=ve.define(),e1=ve.define();function o0(n,e){let t=n.state.facet(e1);if(!t.length)return t;let r=t.map(l=>l instanceof Function?l(n):l),s=[];return Ie.spans(r,e.from,e.to,{point(){},span(l,a,c,h){let d=l-e.from,p=a-e.from,m=s;for(let v=c.length-1;v>=0;v--,h--){let x=c[v].spec.bidiIsolate,k;if(x==null&&(x=cC(e.text,d,p)),h>0&&m.length&&(k=m[m.length-1]).to==d&&k.direction==x)k.to=p,m=k.inner;else{let S={from:d,to:p,direction:x,inner:[]};m.push(S),m=S.inner}}}}),s}const t1=ve.define();function n1(n){let e=0,t=0,r=0,s=0;for(let l of n.state.facet(t1)){let a=l(n);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(t=Math.max(t,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(s=Math.max(s,a.bottom)))}return{left:e,right:t,top:r,bottom:s}}const ko=ve.define();class mn{constructor(e,t,r,s){this.fromA=e,this.toA=t,this.fromB=r,this.toB=s}join(e){return new mn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>r.toA)){if(s.toA<r.fromA)break;r=r.join(s),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let s=0,l=0,a=0,c=0;;s++){let h=s==e.length?null:e[s],d=a-c,p=h?h.fromB:1e9;for(;l<t.length&&t[l]<p;){let m=t[l],v=t[l+1],x=Math.max(c,m),k=Math.min(p,v);if(x<=k&&new mn(x+d,k+d,x,k).addToSet(r),v>p)break;l+=2}if(!h)return r;new mn(h.fromA,h.toA,h.fromB,h.toB).addToSet(r),a=h.toA,c=h.toB}}}class cu{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=dt.empty(this.startState.doc.length);for(let l of r)this.changes=this.changes.compose(l.changes);let s=[];this.changes.iterChangedRanges((l,a,c,h)=>s.push(new mn(l,a,c,h))),this.changedRanges=s}static create(e,t,r){return new cu(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class l0 extends ze{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Ge.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new rt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new mn(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:d,toA:p})=>p<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?s=this.domChanged.newSel.head:!vC(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let l=s>-1?dC(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:d,to:p}=this.hasComposition;r=new mn(d,p,e.changes.mapPos(d,-1),e.changes.mapPos(p,1)).addToSet(r.slice())}this.hasComposition=l?{from:l.range.fromB,to:l.range.toB}:null,(ie.ie||ie.chrome)&&!l&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,c=this.updateDeco(),h=mC(a,c,e.changes);return r=mn.extendWithRanges(r,h),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,l),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=ie.chrome||ie.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||s.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let l=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof xr&&a.widget instanceof Mf&&l.push(a.dom);s.updateGaps(l)}updateChildren(e,t,r){let s=r?r.range.addToSet(e.slice()):e,l=this.childCursor(t);for(let a=s.length-1;;a--){let c=a>=0?s[a]:null;if(!c)break;let{fromA:h,toA:d,fromB:p,toB:m}=c,v,x,k,S;if(r&&r.range.fromB<m&&r.range.toB>p){let _=To.build(this.view.state.doc,p,r.range.fromB,this.decorations,this.dynamicDecorationMap),z=To.build(this.view.state.doc,r.range.toB,m,this.decorations,this.dynamicDecorationMap);x=_.breakAtStart,k=_.openStart,S=z.openEnd;let F=this.compositionView(r);z.breakAtStart?F.breakAfter=1:z.content.length&&F.merge(F.length,F.length,z.content[0],!1,z.openStart,0)&&(F.breakAfter=z.content[0].breakAfter,z.content.shift()),_.content.length&&F.merge(0,0,_.content[_.content.length-1],!0,0,_.openEnd)&&_.content.pop(),v=_.content.concat(F).concat(z.content)}else({content:v,breakAtStart:x,openStart:k,openEnd:S}=To.build(this.view.state.doc,p,m,this.decorations,this.dynamicDecorationMap));let{i:b,off:C}=l.findPos(d,1),{i:D,off:N}=l.findPos(h,-1);Rv(this,D,N,b,C,v,x,k,S)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(Gv)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new Ln(e.text.nodeValue);t.flags|=8;for(let{deco:s}of e.marks)t=new wr(s,[t],t.length);let r=new rt;return r.append(t,0),r}fixCompositionDOM(e){let t=(l,a)=>{a.flags|=8|(a.children.some(h=>h.flags&7)?1:0),this.markedForComposition.add(a);let c=ze.get(l);c&&c!=a&&(c.dom=null),a.setDOM(l)},r=this.childPos(e.range.fromB,1),s=this.children[r.i];t(e.line,s);for(let l=e.marks.length-1;l>=-1;l--)r=s.childPos(r.off,1),s=s.children[r.i],t(l>=0?e.marks[l].node:e.text,s)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,s=r==this.dom,l=!s&&!(this.view.state.facet(mr)||this.dom.tabIndex>-1)&&$a(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(s||t||l))return;let a=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,h=this.moveToLine(this.domAtPos(c.anchor)),d=c.empty?h:this.moveToLine(this.domAtPos(c.head));if(ie.gecko&&c.empty&&!this.hasComposition&&fC(h)){let m=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(m,h.node.childNodes[h.offset]||null)),h=d=new Et(m,0),a=!0}let p=this.view.observer.selectionRange;(a||!p.focusNode||(!Ro(h.node,h.offset,p.anchorNode,p.anchorOffset)||!Ro(d.node,d.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,c))&&(this.view.observer.ignore(()=>{ie.android&&ie.chrome&&this.dom.contains(p.focusNode)&&yC(p.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let m=Wo(this.view.root);if(m)if(c.empty){if(ie.gecko){let v=pC(h.node,h.offset);if(v&&v!=3){let x=(v==1?Mv:Ev)(h.node,h.offset);x&&(h=new Et(x.node,x.offset))}}m.collapse(h.node,h.offset),c.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=c.bidiLevel)}else if(m.extend){m.collapse(h.node,h.offset);try{m.extend(d.node,d.offset)}catch{}}else{let v=document.createRange();c.anchor>c.head&&([h,d]=[d,h]),v.setEnd(d.node,d.offset),v.setStart(h.node,h.offset),m.removeAllRanges(),m.addRange(v)}l&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(h,d)),this.impreciseAnchor=h.precise?null:new Et(p.anchorNode,p.anchorOffset),this.impreciseHead=d.precise?null:new Et(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Ro(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=Wo(e.root),{anchorNode:s,anchorOffset:l}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let a=rt.find(this,t.head);if(!a)return;let c=a.posAtStart;if(t.head==c||t.head==c+a.length)return;let h=this.coordsAt(t.head,-1),d=this.coordsAt(t.head,1);if(!h||!d||h.bottom>d.top)return;let p=this.domAtPos(t.head+t.assoc);r.collapse(p.node,p.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&r.collapse(s,l)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let s=e.offset;!r&&s<t.childNodes.length;s++){let l=ze.get(t.childNodes[s]);l instanceof rt&&(r=l.domAtPos(0))}for(let s=e.offset-1;!r&&s>=0;s--){let l=ze.get(t.childNodes[s]);l instanceof rt&&(r=l.domAtPos(l.length))}return r?new Et(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=ze.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let s=this.children[t];if(r<s.length||s instanceof rt)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,s=0;for(let l=this.length,a=this.children.length-1;a>=0;a--){let c=this.children[a],h=l-c.breakAfter,d=h-c.length;if(h<e)break;if(d<=e&&(d<e||c.covers(-1))&&(h>e||c.covers(1))&&(!r||c instanceof rt&&!(r instanceof rt&&t>=0)))r=c,s=d;else if(r&&d==e&&h==e&&c instanceof xr&&Math.abs(t)<2){if(c.deco.startSide<0)break;a&&(r=null)}l=d}return r?r.coordsAt(e-s,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),s=this.children[t];if(!(s instanceof rt))return null;for(;s.children.length;){let{i:c,off:h}=s.childPos(r,1);for(;;c++){if(c==s.children.length)return null;if((s=s.children[c]).length)break}r=h}if(!(s instanceof Ln))return null;let l=Bt(s.text,r);if(l==r)return null;let a=Mi(s.dom,r,l).getClientRects();for(let c=0;c<a.length;c++){let h=a[c];if(c==a.length-1||h.top<h.bottom&&h.left<h.right)return h}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:s}=e,l=this.view.contentDOM.clientWidth,a=l>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,h=this.view.textDirection==Ye.LTR;for(let d=0,p=0;p<this.children.length;p++){let m=this.children[p],v=d+m.length;if(v>s)break;if(d>=r){let x=m.dom.getBoundingClientRect();if(t.push(x.height),a){let k=m.dom.lastChild,S=k?Qo(k):[];if(S.length){let b=S[S.length-1],C=h?b.right-x.left:x.right-b.left;C>c&&(c=C,this.minWidth=l,this.minWidthFrom=d,this.minWidthTo=v)}}}d=v+m.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Ye.RTL:Ye.LTR}measureTextSize(){for(let l of this.children)if(l instanceof rt){let a=l.measureTextSize();if(a)return a}let e=document.createElement("div"),t,r,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let l=Qo(e.firstChild)[0];t=e.getBoundingClientRect().height,r=l?l.width/27:7,s=l?l.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:s}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Dv(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,s=0;;s++){let l=s==t.viewports.length?null:t.viewports[s],a=l?l.from-1:this.length;if(a>r){let c=(t.lineBlockAt(a).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(Ge.replace({widget:new Mf(c),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!l)break;r=l.to+1}return Ge.set(e)}updateDeco(){let e=1,t=this.view.state.facet($o).map(l=>(this.dynamicDecorationMap[e++]=typeof l=="function")?l(this.view):l),r=!1,s=this.view.state.facet(Zv).map((l,a)=>{let c=typeof l=="function";return c&&(r=!0),c?l(this.view):l});for(s.length&&(this.dynamicDecorationMap[e++]=r,t.push(Ie.join(s))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let d=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=d.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let d of this.view.state.facet(Yv))try{if(d(this.view,e.range,e))return!0}catch(p){er(this.view.state,p,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!r)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,s.left),top:Math.min(r.top,s.top),right:Math.max(r.right,s.right),bottom:Math.max(r.bottom,s.bottom)});let l=n1(this.view),a={left:r.left-l.left,top:r.top-l.top,right:r.right+l.right,bottom:r.bottom+l.bottom},{offsetWidth:c,offsetHeight:h}=this.view.scrollDOM;$O(this.view.scrollDOM,a,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,h),-h),this.view.textDirection==Ye.LTR)}lineHasWidget(e){let{i:t}=this.childCursor().findPos(e);if(t==this.children.length)return!1;let r=s=>s instanceof Yr||s.children.some(r);return r(this.children[t])}}function fC(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function r1(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=Mv(t.focusNode,t.focusOffset),s=Ev(t.focusNode,t.focusOffset),l=r||s;if(s&&r&&s.node!=r.node){let c=ze.get(s.node);if(!c||c instanceof Ln&&c.text!=s.node.nodeValue)l=s;else if(n.docView.lastCompositionAfterCursor){let h=ze.get(r.node);!h||h instanceof Ln&&h.text!=r.node.nodeValue||(l=s)}}if(n.docView.lastCompositionAfterCursor=l!=r,!l)return null;let a=e-l.offset;return{from:a,to:a+l.node.nodeValue.length,node:l.node}}function dC(n,e,t){let r=r1(n,t);if(!r)return null;let{node:s,from:l,to:a}=r,c=s.nodeValue;if(/[\n\r]/.test(c)||n.state.doc.sliceString(r.from,r.to)!=c)return null;let h=e.invertedDesc,d=new mn(h.mapPos(l),h.mapPos(a),l,a),p=[];for(let m=s.parentNode;;m=m.parentNode){let v=ze.get(m);if(v instanceof wr)p.push({node:m,deco:v.mark});else{if(v instanceof rt||m.nodeName=="DIV"&&m.parentNode==n.contentDOM)return{range:d,text:s,marks:p,line:m};if(m!=n.contentDOM)p.push({node:m,deco:new nl({inclusive:!0,attributes:eC(m),tagName:m.tagName.toLowerCase()})});else return null}}}function pC(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let gC=class{constructor(){this.changes=[]}compareRange(e,t){Ua(e,t,this.changes)}comparePoint(e,t){Ua(e,t,this.changes)}boundChange(e){Ua(e,e,this.changes)}};function mC(n,e,t){let r=new gC;return Ie.compare(n,e,t,r),r.changes}function yC(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function vC(n,e){let t=!1;return e&&n.iterChangedRanges((r,s)=>{r<e.to&&s>e.from&&(t=!0)}),t}function xC(n,e,t=1){let r=n.charCategorizer(e),s=n.doc.lineAt(e),l=e-s.from;if(s.length==0)return Z.cursor(e);l==0?t=1:l==s.length&&(t=-1);let a=l,c=l;t<0?a=Bt(s.text,l,!1):c=Bt(s.text,l);let h=r(s.text.slice(a,c));for(;a>0;){let d=Bt(s.text,a,!1);if(r(s.text.slice(d,a))!=h)break;a=d}for(;c<s.length;){let d=Bt(s.text,c);if(r(s.text.slice(c,d))!=h)break;c=d}return Z.range(a+s.from,c+s.from)}function wC(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function kC(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Ih(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function a0(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function u0(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function Nf(n,e,t){let r,s,l,a,c=!1,h,d,p,m;for(let k=n.firstChild;k;k=k.nextSibling){let S=Qo(k);for(let b=0;b<S.length;b++){let C=S[b];s&&Ih(s,C)&&(C=a0(u0(C,s.bottom),s.top));let D=wC(e,C),N=kC(t,C);if(D==0&&N==0)return k.nodeType==3?c0(k,e,t):Nf(k,e,t);(!r||a>N||a==N&&l>D)&&(r=k,s=C,l=D,a=N,c=D?e<C.left?b>0:b<S.length-1:!0),D==0?t>C.bottom&&(!p||p.bottom<C.bottom)?(h=k,p=C):t<C.top&&(!m||m.top>C.top)&&(d=k,m=C):p&&Ih(p,C)?p=u0(p,C.bottom):m&&Ih(m,C)&&(m=a0(m,C.top))}}if(p&&p.bottom>=t?(r=h,s=p):m&&m.top<=t&&(r=d,s=m),!r)return{node:n,offset:0};let v=Math.max(s.left,Math.min(s.right,e));if(r.nodeType==3)return c0(r,v,t);if(c&&r.contentEditable!="false")return Nf(r,v,t);let x=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(s.left+s.right)/2?1:0);return{node:n,offset:x}}function c0(n,e,t){let r=n.nodeValue.length,s=-1,l=1e9,a=0;for(let c=0;c<r;c++){let h=Mi(n,c,c+1).getClientRects();for(let d=0;d<h.length;d++){let p=h[d];if(p.top==p.bottom)continue;a||(a=e-p.left);let m=(p.top>t?p.top-t:t-p.bottom)-1;if(p.left-1<=e&&p.right+1>=e&&m<l){let v=e>=(p.left+p.right)/2,x=v;if(ie.chrome||ie.gecko){let k=Mi(n,c).getBoundingClientRect();Math.abs(k.left-p.right)<.1&&(x=!v)}if(m<=0)return{node:n,offset:c+(x?1:0)};s=c+(x?1:0),l=m}}}return{node:n,offset:s>-1?s:a>0?n.nodeValue.length:0}}function i1(n,e,t,r=-1){var s,l;let a=n.contentDOM.getBoundingClientRect(),c=a.top+n.viewState.paddingTop,h,{docHeight:d}=n.viewState,{x:p,y:m}=e,v=m-c;if(v<0)return 0;if(v>d)return n.state.doc.length;for(let _=n.viewState.heightOracle.textHeight/2,z=!1;h=n.elementAtHeight(v),h.type!=zt.Text;)for(;v=r>0?h.bottom+_:h.top-_,!(v>=0&&v<=d);){if(z)return t?null:0;z=!0,r=-r}m=c+v;let x=h.from;if(x<n.viewport.from)return n.viewport.from==0?0:t?null:h0(n,a,h,p,m);if(x>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:h0(n,a,h,p,m);let k=n.dom.ownerDocument,S=n.root.elementFromPoint?n.root:k,b=S.elementFromPoint(p,m);b&&!n.contentDOM.contains(b)&&(b=null),b||(p=Math.max(a.left+1,Math.min(a.right-1,p)),b=S.elementFromPoint(p,m),b&&!n.contentDOM.contains(b)&&(b=null));let C,D=-1;if(b&&((s=n.docView.nearest(b))===null||s===void 0?void 0:s.isEditable)!=!1){if(k.caretPositionFromPoint){let _=k.caretPositionFromPoint(p,m);_&&({offsetNode:C,offset:D}=_)}else if(k.caretRangeFromPoint){let _=k.caretRangeFromPoint(p,m);_&&({startContainer:C,startOffset:D}=_)}C&&(!n.contentDOM.contains(C)||ie.safari&&SC(C,D,p)||ie.chrome&&bC(C,D,p))&&(C=void 0),C&&(D=Math.min(nr(C),D))}if(!C||!n.docView.dom.contains(C)){let _=rt.find(n.docView,x);if(!_)return v>h.top+h.height/2?h.to:h.from;({node:C,offset:D}=Nf(_.dom,p,m))}let N=n.docView.nearest(C);if(!N)return null;if(N.isWidget&&((l=N.dom)===null||l===void 0?void 0:l.nodeType)==1){let _=N.dom.getBoundingClientRect();return e.y<_.top||e.y<=_.bottom&&e.x<=(_.left+_.right)/2?N.posAtStart:N.posAtEnd}else return N.localPosFromDOM(C,D)+N.posAtStart}function h0(n,e,t,r,s){let l=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let c=n.viewState.heightOracle.textHeight,h=Math.floor((s-t.top-(n.defaultLineHeight-c)*.5)/c);l+=h*n.viewState.heightOracle.lineLength}let a=n.state.sliceDoc(t.from,t.to);return t.from+jO(a,l,n.state.tabSize)}function s1(n,e,t){let r,s=n;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(;;){let l=s.nextSibling;if(l){if(l.nodeName=="BR")break;return!1}else{let a=s.parentNode;if(!a||a.nodeName=="DIV")break;s=a}}return Mi(n,r-1,r).getBoundingClientRect().right>t}function SC(n,e,t){return s1(n,e,t)}function bC(n,e,t){if(e!=0)return s1(n,e,t);for(let s=n;;){let l=s.parentNode;if(!l||l.nodeType!=1||l.firstChild!=s)return!1;if(l.classList.contains("cm-line"))break;s=l}let r=n.nodeType==1?n.getBoundingClientRect():Mi(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function Lf(n,e,t){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){let s;for(let l of r.type){if(l.from>e)break;if(!(l.to<e)){if(l.from<e&&l.to>e)return l;(!s||l.type==zt.Text&&(s.type!=l.type||(t<0?l.from<e:l.to>e)))&&(s=l)}}return s||r}return r}function OC(n,e,t,r){let s=Lf(n,e.head,e.assoc||-1),l=!r||s.type!=zt.Text||!(n.lineWrapping||s.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(l){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(s.from),h=n.posAtCoords({x:t==(c==Ye.LTR)?a.right-1:a.left+1,y:(l.top+l.bottom)/2});if(h!=null)return Z.cursor(h,t?-1:1)}return Z.cursor(t?s.to:s.from,t?-1:1)}function f0(n,e,t,r){let s=n.state.doc.lineAt(e.head),l=n.bidiSpans(s),a=n.textDirectionAt(s.from);for(let c=e,h=null;;){let d=uC(s,l,a,c,t),p=Vv;if(!d){if(s.number==(t?n.state.doc.lines:1))return c;p=`
`,s=n.state.doc.line(s.number+(t?1:-1)),l=n.bidiSpans(s),d=n.visualLineSide(s,!t)}if(h){if(!h(p))return c}else{if(!r)return d;h=r(p)}c=d}}function CC(n,e,t){let r=n.state.charCategorizer(e),s=r(t);return l=>{let a=r(l);return s==yr.Space&&(s=a),s==a}}function PC(n,e,t,r){let s=e.head,l=t?1:-1;if(s==(t?n.state.doc.length:0))return Z.cursor(s,e.assoc);let a=e.goalColumn,c,h=n.contentDOM.getBoundingClientRect(),d=n.coordsAtPos(s,e.assoc||-1),p=n.documentTop;if(d)a==null&&(a=d.left-h.left),c=l<0?d.top:d.bottom;else{let x=n.viewState.lineBlockAt(s);a==null&&(a=Math.min(h.right-h.left,n.defaultCharacterWidth*(s-x.from))),c=(l<0?x.top:x.bottom)+p}let m=h.left+a,v=r??n.viewState.heightOracle.textHeight>>1;for(let x=0;;x+=10){let k=c+(v+x)*l,S=i1(n,{x:m,y:k},!1,l);if(k<h.top||k>h.bottom||(l<0?S<s:S>s)){let b=n.docView.coordsForChar(S),C=!b||k<b.top?-1:1;return Z.cursor(S,C,void 0,a)}}}function No(n,e,t){for(;;){let r=0;for(let s of n)s.between(e-1,e+1,(l,a,c)=>{if(e>l&&e<a){let h=r||t||(e-l<a-e?-1:1);e=h<0?l:a,r=h}});if(!r)return e}}function o1(n,e){let t=null;for(let r=0;r<e.ranges.length;r++){let s=e.ranges[r],l=null;if(s.empty){let a=No(n,s.from,0);a!=s.from&&(l=Z.cursor(a,-1))}else{let a=No(n,s.from,-1),c=No(n,s.to,1);(a!=s.from||c!=s.to)&&(l=Z.range(s.from==s.anchor?a:c,s.from==s.head?a:c))}l&&(t||(t=e.ranges.slice()),t[r]=l)}return t?Z.create(t,e.mainIndex):e}function Bh(n,e,t){let r=No(n.state.facet(il).map(s=>s(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:Z.cursor(r,r<t.from?1:-1)}const So="";class AC{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Le.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=So}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let s=e;;){this.findPointBefore(r,s);let l=this.text.length;this.readNode(s);let a=s.nextSibling;if(a==t)break;let c=ze.get(s),h=ze.get(a);(c&&h?c.breakAfter:(c?c.breakAfter:au(s))||au(a)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>l)&&!EC(a,t)&&this.lineBreak(),s=a}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let l=-1,a=1,c;if(this.lineSeparator?(l=t.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(c=s.exec(t))&&(l=c.index,a=c[0].length),this.append(t.slice(r,l<0?t.length:l)),l<0)break;if(this.lineBreak(),a>1)for(let h of this.points)h.node==e&&h.pos>this.text.length&&(h.pos-=a-1);r=l+a}}readNode(e){if(e.cmIgnore)return;let t=ze.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let s=r.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(MC(e,r.node,r.offset)?t:0))}}function MC(n,e,t){for(;;){if(!e||t<nr(e))return!1;if(e==n)return!0;t=Ai(e)+1,e=e.parentNode}}function EC(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let r=ze.get(n);if(!(r!=null&&r.isWidget||n.cmIgnore))return!1;r&&(t||(t=[])).push(r)}if(t)for(let r of t){let s=r.overrideDOMText;if(s!=null&&s.length)return!1}return!0}class d0{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class DC{constructor(e,t,r,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:l,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let c=l||a?[]:TC(e),h=new AC(c,e.state);h.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=h.text,this.newSel=NC(c,this.bounds.from)}else{let c=e.observer.selectionRange,h=l&&l.node==c.focusNode&&l.offset==c.focusOffset||!Cf(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),d=a&&a.node==c.anchorNode&&a.offset==c.anchorOffset||!Cf(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),p=e.viewport;if((ie.ios||ie.chrome)&&e.state.selection.main.empty&&h!=d&&(p.from>0||p.to<e.state.doc.length)){let m=Math.min(h,d),v=Math.max(h,d),x=p.from-m,k=p.to-v;(x==0||x==1||m==0)&&(k==0||k==-1||v==e.state.doc.length)&&(h=0,d=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(Z.range(d,h)):this.newSel=Z.single(d,h)}}}function l1(n,e){let t,{newSel:r}=e,s=n.state.selection.main,l=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:c}=e.bounds,h=s.from,d=null;(l===8||ie.android&&e.text.length<c-a)&&(h=s.to,d="end");let p=a1(n.state.doc.sliceString(a,c,So),e.text,h-a,d);p&&(ie.chrome&&l==13&&p.toB==p.from+2&&e.text.slice(p.from,p.toB)==So+So&&p.toB--,t={from:a+p.from,to:a+p.toA,insert:Re.of(e.text.slice(p.from,p.toB).split(So))})}else r&&(!n.hasFocus&&n.state.facet(mr)||r.main.eq(s))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!s.empty&&r&&r.main.empty?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:(ie.mac||ie.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=Z.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:Re.of([t.insert.toString().replace("."," ")])}):t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,s.to))}:n.state.doc.lineAt(s.from).to<s.to&&n.docView.lineHasWidget(s.to)&&n.inputState.insertingTextAt>Date.now()-50?t={from:s.from,to:s.to,insert:n.state.toText(n.inputState.insertingText)}:ie.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=Z.single(r.main.anchor-1,r.main.head-1)),t={from:s.from,to:s.to,insert:Re.of([" "])}),t)return Sd(n,t,r,l);if(r&&!r.main.eq(s)){let a=!1,c="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(a=!0),c=n.inputState.lastSelectionOrigin,c=="select.pointer"&&(r=o1(n.state.facet(il).map(h=>h(n)),r))),n.dispatch({selection:r,scrollIntoView:a,userEvent:c}),!0}else return!1}function Sd(n,e,t,r=-1){if(ie.ios&&n.inputState.flushIOSKey(e))return!0;let s=n.state.selection.main;if(ie.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&n.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&cs(n.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&cs(n.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&cs(n.contentDOM,"Delete",46)))return!0;let l=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let a,c=()=>a||(a=RC(n,e,t));return n.state.facet(Uv).some(h=>h(n,e.from,e.to,l,c))||n.dispatch(c()),!0}function RC(n,e,t){let r,s=n.state,l=s.selection.main,a=-1;if(e.from==e.to&&e.from<l.from||e.from>l.to){let h=e.from<l.from?-1:1,d=h<0?l.from:l.to,p=No(s.facet(il).map(m=>m(n)),d,h);e.from==p&&(a=p)}if(a>-1)r={changes:e,selection:Z.cursor(e.from+e.insert.length,-1)};else if(e.from>=l.from&&e.to<=l.to&&e.to-e.from>=(l.to-l.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let h=l.from<e.from?s.sliceDoc(l.from,e.from):"",d=l.to>e.to?s.sliceDoc(e.to,l.to):"";r=s.replaceSelection(n.state.toText(h+e.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let h=s.changes(e),d=t&&t.main.to<=h.newLength?t.main:void 0;if(s.selection.ranges.length>1&&(n.inputState.composing>=0||n.inputState.compositionPendingChange)&&e.to<=l.to+10&&e.to>=l.to-10){let p=n.state.sliceDoc(e.from,e.to),m,v=t&&r1(n,t.main.head);if(v){let k=e.insert.length-(e.to-e.from);m={from:v.from,to:v.to-k}}else m=n.state.doc.lineAt(l.head);let x=l.to-e.to;r=s.changeByRange(k=>{if(k.from==l.from&&k.to==l.to)return{changes:h,range:d||k.map(h)};let S=k.to-x,b=S-p.length;if(n.state.sliceDoc(b,S)!=p||S>=m.from&&b<=m.to)return{range:k};let C=s.changes({from:b,to:S,insert:e.insert}),D=k.to-l.to;return{changes:C,range:d?Z.range(Math.max(0,d.anchor+D),Math.max(0,d.head+D)):k.map(C)}})}else r={changes:h,selection:d&&s.selection.replaceRange(d)}}let c="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,c+=".compose",n.inputState.compositionFirstChange&&(c+=".start",n.inputState.compositionFirstChange=!1)),s.update(r,{userEvent:c,scrollIntoView:!0})}function a1(n,e,t,r){let s=Math.min(n.length,e.length),l=0;for(;l<s&&n.charCodeAt(l)==e.charCodeAt(l);)l++;if(l==s&&n.length==e.length)return null;let a=n.length,c=e.length;for(;a>0&&c>0&&n.charCodeAt(a-1)==e.charCodeAt(c-1);)a--,c--;if(r=="end"){let h=Math.max(0,l-Math.min(a,c));t-=a+h-l}if(a<l&&n.length<e.length){let h=t<=l&&t>=a?l-t:0;l-=h,c=l+(c-a),a=l}else if(c<l){let h=t<=l&&t>=c?l-t:0;l-=h,a=l+(a-c),c=l}return{from:l,toA:a,toB:c}}function TC(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:l}=n.observer.selectionRange;return t&&(e.push(new d0(t,r)),(s!=t||l!=r)&&e.push(new d0(s,l))),e}function NC(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?Z.single(t+e,r+e):null}class LC{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ie.safari&&e.contentDOM.addEventListener("input",()=>null),ie.gecko&&YC(e.contentDOM.ownerDocument)}handleEvent(e){!HC(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let s of r.observers)s(this.view,t);for(let s of r.handlers){if(t.defaultPrevented)break;if(s(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=IC(e),r=this.handlers,s=this.view.contentDOM;for(let l in t)if(l!="scroll"){let a=!t[l].handlers.length,c=r[l];c&&a!=!c.handlers.length&&(s.removeEventListener(l,this.handleEvent),c=null),c||s.addEventListener(l,this.handleEvent,{passive:a})}for(let l in r)l!="scroll"&&!t[l]&&s.removeEventListener(l,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&c1.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ie.android&&ie.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ie.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=u1.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||BC.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,cs(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:ie.safari&&!ie.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function p0(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(s){er(t.state,s)}}}function IC(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let s=r.spec,l=s&&s.plugin.domEventHandlers,a=s&&s.plugin.domEventObservers;if(l)for(let c in l){let h=l[c];h&&t(c).handlers.push(p0(r.value,h))}if(a)for(let c in a){let h=a[c];h&&t(c).observers.push(p0(r.value,h))}}for(let r in Bn)t(r).handlers.push(Bn[r]);for(let r in vn)t(r).observers.push(vn[r]);return e}const u1=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],BC="dthko",c1=[16,17,18,20,91,92,224,225],Aa=6;function Ma(n){return Math.max(0,n)*.7+8}function zC(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class jC{constructor(e,t,r,s){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=UO(e.contentDOM),this.atoms=e.state.facet(il).map(a=>a(e));let l=e.contentDOM.ownerDocument;l.addEventListener("mousemove",this.move=this.move.bind(this)),l.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Le.allowMultipleSelections)&&FC(e,t),this.dragging=VC(e,t)&&d1(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&zC(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,s=0,l=0,a=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:l,bottom:c}=this.scrollParents.y.getBoundingClientRect());let h=n1(this.view);e.clientX-h.left<=s+Aa?t=-Ma(s-e.clientX):e.clientX+h.right>=a-Aa&&(t=Ma(e.clientX-a)),e.clientY-h.top<=l+Aa?r=-Ma(l-e.clientY):e.clientY+h.bottom>=c-Aa&&(r=Ma(e.clientY-c)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,r=o1(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function FC(n,e){let t=n.state.facet(Hv);return t.length?t[0](e):ie.mac?e.metaKey:e.ctrlKey}function _C(n,e){let t=n.state.facet(Wv);return t.length?t[0](e):ie.mac?!e.altKey:!e.ctrlKey}function VC(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=Wo(n.root);if(!r||r.rangeCount==0)return!0;let s=r.getRangeAt(0).getClientRects();for(let l=0;l<s.length;l++){let a=s[l];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function HC(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=ze.get(t))&&r.ignoreEvent(e))return!1;return!0}const Bn=Object.create(null),vn=Object.create(null),h1=ie.ie&&ie.ie_version<15||ie.ios&&ie.webkit_version<604;function WC(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),f1(n,t.value)},50)}function Ru(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function f1(n,e){e=Ru(n.state,xd,e);let{state:t}=n,r,s=1,l=t.toText(e),a=l.lines==t.selection.ranges.length;if(If!=null&&t.selection.ranges.every(h=>h.empty)&&If==l.toString()){let h=-1;r=t.changeByRange(d=>{let p=t.doc.lineAt(d.from);if(p.from==h)return{range:d};h=p.from;let m=t.toText((a?l.line(s++).text:e)+t.lineBreak);return{changes:{from:p.from,insert:m},range:Z.cursor(d.from+m.length)}})}else a?r=t.changeByRange(h=>{let d=l.line(s++);return{changes:{from:h.from,to:h.to,insert:d.text},range:Z.cursor(h.from+d.length)}}):r=t.replaceSelection(l);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}vn.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Bn.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);vn.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};vn.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Bn.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(Qv))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=UC(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new jC(n,e,t,r)),r&&n.observer.ignore(()=>{Cv(n.contentDOM);let l=n.root.activeElement;l&&!l.contains(n.contentDOM)&&l.blur()});let s=n.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function g0(n,e,t,r){if(r==1)return Z.cursor(e,t);if(r==2)return xC(n.state,e,t);{let s=rt.find(n.docView,e),l=n.state.doc.lineAt(s?s.posAtEnd:e),a=s?s.posAtStart:l.from,c=s?s.posAtEnd:l.to;return c<n.state.doc.length&&c==l.to&&c++,Z.range(a,c)}}let m0=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function QC(n,e,t,r){let s=rt.find(n.docView,e);if(!s)return 1;let l=e-s.posAtStart;if(l==0)return 1;if(l==s.length)return-1;let a=s.coordsAt(l,-1);if(a&&m0(t,r,a))return-1;let c=s.coordsAt(l,1);return c&&m0(t,r,c)?1:a&&a.bottom>=r?-1:1}function y0(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:QC(n,t,e.clientX,e.clientY)}}const $C=ie.ie&&ie.ie_version<=11;let v0=null,x0=0,w0=0;function d1(n){if(!$C)return n.detail;let e=v0,t=w0;return v0=n,w0=Date.now(),x0=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(x0+1)%3:1}function UC(n,e){let t=y0(n,e),r=d1(e),s=n.state.selection;return{update(l){l.docChanged&&(t.pos=l.changes.mapPos(t.pos),s=s.map(l.changes))},get(l,a,c){let h=y0(n,l),d,p=g0(n,h.pos,h.bias,r);if(t.pos!=h.pos&&!a){let m=g0(n,t.pos,t.bias,r),v=Math.min(m.from,p.from),x=Math.max(m.to,p.to);p=v<p.from?Z.range(v,x):Z.range(x,v)}return a?s.replaceRange(s.main.extend(p.from,p.to)):c&&r==1&&s.ranges.length>1&&(d=XC(s,h.pos))?d:c?s.addRange(p):Z.create([p])}}}function XC(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:s}=n.ranges[t];if(r<=e&&s>=e)return Z.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Bn.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let s=n.docView.nearest(e.target);if(s&&s.isWidget){let l=s.posAtStart,a=l+s.length;(l>=t.to||a<=t.from)&&(t=Z.range(l,a))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Ru(n.state,wd,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Bn.dragend=n=>(n.inputState.draggedContent=null,!1);function k0(n,e,t,r){if(t=Ru(n.state,xd,t),!t)return;let s=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:l}=n.inputState,a=r&&l&&_C(n,e)?{from:l.from,to:l.to}:null,c={from:s,insert:t},h=n.state.changes(a?[a,c]:c);n.focus(),n.dispatch({changes:h,selection:{anchor:h.mapPos(s,-1),head:h.mapPos(s,1)},userEvent:a?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Bn.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),s=0,l=()=>{++s==t.length&&k0(n,e,r.filter(a=>a!=null).join(n.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let c=new FileReader;c.onerror=l,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(r[a]=c.result),l()},c.readAsText(t[a])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return k0(n,e,r,!0),!0}return!1};Bn.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=h1?null:e.clipboardData;return t?(f1(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(WC(n),!1)};function KC(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function qC(n){let e=[],t=[],r=!1;for(let s of n.selection.ranges)s.empty||(e.push(n.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:l}of n.selection.ranges){let a=n.doc.lineAt(l);a.number>s&&(e.push(a.text),t.push({from:a.from,to:Math.min(n.doc.length,a.to+1)})),s=a.number}r=!0}return{text:Ru(n,wd,e.join(n.lineBreak)),ranges:t,linewise:r}}let If=null;Bn.copy=Bn.cut=(n,e)=>{let{text:t,ranges:r,linewise:s}=qC(n.state);if(!t&&!s)return!1;If=s?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let l=h1?null:e.clipboardData;return l?(l.clearData(),l.setData("text/plain",t),!0):(KC(n,t),!1)};const p1=Os.define();function g1(n,e){let t=[];for(let r of n.facet(Xv)){let s=r(n,e);s&&t.push(s)}return t.length?n.update({effects:t,annotations:p1.of(!0)}):null}function m1(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=g1(n.state,e);t?n.dispatch(t):n.update([])}},10)}vn.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),m1(n)};vn.blur=n=>{n.observer.clearSelectionRange(),m1(n)};vn.compositionstart=vn.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};vn.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ie.chrome&&ie.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};vn.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Bn.beforeinput=(n,e)=>{var t,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(n.inputState.insertingText=e.data,n.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&n.observer.editContext){let l=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),a=e.getTargetRanges();if(l&&a.length){let c=a[0],h=n.posAtDOM(c.startContainer,c.startOffset),d=n.posAtDOM(c.endContainer,c.endOffset);return Sd(n,{from:h,to:d,insert:n.state.toText(l)},null),!0}}let s;if(ie.chrome&&ie.android&&(s=u1.find(l=>l.inputType==e.inputType))&&(n.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let l=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>l+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ie.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),ie.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>vn.compositionend(n,e),20),!1};const S0=new Set;function YC(n){S0.has(n)||(S0.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const b0=["pre-wrap","normal","pre-line","break-spaces"];let ys=!1;function O0(){ys=!1}class GC{constructor(e){this.lineWrapping=e,this.doc=Re.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return b0.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let s=e[r];s<0?r++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,r,s,l,a){let c=b0.indexOf(e)>-1,h=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=r,this.textHeight=s,this.lineLength=l,h){this.heightSamples={};for(let d=0;d<a.length;d++){let p=a[d];p<0?d++:this.heightSamples[Math.floor(p*10)]=!0}}return h}}class JC{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Zn{constructor(e,t,r,s,l){this.from=e,this.length=t,this.top=r,this.height=s,this._content=l}get type(){return typeof this._content=="number"?zt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ni?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Zn(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var We=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})(We||(We={}));const Xa=.001;class jt{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Xa&&(ys=!0),this.height=e)}replace(e,t,r){return jt.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,s){let l=this,a=r.doc;for(let c=s.length-1;c>=0;c--){let{fromA:h,toA:d,fromB:p,toB:m}=s[c],v=l.lineAt(h,We.ByPosNoHeight,r.setDoc(t),0,0),x=v.to>=d?v:l.lineAt(d,We.ByPosNoHeight,r,0,0);for(m+=x.to-d,d=x.to;c>0&&v.from<=s[c-1].toA;)h=s[c-1].fromA,p=s[c-1].fromB,c--,h<v.from&&(v=l.lineAt(h,We.ByPosNoHeight,r,0,0));p+=v.from-h,h=v.from;let k=bd.build(r.setDoc(a),e,p,m);l=hu(l,l.replace(h,d,k))}return l.updateHeight(r,0)}static empty(){return new nn(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,s=0,l=0;for(;;)if(t==r)if(s>l*2){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),r+=1+c.break,s-=c.size}else if(l>s*2){let c=e[r];c.break?e.splice(r,1,c.left,null,c.right):e.splice(r,1,c.left,c.right),r+=2+c.break,l-=c.size}else break;else if(s<l){let c=e[t++];c&&(s+=c.size)}else{let c=e[--r];c&&(l+=c.size)}let a=0;return e[t-1]==null?(a=1,t--):e[t]==null&&(a=1,r++),new ZC(jt.of(e.slice(0,t)),a,jt.of(e.slice(r)))}}function hu(n,e){return n==e?n:(n.constructor!=e.constructor&&(ys=!0),e)}jt.prototype.size=1;class y1 extends jt{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,s){return new Zn(s,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,s,l){return this.blockAt(0,r,s,l)}forEachLine(e,t,r,s,l,a){e<=l+this.length&&t>=l&&a(this.blockAt(0,r,s,l))}updateHeight(e,t=0,r=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class nn extends y1{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,s){return new Zn(s,this.length,r,this.height,this.breaks)}replace(e,t,r){let s=r[0];return r.length==1&&(s instanceof nn||s instanceof vt&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof vt?s=new nn(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):jt.of(r)}updateHeight(e,t=0,r=!1,s){return s&&s.from<=t&&s.more?this.setHeight(s.heights[s.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class vt extends jt{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,l=s-r+1,a,c=0;if(e.lineWrapping){let h=Math.min(this.height,e.lineHeight*l);a=h/l,this.length>l+1&&(c=(this.height-h)/(this.length-l-1))}else a=this.height/l;return{firstLine:r,lastLine:s,perLine:a,perChar:c}}blockAt(e,t,r,s){let{firstLine:l,lastLine:a,perLine:c,perChar:h}=this.heightMetrics(t,s);if(t.lineWrapping){let d=s+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),p=t.doc.lineAt(d),m=c+p.length*h,v=Math.max(r,e-m/2);return new Zn(p.from,p.length,v,m,0)}else{let d=Math.max(0,Math.min(a-l,Math.floor((e-r)/c))),{from:p,length:m}=t.doc.line(l+d);return new Zn(p,m,r+c*d,c,0)}}lineAt(e,t,r,s,l){if(t==We.ByHeight)return this.blockAt(e,r,s,l);if(t==We.ByPosNoHeight){let{from:x,to:k}=r.doc.lineAt(e);return new Zn(x,k-x,0,0,0)}let{firstLine:a,perLine:c,perChar:h}=this.heightMetrics(r,l),d=r.doc.lineAt(e),p=c+d.length*h,m=d.number-a,v=s+c*m+h*(d.from-l-m);return new Zn(d.from,d.length,Math.max(s,Math.min(v,s+this.height-p)),p,0)}forEachLine(e,t,r,s,l,a){e=Math.max(e,l),t=Math.min(t,l+this.length);let{firstLine:c,perLine:h,perChar:d}=this.heightMetrics(r,l);for(let p=e,m=s;p<=t;){let v=r.doc.lineAt(p);if(p==e){let k=v.number-c;m+=h*k+d*(e-l-k)}let x=h+d*v.length;a(new Zn(v.from,v.length,m,x,0)),m+=x,p=v.to+1}}replace(e,t,r){let s=this.length-t;if(s>0){let l=r[r.length-1];l instanceof vt?r[r.length-1]=new vt(l.length+s):r.push(null,new vt(s-1))}if(e>0){let l=r[0];l instanceof vt?r[0]=new vt(e+l.length):r.unshift(new vt(e-1),null)}return jt.of(r)}decomposeLeft(e,t){t.push(new vt(e-1),null)}decomposeRight(e,t){t.push(null,new vt(this.length-e-1))}updateHeight(e,t=0,r=!1,s){let l=t+this.length;if(s&&s.from<=t+this.length&&s.more){let a=[],c=Math.max(t,s.from),h=-1;for(s.from>t&&a.push(new vt(s.from-t-1).updateHeight(e,t));c<=l&&s.more;){let p=e.doc.lineAt(c).length;a.length&&a.push(null);let m=s.heights[s.index++];h==-1?h=m:Math.abs(m-h)>=Xa&&(h=-2);let v=new nn(p,m);v.outdated=!1,a.push(v),c+=p+1}c<=l&&a.push(null,new vt(l-c).updateHeight(e,c));let d=jt.of(a);return(h<0||Math.abs(d.height-this.height)>=Xa||Math.abs(h-this.heightMetrics(e,t).perLine)>=Xa)&&(ys=!0),hu(this,d)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class ZC extends jt{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,s){let l=r+this.left.height;return e<l?this.left.blockAt(e,t,r,s):this.right.blockAt(e,t,l,s+this.left.length+this.break)}lineAt(e,t,r,s,l){let a=s+this.left.height,c=l+this.left.length+this.break,h=t==We.ByHeight?e<a:e<c,d=h?this.left.lineAt(e,t,r,s,l):this.right.lineAt(e,t,r,a,c);if(this.break||(h?d.to<c:d.from>c))return d;let p=t==We.ByPosNoHeight?We.ByPosNoHeight:We.ByPos;return h?d.join(this.right.lineAt(c,p,r,a,c)):this.left.lineAt(c,p,r,s,l).join(d)}forEachLine(e,t,r,s,l,a){let c=s+this.left.height,h=l+this.left.length+this.break;if(this.break)e<h&&this.left.forEachLine(e,t,r,s,l,a),t>=h&&this.right.forEachLine(e,t,r,c,h,a);else{let d=this.lineAt(h,We.ByPos,r,s,l);e<d.from&&this.left.forEachLine(e,d.from-1,r,s,l,a),d.to>=e&&d.from<=t&&a(d),t>d.to&&this.right.forEachLine(d.to+1,t,r,c,h,a)}}replace(e,t,r){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,r));let l=[];e>0&&this.decomposeLeft(e,l);let a=l.length;for(let c of r)l.push(c);if(e>0&&C0(l,a-1),t<this.length){let c=l.length;this.decomposeRight(t,l),C0(l,c)}return jt.of(l)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,s=r+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?jt.of(this.break?[e,null,t]:[e,t]):(this.left=hu(this.left,e),this.right=hu(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,s){let{left:l,right:a}=this,c=t+l.length+this.break,h=null;return s&&s.from<=t+l.length&&s.more?h=l=l.updateHeight(e,t,r,s):l.updateHeight(e,t,r),s&&s.from<=c+a.length&&s.more?h=a=a.updateHeight(e,c,r,s):a.updateHeight(e,c,r),h?this.balanced(l,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function C0(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof vt&&(r=n[e+1])instanceof vt&&n.splice(e-1,3,new vt(t.length+1+r.length))}const e2=5;class bd{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof nn?s.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new nn(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let s=r.widget?r.widget.estimatedHeight:0,l=r.widget?r.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let a=t-e;r.block?this.addBlock(new y1(a,s,r)):(a||l||s>=e2)&&this.addLineDeco(s,l,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new nn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new vt(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof nn)return e;let t=new nn(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let s=this.ensureLine();s.length+=r,s.collapsed+=r,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof nn)&&!this.isCovered?this.nodes.push(new nn(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let s of this.nodes)s instanceof nn&&s.updateHeight(this.oracle,r),r+=s?s.length:1;return this.nodes}static build(e,t,r,s){let l=new bd(r,e);return Ie.spans(t,r,s,l,0),l.finish(r)}}function t2(n,e,t){let r=new n2;return Ie.compare(n,e,t,r,0),r.changes}class n2{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,s){(e<t||r&&r.heightRelevant||s&&s.heightRelevant)&&Ua(e,t,this.changes,5)}}function r2(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,s=r.defaultView||window,l=Math.max(0,t.left),a=Math.min(s.innerWidth,t.right),c=Math.max(0,t.top),h=Math.min(s.innerHeight,t.bottom);for(let d=n.parentNode;d&&d!=r.body;)if(d.nodeType==1){let p=d,m=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&m.overflow!="visible"){let v=p.getBoundingClientRect();l=Math.max(l,v.left),a=Math.min(a,v.right),c=Math.max(c,v.top),h=Math.min(d==n.parentNode?s.innerHeight:h,v.bottom)}d=m.position=="absolute"||m.position=="fixed"?p.offsetParent:p.parentNode}else if(d.nodeType==11)d=d.host;else break;return{left:l-t.left,right:Math.max(l,a)-t.left,top:c-(t.top+e),bottom:Math.max(c,h)-(t.top+e)}}function i2(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function s2(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class zh{constructor(e,t,r,s){this.from=e,this.to=t,this.size=r,this.displaySize=s}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],l=t[r];if(s.from!=l.from||s.to!=l.to||s.size!=l.size)return!1}return!0}draw(e,t){return Ge.replace({widget:new o2(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class o2 extends tl{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class P0{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=A0,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ye.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(kd).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new GC(t),this.stateDeco=e.facet($o).filter(r=>typeof r!="function"),this.heightMap=jt.empty().applyChanges(this.stateDeco,Re.empty,this.heightOracle.setDoc(e.doc),[new mn(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ge.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let s=r?t.head:t.anchor;if(!e.some(({from:l,to:a})=>s>=l&&s<=a)){let{from:l,to:a}=this.lineBlockAt(s);e.push(new Ea(l,a))}}return this.viewports=e.sort((r,s)=>r.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?A0:new Od(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(bo(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet($o).filter(p=>typeof p!="function");let s=e.changedRanges,l=mn.extendWithRanges(s,t2(r,this.stateDeco,e?e.changes:dt.empty(this.state.doc.length))),a=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);O0(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),l),(this.heightMap.height!=a||ys)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let h=l.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<h.from||t.range.head>h.to)||!this.viewportIsAppropriate(h))&&(h=this.getViewport(0,t));let d=h.from!=this.viewport.from||h.to!=this.viewport.to;this.viewport=h,e.flags|=this.updateForViewport(),(d||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(qv)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),s=this.heightOracle,l=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Ye.RTL:Ye.LTR;let a=this.heightOracle.mustRefreshForWrapping(l),c=t.getBoundingClientRect(),h=a||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let d=0,p=0;if(c.width&&c.height){let{scaleX:_,scaleY:z}=Ov(t,c);(_>.005&&Math.abs(this.scaleX-_)>.005||z>.005&&Math.abs(this.scaleY-z)>.005)&&(this.scaleX=_,this.scaleY=z,d|=16,a=h=!0)}let m=(parseInt(r.paddingTop)||0)*this.scaleY,v=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=v)&&(this.paddingTop=m,this.paddingBottom=v,d|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(h=!0),this.editorWidth=e.scrollDOM.clientWidth,d|=16);let x=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=Av(e.scrollDOM);let k=(this.printing?s2:r2)(t,this.paddingTop),S=k.top-this.pixelViewport.top,b=k.bottom-this.pixelViewport.bottom;this.pixelViewport=k;let C=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(C!=this.inView&&(this.inView=C,C&&(h=!0)),!this.inView&&!this.scrollTarget&&!i2(e.dom))return 0;let D=c.width;if((this.contentDOMWidth!=D||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,d|=16),h){let _=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(_)&&(a=!0),a||s.lineWrapping&&Math.abs(D-this.contentDOMWidth)>s.charWidth){let{lineHeight:z,charWidth:F,textHeight:B}=e.docView.measureTextSize();a=z>0&&s.refresh(l,z,F,B,Math.max(5,D/F),_),a&&(e.docView.minWidth=0,d|=16)}S>0&&b>0?p=Math.max(S,b):S<0&&b<0&&(p=Math.min(S,b)),O0();for(let z of this.viewports){let F=z.from==this.viewport.from?_:e.docView.measureVisibleLineHeights(z);this.heightMap=(a?jt.empty().applyChanges(this.stateDeco,Re.empty,this.heightOracle,[new mn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,a,new JC(z.from,F))}ys&&(d|=2)}let N=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return N&&(d&2&&(d|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),d|=this.updateForViewport()),(d&2||N)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,l=this.heightOracle,{visibleTop:a,visibleBottom:c}=this,h=new Ea(s.lineAt(a-r*1e3,We.ByHeight,l,0,0).from,s.lineAt(c+(1-r)*1e3,We.ByHeight,l,0,0).to);if(t){let{head:d}=t.range;if(d<h.from||d>h.to){let p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=s.lineAt(d,We.ByPos,l,0,0),v;t.y=="center"?v=(m.top+m.bottom)/2-p/2:t.y=="start"||t.y=="nearest"&&d<h.from?v=m.top:v=m.bottom-p,h=new Ea(s.lineAt(v-1e3/2,We.ByHeight,l,0,0).from,s.lineAt(v+p+1e3/2,We.ByHeight,l,0,0).to)}}return h}mapViewport(e,t){let r=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new Ea(this.heightMap.lineAt(r,We.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,We.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,We.ByPos,this.heightOracle,0,0),{bottom:l}=this.heightMap.lineAt(t,We.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:c}=this;return(e==0||s<=a-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||l>=c+Math.max(10,Math.min(r,250)))&&s>a-2*1e3&&l<c+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let s of e)t.touchesRange(s.from,s.to)||r.push(new zh(t.mapPos(s.from),t.mapPos(s.to),s.size,s.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,s=r?1e4:2e3,l=s>>1,a=s<<1;if(this.defaultTextDirection!=Ye.LTR&&!r)return[];let c=[],h=(p,m,v,x)=>{if(m-p<l)return;let k=this.state.selection.main,S=[k.from];k.empty||S.push(k.to);for(let C of S)if(C>p&&C<m){h(p,C-10,v,x),h(C+10,m,v,x);return}let b=a2(e,C=>C.from>=v.from&&C.to<=v.to&&Math.abs(C.from-p)<l&&Math.abs(C.to-m)<l&&!S.some(D=>C.from<D&&C.to>D));if(!b){if(m<v.to&&t&&r&&t.visibleRanges.some(N=>N.from<=m&&N.to>=m)){let N=t.moveToLineBoundary(Z.cursor(m),!1,!0).head;N>p&&(m=N)}let C=this.gapSize(v,p,m,x),D=r||C<2e6?C:2e6;b=new zh(p,m,C,D)}c.push(b)},d=p=>{if(p.length<a||p.type!=zt.Text)return;let m=l2(p.from,p.to,this.stateDeco);if(m.total<a)return;let v=this.scrollTarget?this.scrollTarget.range.head:null,x,k;if(r){let S=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,b,C;if(v!=null){let D=Ra(m,v),N=((this.visibleBottom-this.visibleTop)/2+S)/p.height;b=D-N,C=D+N}else b=(this.visibleTop-p.top-S)/p.height,C=(this.visibleBottom-p.top+S)/p.height;x=Da(m,b),k=Da(m,C)}else{let S=m.total*this.heightOracle.charWidth,b=s*this.heightOracle.charWidth,C=0;if(S>2e6)for(let F of e)F.from>=p.from&&F.from<p.to&&F.size!=F.displaySize&&F.from*this.heightOracle.charWidth+C<this.pixelViewport.left&&(C=F.size-F.displaySize);let D=this.pixelViewport.left+C,N=this.pixelViewport.right+C,_,z;if(v!=null){let F=Ra(m,v),B=((N-D)/2+b)/S;_=F-B,z=F+B}else _=(D-b)/S,z=(N+b)/S;x=Da(m,_),k=Da(m,z)}x>p.from&&h(p.from,x,p,m),k<p.to&&h(k,p.to,p,m)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(d):d(p);return c}gapSize(e,t,r,s){let l=Ra(s,r)-Ra(s,t);return this.heightOracle.lineWrapping?e.height*l:s.total*this.heightOracle.charWidth*l}updateLineGaps(e){zh.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ge.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];Ie.spans(t,this.viewport.from,this.viewport.to,{span(l,a){r.push({from:l,to:a})},point(){}},20);let s=0;if(r.length!=this.visibleRanges.length)s=12;else for(let l=0;l<r.length&&!(s&8);l++){let a=this.visibleRanges[l],c=r[l];(a.from!=c.from||a.to!=c.to)&&(s|=4,e&&e.mapPos(a.from,-1)==c.from&&e.mapPos(a.to,1)==c.to||(s|=8))}return this.visibleRanges=r,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||bo(this.heightMap.lineAt(e,We.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||bo(this.heightMap.lineAt(this.scaler.fromDOM(e),We.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return bo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ea{constructor(e,t){this.from=e,this.to=t}}function l2(n,e,t){let r=[],s=n,l=0;return Ie.spans(t,n,e,{span(){},point(a,c){a>s&&(r.push({from:s,to:a}),l+=a-s),s=c}},20),s<e&&(r.push({from:s,to:e}),l+=e-s),{total:l,ranges:r}}function Da({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let s=0;;s++){let{from:l,to:a}=e[s],c=a-l;if(r<=c)return l+r;r-=c}}function Ra(n,e){let t=0;for(let{from:r,to:s}of n.ranges){if(e<=s){t+=e-r;break}t+=s-r}return t/n.total}function a2(n,e){for(let t of n)if(e(t))return t}const A0={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class Od{constructor(e,t,r){let s=0,l=0,a=0;this.viewports=r.map(({from:c,to:h})=>{let d=t.lineAt(c,We.ByPos,e,0,0).top,p=t.lineAt(h,We.ByPos,e,0,0).bottom;return s+=p-d,{from:c,to:h,top:d,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let c of this.viewports)c.domTop=a+(c.top-l)*this.scale,a=c.domBottom=c.domTop+(c.bottom-c.top),l=c.bottom}toDOM(e){for(let t=0,r=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.top)return s+(e-r)*this.scale;if(e<=l.bottom)return l.domTop+(e-l.top);r=l.bottom,s=l.domBottom}}fromDOM(e){for(let t=0,r=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.domTop)return r+(e-s)/this.scale;if(e<=l.domBottom)return l.top+(e-l.domTop);r=l.bottom,s=l.domBottom}}eq(e){return e instanceof Od?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function bo(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new Zn(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(s=>bo(s,e)):n._content)}const Ta=ve.define({combine:n=>n.join(" ")}),Bf=ve.define({combine:n=>n.indexOf(!0)>-1}),zf=ei.newName(),v1=ei.newName(),x1=ei.newName(),w1={"&light":"."+v1,"&dark":"."+x1};function jf(n,e,t){return new ei(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,s=>{if(s=="&")return n;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):n+" "+r}})}const u2=jf("."+zf,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},w1),c2={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},jh=ie.ie&&ie.ie_version<=11;class h2{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new XO,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(ie.ie&&ie.ie_version<=11||ie.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ie.android&&e.constructor.EDIT_CONTEXT!==!1&&!(ie.chrome&&ie.chrome_version<126)&&(this.editContext=new d2(e),e.state.facet(mr)&&(e.contentDOM.editContext=this.editContext.editContext)),jh&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,s=this.selectionRange;if(r.state.facet(mr)?r.root.activeElement!=this.dom:!$a(this.dom,s))return;let l=s.anchorNode&&r.docView.nearest(s.anchorNode);if(l&&l.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ie.ie&&ie.ie_version<=11||ie.android&&ie.chrome)&&!r.state.selection.main.empty&&s.focusNode&&Ro(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Wo(e.root);if(!t)return!1;let r=ie.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&f2(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let s=$a(this.dom,r);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&qO(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,c2),jh&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),jh&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let s=()=>{let l=this.delayedAndroidKey;l&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=l.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&l.force&&cs(this.dom,l.key,l.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,s=!1;for(let l of e){let a=this.readMutation(l);a&&(a.typeOver&&(s=!0),t==-1?{from:t,to:r}=a:(t=Math.min(a.from,t),r=Math.max(a.to,r)))}return{from:t,to:r,typeOver:s}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),s=this.selectionChanged&&$a(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let l=new DC(this.view,e,t,r);return this.view.docView.domChanged={newSel:l.newSel?l.newSel.main:null},l}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,s=l1(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=M0(t,e.previousSibling||e.target.previousSibling,-1),s=M0(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(mr)!=e.state.facet(mr)&&(e.view.contentDOM.editContext=e.state.facet(mr)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function M0(n,e,t){for(;e;){let r=ze.get(e);if(r&&r.parent==n)return r;let s=e.parentNode;e=s!=n.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function E0(n,e){let t=e.startContainer,r=e.startOffset,s=e.endContainer,l=e.endOffset,a=n.docView.domAtPos(n.state.selection.main.anchor);return Ro(a.node,a.offset,s,l)&&([t,r,s,l]=[s,l,t,r]),{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:l}}function f2(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return E0(n,s)}let t=null;function r(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?E0(n,t):null}class d2{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let s=e.state.selection.main,{anchor:l,head:a}=s,c=this.toEditorPos(r.updateRangeStart),h=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:c,drifted:!1});let d=h-c>r.text.length;c==this.from&&l<this.from?c=l:h==this.to&&l>this.to&&(h=l);let p=a1(e.state.sliceDoc(c,h),r.text,(d?s.from:s.to)-c,d?"end":null);if(!p){let v=Z.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));v.main.eq(s)||e.dispatch({selection:v,userEvent:"select"});return}let m={from:p.from+c,to:p.toA+c,insert:Re.of(r.text.slice(p.from,p.toB).split(`
`))};if((ie.mac||ie.android)&&m.from==a-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:c,to:h,insert:Re.of([r.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let v=this.to-this.from+(m.to-m.from+m.insert.length);Sd(e,m,Z.single(this.toEditorPos(r.selectionStart,v),this.toEditorPos(r.selectionEnd,v)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(t.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let s=[],l=null;for(let a=this.toEditorPos(r.rangeStart),c=this.toEditorPos(r.rangeEnd);a<c;a++){let h=e.coordsForChar(a);l=h&&new DOMRect(h.left,h.top,h.right-h.left,h.bottom-h.top)||l||new DOMRect,s.push(l)}t.updateCharacterBounds(r.rangeStart,s)},this.handlers.textformatupdate=r=>{let s=[];for(let l of r.getTextFormats()){let a=l.underlineStyle,c=l.underlineThickness;if(!/none/i.test(a)&&!/none/i.test(c)){let h=this.toEditorPos(l.rangeStart),d=this.toEditorPos(l.rangeEnd);if(h<d){let p=`text-decoration: underline ${/^[a-z]/.test(a)?a+" ":a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${/thin/i.test(c)?1:2}px`;s.push(Ge.mark({attributes:{style:p}}).range(h,d))}}}e.dispatch({effects:Gv.of(Ge.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let s=Wo(r.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,s=this.pendingContextChange;return e.changes.iterChanges((l,a,c,h,d)=>{if(r)return;let p=d.length-(a-l);if(s&&a>=s.to)if(s.from==l&&s.to==a&&s.insert.eq(d)){s=this.pendingContextChange=null,t+=p,this.to+=p;return}else s=null,this.revertPending(e.state);if(l+=t,a+=t,a<=this.from)this.from+=p,this.to+=p;else if(l<this.to){if(l<this.from||a>this.to||this.to-this.from+d.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(l),this.toContextPos(a),d.toString()),this.to+=p}t+=p}),s&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),s=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(r,s)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class be{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(s=>s.forEach(l=>r(l,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||KO(e.parent)||document,this.viewState=new P0(e.state||Le.create(e)),e.scrollTo&&e.scrollTo.is(Pa)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(is).map(s=>new Lh(s));for(let s of this.plugins)s.update(this);this.observer=new h2(this),this.inputState=new LC(this),this.inputState.ensureHandlers(this.plugins),this.docView=new l0(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Dt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,s,l=this.state;for(let v of e){if(v.startState!=l)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");l=v.state}if(this.destroyed){this.viewState.state=l;return}let a=this.hasFocus,c=0,h=null;e.some(v=>v.annotation(p1))?(this.inputState.notifiedFocused=a,c=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,h=g1(l,a),h||(c=1));let d=this.observer.delayedAndroidKey,p=null;if(d?(this.observer.clearDelayedAndroidKey(),p=this.observer.readChange(),(p&&!this.state.doc.eq(l.doc)||!this.state.selection.eq(l.selection))&&(p=null)):this.observer.clear(),l.facet(Le.phrases)!=this.state.facet(Le.phrases))return this.setState(l);s=cu.create(this,l,e),s.flags|=c;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let v of e){if(m&&(m=m.map(v.changes)),v.scrollIntoView){let{main:x}=v.state.selection;m=new hs(x.empty?x:Z.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of v.effects)x.is(Pa)&&(m=x.value.clip(this.state))}this.viewState.update(s,m),this.bidiCache=fu.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(ko)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(v=>v.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(Ta)!=s.state.facet(Ta)&&(this.viewState.mustMeasureContent=!0),(t||r||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!s.empty)for(let v of this.state.facet(Tf))try{v(s)}catch(x){er(this.state,x,"update listener")}(h||p)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),p&&!l1(this,p)&&d.force&&cs(this.contentDOM,d.key,d.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new P0(e),this.plugins=e.facet(is).map(r=>new Lh(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new l0(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(is),r=e.state.facet(is);if(t!=r){let s=[];for(let l of r){let a=t.indexOf(l);if(a<0)s.push(new Lh(l));else{let c=this.plugins[a];c.mustUpdate=e,s.push(c)}}for(let l of this.plugins)l.mustUpdate!=e&&l.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){er(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,s=r.scrollTop*this.scaleY,{scrollAnchorPos:l,scrollAnchorHeight:a}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(a<0)if(Av(r))l=-1,a=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(s);l=x.from,a=x.top}this.updateState=1;let h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];h&4||([this.measureRequests,d]=[d,this.measureRequests]);let p=d.map(x=>{try{return x.read(this)}catch(k){return er(this.state,k),D0}}),m=cu.create(this,this.state,[]),v=!1;m.flags|=h,t?t.flags|=h:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),v=this.docView.update(m),v&&this.docViewUpdate());for(let x=0;x<d.length;x++)if(p[x]!=D0)try{let k=d[x];k.write&&k.write(p[x],this)}catch(k){er(this.state,k)}if(v&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let k=(l<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(l).top)-a;if(k>1||k<-1){s=s+k,r.scrollTop=s/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let c of this.state.facet(Tf))c(t)}get themeClasses(){return zf+" "+(this.state.facet(Bf)?x1:v1)+" "+this.state.facet(Ta)}updateAttrs(){let e=R0(this,Jv,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(mr)?"true":"false",class:"cm-content",style:`${ie.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),R0(this,kd,t);let r=this.observer.ignore(()=>{let s=Af(this.contentDOM,this.contentAttrs,t),l=Af(this.dom,this.editorAttrs,e);return s||l});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let s of r.effects)if(s.is(be.announce)){t&&(this.announceDOM.textContent=""),t=!1;let l=this.announceDOM.appendChild(document.createElement("div"));l.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(ko);let e=this.state.facet(be.cspNonce);ei.mount(this.root,this.styleModules.concat(u2).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return Bh(this,e,f0(this,e,t,r))}moveByGroup(e,t){return Bh(this,e,f0(this,e,t,r=>CC(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),s=this.textDirectionAt(e.from),l=r[t?r.length-1:0];return Z.cursor(l.side(t,s)+e.from,l.forward(!t,s)?1:-1)}moveToLineBoundary(e,t,r=!0){return OC(this,e,t,r)}moveVertically(e,t,r){return Bh(this,e,PC(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),i1(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let s=this.state.doc.lineAt(e),l=this.bidiSpans(s),a=l[Gr.find(l,e-s.from,-1,t)];return Du(r,a.dir==Ye.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Kv)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>p2)return _v(e.length);let t=this.textDirectionAt(e.from),r;for(let l of this.bidiCache)if(l.from==e.from&&l.dir==t&&(l.fresh||Fv(l.isolates,r=o0(this,e))))return l.order;r||(r=o0(this,e));let s=aC(e.text,t,r);return this.bidiCache.push(new fu(e.from,e.to,t,r,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ie.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Cv(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Pa.of(new hs(typeof e=="number"?Z.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Pa.of(new hs(Z.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return In.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return In.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=ei.newName(),s=[Ta.of(r),ko.of(jf(`.${r}`,e))];return t&&t.dark&&s.push(Bf.of(!0)),s}static baseTheme(e){return Au.lowest(ko.of(jf("."+zf,e,w1)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),s=r&&ze.get(r)||ze.get(e);return((t=s==null?void 0:s.rootView)===null||t===void 0?void 0:t.view)||null}}be.styleModule=ko;be.inputHandler=Uv;be.clipboardInputFilter=xd;be.clipboardOutputFilter=wd;be.scrollHandler=Yv;be.focusChangeEffect=Xv;be.perLineTextDirection=Kv;be.exceptionSink=$v;be.updateListener=Tf;be.editable=mr;be.mouseSelectionStyle=Qv;be.dragMovesSelection=Wv;be.clickAddsSelectionRange=Hv;be.decorations=$o;be.outerDecorations=Zv;be.atomicRanges=il;be.bidiIsolatedRanges=e1;be.scrollMargins=t1;be.darkTheme=Bf;be.cspNonce=ve.define({combine:n=>n.length?n[0]:""});be.contentAttributes=kd;be.editorAttributes=Jv;be.lineWrapping=be.contentAttributes.of({class:"cm-lineWrapping"});be.announce=at.define();const p2=4096,D0={};class fu{constructor(e,t,r,s,l,a){this.from=e,this.to=t,this.dir=r,this.isolates=s,this.fresh=l,this.order=a}static update(e,t){if(t.empty&&!e.some(l=>l.fresh))return e;let r=[],s=e.length?e[e.length-1].dir:Ye.LTR;for(let l=Math.max(0,e.length-10);l<e.length;l++){let a=e[l];a.dir==s&&!t.touchesRange(a.from,a.to)&&r.push(new fu(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function R0(n,e,t){for(let r=n.state.facet(e),s=r.length-1;s>=0;s--){let l=r[s],a=typeof l=="function"?l(n):l;a&&Pf(a,t)}return t}const g2=ie.mac?"mac":ie.windows?"win":ie.linux?"linux":"key";function m2(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let s,l,a,c;for(let h=0;h<t.length-1;++h){const d=t[h];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))s=!0;else if(/^(c|ctrl|control)$/i.test(d))l=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))e=="mac"?c=!0:l=!0;else throw new Error("Unrecognized modifier name: "+d)}return s&&(r="Alt-"+r),l&&(r="Ctrl-"+r),c&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function Na(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const y2=Au.default(be.domEventHandlers({keydown(n,e){return k2(v2(e.state),n,e,"editor")}})),Cd=ve.define({enables:y2}),T0=new WeakMap;function v2(n){let e=n.facet(Cd),t=T0.get(e);return t||T0.set(e,t=w2(e.reduce((r,s)=>r.concat(s),[]))),t}let Kr=null;const x2=4e3;function w2(n,e=g2){let t=Object.create(null),r=Object.create(null),s=(a,c)=>{let h=r[a];if(h==null)r[a]=c;else if(h!=c)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},l=(a,c,h,d,p)=>{var m,v;let x=t[a]||(t[a]=Object.create(null)),k=c.split(/ (?!$)/).map(C=>m2(C,e));for(let C=1;C<k.length;C++){let D=k.slice(0,C).join(" ");s(D,!0),x[D]||(x[D]={preventDefault:!0,stopPropagation:!1,run:[N=>{let _=Kr={view:N,prefix:D,scope:a};return setTimeout(()=>{Kr==_&&(Kr=null)},x2),!0}]})}let S=k.join(" ");s(S,!1);let b=x[S]||(x[S]={preventDefault:!1,stopPropagation:!1,run:((v=(m=x._any)===null||m===void 0?void 0:m.run)===null||v===void 0?void 0:v.slice())||[]});h&&b.run.push(h),d&&(b.preventDefault=!0),p&&(b.stopPropagation=!0)};for(let a of n){let c=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let d of c){let p=t[d]||(t[d]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=a;for(let v in p)p[v].run.push(x=>m(x,Ff))}let h=a[e]||a.key;if(h)for(let d of c)l(d,h,a.run,a.preventDefault,a.stopPropagation),a.shift&&l(d,"Shift-"+h,a.shift,a.preventDefault,a.stopPropagation)}return t}let Ff=null;function k2(n,e,t,r){Ff=e;let s=HO(e),l=OO(s,0),a=CO(l)==s.length&&s!=" ",c="",h=!1,d=!1,p=!1;Kr&&Kr.view==t&&Kr.scope==r&&(c=Kr.prefix+" ",c1.indexOf(e.keyCode)<0&&(d=!0,Kr=null));let m=new Set,v=b=>{if(b){for(let C of b.run)if(!m.has(C)&&(m.add(C),C(t)))return b.stopPropagation&&(p=!0),!0;b.preventDefault&&(b.stopPropagation&&(p=!0),d=!0)}return!1},x=n[r],k,S;return x&&(v(x[c+Na(s,e,!a)])?h=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ie.windows&&e.ctrlKey&&e.altKey)&&!(ie.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(k=ti[e.keyCode])&&k!=s?(v(x[c+Na(k,e,!0)])||e.shiftKey&&(S=Ho[e.keyCode])!=s&&S!=k&&v(x[c+Na(S,e,!1)]))&&(h=!0):a&&e.shiftKey&&v(x[c+Na(s,e,!0)])&&(h=!0),!h&&v(x._any)&&(h=!0)),d&&(h=!0),h&&p&&e.stopPropagation(),Ff=null,h}class sl{constructor(e,t,r,s,l){this.className=e,this.left=t,this.top=r,this.width=s,this.height=l}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let s=e.coordsAtPos(r.head,r.assoc||1);if(!s)return[];let l=k1(e);return[new sl(t,s.left-l.left,s.top-l.top,null,s.bottom-s.top)]}else return S2(e,t,r)}}function k1(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Ye.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function N0(n,e,t,r){let s=n.coordsAtPos(e,t*2);if(!s)return r;let l=n.dom.getBoundingClientRect(),a=(s.top+s.bottom)/2,c=n.posAtCoords({x:l.left+1,y:a}),h=n.posAtCoords({x:l.right-1,y:a});return c==null||h==null?r:{from:Math.max(r.from,Math.min(c,h)),to:Math.min(r.to,Math.max(c,h))}}function S2(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),s=Math.min(t.to,n.viewport.to),l=n.textDirection==Ye.LTR,a=n.contentDOM,c=a.getBoundingClientRect(),h=k1(n),d=a.querySelector(".cm-line"),p=d&&window.getComputedStyle(d),m=c.left+(p?parseInt(p.paddingLeft)+Math.min(0,parseInt(p.textIndent)):0),v=c.right-(p?parseInt(p.paddingRight):0),x=Lf(n,r,1),k=Lf(n,s,-1),S=x.type==zt.Text?x:null,b=k.type==zt.Text?k:null;if(S&&(n.lineWrapping||x.widgetLineBreaks)&&(S=N0(n,r,1,S)),b&&(n.lineWrapping||k.widgetLineBreaks)&&(b=N0(n,s,-1,b)),S&&b&&S.from==b.from&&S.to==b.to)return D(N(t.from,t.to,S));{let z=S?N(t.from,null,S):_(x,!1),F=b?N(null,t.to,b):_(k,!0),B=[];return(S||x).to<(b||k).from-(S&&b?1:0)||x.widgetLineBreaks>1&&z.bottom+n.defaultLineHeight/2<F.top?B.push(C(m,z.bottom,v,F.top)):z.bottom<F.top&&n.elementAtHeight((z.bottom+F.top)/2).type==zt.Text&&(z.bottom=F.top=(z.bottom+F.top)/2),D(z).concat(B).concat(D(F))}function C(z,F,B,Q){return new sl(e,z-h.left,F-h.top,B-z,Q-F)}function D({top:z,bottom:F,horizontal:B}){let Q=[];for(let X=0;X<B.length;X+=2)Q.push(C(B[X],z,B[X+1],F));return Q}function N(z,F,B){let Q=1e9,X=-1e9,K=[];function ee(de,Y,ce,fe,$){let G=n.coordsAtPos(de,de==B.to?-2:2),J=n.coordsAtPos(ce,ce==B.from?2:-2);!G||!J||(Q=Math.min(G.top,J.top,Q),X=Math.max(G.bottom,J.bottom,X),$==Ye.LTR?K.push(l&&Y?m:G.left,l&&fe?v:J.right):K.push(!l&&fe?m:J.left,!l&&Y?v:G.right))}let te=z??B.from,ue=F??B.to;for(let de of n.visibleRanges)if(de.to>te&&de.from<ue)for(let Y=Math.max(de.from,te),ce=Math.min(de.to,ue);;){let fe=n.state.doc.lineAt(Y);for(let $ of n.bidiSpans(fe)){let G=$.from+fe.from,J=$.to+fe.from;if(G>=ce)break;J>Y&&ee(Math.max(G,Y),z==null&&G<=te,Math.min(J,ce),F==null&&J>=ue,$.dir)}if(Y=fe.to+1,Y>=ce)break}return K.length==0&&ee(te,z==null,ue,F==null,n.textDirection),{top:Q,bottom:X,horizontal:K}}function _(z,F){let B=c.top+(F?z.top:z.bottom);return{top:B,bottom:B,horizontal:[]}}}function b2(n,e){return n.constructor==e.constructor&&n.eq(e)}class O2{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Ka)!=e.state.facet(Ka)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(Ka);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!b2(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let s of e)s.update&&t&&s.constructor&&this.drawn[r].constructor&&s.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(s.draw(),t);for(;t;){let s=t.nextSibling;t.remove(),t=s}this.drawn=e,ie.safari&&ie.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Ka=ve.define();function S1(n){return[In.define(e=>new O2(e,n)),Ka.of(n)]}const Uo=ve.define({combine(n){return wv(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function C2(n={}){return[Uo.of(n),P2,A2,M2,qv.of(!0)]}function b1(n){return n.startState.facet(Uo)!=n.state.facet(Uo)}const P2=S1({above:!0,markers(n){let{state:e}=n,t=e.facet(Uo),r=[];for(let s of e.selection.ranges){let l=s==e.selection.main;if(s.empty||t.drawRangeCursor){let a=l?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=s.empty?s:Z.cursor(s.head,s.head>s.anchor?-1:1);for(let h of sl.forRange(n,a,c))r.push(h)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=b1(n);return t&&L0(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){L0(e.state,n)},class:"cm-cursorLayer"});function L0(n,e){e.style.animationDuration=n.facet(Uo).cursorBlinkRate+"ms"}const A2=S1({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:sl.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||b1(n)},class:"cm-selectionLayer"}),M2=Au.highest(be.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}}));function E2(){return R2}const D2=Ge.line({class:"cm-activeLine"}),R2=In.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let s=n.lineBlockAt(r.head);s.from>e&&(t.push(D2.range(s.from)),e=s.from)}return Ge.set(t)}},{decorations:n=>n.decorations});class ri extends ps{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ri.prototype.elementClass="";ri.prototype.toDOM=void 0;ri.prototype.mapMode=sn.TrackBefore;ri.prototype.startSide=ri.prototype.endSide=-1;ri.prototype.point=!0;const qa=ve.define(),T2=ve.define(),Ya=ve.define(),I0=ve.define({combine:n=>n.some(e=>e)});function N2(n){return[L2]}const L2=In.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Ya).map(e=>new z0(n,e)),this.fixed=!n.state.facet(I0);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(I0)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Ie.iter(this.view.state.facet(qa),this.view.viewport.from),r=[],s=this.gutters.map(l=>new I2(l,this.view.viewport,-this.view.documentPadding.top));for(let l of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(l.type)){let a=!0;for(let c of l.type)if(c.type==zt.Text&&a){_f(t,r,c.from);for(let h of s)h.line(this.view,c,r);a=!1}else if(c.widget)for(let h of s)h.widget(this.view,c)}else if(l.type==zt.Text){_f(t,r,l.from);for(let a of s)a.line(this.view,l,r)}else if(l.widget)for(let a of s)a.widget(this.view,l);for(let l of s)l.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(Ya),t=n.state.facet(Ya),r=n.docChanged||n.heightChanged||n.viewportChanged||!Ie.eq(n.startState.facet(qa),n.state.facet(qa),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(n)&&(r=!0);else{r=!0;let s=[];for(let l of t){let a=e.indexOf(l);a<0?s.push(new z0(this.view,l)):(this.gutters[a].update(n),s.push(this.gutters[a]))}for(let l of this.gutters)l.dom.remove(),s.indexOf(l)<0&&l.destroy();for(let l of s)l.config.side=="after"?this.getDOMAfter().appendChild(l.dom):this.dom.appendChild(l.dom);this.gutters=s}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>be.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let r=t.dom.offsetWidth*e.scaleX,s=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Ye.LTR?{left:r,right:s}:{right:r,left:s}})});function B0(n){return Array.isArray(n)?n:[n]}function _f(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class I2{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Ie.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:s}=this,l=(t.top-this.height)/e.scaleY,a=t.height/e.scaleY;if(this.i==s.elements.length){let c=new O1(e,a,l,r);s.elements.push(c),s.dom.appendChild(c.dom)}else s.elements[this.i].update(e,a,l,r);this.height=t.bottom,this.i++}line(e,t,r){let s=[];_f(this.cursor,s,t.from),r.length&&(s=s.concat(r));let l=this.gutter.config.lineMarker(e,t,s);l&&s.unshift(l);let a=this.gutter;s.length==0&&!a.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),s=r?[r]:null;for(let l of e.state.facet(T2)){let a=l(e,t.widget,t);a&&(s||(s=[])).push(a)}s&&this.addElement(e,t,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class z0{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,s=>{let l=s.target,a;if(l!=this.dom&&this.dom.contains(l)){for(;l.parentNode!=this.dom;)l=l.parentNode;let h=l.getBoundingClientRect();a=(h.top+h.bottom)/2}else a=s.clientY;let c=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[r](e,c,s)&&s.preventDefault()});this.markers=B0(t.markers(e)),t.initialSpacer&&(this.spacer=new O1(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=B0(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let r=e.view.viewport;return!Ie.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class O1{constructor(e,t,r,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,s)}update(e,t,r,s){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),B2(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let r="cm-gutterElement",s=this.dom.firstChild;for(let l=0,a=0;;){let c=a,h=l<t.length?t[l++]:null,d=!1;if(h){let p=h.elementClass;p&&(r+=" "+p);for(let m=a;m<this.markers.length;m++)if(this.markers[m].compare(h)){c=m,d=!0;break}}else c=this.markers.length;for(;a<c;){let p=this.markers[a++];if(p.toDOM){p.destroy(s);let m=s.nextSibling;s.remove(),s=m}}if(!h)break;h.toDOM&&(d?s=s.nextSibling:this.dom.insertBefore(h.toDOM(e),s)),d&&a++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function B2(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const z2=ve.define(),j2=ve.define(),ss=ve.define({combine(n){return wv(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let s in t){let l=r[s],a=t[s];r[s]=l?(c,h,d)=>l(c,h,d)||a(c,h,d):a}return r}})}});class Fh extends ri{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function _h(n,e){return n.state.facet(ss).formatNumber(e,n.state)}const F2=Ya.compute([ss],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(z2)},lineMarker(e,t,r){return r.some(s=>s.toDOM)?null:new Fh(_h(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let s of e.state.facet(j2)){let l=s(e,t,r);if(l)return l}return null},lineMarkerChange:e=>e.startState.facet(ss)!=e.state.facet(ss),initialSpacer(e){return new Fh(_h(e,j0(e.state.doc.lines)))},updateSpacer(e,t){let r=_h(t.view,j0(t.view.state.doc.lines));return r==e.number?e:new Fh(r)},domEventHandlers:n.facet(ss).domEventHandlers,side:"before"}));function _2(n={}){return[ss.of(n),N2(),F2]}function j0(n){let e=9;for(;e<n;)e=e*10+9;return e}const V2=new class extends ri{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},H2=qa.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let s=n.doc.lineAt(r.head).from;s>t&&(t=s,e.push(V2.range(s)))}return Ie.of(e)});function W2(){return H2}const C1=1024;let Q2=0;class Vh{constructor(e,t){this.from=e,this.to=t}}class Ae{constructor(e={}){this.id=Q2++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Kt.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Ae.closedBy=new Ae({deserialize:n=>n.split(" ")});Ae.openedBy=new Ae({deserialize:n=>n.split(" ")});Ae.group=new Ae({deserialize:n=>n.split(" ")});Ae.isolate=new Ae({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Ae.contextHash=new Ae({perNode:!0});Ae.lookAhead=new Ae({perNode:!0});Ae.mounted=new Ae({perNode:!0});class du{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Ae.mounted.id]}}const $2=Object.create(null);class Kt{constructor(e,t,r,s=0){this.name=e,this.props=t,this.id=r,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):$2,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new Kt(e.name||"",t,e.id,r);if(e.props){for(let l of e.props)if(Array.isArray(l)||(l=l(s)),l){if(l[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[l[0].id]=l[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Ae.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let s of r.split(" "))t[s]=e[r];return r=>{for(let s=r.prop(Ae.group),l=-1;l<(s?s.length:0);l++){let a=t[l<0?r.name:s[l]];if(a)return a}}}}Kt.none=new Kt("",Object.create(null),0,8);class Pd{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let s=null;for(let l of e){let a=l(r);if(a){s||(s=Object.assign({},r.props));let c=a[1],h=a[0];h.combine&&h.id in s&&(c=h.combine(s[h.id],c)),s[h.id]=c}}t.push(s?new Kt(r.name,s,r.id,r.flags):r)}return new Pd(t)}}const La=new WeakMap,F0=new WeakMap;var pt;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(pt||(pt={}));class it{constructor(e,t,r,s,l){if(this.type=e,this.children=t,this.positions=r,this.length=s,this.props=null,l&&l.length){this.props=Object.create(null);for(let[a,c]of l)this.props[typeof a=="number"?a:a.id]=c}}toString(){let e=du.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let s=r.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Hf(this.topNode,e)}cursorAt(e,t=0,r=0){let s=La.get(this)||this.topNode,l=new Hf(s);return l.moveTo(e,t),La.set(this,l._tree),l}get topNode(){return new yn(this,0,0,null)}resolve(e,t=0){let r=Xo(La.get(this)||this.topNode,e,t,!1);return La.set(this,r),r}resolveInner(e,t=0){let r=Xo(F0.get(this)||this.topNode,e,t,!0);return F0.set(this,r),r}resolveStack(e,t=0){return K2(this,e,t)}iterate(e){let{enter:t,leave:r,from:s=0,to:l=this.length}=e,a=e.mode||0,c=(a&pt.IncludeAnonymous)>0;for(let h=this.cursor(a|pt.IncludeAnonymous);;){let d=!1;if(h.from<=l&&h.to>=s&&(!c&&h.type.isAnonymous||t(h)!==!1)){if(h.firstChild())continue;d=!0}for(;d&&r&&(c||!h.type.isAnonymous)&&r(h),!h.nextSibling();){if(!h.parent())return;d=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Ed(Kt.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,s)=>new it(this.type,t,r,s,this.propValues),e.makeTree||((t,r,s)=>new it(Kt.none,t,r,s)))}static build(e){return q2(e)}}it.empty=new it(Kt.none,[],[],0);class Ad{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ad(this.buffer,this.index)}}class ii{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Kt.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],s=this.set.types[t],l=s.name;if(/\W/.test(l)&&!s.isError&&(l=JSON.stringify(l)),e+=4,r==e)return l;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return l+"("+a.join(",")+")"}findChild(e,t,r,s,l){let{buffer:a}=this,c=-1;for(let h=e;h!=t&&!(P1(l,s,a[h+1],a[h+2])&&(c=h,r>0));h=a[h+3]);return c}slice(e,t,r){let s=this.buffer,l=new Uint16Array(t-e),a=0;for(let c=e,h=0;c<t;){l[h++]=s[c++],l[h++]=s[c++]-r;let d=l[h++]=s[c++]-r;l[h++]=s[c++]-e,a=Math.max(a,d)}return new ii(l,a,this.set)}}function P1(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Xo(n,e,t,r){for(var s;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let a=!r&&n instanceof yn&&n.index<0?null:n.parent;if(!a)return n;n=a}let l=r?0:pt.IgnoreOverlays;if(r)for(let a=n,c=a.parent;c;a=c,c=a.parent)a instanceof yn&&a.index<0&&((s=c.enter(e,t,l))===null||s===void 0?void 0:s.from)!=a.from&&(n=c);for(;;){let a=n.enter(e,t,l);if(!a)return n;n=a}}class A1{cursor(e=0){return new Hf(this,e)}getChild(e,t=null,r=null){let s=_0(this,e,t,r);return s.length?s[0]:null}getChildren(e,t=null,r=null){return _0(this,e,t,r)}resolve(e,t=0){return Xo(this,e,t,!1)}resolveInner(e,t=0){return Xo(this,e,t,!0)}matchContext(e){return Vf(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let s=t.lastChild;if(!s||s.to!=t.to)break;s.type.isError&&s.from==s.to?(r=t,t=s.prevSibling):t=s}return r}get node(){return this}get next(){return this.parent}}class yn extends A1{constructor(e,t,r,s){super(),this._tree=e,this.from=t,this.index=r,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,s,l=0){for(let a=this;;){for(let{children:c,positions:h}=a._tree,d=t>0?c.length:-1;e!=d;e+=t){let p=c[e],m=h[e]+a.from;if(P1(s,r,m,m+p.length)){if(p instanceof ii){if(l&pt.ExcludeBuffers)continue;let v=p.findChild(0,p.buffer.length,t,r-m,s);if(v>-1)return new Jr(new U2(a,p,e,m),null,v)}else if(l&pt.IncludeAnonymous||!p.type.isAnonymous||Md(p)){let v;if(!(l&pt.IgnoreMounts)&&(v=du.get(p))&&!v.overlay)return new yn(v.tree,m,e,a);let x=new yn(p,m,e,a);return l&pt.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(t<0?p.children.length-1:0,t,r,s)}}}if(l&pt.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+t:e=t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let s;if(!(r&pt.IgnoreOverlays)&&(s=du.get(this._tree))&&s.overlay){let l=e-this.from;for(let{from:a,to:c}of s.overlay)if((t>0?a<=l:a<l)&&(t<0?c>=l:c>l))return new yn(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function _0(n,e,t,r){let s=n.cursor(),l=[];if(!s.firstChild())return l;if(t!=null){for(let a=!1;!a;)if(a=s.type.is(t),!s.nextSibling())return l}for(;;){if(r!=null&&s.type.is(r))return l;if(s.type.is(e)&&l.push(s.node),!s.nextSibling())return r==null?l:[]}}function Vf(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class U2{constructor(e,t,r,s){this.parent=e,this.buffer=t,this.index=r,this.start=s}}class Jr extends A1{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,r);return l<0?null:new Jr(this.context,this,l)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&pt.ExcludeBuffers)return null;let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return l<0?null:new Jr(this.context,this,l)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Jr(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Jr(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,s=this.index+4,l=r.buffer[this.index+3];if(l>s){let a=r.buffer[this.index+1];e.push(r.slice(s,l,a)),t.push(0)}return new it(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function M1(n){if(!n.length)return null;let e=0,t=n[0];for(let l=1;l<n.length;l++){let a=n[l];(a.from>t.from||a.to<t.to)&&(t=a,e=l)}let r=t instanceof yn&&t.index<0?null:t.parent,s=n.slice();return r?s[e]=r:s.splice(e,1),new X2(s,t)}class X2{constructor(e,t){this.heads=e,this.node=t}get next(){return M1(this.heads)}}function K2(n,e,t){let r=n.resolveInner(e,t),s=null;for(let l=r instanceof yn?r:r.context.parent;l;l=l.parent)if(l.index<0){let a=l.parent;(s||(s=[r])).push(a.resolve(e,t)),l=a}else{let a=du.get(l.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let c=new yn(a.tree,a.overlay[0].from+l.from,-1,l);(s||(s=[r])).push(Xo(c,e,t,!1))}}return s?M1(s):r}class Hf{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof yn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=r+s.buffer[e+1],this.to=r+s.buffer[e+2],!0}yield(e){return e?e instanceof yn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:s}=this.buffer,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,r);return l<0?!1:(this.stack.push(this.index),this.yieldBuf(l))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&pt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&pt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&pt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let s=r<0?0:this.stack[r]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(s)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let l=0;l<this.index;l++)if(s.buffer.buffer[l+3]<this.index)return!1;({index:t,parent:r}=s)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let l=t+e,a=e<0?-1:r._tree.children.length;l!=a;l+=e){let c=r._tree.children[l];if(this.mode&pt.IncludeAnonymous||c instanceof ii||!c.type.isAnonymous||Md(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let s=this.index,l=this.stack.length;l>=0;){for(let a=e;a;a=a._parent)if(a.index==s){if(s==this.index)return a;t=a,r=l+1;break e}s=this.stack[--l]}for(let s=r;s<this.stack.length;s++)t=new Jr(this.buffer,t,this.stack[s]);return this.bufferNode=new Jr(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&t&&t(this),s=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,s=!0}}}matchContext(e){if(!this.buffer)return Vf(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let s=e.length-1,l=this.stack.length-1;s>=0;l--){if(l<0)return Vf(this._tree,e,s);let a=r[t.buffer[this.stack[l]]];if(!a.isAnonymous){if(e[s]&&e[s]!=a.name)return!1;s--}}return!0}}function Md(n){return n.children.some(e=>e instanceof ii||!e.type.isAnonymous||Md(e))}function q2(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:s=C1,reused:l=[],minRepeatType:a=r.types.length}=n,c=Array.isArray(t)?new Ad(t,t.length):t,h=r.types,d=0,p=0;function m(z,F,B,Q,X,K){let{id:ee,start:te,end:ue,size:de}=c,Y=p,ce=d;if(de<0)if(c.next(),de==-1){let A=l[ee];B.push(A),Q.push(te-z);return}else if(de==-3){d=ee;return}else if(de==-4){p=ee;return}else throw new RangeError(`Unrecognized record size: ${de}`);let fe=h[ee],$,G,J=te-z;if(ue-te<=s&&(G=b(c.pos-F,X))){let A=new Uint16Array(G.size-G.skip),I=c.pos-G.size,re=A.length;for(;c.pos>I;)re=C(G.start,A,re);$=new ii(A,ue-G.start,r),J=G.start-z}else{let A=c.pos-de;c.next();let I=[],re=[],ae=ee>=a?ee:-1,ye=0,xe=ue;for(;c.pos>A;)ae>=0&&c.id==ae&&c.size>=0?(c.end<=xe-s&&(k(I,re,te,ye,c.end,xe,ae,Y,ce),ye=I.length,xe=c.end),c.next()):K>2500?v(te,A,I,re):m(te,A,I,re,ae,K+1);if(ae>=0&&ye>0&&ye<I.length&&k(I,re,te,ye,te,xe,ae,Y,ce),I.reverse(),re.reverse(),ae>-1&&ye>0){let Me=x(fe,ce);$=Ed(fe,I,re,0,I.length,0,ue-te,Me,Me)}else $=S(fe,I,re,ue-te,Y-ue,ce)}B.push($),Q.push(J)}function v(z,F,B,Q){let X=[],K=0,ee=-1;for(;c.pos>F;){let{id:te,start:ue,end:de,size:Y}=c;if(Y>4)c.next();else{if(ee>-1&&ue<ee)break;ee<0&&(ee=de-s),X.push(te,ue,de),K++,c.next()}}if(K){let te=new Uint16Array(K*4),ue=X[X.length-2];for(let de=X.length-3,Y=0;de>=0;de-=3)te[Y++]=X[de],te[Y++]=X[de+1]-ue,te[Y++]=X[de+2]-ue,te[Y++]=Y;B.push(new ii(te,X[2]-ue,r)),Q.push(ue-z)}}function x(z,F){return(B,Q,X)=>{let K=0,ee=B.length-1,te,ue;if(ee>=0&&(te=B[ee])instanceof it){if(!ee&&te.type==z&&te.length==X)return te;(ue=te.prop(Ae.lookAhead))&&(K=Q[ee]+te.length+ue)}return S(z,B,Q,X,K,F)}}function k(z,F,B,Q,X,K,ee,te,ue){let de=[],Y=[];for(;z.length>Q;)de.push(z.pop()),Y.push(F.pop()+B-X);z.push(S(r.types[ee],de,Y,K-X,te-K,ue)),F.push(X-B)}function S(z,F,B,Q,X,K,ee){if(K){let te=[Ae.contextHash,K];ee=ee?[te].concat(ee):[te]}if(X>25){let te=[Ae.lookAhead,X];ee=ee?[te].concat(ee):[te]}return new it(z,F,B,Q,ee)}function b(z,F){let B=c.fork(),Q=0,X=0,K=0,ee=B.end-s,te={size:0,start:0,skip:0};e:for(let ue=B.pos-z;B.pos>ue;){let de=B.size;if(B.id==F&&de>=0){te.size=Q,te.start=X,te.skip=K,K+=4,Q+=4,B.next();continue}let Y=B.pos-de;if(de<0||Y<ue||B.start<ee)break;let ce=B.id>=a?4:0,fe=B.start;for(B.next();B.pos>Y;){if(B.size<0)if(B.size==-3)ce+=4;else break e;else B.id>=a&&(ce+=4);B.next()}X=fe,Q+=de,K+=ce}return(F<0||Q==z)&&(te.size=Q,te.start=X,te.skip=K),te.size>4?te:void 0}function C(z,F,B){let{id:Q,start:X,end:K,size:ee}=c;if(c.next(),ee>=0&&Q<a){let te=B;if(ee>4){let ue=c.pos-(ee-4);for(;c.pos>ue;)B=C(z,F,B)}F[--B]=te,F[--B]=K-z,F[--B]=X-z,F[--B]=Q}else ee==-3?d=Q:ee==-4&&(p=Q);return B}let D=[],N=[];for(;c.pos>0;)m(n.start||0,n.bufferStart||0,D,N,-1,0);let _=(e=n.length)!==null&&e!==void 0?e:D.length?N[0]+D[0].length:0;return new it(h[n.topID],D.reverse(),N.reverse(),_)}const V0=new WeakMap;function Ga(n,e){if(!n.isAnonymous||e instanceof ii||e.type!=n)return 1;let t=V0.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof it)){t=1;break}t+=Ga(n,r)}V0.set(e,t)}return t}function Ed(n,e,t,r,s,l,a,c,h){let d=0;for(let k=r;k<s;k++)d+=Ga(n,e[k]);let p=Math.ceil(d*1.5/8),m=[],v=[];function x(k,S,b,C,D){for(let N=b;N<C;){let _=N,z=S[N],F=Ga(n,k[N]);for(N++;N<C;N++){let B=Ga(n,k[N]);if(F+B>=p)break;F+=B}if(N==_+1){if(F>p){let B=k[_];x(B.children,B.positions,0,B.children.length,S[_]+D);continue}m.push(k[_])}else{let B=S[N-1]+k[N-1].length-z;m.push(Ed(n,k,S,_,N,z,B,null,h))}v.push(z+D-l)}}return x(e,t,r,s,0),(c||h)(m,v,a)}class Pi{constructor(e,t,r,s,l=!1,a=!1){this.from=e,this.to=t,this.tree=r,this.offset=s,this.open=(l?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let s=[new Pi(0,e.length,e,0,!1,r)];for(let l of t)l.to>e.length&&s.push(l);return s}static applyChanges(e,t,r=128){if(!t.length)return e;let s=[],l=1,a=e.length?e[0]:null;for(let c=0,h=0,d=0;;c++){let p=c<t.length?t[c]:null,m=p?p.fromA:1e9;if(m-h>=r)for(;a&&a.from<m;){let v=a;if(h>=v.from||m<=v.to||d){let x=Math.max(v.from,h)-d,k=Math.min(v.to,m)-d;v=x>=k?null:new Pi(x,k,v.tree,v.offset+d,c>0,!!p)}if(v&&s.push(v),a.to>m)break;a=l<e.length?e[l++]:null}if(!p)break;h=p.toA,d=p.toA-p.toB}return s}}let E1=class{startParse(e,t,r){return typeof e=="string"&&(e=new Y2(e)),r=r?r.length?r.map(s=>new Vh(s.from,s.to)):[new Vh(0,0)]:[new Vh(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let s=this.startParse(e,t,r);for(;;){let l=s.advance();if(l)return l}}};class Y2{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Ae({perNode:!0});var H0={};class pu{constructor(e,t,r,s,l,a,c,h,d,p=0,m){this.p=e,this.stack=t,this.state=r,this.reducePos=s,this.pos=l,this.score=a,this.buffer=c,this.bufferBase=h,this.curContext=d,this.lookAhead=p,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let s=e.parser.context;return new pu(e,[],t,r,r,0,[],0,s?new W0(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,s=e&65535,{parser:l}=this.p,a=this.reducePos<this.pos-25;a&&this.setLookAhead(this.pos);let c=l.dynamicPrecedence(s);if(c&&(this.score+=c),r==0){this.pushState(l.getGoto(this.state,s,!0),this.reducePos),s<l.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(s,this.reducePos);return}let h=this.stack.length-(r-1)*3-(e&262144?6:0),d=h?this.stack[h-2]:this.p.ranges[0].from,p=this.reducePos-d;p>=2e3&&!(!((t=this.p.parser.nodeSet.types[s])===null||t===void 0)&&t.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=p));let m=h?this.stack[h-1]:0,v=this.bufferBase+this.buffer.length-m;if(s<l.minRepeatTerm||e&131072){let x=l.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,d,x,v+4,!0)}if(e&262144)this.state=this.stack[h];else{let x=this.stack[h-3];this.state=l.getGoto(x,s,!0)}for(;this.stack.length>h;)this.stack.pop();this.reduceContext(s,d)}storeNode(e,t,r,s=4,l=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,c=this.buffer.length;if(c==0&&a.parent&&(c=a.bufferBase-a.parent.bufferBase,a=a.parent),c>0&&a.buffer[c-4]==0&&a.buffer[c-1]>-1){if(t==r)return;if(a.buffer[c-2]>=t){a.buffer[c-2]=r;return}}}if(!l||this.pos==r)this.buffer.push(e,t,r,s);else{let a=this.buffer.length;if(a>0&&(this.buffer[a-4]!=0||this.buffer[a-1]<0)){let c=!1;for(let h=a;h>0&&this.buffer[h-2]>r;h-=4)if(this.buffer[h-1]>=0){c=!0;break}if(c)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,s>4&&(s-=4)}this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=r,this.buffer[a+3]=s}}shift(e,t,r,s){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let l=e,{parser:a}=this.p;(s>this.pos||t<=a.maxNode)&&(this.pos=s,a.stateFlag(l,1)||(this.reducePos=s)),this.pushState(l,r),this.shiftContext(t,r),t<=a.maxNode&&this.buffer.push(t,r,s,4)}else this.pos=s,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,s,4)}apply(e,t,r,s){e&65536?this.reduce(e):this.shift(e,t,r,s)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(r,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new pu(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new G2(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if((r&65536)==0)return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let s=[];for(let l=0,a;l<t.length;l+=2)(a=t[l+1])!=this.state&&this.p.parser.hasAction(a,e)&&s.push(t[l],a);if(this.stack.length<120)for(let l=0;s.length<8&&l<t.length;l+=2){let a=t[l+1];s.some((c,h)=>h&1&&c==a)||s.push(t[l],a)}t=s}let r=[];for(let s=0;s<t.length&&r.length<4;s+=2){let l=t[s+1];if(l==this.state)continue;let a=this.split();a.pushState(l,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[s],this.pos),a.reducePos=this.pos,a.score-=200,r.push(a)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let r=t>>19,s=t&65535,l=this.stack.length-r*3;if(l<0||e.getGoto(this.stack[l],s,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;t=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(s,l)=>{if(!t.includes(s))return t.push(s),e.allActions(s,a=>{if(!(a&393216))if(a&65536){let c=(a>>19)-l;if(c>1){let h=a&65535,d=this.stack.length-c*3;if(d>=0&&e.getGoto(this.stack[d],h,!1)>=0)return c<<19|65536|h}}else{let c=r(a,l+1);if(c!=null)return c}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new W0(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class W0{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class G2{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class gu{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new gu(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new gu(this.stack,this.pos,this.index)}}function Ia(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,s=0;r<n.length;){let l=0;for(;;){let a=n.charCodeAt(r++),c=!1;if(a==126){l=65535;break}a>=92&&a--,a>=34&&a--;let h=a-32;if(h>=46&&(h-=46,c=!0),l+=h,c)break;l*=46}t?t[s++]=l:t=new e(l)}return t}class Ja{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Q0=new Ja;class J2{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Q0,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,s=this.rangeIndex,l=this.pos+e;for(;l<r.from;){if(!s)return null;let a=this.ranges[--s];l-=r.from-a.to,r=a}for(;t<0?l>r.to:l>=r.to;){if(s==this.ranges.length-1)return null;let a=this.ranges[++s];l+=a.from-r.to,r=a}return l}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,s;if(t>=0&&t<this.chunk.length)r=this.pos+e,s=this.chunk.charCodeAt(t);else{let l=this.resolveOffset(e,1);if(l==null)return-1;if(r=l,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,c=this.range;for(;c.to<=r;)c=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-r)),s=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),s}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Q0,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(r+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return r}}class fs{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;Z2(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}fs.prototype.contextual=fs.prototype.fallback=fs.prototype.extend=!1;fs.prototype.fallback=fs.prototype.extend=!1;class Tu{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function Z2(n,e,t,r,s,l){let a=0,c=1<<r,{dialect:h}=t.p.parser;e:for(;(c&n[a])!=0;){let d=n[a+1];for(let x=a+3;x<d;x+=2)if((n[x+1]&c)>0){let k=n[x];if(h.allows(k)&&(e.token.value==-1||e.token.value==k||eP(k,e.token.value,s,l))){e.acceptToken(k);break}}let p=e.next,m=0,v=n[a+2];if(e.next<0&&v>m&&n[d+v*3-3]==65535){a=n[d+v*3-1];continue e}for(;m<v;){let x=m+v>>1,k=d+x+(x<<1),S=n[k],b=n[k+1]||65536;if(p<S)v=x;else if(p>=b)m=x+1;else{a=n[k+2],e.advance();continue e}}break}}function $0(n,e,t){for(let r=e,s;(s=n[r])!=65535;r++)if(s==t)return r-e;return-1}function eP(n,e,t,r){let s=$0(t,r,e);return s<0||$0(t,r,n)<s}const tn=typeof process<"u"&&H0&&/\bparse\b/.test(H0.LOG);let Hh=null;function U0(n,e,t){let r=n.cursor(pt.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class tP{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?U0(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?U0(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],s=this.index[t];if(s==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let l=r.children[s],a=this.start[t]+r.positions[s];if(a>e)return this.nextStart=a,null;if(l instanceof it){if(a==e){if(a<this.safeFrom)return null;let c=a+l.length;if(c<=this.safeTo){let h=l.prop(Ae.lookAhead);if(!h||c+h<this.fragment.to)return l}}this.index[t]++,a+l.length>=Math.max(this.safeFrom,e)&&(this.trees.push(l),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+l.length}}}class nP{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Ja)}getActions(e){let t=0,r=null,{parser:s}=e.p,{tokenizers:l}=s,a=s.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,h=0;for(let d=0;d<l.length;d++){if((1<<d&a)==0)continue;let p=l[d],m=this.tokens[d];if(!(r&&!p.fallback)&&((p.contextual||m.start!=e.pos||m.mask!=a||m.context!=c)&&(this.updateCachedToken(m,p,e),m.mask=a,m.context=c),m.lookAhead>m.end+25&&(h=Math.max(m.lookAhead,h)),m.value!=0)){let v=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!p.extend&&(r=m,t>v))break}}for(;this.actions.length>t;)this.actions.pop();return h&&e.setLookAhead(h),!r&&e.pos==this.stream.end&&(r=new Ja,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Ja,{pos:r,p:s}=e;return t.start=r,t.end=Math.min(r+1,s.stream.end),t.value=r==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,r){let s=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(s,e),r),e.value>-1){let{parser:l}=r.p;for(let a=0;a<l.specialized.length;a++)if(l.specialized[a]==e.value){let c=l.specializers[a](this.stream.read(e.start,e.end),r);if(c>=0&&r.p.parser.dialect.allows(c>>1)){(c&1)==0?e.value=c>>1:e.extended=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,r,s){for(let l=0;l<s;l+=3)if(this.actions[l]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=r,s}addActions(e,t,r,s){let{state:l}=e,{parser:a}=e.p,{data:c}=a;for(let h=0;h<2;h++)for(let d=a.stateSlot(l,h?2:1);;d+=3){if(c[d]==65535)if(c[d+1]==1)d=pr(c,d+2);else{s==0&&c[d+1]==2&&(s=this.putAction(pr(c,d+2),t,r,s));break}c[d]==t&&(s=this.putAction(pr(c,d+1),t,r,s))}return s}}class rP{constructor(e,t,r,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new J2(t,s),this.tokens=new nP(e,this.stream),this.topTerm=e.top[1];let{from:l}=s[0];this.stacks=[pu.start(this,e.top[0],l)],this.fragments=r.length&&this.stream.end-l>e.bufferLength*4?new tP(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],s,l;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let c=e[a];for(;;){if(this.tokens.mainToken=null,c.pos>t)r.push(c);else{if(this.advanceStack(c,r,e))continue;{s||(s=[],l=[]),s.push(c);let h=this.tokens.getMainToken(c);l.push(h.value,h.end)}}break}}if(!r.length){let a=s&&oP(s);if(a)return tn&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw tn&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let a=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,l,r);if(a)return tn&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((c,h)=>h.score-c.score);r.length>a;)r.pop();r.some(c=>c.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let c=r[a];for(let h=a+1;h<r.length;h++){let d=r[h];if(c.sameState(d)||c.buffer.length>500&&d.buffer.length>500)if((c.score-d.score||c.buffer.length-d.buffer.length)>0)r.splice(h--,1);else{r.splice(a--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let s=e.pos,{parser:l}=this,a=tn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let d=e.curContext&&e.curContext.tracker.strict,p=d?e.curContext.hash:0;for(let m=this.fragments.nodeAt(s);m;){let v=this.parser.nodeSet.types[m.type.id]==m.type?l.getGoto(e.state,m.type.id):-1;if(v>-1&&m.length&&(!d||(m.prop(Ae.contextHash)||0)==p))return e.useNode(m,v),tn&&console.log(a+this.stackID(e)+` (via reuse of ${l.getName(m.type.id)})`),!0;if(!(m instanceof it)||m.children.length==0||m.positions[0]>0)break;let x=m.children[0];if(x instanceof it&&m.positions[0]==0)m=x;else break}}let c=l.stateSlot(e.state,4);if(c>0)return e.reduce(c),tn&&console.log(a+this.stackID(e)+` (via always-reduce ${l.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let h=this.tokens.getActions(e);for(let d=0;d<h.length;){let p=h[d++],m=h[d++],v=h[d++],x=d==h.length||!r,k=x?e:e.split(),S=this.tokens.mainToken;if(k.apply(p,m,S?S.start:k.pos,v),tn&&console.log(a+this.stackID(k)+` (via ${(p&65536)==0?"shift":`reduce of ${l.getName(p&65535)}`} for ${l.getName(m)} @ ${s}${k==e?"":", split"})`),x)return!0;k.pos>s?t.push(k):r.push(k)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return X0(e,t),!0}}runRecovery(e,t,r){let s=null,l=!1;for(let a=0;a<e.length;a++){let c=e[a],h=t[a<<1],d=t[(a<<1)+1],p=tn?this.stackID(c)+" -> ":"";if(c.deadEnd&&(l||(l=!0,c.restart(),tn&&console.log(p+this.stackID(c)+" (restarted)"),this.advanceFully(c,r))))continue;let m=c.split(),v=p;for(let x=0;x<10&&m.forceReduce()&&(tn&&console.log(v+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,r));x++)tn&&(v=this.stackID(m)+" -> ");for(let x of c.recoverByInsert(h))tn&&console.log(p+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,r);this.stream.end>c.pos?(d==c.pos&&(d++,h=0),c.recoverByDelete(h,d),tn&&console.log(p+this.stackID(c)+` (via recover-delete ${this.parser.getName(h)})`),X0(c,r)):(!s||s.score<c.score)&&(s=c)}return s}stackToTree(e){return e.close(),it.build({buffer:gu.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Hh||(Hh=new WeakMap)).get(e);return t||Hh.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function X0(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class iP{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const Wh=n=>n;class sP{constructor(e){this.start=e.start,this.shift=e.shift||Wh,this.reduce=e.reduce||Wh,this.reuse=e.reuse||Wh,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class mu extends E1{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let r=Object.keys(e.topRules).map(c=>e.topRules[c][1]),s=[];for(let c=0;c<t.length;c++)s.push([]);function l(c,h,d){s[c].push([h,h.deserialize(String(d))])}if(e.nodeProps)for(let c of e.nodeProps){let h=c[0];typeof h=="string"&&(h=Ae[h]);for(let d=1;d<c.length;){let p=c[d++];if(p>=0)l(p,h,c[d++]);else{let m=c[d+-p];for(let v=-p;v>0;v--)l(c[d++],h,m);d++}}}this.nodeSet=new Pd(t.map((c,h)=>Kt.define({name:h>=this.minRepeatTerm?void 0:c,id:h,props:s[h],top:r.indexOf(h)>-1,error:h==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(h)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=C1;let a=Ia(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(K0),this.states=Ia(e.states,Uint32Array),this.data=Ia(e.stateData),this.goto=Ia(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new fs(a,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let s=new rP(this,e,t,r);for(let l of this.wrappers)s=l(s,e,t,r);return s}getGoto(e,t,r=!1){let s=this.goto;if(t>=s[0])return-1;for(let l=s[t+1];;){let a=s[l++],c=a&1,h=s[l++];if(c&&r)return h;for(let d=l+(a>>1);l<d;l++)if(s[l]==e)return h;if(c)return-1}}hasAction(e,t){let r=this.data;for(let s=0;s<2;s++)for(let l=this.stateSlot(e,s?2:1),a;;l+=3){if((a=r[l])==65535)if(r[l+1]==1)a=r[l=pr(r,l+2)];else{if(r[l+1]==2)return pr(r,l+2);break}if(a==t||a==0)return pr(r,l+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),s=r?t(r):void 0;for(let l=this.stateSlot(e,1);s==null;l+=3){if(this.data[l]==65535)if(this.data[l+1]==1)l=pr(this.data,l+2);else break;s=t(pr(this.data,l+1))}return s}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=pr(this.data,r+2);else break;if((this.data[r+2]&1)==0){let s=this.data[r+1];t.some((l,a)=>a&1&&l==s)||t.push(this.data[r],s)}}return t}configure(e){let t=Object.assign(Object.create(mu.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let s=e.tokenizers.find(l=>l.from==r);return s?s.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,s)=>{let l=e.specializers.find(c=>c.from==r.external);if(!l)return r;let a=Object.assign(Object.assign({},r),{external:l.to});return t.specializers[s]=K0(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let l of e.split(" ")){let a=t.indexOf(l);a>=0&&(r[a]=!0)}let s=null;for(let l=0;l<t.length;l++)if(!r[l])for(let a=this.dialects[t[l]],c;(c=this.data[a++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[c]=1;return new iP(e,r,s)}static deserialize(e){return new mu(e)}}function pr(n,e){return n[e]|n[e+1]<<16}function oP(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function K0(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}let lP=0,gr=class Wf{constructor(e,t,r,s){this.name=e,this.set=t,this.base=r,this.modified=s,this.id=lP++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof Wf&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let s=new Wf(r,[],null,[]);if(s.set.push(s),t)for(let l of t.set)s.set.push(l);return s}static defineModifier(e){let t=new yu(e);return r=>r.modified.indexOf(t)>-1?r:yu.get(r.base||r,r.modified.concat(t).sort((s,l)=>s.id-l.id))}},aP=0;class yu{constructor(e){this.name=e,this.instances=[],this.id=aP++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(c=>c.base==e&&uP(t,c.modified));if(r)return r;let s=[],l=new gr(e.name,s,e,t);for(let c of t)c.instances.push(l);let a=cP(t);for(let c of e.set)if(!c.modified.length)for(let h of a)s.push(yu.get(c,h));return l}}function uP(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function cP(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,s=e.length;r<s;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function D1(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let s of t.split(" "))if(s){let l=[],a=2,c=s;for(let m=0;;){if(c=="..."&&m>0&&m+3==s.length){a=1;break}let v=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!v)throw new RangeError("Invalid path: "+s);if(l.push(v[0]=="*"?"":v[0][0]=='"'?JSON.parse(v[0]):v[0]),m+=v[0].length,m==s.length)break;let x=s[m++];if(m==s.length&&x=="!"){a=0;break}if(x!="/")throw new RangeError("Invalid path: "+s);c=s.slice(m)}let h=l.length-1,d=l[h];if(!d)throw new RangeError("Invalid path: "+s);let p=new Ko(r,a,h>0?l.slice(0,h):null);e[d]=p.sort(e[d])}}return R1.add(e)}const R1=new Ae({combine(n,e){let t,r,s;for(;n||e;){if(!n||e&&n.depth>=e.depth?(s=e,e=e.next):(s=n,n=n.next),t&&t.mode==s.mode&&!s.context&&!t.context)continue;let l=new Ko(s.tags,s.mode,s.context);t?t.next=l:r=l,t=l}return r}});class Ko{constructor(e,t,r,s){this.tags=e,this.mode=t,this.context=r,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Ko.empty=new Ko([],2,null);function T1(n,e){let t=Object.create(null);for(let l of n)if(!Array.isArray(l.tag))t[l.tag.id]=l.class;else for(let a of l.tag)t[a.id]=l.class;let{scope:r,all:s=null}=e||{};return{style:l=>{let a=s;for(let c of l)for(let h of c.set){let d=t[h.id];if(d){a=a?a+" "+d:d;break}}return a},scope:r}}function hP(n,e){let t=null;for(let r of n){let s=r.style(e);s&&(t=t?t+" "+s:s)}return t}function fP(n,e,t,r=0,s=n.length){let l=new dP(r,Array.isArray(e)?e:[e],t);l.highlightRange(n.cursor(),r,s,"",l.highlighters),l.flush(s)}class dP{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,s,l){let{type:a,from:c,to:h}=e;if(c>=r||h<=t)return;a.isTop&&(l=this.highlighters.filter(x=>!x.scope||x.scope(a)));let d=s,p=pP(e)||Ko.empty,m=hP(l,p.tags);if(m&&(d&&(d+=" "),d+=m,p.mode==1&&(s+=(s?" ":"")+m)),this.startSpan(Math.max(t,c),d),p.opaque)return;let v=e.tree&&e.tree.prop(Ae.mounted);if(v&&v.overlay){let x=e.node.enter(v.overlay[0].from+c,1),k=this.highlighters.filter(b=>!b.scope||b.scope(v.tree.type)),S=e.firstChild();for(let b=0,C=c;;b++){let D=b<v.overlay.length?v.overlay[b]:null,N=D?D.from+c:h,_=Math.max(t,C),z=Math.min(r,N);if(_<z&&S)for(;e.from<z&&(this.highlightRange(e,_,z,s,l),this.startSpan(Math.min(z,e.to),d),!(e.to>=N||!e.nextSibling())););if(!D||N>r)break;C=D.to+c,C>t&&(this.highlightRange(x.cursor(),Math.max(t,D.from+c),Math.min(r,C),"",k),this.startSpan(Math.min(r,C),d))}S&&e.parent()}else if(e.firstChild()){v&&(s="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,s,l),this.startSpan(Math.min(r,e.to),d)}while(e.nextSibling());e.parent()}}}function pP(n){let e=n.type.prop(R1);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const ne=gr.define,Ba=ne(),Ur=ne(),q0=ne(Ur),Y0=ne(Ur),Xr=ne(),za=ne(Xr),Qh=ne(Xr),Gn=ne(),wi=ne(Gn),qn=ne(),Yn=ne(),Qf=ne(),mo=ne(Qf),ja=ne(),V={comment:Ba,lineComment:ne(Ba),blockComment:ne(Ba),docComment:ne(Ba),name:Ur,variableName:ne(Ur),typeName:q0,tagName:ne(q0),propertyName:Y0,attributeName:ne(Y0),className:ne(Ur),labelName:ne(Ur),namespace:ne(Ur),macroName:ne(Ur),literal:Xr,string:za,docString:ne(za),character:ne(za),attributeValue:ne(za),number:Qh,integer:ne(Qh),float:ne(Qh),bool:ne(Xr),regexp:ne(Xr),escape:ne(Xr),color:ne(Xr),url:ne(Xr),keyword:qn,self:ne(qn),null:ne(qn),atom:ne(qn),unit:ne(qn),modifier:ne(qn),operatorKeyword:ne(qn),controlKeyword:ne(qn),definitionKeyword:ne(qn),moduleKeyword:ne(qn),operator:Yn,derefOperator:ne(Yn),arithmeticOperator:ne(Yn),logicOperator:ne(Yn),bitwiseOperator:ne(Yn),compareOperator:ne(Yn),updateOperator:ne(Yn),definitionOperator:ne(Yn),typeOperator:ne(Yn),controlOperator:ne(Yn),punctuation:Qf,separator:ne(Qf),bracket:mo,angleBracket:ne(mo),squareBracket:ne(mo),paren:ne(mo),brace:ne(mo),content:Gn,heading:wi,heading1:ne(wi),heading2:ne(wi),heading3:ne(wi),heading4:ne(wi),heading5:ne(wi),heading6:ne(wi),contentSeparator:ne(Gn),list:ne(Gn),quote:ne(Gn),emphasis:ne(Gn),strong:ne(Gn),link:ne(Gn),monospace:ne(Gn),strikethrough:ne(Gn),inserted:ne(),deleted:ne(),changed:ne(),invalid:ne(),meta:ja,documentMeta:ne(ja),annotation:ne(ja),processingInstruction:ne(ja),definition:gr.defineModifier("definition"),constant:gr.defineModifier("constant"),function:gr.defineModifier("function"),standard:gr.defineModifier("standard"),local:gr.defineModifier("local"),special:gr.defineModifier("special")};for(let n in V){let e=V[n];e instanceof gr&&(e.name=n)}T1([{tag:V.link,class:"tok-link"},{tag:V.heading,class:"tok-heading"},{tag:V.emphasis,class:"tok-emphasis"},{tag:V.strong,class:"tok-strong"},{tag:V.keyword,class:"tok-keyword"},{tag:V.atom,class:"tok-atom"},{tag:V.bool,class:"tok-bool"},{tag:V.url,class:"tok-url"},{tag:V.labelName,class:"tok-labelName"},{tag:V.inserted,class:"tok-inserted"},{tag:V.deleted,class:"tok-deleted"},{tag:V.literal,class:"tok-literal"},{tag:V.string,class:"tok-string"},{tag:V.number,class:"tok-number"},{tag:[V.regexp,V.escape,V.special(V.string)],class:"tok-string2"},{tag:V.variableName,class:"tok-variableName"},{tag:V.local(V.variableName),class:"tok-variableName tok-local"},{tag:V.definition(V.variableName),class:"tok-variableName tok-definition"},{tag:V.special(V.variableName),class:"tok-variableName2"},{tag:V.definition(V.propertyName),class:"tok-propertyName tok-definition"},{tag:V.typeName,class:"tok-typeName"},{tag:V.namespace,class:"tok-namespace"},{tag:V.className,class:"tok-className"},{tag:V.macroName,class:"tok-macroName"},{tag:V.propertyName,class:"tok-propertyName"},{tag:V.operator,class:"tok-operator"},{tag:V.comment,class:"tok-comment"},{tag:V.meta,class:"tok-meta"},{tag:V.invalid,class:"tok-invalid"},{tag:V.punctuation,class:"tok-punctuation"}]);const ns=63,G0=64,gP=1,mP=2,N1=3,yP=4,L1=5,vP=6,xP=7,I1=65,wP=66,kP=8,SP=9,bP=10,OP=11,CP=12,B1=13,PP=19,AP=20,MP=29,EP=33,DP=34,RP=47,TP=0,Dd=1,$f=2,qo=3,Uf=4;class bi{constructor(e,t,r){this.parent=e,this.depth=t,this.type=r,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)+r}}bi.top=new bi(null,-1,TP);function Lo(n,e){for(let t=0,r=e-n.pos-1;;r--,t++){let s=n.peek(r);if(kr(s)||s==-1)return t}}function Xf(n){return n==32||n==9}function kr(n){return n==10||n==13}function z1(n){return Xf(n)||kr(n)}function Ci(n){return n<0||z1(n)}const NP=new sP({start:bi.top,reduce(n,e){return n.type==qo&&(e==AP||e==DP)?n.parent:n},shift(n,e,t,r){if(e==N1)return new bi(n,Lo(r,r.pos),Dd);if(e==I1||e==L1)return new bi(n,Lo(r,r.pos),$f);if(e==ns)return n.parent;if(e==PP||e==EP)return new bi(n,0,qo);if(e==B1&&n.type==Uf)return n.parent;if(e==RP){let s=/[1-9]/.exec(r.read(r.pos,t.pos));if(s)return new bi(n,n.depth+ +s[0],Uf)}return n},hash(n){return n.hash}});function vs(n,e,t=0){return n.peek(t)==e&&n.peek(t+1)==e&&n.peek(t+2)==e&&Ci(n.peek(t+3))}const LP=new Tu((n,e)=>{if(n.next==-1&&e.canShift(G0))return n.acceptToken(G0);let t=n.peek(-1);if((kr(t)||t<0)&&e.context.type!=qo){if(vs(n,45))if(e.canShift(ns))n.acceptToken(ns);else return n.acceptToken(gP,3);if(vs(n,46))if(e.canShift(ns))n.acceptToken(ns);else return n.acceptToken(mP,3);let r=0;for(;n.next==32;)r++,n.advance();(r<e.context.depth||r==e.context.depth&&e.context.type==Dd&&(n.next!=45||!Ci(n.peek(1))))&&n.next!=-1&&!kr(n.next)&&n.next!=35&&n.acceptToken(ns,-r)}},{contextual:!0}),IP=new Tu((n,e)=>{if(e.context.type==qo){n.next==63&&(n.advance(),Ci(n.next)&&n.acceptToken(xP));return}if(n.next==45)n.advance(),Ci(n.next)&&n.acceptToken(e.context.type==Dd&&e.context.depth==Lo(n,n.pos-1)?yP:N1);else if(n.next==63)n.advance(),Ci(n.next)&&n.acceptToken(e.context.type==$f&&e.context.depth==Lo(n,n.pos-1)?vP:L1);else{let t=n.pos;for(;;)if(Xf(n.next)){if(n.pos==t)return;n.advance()}else if(n.next==33)j1(n);else if(n.next==38)Kf(n);else if(n.next==42){Kf(n);break}else if(n.next==39||n.next==34){if(Rd(n,!0))break;return}else if(n.next==91||n.next==123){if(!zP(n))return;break}else{F1(n,!0,!1,0);break}for(;Xf(n.next);)n.advance();if(n.next==58){if(n.pos==t&&e.canShift(MP))return;let r=n.peek(1);Ci(r)&&n.acceptTokenTo(e.context.type==$f&&e.context.depth==Lo(n,t)?wP:I1,t)}}},{contextual:!0});function BP(n){return n>32&&n<127&&n!=34&&n!=37&&n!=44&&n!=60&&n!=62&&n!=92&&n!=94&&n!=96&&n!=123&&n!=124&&n!=125}function J0(n){return n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70}function Z0(n,e){return n.next==37?(n.advance(),J0(n.next)&&n.advance(),J0(n.next)&&n.advance(),!0):BP(n.next)||e&&n.next==44?(n.advance(),!0):!1}function j1(n){if(n.advance(),n.next==60){for(n.advance();;)if(!Z0(n,!0)){n.next==62&&n.advance();break}}else for(;Z0(n,!1););}function Kf(n){for(n.advance();!Ci(n.next)&&vu(n.tag)!="f";)n.advance()}function Rd(n,e){let t=n.next,r=!1,s=n.pos;for(n.advance();;){let l=n.next;if(l<0)break;if(n.advance(),l==t)if(l==39)if(n.next==39)n.advance();else break;else break;else if(l==92&&t==34)n.next>=0&&n.advance();else if(kr(l)){if(e)return!1;r=!0}else if(e&&n.pos>=s+1024)return!1}return!r}function zP(n){for(let e=[],t=n.pos+1024;;)if(n.next==91||n.next==123)e.push(n.next),n.advance();else if(n.next==39||n.next==34){if(!Rd(n,!0))return!1}else if(n.next==93||n.next==125){if(e[e.length-1]!=n.next-2)return!1;if(e.pop(),n.advance(),!e.length)return!0}else{if(n.next<0||n.pos>t||kr(n.next))return!1;n.advance()}}const jP="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function vu(n){return n<33?"u":n>125?"s":jP[n-33]}function $h(n,e){let t=vu(n);return t!="u"&&!(e&&t=="f")}function F1(n,e,t,r){if(vu(n.next)=="s"||(n.next==63||n.next==58||n.next==45)&&$h(n.peek(1),t))n.advance();else return!1;let s=n.pos;for(;;){let l=n.next,a=0,c=r+1;for(;z1(l);){if(kr(l)){if(e)return!1;c=0}else c++;l=n.peek(++a)}if(!(l>=0&&(l==58?$h(n.peek(a+1),t):l==35?n.peek(a-1)!=32:$h(l,t)))||!t&&c<=r||c==0&&!t&&(vs(n,45,a)||vs(n,46,a)))break;if(e&&vu(l)=="f")return!1;for(let d=a;d>=0;d--)n.advance();if(e&&n.pos>s+1024)return!1}return!0}const FP=new Tu((n,e)=>{if(n.next==33)j1(n),n.acceptToken(CP);else if(n.next==38||n.next==42){let t=n.next==38?bP:OP;Kf(n),n.acceptToken(t)}else n.next==39||n.next==34?(Rd(n,!1),n.acceptToken(SP)):F1(n,!1,e.context.type==qo,e.context.depth)&&n.acceptToken(kP)}),_P=new Tu((n,e)=>{let t=e.context.type==Uf?e.context.depth:-1,r=n.pos;e:for(;;){let s=0,l=n.next;for(;l==32;)l=n.peek(++s);if(!s&&(vs(n,45,s)||vs(n,46,s))||!kr(l)&&(t<0&&(t=Math.max(e.context.depth+1,s)),s<t))break;for(;;){if(n.next<0)break e;let a=kr(n.next);if(n.advance(),a)continue e;r=n.pos}}n.acceptTokenTo(B1,r)}),VP=D1({DirectiveName:V.keyword,DirectiveContent:V.attributeValue,"DirectiveEnd DocEnd":V.meta,QuotedLiteral:V.string,BlockLiteralHeader:V.special(V.string),BlockLiteralContent:V.content,Literal:V.content,"Key/Literal Key/QuotedLiteral":V.definition(V.propertyName),"Anchor Alias":V.labelName,Tag:V.typeName,Comment:V.lineComment,": , -":V.separator,"?":V.punctuation,"[ ]":V.squareBracket,"{ }":V.brace}),HP=mu.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:NP,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[VP],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[LP,IP,FP,_P,0,1],topRules:{Stream:[0,15]},tokenPrec:0});var Uh;const os=new Ae;function WP(n){return ve.define({combine:n?e=>e.concat(n):void 0})}const QP=new Ae;class Tn{constructor(e,t,r=[],s=""){this.data=e,this.name=s,Le.prototype.hasOwnProperty("tree")||Object.defineProperty(Le.prototype,"tree",{get(){return rr(this)}}),this.parser=t,this.extension=[ws.of(this),Le.languageData.of((l,a,c)=>{let h=ey(l,a,c),d=h.type.prop(os);if(!d)return[];let p=l.facet(d),m=h.type.prop(QP);if(m){let v=h.resolve(a-h.from,c);for(let x of m)if(x.test(v,l)){let k=l.facet(x.facet);return x.type=="replace"?k:k.concat(p)}}return p})].concat(r)}isActiveAt(e,t,r=-1){return ey(e,t,r).type.prop(os)==this.data}findRegions(e){let t=e.facet(ws);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],s=(l,a)=>{if(l.prop(os)==this.data){r.push({from:a,to:a+l.length});return}let c=l.prop(Ae.mounted);if(c){if(c.tree.prop(os)==this.data){if(c.overlay)for(let h of c.overlay)r.push({from:h.from+a,to:h.to+a});else r.push({from:a,to:a+l.length});return}else if(c.overlay){let h=r.length;if(s(c.tree,c.overlay[0].from+a),r.length>h)return}}for(let h=0;h<l.children.length;h++){let d=l.children[h];d instanceof it&&s(d,l.positions[h]+a)}};return s(rr(e),0),r}get allowsNesting(){return!0}}Tn.setState=at.define();function ey(n,e,t){let r=n.facet(ws),s=rr(n).topNode;if(!r||r.allowsNesting)for(let l=s;l;l=l.enter(e,t,pt.ExcludeBuffers))l.type.isTop&&(s=l);return s}class xu extends Tn{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=WP(e.languageData);return new xu(t,e.parser.configure({props:[os.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new xu(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function rr(n){let e=n.field(Tn.state,!1);return e?e.tree:it.empty}class $P{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let yo=null;class wu{constructor(e,t,r=[],s,l,a,c,h){this.parser=e,this.state=t,this.fragments=r,this.tree=s,this.treeLen=l,this.viewport=a,this.skipped=c,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new wu(e,t,[],it.empty,0,r,[],null)}startParse(){return this.parser.startParse(new $P(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=it.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(Pi.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Pi.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=yo;yo=this;try{return e()}finally{yo=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=ty(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:s,treeLen:l,viewport:a,skipped:c}=this;if(this.takeTree(),!e.empty){let h=[];if(e.iterChangedRanges((d,p,m,v)=>h.push({fromA:d,toA:p,fromB:m,toB:v})),r=Pi.applyChanges(r,h),s=it.empty,l=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){c=[];for(let d of this.skipped){let p=e.mapPos(d.from,1),m=e.mapPos(d.to,-1);p<m&&c.push({from:p,to:m})}}}return new wu(this.parser,t,r,s,l,a,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:s,to:l}=this.skipped[r];s<e.to&&l>e.from&&(this.fragments=ty(this.fragments,s,l),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends E1{createParse(t,r,s){let l=s[0].from,a=s[s.length-1].to;return{parsedPos:l,advance(){let h=yo;if(h){for(let d of s)h.tempSkipped.push(d);e&&(h.scheduleOn=h.scheduleOn?Promise.all([h.scheduleOn,e]):e)}return this.parsedPos=a,new it(Kt.none,[],[],a-l)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return yo}}function ty(n,e,t){return Pi.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class xs{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new xs(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=wu.create(e.facet(ws).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new xs(r)}}Tn.state=Ri.define({create:xs.init,update(n,e){for(let t of e.effects)if(t.is(Tn.setState))return t.value;return e.startState.facet(ws)!=e.state.facet(ws)?xs.init(e.state):n.apply(e)}});let _1=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(_1=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Xh=typeof navigator<"u"&&(!((Uh=navigator.scheduling)===null||Uh===void 0)&&Uh.isInputPending)?()=>navigator.scheduling.isInputPending():null,UP=In.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Tn.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Tn.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=_1(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:s}}=this.view,l=r.field(Tn.state);if(l.tree==l.context.tree&&l.context.isDone(s+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!Xh?Math.max(25,e.timeRemaining()-5):1e9),c=l.context.treeLen<s&&r.doc.length>s+1e3,h=l.context.work(()=>Xh&&Xh()||Date.now()>a,s+(c?0:1e5));this.chunkBudget-=Date.now()-t,(h||this.chunkBudget<=0)&&(l.context.takeTree(),this.view.dispatch({effects:Tn.setState.of(new xs(l.context))})),this.chunkBudget>0&&!(h&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(l.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>er(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ws=ve.define({combine(n){return n.length?n[0]:null},enables:n=>[Tn.state,UP,be.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class XP{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const KP=ve.define(),Td=ve.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function ku(n){let e=n.facet(Td);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Su(n,e){let t="",r=n.tabSize,s=n.facet(Td)[0];if(s=="	"){for(;e>=r;)t+="	",e-=r;s=" "}for(let l=0;l<e;l++)t+=s;return t}function V1(n,e){n instanceof Le&&(n=new Nu(n));for(let r of n.state.facet(KP)){let s=r(n,e);if(s!==void 0)return s}let t=rr(n.state);return t.length>=e?qP(n,t,e):null}class Nu{constructor(e,t={}){this.state=e,this.options=t,this.unit=ku(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:l}=this.options;return s!=null&&s>=r.from&&s<=r.to?l&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:r.text.slice(s-r.from),from:s}:{text:r.text.slice(0,s-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:s}=this.lineAt(e,t);return r.slice(e-s,Math.min(r.length,e+100-s))}column(e,t=1){let{text:r,from:s}=this.lineAt(e,t),l=this.countColumn(r,e-s),a=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return a>-1&&(l+=a-this.countColumn(r,r.search(/\S|$/))),l}countColumn(e,t=e.length){return Mu(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:s}=this.lineAt(e,t),l=this.options.overrideIndentation;if(l){let a=l(s);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const H1=new Ae;function qP(n,e,t){let r=e.resolveStack(t),s=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(s!=r.node){let l=[];for(let a=s;a&&!(a.from<r.node.from||a.to>r.node.to||a.from==r.node.from&&a.type==r.node.type);a=a.parent)l.push(a);for(let a=l.length-1;a>=0;a--)r={node:l[a],next:r}}return W1(r,n,t)}function W1(n,e,t){for(let r=n;r;r=r.next){let s=GP(r.node);if(s)return s(Nd.create(e,t,r))}return 0}function YP(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function GP(n){let e=n.type.prop(H1);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(Ae.closedBy))){let s=n.lastChild,l=s&&r.indexOf(s.name)>-1;return a=>Q1(a,!0,1,void 0,l&&!YP(a)?s.from:void 0)}return n.parent==null?JP:null}function JP(){return 0}class Nd extends Nu{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new Nd(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(ZP(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return W1(this.context.next,this.base,this.pos)}}function ZP(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function eA(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let s=n.options.simulateBreak,l=n.state.doc.lineAt(t.from),a=s==null||s<=l.from?l.to:Math.min(l.to,s);for(let c=t.to;;){let h=e.childAfter(c);if(!h||h==r)return null;if(!h.type.isSkipped){if(h.from>=a)return null;let d=/^ */.exec(l.text.slice(t.to-l.from))[0].length;return{from:t.from,to:t.to+d}}c=h.to}}function ny({closing:n,align:e=!0,units:t=1}){return r=>Q1(r,e,t,n)}function Q1(n,e,t,r,s){let l=n.textAfter,a=l.match(/^\s*/)[0].length,c=r&&l.slice(a,a+r.length)==r||s==n.pos+a,h=e?eA(n):null;return h?c?n.column(h.from):n.column(h.to):n.baseIndent+(c?0:n.unit*t)}const tA=new Ae;function nA(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}class Lu{constructor(e,t){this.specs=e;let r;function s(c){let h=ei.newName();return(r||(r=Object.create(null)))["."+h]=c,h}const l=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,a=t.scope;this.scope=a instanceof Tn?c=>c.prop(os)==a.data:a?c=>c==a:void 0,this.style=T1(e.map(c=>({tag:c.tag,class:c.class||s(Object.assign({},c,{tag:null}))})),{all:l}).style,this.module=r?new ei(r):null,this.themeType=t.themeType}static define(e,t){return new Lu(e,t||{})}}const qf=ve.define(),rA=ve.define({combine(n){return n.length?[n[0]]:null}});function Kh(n){let e=n.facet(qf);return e.length?e:n.facet(rA)}function iA(n,e){let t=[oA],r;return n instanceof Lu&&(n.module&&t.push(be.styleModule.of(n.module)),r=n.themeType),r?t.push(qf.computeN([be.darkTheme],s=>s.facet(be.darkTheme)==(r=="dark")?[n]:[])):t.push(qf.of(n)),t}class sA{constructor(e){this.markCache=Object.create(null),this.tree=rr(e.state),this.decorations=this.buildDeco(e,Kh(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=rr(e.state),r=Kh(e.state),s=r!=Kh(e.startState),{viewport:l}=e.view,a=e.changes.mapPos(this.decoratedTo,1);t.length<l.to&&!s&&t.type==this.tree.type&&a>=l.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=l.to)}buildDeco(e,t){if(!t||!this.tree.length)return Ge.none;let r=new _o;for(let{from:s,to:l}of e.visibleRanges)fP(this.tree,t,(a,c,h)=>{r.add(a,c,this.markCache[h]||(this.markCache[h]=Ge.mark({class:h})))},s,l);return r.finish()}}const oA=Au.high(In.fromClass(sA,{decorations:n=>n.decorations})),lA=1e4,aA="()[]{}",uA=new Ae;function Yf(n,e,t){let r=n.prop(e<0?Ae.openedBy:Ae.closedBy);if(r)return r;if(n.name.length==1){let s=t.indexOf(n.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function Gf(n){let e=n.type.prop(uA);return e?e(n.node):n}function ls(n,e,t,r={}){let s=r.maxScanDistance||lA,l=r.brackets||aA,a=rr(n),c=a.resolveInner(e,t);for(let h=c;h;h=h.parent){let d=Yf(h.type,t,l);if(d&&h.from<h.to){let p=Gf(h);if(p&&(t>0?e>=p.from&&e<p.to:e>p.from&&e<=p.to))return cA(n,e,t,h,p,d,l)}}return hA(n,e,t,a,c.type,s,l)}function cA(n,e,t,r,s,l,a){let c=r.parent,h={from:s.from,to:s.to},d=0,p=c==null?void 0:c.cursor();if(p&&(t<0?p.childBefore(r.from):p.childAfter(r.to)))do if(t<0?p.to<=r.from:p.from>=r.to){if(d==0&&l.indexOf(p.type.name)>-1&&p.from<p.to){let m=Gf(p);return{start:h,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(Yf(p.type,t,a))d++;else if(Yf(p.type,-t,a)){if(d==0){let m=Gf(p);return{start:h,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}d--}}while(t<0?p.prevSibling():p.nextSibling());return{start:h,matched:!1}}function hA(n,e,t,r,s,l,a){let c=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),h=a.indexOf(c);if(h<0||h%2==0!=t>0)return null;let d={from:t<0?e-1:e,to:t>0?e+1:e},p=n.doc.iterRange(e,t>0?n.doc.length:0),m=0;for(let v=0;!p.next().done&&v<=l;){let x=p.value;t<0&&(v+=x.length);let k=e+v*t;for(let S=t>0?0:x.length-1,b=t>0?x.length:-1;S!=b;S+=t){let C=a.indexOf(x[S]);if(!(C<0||r.resolveInner(k+S,1).type!=s))if(C%2==0==t>0)m++;else{if(m==1)return{start:d,end:{from:k+S,to:k+S+1},matched:C>>1==h>>1};m--}}t>0&&(v+=x.length)}return p.done?{start:d,matched:!1}:null}const fA=Object.create(null),ry=[Kt.none],iy=[],sy=Object.create(null),dA=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])dA[n]=pA(fA,e);function qh(n,e){iy.indexOf(n)>-1||(iy.push(n),console.warn(e))}function pA(n,e){let t=[];for(let c of e.split(" ")){let h=[];for(let d of c.split(".")){let p=n[d]||V[d];p?typeof p=="function"?h.length?h=h.map(p):qh(d,`Modifier ${d} used at start of tag`):h.length?qh(d,`Tag ${d} used as modifier`):h=Array.isArray(p)?p:[p]:qh(d,`Unknown highlighting tag ${d}`)}for(let d of h)t.push(d)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),s=r+" "+t.map(c=>c.id),l=sy[s];if(l)return l.id;let a=sy[s]=Kt.define({id:ry.length,name:r,props:[D1({[r]:t})]});return ry.push(a),a.id}Ye.RTL,Ye.LTR;const gA=xu.define({name:"yaml",parser:HP.configure({props:[H1.add({Stream:n=>{for(let e=n.node.resolve(n.pos,-1);e&&e.to>=n.pos;e=e.parent){if(e.name=="BlockLiteralContent"&&e.from<e.to)return n.baseIndentFor(e);if(e.name=="BlockLiteral")return n.baseIndentFor(e)+n.unit;if(e.name=="BlockSequence"||e.name=="BlockMapping")return n.column(e.from,1);if(e.name=="QuotedLiteral")return null;if(e.name=="Literal"){let t=n.column(e.from,1);if(t==n.lineIndent(e.from,1))return t;if(e.to>n.pos)return null}}return null},FlowMapping:ny({closing:"}"}),FlowSequence:ny({closing:"]"})}),tA.add({"FlowMapping FlowSequence":nA,"Item Pair BlockLiteral":(n,e)=>({from:e.doc.lineAt(n.from).to,to:n.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});function mA(){return new XP(gA)}const yA="#e5c07b",oy="#e06c75",vA="#56b6c2",xA="#ffffff",Za="#abb2bf",Jf="#7d8799",wA="#61afef",kA="#98c379",ly="#d19a66",SA="#c678dd",bA="#21252b",ay="#2c313a",uy="#282c34",Yh="#353a42",OA="#3E4451",cy="#528bff",CA=be.theme({"&":{color:Za,backgroundColor:uy},".cm-content":{caretColor:cy},".cm-cursor, .cm-dropCursor":{borderLeftColor:cy},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:OA},".cm-panels":{backgroundColor:bA,color:Za},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:uy,color:Jf,border:"none"},".cm-activeLineGutter":{backgroundColor:ay},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Yh},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Yh,borderBottomColor:Yh},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:ay,color:Za}}},{dark:!0}),PA=Lu.define([{tag:V.keyword,color:SA},{tag:[V.name,V.deleted,V.character,V.propertyName,V.macroName],color:oy},{tag:[V.function(V.variableName),V.labelName],color:wA},{tag:[V.color,V.constant(V.name),V.standard(V.name)],color:ly},{tag:[V.definition(V.name),V.separator],color:Za},{tag:[V.typeName,V.className,V.number,V.changed,V.annotation,V.modifier,V.self,V.namespace],color:yA},{tag:[V.operator,V.operatorKeyword,V.url,V.escape,V.regexp,V.link,V.special(V.string)],color:vA},{tag:[V.meta,V.comment],color:Jf},{tag:V.strong,fontWeight:"bold"},{tag:V.emphasis,fontStyle:"italic"},{tag:V.strikethrough,textDecoration:"line-through"},{tag:V.link,color:Jf,textDecoration:"underline"},{tag:V.heading,fontWeight:"bold",color:oy},{tag:[V.atom,V.bool,V.special(V.variableName)],color:ly},{tag:[V.processingInstruction,V.string,V.inserted],color:kA},{tag:V.invalid,color:xA}]),AA=[CA,iA(PA)],MA=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=Id(n.state,t.from);return r.line?EA(n):r.block?RA(n):!1};function Ld(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let s=n(e,t);return s?(r(t.update(s)),!0):!1}}const EA=Ld(LA,0),DA=Ld($1,0),RA=Ld((n,e)=>$1(n,e,NA(e)),0);function Id(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const vo=50;function TA(n,{open:e,close:t},r,s){let l=n.sliceDoc(r-vo,r),a=n.sliceDoc(s,s+vo),c=/\s*$/.exec(l)[0].length,h=/^\s*/.exec(a)[0].length,d=l.length-c;if(l.slice(d-e.length,d)==e&&a.slice(h,h+t.length)==t)return{open:{pos:r-c,margin:c&&1},close:{pos:s+h,margin:h&&1}};let p,m;s-r<=2*vo?p=m=n.sliceDoc(r,s):(p=n.sliceDoc(r,r+vo),m=n.sliceDoc(s-vo,s));let v=/^\s*/.exec(p)[0].length,x=/\s*$/.exec(m)[0].length,k=m.length-x-t.length;return p.slice(v,v+e.length)==e&&m.slice(k,k+t.length)==t?{open:{pos:r+v+e.length,margin:/\s/.test(p.charAt(v+e.length))?1:0},close:{pos:s-x-t.length,margin:/\s/.test(m.charAt(k-1))?1:0}}:null}function NA(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),s=t.to<=r.to?r:n.doc.lineAt(t.to);s.from>r.from&&s.from==t.to&&(s=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let l=e.length-1;l>=0&&e[l].to>r.from?e[l].to=s.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:s.to})}return e}function $1(n,e,t=e.selection.ranges){let r=t.map(l=>Id(e,l.from).block);if(!r.every(l=>l))return null;let s=t.map((l,a)=>TA(e,r[a],l.from,l.to));if(n!=2&&!s.every(l=>l))return{changes:e.changes(t.map((l,a)=>s[a]?[]:[{from:l.from,insert:r[a].open+" "},{from:l.to,insert:" "+r[a].close}]))};if(n!=1&&s.some(l=>l)){let l=[];for(let a=0,c;a<s.length;a++)if(c=s[a]){let h=r[a],{open:d,close:p}=c;l.push({from:d.pos-h.open.length,to:d.pos+d.margin},{from:p.pos-p.margin,to:p.pos+h.close.length})}return{changes:l}}return null}function LA(n,e,t=e.selection.ranges){let r=[],s=-1;for(let{from:l,to:a}of t){let c=r.length,h=1e9,d=Id(e,l).line;if(d){for(let p=l;p<=a;){let m=e.doc.lineAt(p);if(m.from>s&&(l==a||a>m.from)){s=m.from;let v=/^\s*/.exec(m.text)[0].length,x=v==m.length,k=m.text.slice(v,v+d.length)==d?v:-1;v<m.text.length&&v<h&&(h=v),r.push({line:m,comment:k,token:d,indent:v,empty:x,single:!1})}p=m.to+1}if(h<1e9)for(let p=c;p<r.length;p++)r[p].indent<r[p].line.text.length&&(r[p].indent=h);r.length==c+1&&(r[c].single=!0)}}if(n!=2&&r.some(l=>l.comment<0&&(!l.empty||l.single))){let l=[];for(let{line:c,token:h,indent:d,empty:p,single:m}of r)(m||!p)&&l.push({from:c.from+d,insert:h+" "});let a=e.changes(l);return{changes:a,selection:e.selection.map(a,1)}}else if(n!=1&&r.some(l=>l.comment>=0)){let l=[];for(let{line:a,comment:c,token:h}of r)if(c>=0){let d=a.from+c,p=d+h.length;a.text[p-a.from]==" "&&p++,l.push({from:d,to:p})}return{changes:l}}return null}function Cs(n,e){return Z.create(n.ranges.map(e),n.mainIndex)}function zn(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function jn({state:n,dispatch:e},t){let r=Cs(n.selection,t);return r.eq(n.selection,!0)?!1:(e(zn(n,r)),!0)}function Iu(n,e){return Z.cursor(e?n.to:n.from)}function U1(n,e){return jn(n,t=>t.empty?n.moveByChar(t,e):Iu(t,e))}function Rt(n){return n.textDirectionAt(n.state.selection.main.head)==Ye.LTR}const X1=n=>U1(n,!Rt(n)),K1=n=>U1(n,Rt(n));function q1(n,e){return jn(n,t=>t.empty?n.moveByGroup(t,e):Iu(t,e))}const IA=n=>q1(n,!Rt(n)),BA=n=>q1(n,Rt(n));function zA(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Bu(n,e,t){let r=rr(n).resolveInner(e.head),s=t?Ae.closedBy:Ae.openedBy;for(let h=e.head;;){let d=t?r.childAfter(h):r.childBefore(h);if(!d)break;zA(n,d,s)?r=d:h=t?d.to:d.from}let l=r.type.prop(s),a,c;return l&&(a=t?ls(n,r.from,1):ls(n,r.to,-1))&&a.matched?c=t?a.end.to:a.end.from:c=t?r.to:r.from,Z.cursor(c,t?-1:1)}const jA=n=>jn(n,e=>Bu(n.state,e,!Rt(n))),FA=n=>jn(n,e=>Bu(n.state,e,Rt(n)));function Y1(n,e){return jn(n,t=>{if(!t.empty)return Iu(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const G1=n=>Y1(n,!1),J1=n=>Y1(n,!0);function Z1(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,s;if(e){for(let l of n.state.facet(be.scrollMargins)){let a=l(n);a!=null&&a.top&&(t=Math.max(a==null?void 0:a.top,t)),a!=null&&a.bottom&&(r=Math.max(a==null?void 0:a.bottom,r))}s=n.scrollDOM.clientHeight-t-r}else s=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,s-5)}}function ex(n,e){let t=Z1(n),{state:r}=n,s=Cs(r.selection,a=>a.empty?n.moveVertically(a,e,t.height):Iu(a,e));if(s.eq(r.selection))return!1;let l;if(t.selfScroll){let a=n.coordsAtPos(r.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),h=c.top+t.marginTop,d=c.bottom-t.marginBottom;a&&a.top>h&&a.bottom<d&&(l=be.scrollIntoView(s.main.head,{y:"start",yMargin:a.top-h}))}return n.dispatch(zn(r,s),{effects:l}),!0}const hy=n=>ex(n,!1),Zf=n=>ex(n,!0);function si(n,e,t){let r=n.lineBlockAt(e.head),s=n.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?r.to:r.from)&&(s=n.moveToLineBoundary(e,t,!1)),!t&&s.head==r.from&&r.length){let l=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;l&&e.head!=r.from+l&&(s=Z.cursor(r.from+l))}return s}const _A=n=>jn(n,e=>si(n,e,!0)),VA=n=>jn(n,e=>si(n,e,!1)),HA=n=>jn(n,e=>si(n,e,!Rt(n))),WA=n=>jn(n,e=>si(n,e,Rt(n))),QA=n=>jn(n,e=>Z.cursor(n.lineBlockAt(e.head).from,1)),$A=n=>jn(n,e=>Z.cursor(n.lineBlockAt(e.head).to,-1));function UA(n,e,t){let r=!1,s=Cs(n.selection,l=>{let a=ls(n,l.head,-1)||ls(n,l.head,1)||l.head>0&&ls(n,l.head-1,1)||l.head<n.doc.length&&ls(n,l.head+1,-1);if(!a||!a.end)return l;r=!0;let c=a.start.from==l.head?a.end.to:a.end.from;return Z.cursor(c)});return r?(e(zn(n,s)),!0):!1}const XA=({state:n,dispatch:e})=>UA(n,e);function xn(n,e){let t=Cs(n.state.selection,r=>{let s=e(r);return Z.range(r.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(zn(n.state,t)),!0)}function tx(n,e){return xn(n,t=>n.moveByChar(t,e))}const nx=n=>tx(n,!Rt(n)),rx=n=>tx(n,Rt(n));function ix(n,e){return xn(n,t=>n.moveByGroup(t,e))}const KA=n=>ix(n,!Rt(n)),qA=n=>ix(n,Rt(n)),YA=n=>xn(n,e=>Bu(n.state,e,!Rt(n))),GA=n=>xn(n,e=>Bu(n.state,e,Rt(n)));function sx(n,e){return xn(n,t=>n.moveVertically(t,e))}const ox=n=>sx(n,!1),lx=n=>sx(n,!0);function ax(n,e){return xn(n,t=>n.moveVertically(t,e,Z1(n).height))}const fy=n=>ax(n,!1),dy=n=>ax(n,!0),JA=n=>xn(n,e=>si(n,e,!0)),ZA=n=>xn(n,e=>si(n,e,!1)),eM=n=>xn(n,e=>si(n,e,!Rt(n))),tM=n=>xn(n,e=>si(n,e,Rt(n))),nM=n=>xn(n,e=>Z.cursor(n.lineBlockAt(e.head).from)),rM=n=>xn(n,e=>Z.cursor(n.lineBlockAt(e.head).to)),py=({state:n,dispatch:e})=>(e(zn(n,{anchor:0})),!0),gy=({state:n,dispatch:e})=>(e(zn(n,{anchor:n.doc.length})),!0),my=({state:n,dispatch:e})=>(e(zn(n,{anchor:n.selection.main.anchor,head:0})),!0),yy=({state:n,dispatch:e})=>(e(zn(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),iM=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),sM=({state:n,dispatch:e})=>{let t=zu(n).map(({from:r,to:s})=>Z.range(r,Math.min(s+1,n.doc.length)));return e(n.update({selection:Z.create(t),userEvent:"select"})),!0},oM=({state:n,dispatch:e})=>{let t=Cs(n.selection,r=>{let s=rr(n),l=s.resolveStack(r.from,1);if(r.empty){let a=s.resolveStack(r.from,-1);a.node.from>=l.node.from&&a.node.to<=l.node.to&&(l=a)}for(let a=l;a;a=a.next){let{node:c}=a;if((c.from<r.from&&c.to>=r.to||c.to>r.to&&c.from<=r.from)&&a.next)return Z.range(c.to,c.from)}return r});return t.eq(n.selection)?!1:(e(zn(n,t)),!0)};function ux(n,e){let{state:t}=n,r=t.selection,s=t.selection.ranges.slice();for(let l of t.selection.ranges){let a=t.doc.lineAt(l.head);if(e?a.to<n.state.doc.length:a.from>0)for(let c=l;;){let h=n.moveVertically(c,e);if(h.head<a.from||h.head>a.to){s.some(d=>d.head==h.head)||s.push(h);break}else{if(h.head==c.head)break;c=h}}}return s.length==r.ranges.length?!1:(n.dispatch(zn(t,Z.create(s,s.length-1))),!0)}const lM=n=>ux(n,!1),aM=n=>ux(n,!0),uM=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=Z.create([t.main]):t.main.empty||(r=Z.create([Z.cursor(t.main.head)])),r?(e(zn(n,r)),!0):!1};function ol(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,s=r.changeByRange(l=>{let{from:a,to:c}=l;if(a==c){let h=e(l);h<a?(t="delete.backward",h=Fa(n,h,!1)):h>a&&(t="delete.forward",h=Fa(n,h,!0)),a=Math.min(a,h),c=Math.max(c,h)}else a=Fa(n,a,!1),c=Fa(n,c,!0);return a==c?{range:l}:{changes:{from:a,to:c},range:Z.cursor(a,a<l.head?-1:1)}});return s.changes.empty?!1:(n.dispatch(r.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?be.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Fa(n,e,t){if(n instanceof be)for(let r of n.state.facet(be.atomicRanges).map(s=>s(n)))r.between(e,e,(s,l)=>{s<e&&l>e&&(e=t?l:s)});return e}const cx=(n,e,t)=>ol(n,r=>{let s=r.from,{state:l}=n,a=l.doc.lineAt(s),c,h;if(t&&!e&&s>a.from&&s<a.from+200&&!/[^ \t]/.test(c=a.text.slice(0,s-a.from))){if(c[c.length-1]=="	")return s-1;let d=Mu(c,l.tabSize),p=d%ku(l)||ku(l);for(let m=0;m<p&&c[c.length-1-m]==" ";m++)s--;h=s}else h=Bt(a.text,s-a.from,e,e)+a.from,h==s&&a.number!=(e?l.doc.lines:1)?h+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(h-a.from,s-a.from))&&(h=Bt(a.text,h-a.from,!1,!1)+a.from);return h}),ed=n=>cx(n,!1,!0),hx=n=>cx(n,!0,!1),fx=(n,e)=>ol(n,t=>{let r=t.head,{state:s}=n,l=s.doc.lineAt(r),a=s.charCategorizer(r);for(let c=null;;){if(r==(e?l.to:l.from)){r==t.head&&l.number!=(e?s.doc.lines:1)&&(r+=e?1:-1);break}let h=Bt(l.text,r-l.from,e)+l.from,d=l.text.slice(Math.min(r,h)-l.from,Math.max(r,h)-l.from),p=a(d);if(c!=null&&p!=c)break;(d!=" "||r!=t.head)&&(c=p),r=h}return r}),dx=n=>fx(n,!1),cM=n=>fx(n,!0),hM=n=>ol(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),fM=n=>ol(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),dM=n=>ol(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),pM=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Re.of(["",""])},range:Z.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},gM=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let s=r.from,l=n.doc.lineAt(s),a=s==l.from?s-1:Bt(l.text,s-l.from,!1)+l.from,c=s==l.to?s+1:Bt(l.text,s-l.from,!0)+l.from;return{changes:{from:a,to:c,insert:n.doc.slice(s,c).append(n.doc.slice(a,s))},range:Z.cursor(c)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function zu(n){let e=[],t=-1;for(let r of n.selection.ranges){let s=n.doc.lineAt(r.from),l=n.doc.lineAt(r.to);if(!r.empty&&r.to==l.from&&(l=n.doc.lineAt(r.to-1)),t>=s.number){let a=e[e.length-1];a.to=l.to,a.ranges.push(r)}else e.push({from:s.from,to:l.to,ranges:[r]});t=l.number+1}return e}function px(n,e,t){if(n.readOnly)return!1;let r=[],s=[];for(let l of zu(n)){if(t?l.to==n.doc.length:l.from==0)continue;let a=n.doc.lineAt(t?l.to+1:l.from-1),c=a.length+1;if(t){r.push({from:l.to,to:a.to},{from:l.from,insert:a.text+n.lineBreak});for(let h of l.ranges)s.push(Z.range(Math.min(n.doc.length,h.anchor+c),Math.min(n.doc.length,h.head+c)))}else{r.push({from:a.from,to:l.from},{from:l.to,insert:n.lineBreak+a.text});for(let h of l.ranges)s.push(Z.range(h.anchor-c,h.head-c))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:Z.create(s,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const mM=({state:n,dispatch:e})=>px(n,e,!1),yM=({state:n,dispatch:e})=>px(n,e,!0);function gx(n,e,t){if(n.readOnly)return!1;let r=[];for(let s of zu(n))t?r.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):r.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const vM=({state:n,dispatch:e})=>gx(n,e,!1),xM=({state:n,dispatch:e})=>gx(n,e,!0),wM=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(zu(e).map(({from:s,to:l})=>(s>0?s--:l<e.doc.length&&l++,{from:s,to:l}))),r=Cs(e.selection,s=>{let l;if(n.lineWrapping){let a=n.lineBlockAt(s.head),c=n.coordsAtPos(s.head,s.assoc||1);c&&(l=a.bottom+n.documentTop-c.bottom+n.defaultLineHeight/2)}return n.moveVertically(s,!0,l)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function kM(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=rr(n).resolveInner(e),r=t.childBefore(e),s=t.childAfter(e),l;return r&&s&&r.to<=e&&s.from>=e&&(l=r.type.prop(Ae.closedBy))&&l.indexOf(s.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(s.from).from&&!/\S/.test(n.sliceDoc(r.to,s.from))?{from:r.to,to:s.from}:null}const vy=mx(!1),SM=mx(!0);function mx(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(s=>{let{from:l,to:a}=s,c=e.doc.lineAt(l),h=!n&&l==a&&kM(e,l);n&&(l=a=(a<=c.to?c:e.doc.lineAt(a)).to);let d=new Nu(e,{simulateBreak:l,simulateDoubleBreak:!!h}),p=V1(d,l);for(p==null&&(p=Mu(/^\s*/.exec(e.doc.lineAt(l).text)[0],e.tabSize));a<c.to&&/\s/.test(c.text[a-c.from]);)a++;h?{from:l,to:a}=h:l>c.from&&l<c.from+100&&!/\S/.test(c.text.slice(0,l))&&(l=c.from);let m=["",Su(e,p)];return h&&m.push(Su(e,d.lineIndent(c.from,-1))),{changes:{from:l,to:a,insert:Re.of(m)},range:Z.cursor(l+1+m[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Bd(n,e){let t=-1;return n.changeByRange(r=>{let s=[];for(let a=r.from;a<=r.to;){let c=n.doc.lineAt(a);c.number>t&&(r.empty||r.to>c.from)&&(e(c,s,r),t=c.number),a=c.to+1}let l=n.changes(s);return{changes:s,range:Z.range(l.mapPos(r.anchor,1),l.mapPos(r.head,1))}})}const bM=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new Nu(n,{overrideIndentation:l=>{let a=t[l];return a??-1}}),s=Bd(n,(l,a,c)=>{let h=V1(r,l.from);if(h==null)return;/\S/.test(l.text)||(h=0);let d=/^\s*/.exec(l.text)[0],p=Su(n,h);(d!=p||c.from<l.from+d.length)&&(t[l.from]=h,a.push({from:l.from,to:l.from+d.length,insert:p}))});return s.changes.empty||e(n.update(s,{userEvent:"indent"})),!0},OM=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Bd(n,(t,r)=>{r.push({from:t.from,insert:n.facet(Td)})}),{userEvent:"input.indent"})),!0),CM=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Bd(n,(t,r)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let l=Mu(s,n.tabSize),a=0,c=Su(n,Math.max(0,l-ku(n)));for(;a<s.length&&a<c.length&&s.charCodeAt(a)==c.charCodeAt(a);)a++;r.push({from:t.from+a,to:t.from+s.length,insert:c.slice(a)})}),{userEvent:"delete.dedent"})),!0),PM=n=>(n.setTabFocusMode(),!0),AM=[{key:"Ctrl-b",run:X1,shift:nx,preventDefault:!0},{key:"Ctrl-f",run:K1,shift:rx},{key:"Ctrl-p",run:G1,shift:ox},{key:"Ctrl-n",run:J1,shift:lx},{key:"Ctrl-a",run:QA,shift:nM},{key:"Ctrl-e",run:$A,shift:rM},{key:"Ctrl-d",run:hx},{key:"Ctrl-h",run:ed},{key:"Ctrl-k",run:hM},{key:"Ctrl-Alt-h",run:dx},{key:"Ctrl-o",run:pM},{key:"Ctrl-t",run:gM},{key:"Ctrl-v",run:Zf}],MM=[{key:"ArrowLeft",run:X1,shift:nx,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:IA,shift:KA,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:HA,shift:eM,preventDefault:!0},{key:"ArrowRight",run:K1,shift:rx,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:BA,shift:qA,preventDefault:!0},{mac:"Cmd-ArrowRight",run:WA,shift:tM,preventDefault:!0},{key:"ArrowUp",run:G1,shift:ox,preventDefault:!0},{mac:"Cmd-ArrowUp",run:py,shift:my},{mac:"Ctrl-ArrowUp",run:hy,shift:fy},{key:"ArrowDown",run:J1,shift:lx,preventDefault:!0},{mac:"Cmd-ArrowDown",run:gy,shift:yy},{mac:"Ctrl-ArrowDown",run:Zf,shift:dy},{key:"PageUp",run:hy,shift:fy},{key:"PageDown",run:Zf,shift:dy},{key:"Home",run:VA,shift:ZA,preventDefault:!0},{key:"Mod-Home",run:py,shift:my},{key:"End",run:_A,shift:JA,preventDefault:!0},{key:"Mod-End",run:gy,shift:yy},{key:"Enter",run:vy,shift:vy},{key:"Mod-a",run:iM},{key:"Backspace",run:ed,shift:ed,preventDefault:!0},{key:"Delete",run:hx,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:dx,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:cM,preventDefault:!0},{mac:"Mod-Backspace",run:fM,preventDefault:!0},{mac:"Mod-Delete",run:dM,preventDefault:!0}].concat(AM.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),EM=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:jA,shift:YA},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:FA,shift:GA},{key:"Alt-ArrowUp",run:mM},{key:"Shift-Alt-ArrowUp",run:vM},{key:"Alt-ArrowDown",run:yM},{key:"Shift-Alt-ArrowDown",run:xM},{key:"Mod-Alt-ArrowUp",run:lM},{key:"Mod-Alt-ArrowDown",run:aM},{key:"Escape",run:uM},{key:"Mod-Enter",run:SM},{key:"Alt-l",mac:"Ctrl-l",run:sM},{key:"Mod-i",run:oM,preventDefault:!0},{key:"Mod-[",run:CM},{key:"Mod-]",run:OM},{key:"Mod-Alt-\\",run:bM},{key:"Shift-Mod-k",run:wM},{key:"Shift-Mod-\\",run:XA},{key:"Mod-/",run:MA},{key:"Alt-A",run:DA},{key:"Ctrl-m",mac:"Shift-Alt-m",run:PM}].concat(MM),DM=n=>{const{state:e}=n,t=e.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:"	"},range:Z.cursor(r.from+1)}));return n.dispatch(t),!0},RM=Cd.of([{key:"Tab",run:DM}]);class TM extends tl{toDOM(){const e=document.createElement("span");return e.className="cm-space-dot",e.textContent="",e}}class NM extends tl{toDOM(){const e=document.createElement("span");return e.className="cm-tab-arrow",e.textContent="",e}}const LM=In.fromClass(class{constructor(n){pm(this,"decorations");this.decorations=this.buildDecorations(n)}update(n){(n.docChanged||n.viewportChanged)&&(this.decorations=this.buildDecorations(n.view))}buildDecorations(n){const e=[];for(const{from:t,to:r}of n.visibleRanges){const s=n.state.doc.sliceString(t,r);for(let l=0;l<s.length;l++){const a=s[l],c=t+l;a===" "?e.push({from:c,to:c+1,decoration:Ge.replace({widget:new TM})}):a==="	"&&e.push({from:c,to:c+1,decoration:Ge.replace({widget:new NM})})}}return Ge.set(e.map(t=>t.decoration.range(t.from,t.to)))}},{decorations:n=>n.decorations}),IM=be.theme({"&":{backgroundColor:"#ffffff",color:"#000000"},".cm-content":{caretColor:"#000000"},".cm-gutters":{backgroundColor:"#f5f5f5",color:"#999999",border:"none"},".cm-activeLineGutter":{backgroundColor:"#e8e8e8"},".cm-activeLine":{backgroundColor:"#f0f0f0"},".cm-space-dot":{color:"#999999"},".cm-tab-arrow":{color:"#999999",display:"inline-block",width:"calc(4ch)",textAlign:"left"}}),BM=be.theme({"&":{backgroundColor:"#000000",color:"#ffffff"},".cm-content":{caretColor:"#ffffff"},".cm-gutters":{backgroundColor:"#000000",color:"#ffffff",border:"none"},".cm-activeLineGutter":{backgroundColor:"#333333"},".cm-activeLine":{backgroundColor:"#222222"},".cm-space-dot":{color:"#ffff00"},".cm-tab-arrow":{color:"#ffff00",display:"inline-block",width:"calc(4ch)",textAlign:"left"}}),zM=be.theme({".cm-space-dot":{color:"#666666"},".cm-tab-arrow":{color:"#666666",display:"inline-block",width:"calc(4ch)",textAlign:"left"}});function xy(n){switch(n){case"light":return[IM];case"high-contrast":return[BM];case"dark":default:return[AA,zM]}}const jM=P.forwardRef(function({value:e,onChange:t,colorScheme:r},s){const l=P.useRef(null),a=P.useRef(null),c=P.useRef(new el);P.useImperativeHandle(s,()=>({focus:()=>{var d;(d=a.current)==null||d.focus()},blur:()=>{var d;(d=a.current)==null||d.contentDOM.blur()}}),[]),P.useEffect(()=>{if(!l.current||a.current)return;const d=Le.create({doc:e,extensions:[_2(),W2(),E2(),C2(),mA(),RM,Cd.of(EM),Le.tabSize.of(4),LM,be.updateListener.of(p=>{p.docChanged&&t(p.state.doc.toString())}),c.current.of(xy(r)),be.lineWrapping]});return a.current=new be({state:d,parent:l.current}),()=>{var p;(p=a.current)==null||p.destroy(),a.current=null}},[]);const h=P.useCallback(d=>{const p=a.current;if(!p)return;const m=p.state.doc.toString();m!==d&&p.dispatch({changes:{from:0,to:m.length,insert:d}})},[]);return P.useEffect(()=>{h(e)},[e,h]),P.useEffect(()=>{const d=a.current;d&&d.dispatch({effects:c.current.reconfigure(xy(r))})},[r]),R.jsx("div",{ref:l,className:"h-full w-full overflow-auto [&_.cm-editor]:h-full [&_.cm-scroller]:overflow-auto",style:{fontSize:"14px"}})});let _a=null,Gh=null;async function FM(){return _a||(Gh||(Gh=(async()=>{const n=await fetch("/testsuite/tests.json");if(!n.ok)throw new Error(`Failed to load test suite: ${n.status}`);return _a=await n.json(),_a})()),Gh)}function _M({isOpen:n,onClose:e,onSelect:t}){const[r,s]=P.useState([]),[l,a]=P.useState([]),[c,h]=P.useState(""),[d,p]=P.useState(!1),[m,v]=P.useState(null),[x,k]=P.useState(null),S=P.useRef(null);P.useEffect(()=>{n&&r.length===0&&!d&&(p(!0),FM().then(C=>{s(C.tests),a(C.tests),p(!1)}).catch(C=>{v(C.message),p(!1)}))},[n,r.length,d]),P.useEffect(()=>{n&&setTimeout(()=>{var C;return(C=S.current)==null?void 0:C.focus()},100)},[n]),P.useEffect(()=>{if(!c){a(r),k(null);return}try{const C=new RegExp(c,"i");k(null),a(r.filter(D=>C.test(D.id)||C.test(D.name)))}catch{k("Invalid regex"),a([])}},[c,r]),P.useEffect(()=>{const C=D=>{D.key==="Escape"&&n&&e()};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[n,e]);const b=C=>{t(C.yaml),e(),h("")};return n?R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:R.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-[600px] max-h-[80vh] flex flex-col",children:[R.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[R.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Search"," ",R.jsx("a",{href:"https://github.com/yaml/yaml-test-suite/tree/data",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"YAML Test Suite"})]}),R.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:"X"})]}),R.jsxs("div",{className:"p-4 border-b border-gray-700",children:[R.jsx("input",{ref:S,type:"text",placeholder:"Search by regex (e.g., 'block.*map' or 'spec example')",value:c,onChange:C=>h(C.target.value),className:"w-full px-3 py-2 bg-gray-900 text-white rounded border border-gray-600 focus:border-blue-500 focus:outline-none"}),x&&R.jsx("div",{className:"mt-1 text-red-400 text-sm",children:x})]}),R.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d&&R.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading tests..."}),m&&R.jsx("div",{className:"p-8 text-center text-red-400",children:m}),!d&&!m&&l.map(C=>R.jsxs("button",{onClick:()=>b(C),className:"w-full px-4 py-3 text-left hover:bg-gray-700 transition-colors border-b border-gray-700 last:border-b-0",children:[R.jsx("span",{className:`font-mono ${C.error?"text-red-400":"text-blue-400"}`,children:C.id}),R.jsx("span",{className:"text-gray-400 mx-2",children:"-"}),R.jsx("span",{className:"text-gray-200",children:C.name})]},C.id)),!d&&!m&&l.length===0&&c&&!x&&R.jsx("div",{className:"p-8 text-center text-gray-400",children:"No tests match your search"})]}),R.jsxs("div",{className:"px-4 py-2 border-t border-gray-700 text-sm text-gray-500 flex justify-between",children:[R.jsxs("span",{children:[l.length," of ",r.length," tests"]}),R.jsx("span",{children:"(E) = expected parse error"})]})]})}):null}const VM={dark:"vs-dark",light:"light","high-contrast":"hc-black"},Oo=`# Edit this YAML and see how
# different parsers handle it.

# Green = matches reference parser
# Red = differs or errored

name: YAML Parser Playground

url: https://play.yaml.com/
repo:
  https://github.com/yaml/yaml-play

current parsers: 17
actively maintained: true

features:
- Compare outputs from multiple
  YAML parsers
- Search and load tests from the
  YAML Test Suite
- Select and drag output panes
- Click Help for shortcut keys
`,wy=200,ky=800,Sy=P.forwardRef(function({value:e,onChange:t,width:r,onWidthChange:s,colorScheme:l,editorType:a,showBorder:c=!0,heightMode:h="full",isMobile:d=!1},p){const m=P.useRef(!1),v=P.useRef(0),x=P.useRef(0),k=P.useRef(null),S=P.useRef(null),[b,C]=P.useState(!1);P.useImperativeHandle(p,()=>({focus:()=>{var B,Q;a==="codemirror"?(B=S.current)==null||B.focus():(Q=k.current)==null||Q.focus()},blur:()=>{var B,Q,X;a==="codemirror"?(B=S.current)==null||B.blur():(Q=k.current)!=null&&Q.getDomNode()&&((X=document.activeElement)==null||X.blur())}}),[a]);const D=P.useCallback(B=>{k.current=B;const Q=B.getModel();Q&&Q.updateOptions({tabSize:4,insertSpaces:!1})},[]),N=P.useCallback(B=>{m.current=!0,v.current=B.clientX,x.current=r,document.body.style.cursor="col-resize",document.body.style.userSelect="none";const Q=K=>{if(!m.current)return;const ee=K.clientX-v.current,te=Math.min(ky,Math.max(wy,x.current+ee));s(te)},X=()=>{m.current=!1,document.body.style.cursor="",document.body.style.userSelect="",document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",X)};document.addEventListener("mousemove",Q),document.addEventListener("mouseup",X)},[r,s]),_=h==="full"?"h-full":"h-full overflow-hidden",z=c?"border-r border-gray-700":"",F=d?{}:{width:`${r}px`,minWidth:`${wy}px`,maxWidth:`${ky}px`};return R.jsxs("div",{className:`flex flex-col ${_} ${d?"w-full border-b border-gray-700":z} relative`,style:F,children:[R.jsxs("div",{className:"bg-gray-800 px-4 py-2 border-b border-gray-700 flex items-center justify-between",children:[R.jsx("h2",{className:"text-white font-semibold",children:"YAML Input Editor"}),R.jsx("button",{onClick:()=>C(!0),className:"px-2 py-1 text-xs bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors",children:"Test Suite"})]}),R.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:a==="codemirror"?R.jsx(jM,{ref:S,value:e,onChange:t,colorScheme:l}):R.jsx(mO,{height:"100%",defaultLanguage:"yaml",defaultValue:Oo,value:e,onChange:B=>t(B||""),theme:VM[l],onMount:D,options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",renderWhitespace:"all",tabSize:4,insertSpaces:!1,detectIndentation:!1,useTabStops:!1,scrollBeyondLastLine:!1,wordWrap:"on",automaticLayout:!0}})}),!d&&R.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize hover:bg-blue-500 transition-colors",onMouseDown:N}),R.jsx(_M,{isOpen:b,onClose:()=>C(!1),onSelect:t})]})});function HM({parser:n,matches:e,loading:t,onClose:r,isDraggable:s=!0}){const{attributes:l,listeners:a,setNodeRef:c,transform:h,transition:d,isDragging:p}=ob({id:n.id,disabled:!s}),m={transform:Bo.Transform.toString(h),transition:d,opacity:p?.5:1},v=t||e===void 0?"bg-gray-700":e?"bg-green-700":"bg-red-700",x=`${n.name} v${n.version} (${n.language})`;return R.jsxs("div",{ref:c,style:m,className:`${v} px-3 py-2 flex items-center justify-between cursor-grab active:cursor-grabbing select-none`,...l,...a,children:[n.repo?R.jsx("a",{href:n.repo,target:"_blank",rel:"noopener noreferrer",className:"text-white font-semibold hover:underline",onClick:k=>k.stopPropagation(),title:x,children:n.name}):R.jsx("span",{className:"text-white font-semibold",title:x,children:n.name}),R.jsxs("div",{className:"flex items-center gap-2",children:[t&&R.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),r&&R.jsx("button",{onClick:k=>{k.stopPropagation(),r()},className:"text-white hover:text-gray-300 text-lg leading-none px-1",title:"Close pane",children:""})]})]})}function WM(n){return["Failed to fetch","NetworkError","network error","ERR_CONNECTION_REFUSED","ECONNREFUSED","fetch failed","Load failed","HTTP 500","HTTP 502","HTTP 503","HTTP 504","Internal Server Error"].some(t=>n.toLowerCase().includes(t.toLowerCase()))}function Jh({parser:n,result:e,onClose:t,isDraggable:r=!0}){const s=n.id!=="refparse",l=s&&(e==null?void 0:e.versionMismatch),a=s&&!l&&(e==null?void 0:e.status)===-1&&(e==null?void 0:e.output)&&WM(e.output);return R.jsxs("div",{className:"flex flex-col h-full min-h-[200px] bg-gray-900",children:[R.jsx(HM,{parser:n,matches:e==null?void 0:e.matches,loading:e==null?void 0:e.loading,onClose:t,isDraggable:r}),R.jsx("div",{className:"flex-1 bg-gray-900 overflow-auto",children:e!=null&&e.error?R.jsxs("pre",{className:"p-3 text-red-400 text-sm font-mono whitespace-pre-wrap",children:["Error: ",e.error]}):l?R.jsxs("div",{className:"p-3 text-sm",children:[R.jsxs("p",{className:"text-yellow-400 mb-2",children:["Wrong sandbox version (",e.versionMismatch.found,") found. Requires ",e.versionMismatch.required,"."]}),R.jsxs("p",{className:"text-gray-400",children:['Click the "',R.jsx("span",{className:"text-white font-medium",children:"Setup"}),'" button for instructions.']})]}):a?R.jsxs("div",{className:"p-3 text-sm",children:[R.jsx("p",{className:"text-gray-300 mb-2",children:"Can't connect to a local YAML parser sandbox server."}),R.jsxs("p",{className:"text-gray-400",children:['Click the "',R.jsx("span",{className:"text-white font-medium",children:"Setup"}),'" button for instructions.']})]}):e!=null&&e.loading?R.jsx("div",{className:"p-3 text-gray-500 text-sm",children:"Running parser..."}):R.jsx("pre",{className:"p-3 text-gray-200 text-sm font-mono whitespace-pre-wrap",children:(e==null?void 0:e.output)||"No output yet"})})]})}function QM({total:n,disagreeing:e,disagreeingNames:t,loading:r,sandboxAvailable:s=!0}){if(!s)return null;if(r)return R.jsx("div",{className:"bg-gray-800 border-t border-gray-700 px-4 py-2",children:R.jsx("span",{className:"text-gray-400 font-semibold",children:"Running parsers..."})});const l=e===0;return R.jsx("div",{className:"bg-gray-800 border-t border-gray-700 px-4 py-2",children:l?R.jsxs("span",{className:"text-green-400 font-semibold",children:["All ",n," parsers agree with the Reference Parser"]}):R.jsxs("span",{className:"text-red-400 font-semibold",children:[e,"/",n," parsers disagree with the Reference Parser: ",t.join(", ")]})})}const Di=[{id:"refparse",name:"Reference Parser",version:"f003194",repo:"https://github.com/yaml/yaml-reference-parser",language:"JavaScript",isJavaScript:!0},{id:"npmyaml",name:"eemeli/yaml",version:"2.8.1",repo:"https://github.com/eemeli/yaml",language:"JavaScript",isJavaScript:!0},{id:"libyaml",name:"libyaml",version:"0.2.5",repo:"https://github.com/yaml/libyaml",language:"C"},{id:"pyyaml",name:"PyYAML",version:"6.0.3",language:"Python"},{id:"ruamel",name:"ruamel.yaml",version:"0.18.16",language:"Python"},{id:"goyaml",name:"go-yaml",version:"94c6e9d",repo:"https://github.com/pantoniou/yaml",language:"Go"},{id:"libfyaml",name:"libfyaml",version:"0.9",repo:"https://github.com/pantoniou/libfyaml",language:"C"},{id:"rapid",name:"rapidyaml",version:"0.10.0",repo:"https://github.com/biojppm/rapidyaml",language:"C++"},{id:"rustyaml",name:"serde-yaml",version:"0.9.34",repo:"https://github.com/dtolnay/serde-yaml",language:"Rust"},{id:"snake",name:"SnakeYAML",version:"2.5",repo:"https://bitbucket.org/snakeyaml/snakeyaml",language:"Java"},{id:"snakeeng",name:"SnakeYAML Engine",version:"3.0.1",repo:"https://bitbucket.org/snakeyaml/snakeyaml-engine",language:"Java"},{id:"dotnet",name:"YamlDotNet",version:"11.2.1",repo:"https://github.com/aaubry/YamlDotNet",language:"C#"},{id:"luayaml",name:"lyaml",version:"6.2.8",repo:"https://github.com/gvvaughan/lyaml",language:"Lua"},{id:"nimyaml",name:"NimYAML",version:"1.0.0",repo:"https://github.com/flyx/NimYAML",language:"Nim"},{id:"ppyaml",name:"YAML::PP",version:"0.039",language:"Perl"},{id:"hsyaml",name:"HsYAML",version:"0.2.1.1",repo:"https://github.com/haskell-hvr/HsYAML",language:"Haskell"},{id:"refhs",name:"yamlreference",version:"bf471f8",repo:"https://github.com/orenbenkiki/yamlreference",language:"Haskell"}],td=n=>Di.find(e=>e.id===n),$M=()=>["refparse","pyyaml","libyaml","goyaml"],UM=[{id:"dark",label:"Dark"},{id:"light",label:"Light"},{id:"high-contrast",label:"High Contrast"}],XM=[{id:"monaco",label:"Monaco"},{id:"codemirror",label:"CodeMirror"}];function KM({isOpen:n,onClose:e,paneStates:t,onToggleVisibility:r,onReset:s,colorScheme:l,onColorSchemeChange:a,editorType:c,onEditorTypeChange:h}){if(P.useEffect(()=>{if(!n)return;const m=v=>{v.key==="Escape"&&e()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n,e]),!n)return null;const d=new Map(t.map(m=>[m.id,m])),p=[...Di].filter(m=>m.id!=="refparse").sort((m,v)=>m.id.localeCompare(v.id));return R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:R.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-sm w-full mx-4 max-h-[80vh] overflow-hidden",onClick:m=>m.stopPropagation(),children:[R.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[R.jsx("h2",{className:"text-lg font-semibold text-white",children:"Preferences"}),R.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),R.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:[R.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"Editor"}),R.jsx("div",{className:"flex gap-2 mb-4",children:XM.map(m=>R.jsx("button",{onClick:()=>h(m.id),className:`flex-1 py-2 px-3 rounded text-sm transition-colors ${c===m.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:m.label},m.id))}),R.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"Color Scheme"}),R.jsx("div",{className:"flex gap-2 mb-4",children:UM.map(m=>R.jsx("button",{onClick:()=>a(m.id),className:`flex-1 py-2 px-3 rounded text-sm transition-colors ${l===m.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:m.label},m.id))}),R.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"Options"}),R.jsx("button",{onClick:s,className:"w-full text-left py-2 px-2 rounded text-red-500 hover:bg-gray-700 transition-colors",children:"Click here to clear all settings"}),R.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 mt-4 uppercase",children:"Parser Panes"}),p.map(m=>{const v=d.get(m.id),x=(v==null?void 0:v.visible)??!1,k=/^\d+(\.\d+)+$/.test(m.version);return R.jsxs("label",{className:"flex items-center gap-3 py-2 px-2 rounded cursor-pointer hover:bg-gray-700",children:[R.jsx("input",{type:"checkbox",checked:x,onChange:S=>r(m.id,S.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),R.jsx("span",{className:"text-white font-medium",children:m.name}),R.jsx("span",{className:"text-xs text-gray-400",children:m.language}),k&&R.jsx("span",{className:"text-xs text-blue-400",children:m.version})]},m.id)})]})]})})}function by({isOpen:n,onClose:e,isMobile:t=!1}){return P.useEffect(()=>{if(!n)return;const r=s=>{s.key==="Escape"&&e()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[n,e]),n?R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:R.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[80vh] overflow-hidden",onClick:r=>r.stopPropagation(),children:[R.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[R.jsx("h2",{className:"text-lg font-semibold text-white",children:"Help"}),R.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),R.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh] space-y-6",children:[t&&R.jsxs("section",{className:"bg-blue-900 bg-opacity-50 rounded-lg p-4 border border-blue-700",children:[R.jsx("h3",{className:"text-sm font-semibold text-blue-300 mb-2",children:"Mobile Mode"}),R.jsx("p",{className:"text-gray-300 text-sm",children:"This site works on mobile but is really designed for desktop use. On a desktop you can compare output from 17+ YAML parsers side by side, use keyboard shortcuts, and drag to reorder panes."}),R.jsx("p",{className:"text-gray-300 text-sm mt-2",children:"The other parsers require Docker to run, which is not available on mobile devices. Only the JavaScript Reference Parser is shown here."})]}),!t&&R.jsxs("section",{children:[R.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"Keyboard Shortcuts"}),R.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-x-4 gap-y-2 text-sm",children:[R.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"Esc"}),R.jsx("span",{className:"text-gray-300 self-center",children:"Unfocus input pane / Close modal"}),R.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"I"}),R.jsx("span",{className:"text-gray-300 self-center",children:"Focus input pane"}),R.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"A"}),R.jsx("span",{className:"text-gray-300 self-center",children:"Show all panes"}),R.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"N"}),R.jsx("span",{className:"text-gray-300 self-center",children:"Hide all panes"}),R.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"D"}),R.jsx("span",{className:"text-gray-300 self-center",children:"Show differing panes"}),R.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"S"}),R.jsx("span",{className:"text-gray-300 self-center",children:"Show your selected panes"}),R.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"P"}),R.jsx("span",{className:"text-gray-300 self-center",children:"Open Preferences"}),R.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"H"}),R.jsx("span",{className:"text-gray-300 self-center",children:"Open Help"})]})]}),R.jsxs("section",{children:[R.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"About"}),R.jsx("p",{className:"text-gray-300 text-sm",children:"The YAML Parser Playground compares output from multiple YAML parser implementations. The Reference Parser is used as the baseline. Green headers indicate matching output and red ones indicate differences."}),R.jsx("br",{}),R.jsxs("p",{className:"text-gray-300 text-sm",children:[`The output format is a DSL for YAML parser "events", which are the data structures most YAML parsers create internally. A YAML "parser" is just one of many stages in a YAML "loader"'s stack, but it is the most difficult and important one to get right. This DSL is the one used by the `,R.jsx("a",{href:"https://github.com/yaml/yaml-test-suite",className:"text-blue-400 hover:underline",children:"YAML Test Suite"}),"."]}),!t&&R.jsxs(R.Fragment,{children:[R.jsx("br",{}),R.jsx("p",{className:"text-gray-300 text-sm",children:"Note: The S key will restore your selected panes after using A, N, or D to show all, none, or differing panes."})]}),R.jsx("br",{}),R.jsx("p",{className:"text-gray-300 text-sm",children:"This site turns your input into sharable URLs. This can be very useful when discussing particular YAML issues or reporting bugs."})]})]})]})}):null}const yx="https://localhost:7481",eu="0.1.34";function qM(){return eu}async function YM(){try{return(await fetch(`${yx}/`,{method:"HEAD"})).ok}catch{return!1}}async function GM(n,e,t){const r=`${yx}/?version=${encodeURIComponent(eu)}&parser=yaml-test-parse-${n}`;try{const s=new URLSearchParams;s.append("text",e);const l=await fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!l.ok){const h=(await l.text()).match(/Requires sandbox version (\S+)/);if(h)return{status:-1,output:`Version mismatch: sandbox is ${h[1]}, but frontend requires ${eu}`,versionMismatch:{required:eu,found:h[1]}};throw new Error(`HTTP ${l.status}: ${l.statusText}`)}const a=await l.json();return{status:a.status,output:a.output}}catch(s){return s&&typeof s=="object"&&"versionMismatch"in s?s:{status:-1,output:s instanceof Error?s.message:"Unknown error"}}}const vx=qM(),Zh=`docker run --rm -d -p 7481:7481 yamlio/yaml-play-sandbox:${vx} 7481`;function JM({isOpen:n,onClose:e}){const[t,r]=P.useState(!1),s=async()=>{try{await navigator.clipboard.writeText(Zh),r(!0),setTimeout(()=>r(!1),2e3)}catch{const l=document.createElement("textarea");l.value=Zh,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),r(!0),setTimeout(()=>r(!1),2e3)}};return P.useEffect(()=>{if(!n)return;const l=a=>{a.key==="Escape"&&e()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[n,e]),n?R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:R.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[80vh] overflow-hidden",onClick:l=>l.stopPropagation(),children:[R.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[R.jsx("h2",{className:"text-lg font-semibold text-white",children:"Sandbox Setup"}),R.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),R.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh] space-y-6",children:[R.jsxs("section",{children:[R.jsxs("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:["Start the Sandbox Server (version ",vx,")"]}),R.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Most of these parsers run in a Docker container that you need to start on your machine. If you see connection errors, start the sandbox by running this command in a terminal:"}),R.jsxs("div",{className:"relative",children:[R.jsx("pre",{className:"bg-gray-900 p-3 pr-16 rounded text-sm text-green-400 font-mono overflow-x-auto",children:Zh}),R.jsx("button",{onClick:s,className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded transition-colors",children:t?"Copied!":"Copy"})]}),R.jsx("br",{}),R.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Note: If a different version of the sandbox server Docker container is already running, you'll need to kill that first."})]}),R.jsxs("section",{children:[R.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"HTTPS Certificate (if needed)"}),R.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"If you are still getting connection errors, you may need to accept the unsigned HTTPS certificate:"}),R.jsxs("ol",{className:"text-gray-300 text-sm list-decimal list-inside space-y-1",children:[R.jsxs("li",{children:["Click here:"," ",R.jsx("a",{href:"https://localhost:7481",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"https://localhost:7481"})," ","(opens in a new tab)"]}),R.jsx("li",{children:"Accept the security warning / proceed anyway"}),R.jsx("li",{children:"Return to this page and refresh"})]})]})]})]})}):null}const ef="yaml-play-layout";function Oy(){const n=$M();return{panes:Di.map(t=>{const r=n.indexOf(t.id);return{id:t.id,visible:r>=0,order:r>=0?r:1e3+Di.findIndex(s=>s.id===t.id)}}),selectedPaneIds:n}}function ZM(){const[n,e]=P.useState(()=>{try{const x=localStorage.getItem(ef);if(x){const k=JSON.parse(x),S=new Set(k.panes.map(C=>C.id)),b=Di.filter(C=>!S.has(C.id)).map((C,D)=>({id:C.id,visible:!1,order:k.panes.length+D}));return{...k,panes:[...k.panes,...b]}}}catch{}return Oy()});P.useEffect(()=>{localStorage.setItem(ef,JSON.stringify(n))},[n]);const t=P.useCallback((x,k)=>{e(S=>{let b;if(k){const D=Math.max(...S.panes.map(N=>N.order));b=S.panes.map(N=>N.id===x?{...N,visible:k,order:D+1}:N)}else b=S.panes.map(D=>D.id===x?{...D,visible:k}:D);const C=b.filter(D=>D.visible).map(D=>D.id);return{...S,panes:b,selectedPaneIds:C}})},[]),r=P.useCallback((x,k)=>{e(S=>{const b=[...S.panes],C=b.findIndex(_=>_.id===x),D=b.findIndex(_=>_.id===k);if(C===-1||D===-1)return S;const[N]=b.splice(C,1);return b.splice(D,0,N),{panes:b.map((_,z)=>({..._,order:z}))}})},[]),s=P.useCallback(()=>{localStorage.removeItem(ef),e(Oy())},[]),l=P.useCallback(()=>{e(x=>{const k=x.panes.filter(D=>D.visible),S=k.length>0?Math.max(...k.map(D=>D.order)):-1,b=x.panes.filter(D=>!D.visible&&D.id!=="refparse").sort((D,N)=>D.id.localeCompare(N.id)),C=new Map;return b.forEach((D,N)=>{C.set(D.id,S+1+N)}),{...x,panes:x.panes.map(D=>({...D,visible:!0,order:C.has(D.id)?C.get(D.id):D.order}))}})},[]),a=P.useCallback(()=>{e(x=>({...x,panes:x.panes.map(k=>k.id==="refparse"?k:{...k,visible:!1})}))},[]),c=P.useCallback(()=>{e(x=>{const k=new Set(x.selectedPaneIds??[]);return k.size===0?x:{...x,panes:x.panes.map(S=>({...S,visible:k.has(S.id)}))}})},[]),h=P.useCallback(x=>{e(k=>{const S=new Set(x);if(k.panes.filter(N=>!N.visible&&S.has(N.id)).length===0)return k;let D=Math.max(...k.panes.filter(N=>N.visible).map(N=>N.order),-1)+1;return{...k,panes:k.panes.map(N=>!N.visible&&S.has(N.id)?{...N,visible:!0,order:D++}:N)}})},[]),d=P.useCallback(x=>{e(k=>({...k,inputPaneWidth:x}))},[]),p=P.useCallback(x=>{e(k=>({...k,colorScheme:x}))},[]),m=P.useCallback(x=>{e(k=>({...k,editorType:x}))},[]),v=P.useCallback(()=>n.panes.filter(x=>x.visible).sort((x,k)=>x.order-k.order),[n.panes]);return{layout:n,updatePaneVisibility:t,reorderPanes:r,resetLayout:s,showAllPanes:l,hideAllPanes:a,showSelectedPanes:c,showErrorPanes:h,getVisiblePanes:v,inputPaneWidth:n.inputPaneWidth??400,setInputPaneWidth:d,colorScheme:n.colorScheme??"dark",setColorScheme:p,editorType:n.editorType??"monaco",setEditorType:m}}let nd=null,rd=null,Cy=!1;async function eE(){if(Cy)return;const[n,e,t,r,s]=await Promise.all([fetch("/refparse/prelude.js").then(a=>a.text()),fetch("/refparse/grammar.js").then(a=>a.text()),fetch("/refparse/parser.js").then(a=>a.text()),fetch("/refparse/receiver.js").then(a=>a.text()),fetch("/refparse/test-receiver.js").then(a=>a.text())]),l=eval;window.global=window,l(n),l(e),l(t),l(r),l(s),nd=window.Parser,rd=window.TestReceiver,Cy=!0}async function tE(n){try{if(await eE(),!rd)return{status:1,output:"TestReceiverClass not loaded"};if(!nd)return{status:1,output:"Parser not loaded"};const e=new rd,t=new nd(e);return t.parse(n),{status:0,output:t.receiver.output().replace(/\n$/,"")||"(empty output)"}}catch(e){return{status:1,output:e instanceof Error?e.message:String(e)}}}function Py(n){return n.replace(/\s+(\{\}|\[\])$/mg,"").replace(/^=COMMENT .*\n?/mg,"").replace(/^[^+\-=].*\n?/gm,"").trim()}function nE(n,e,t){let r=Py(n),s=Py(e);if(t==="rustyaml"&&(s=s.replace(/<Tag\("!!", "(.*?)"\)>/g,"<tag:yaml.org,2002:$1>").replace(/<Tag\("!", "(.*?)"\)>/g,"<!$1>").replace(/<Tag\("", "!"\)>/g,"<!>").replace(/<Tag\("", "(tag:.*?)"\)>/g,"<$1>").replace(/<Tag\("", "(!.*?)"\)>/g,"<$1>"),r=r.replace(/^\+DOC ---/gm,"+DOC").replace(/^-DOC \.\.\./gm,"-DOC").replace(/^=VAL :$/gm,"=VAL :~").replace(/^\+MAP \{\}( ?)/gm,"+MAP$1").replace(/^\+SEQ \[\]( ?)/gm,"+SEQ$1"),s.match(/&1/))){let l=1,a;for(;a=r.match(/&([a-zA-Z]\S*)/);){const c=a[1];r=r.replace(new RegExp(`([&*])${c}`,"g"),`$1${l}`),l++}}if(t==="goyaml"){const l=r.split(`
`),a=s.split(`
`);l.length===a.length&&(s=a.map((h,d)=>l[d]==="+DOC"&&h==="+DOC ---"?"+DOC":h).join(`
`))}return r===s}const Va=Di.filter(n=>n.id!=="refparse").map(n=>n.id);function rE(){const[n,e]=P.useState(new Map),[t,r]=P.useState(""),s=P.useRef(null),l=P.useCallback(async(h,d)=>{s.current&&s.current.abort(),s.current=new AbortController,e(x=>{const k=new Map(x);return k.set("refparse",{parserId:"refparse",output:"",status:0,loading:!0}),Va.forEach(S=>{k.set(S,{parserId:S,output:"",status:0,loading:!0})}),k});const p=await tE(h),m=p.output,v=p.status;r(m),e(x=>{const k=new Map(x);return k.set("refparse",{parserId:"refparse",output:p.output,status:p.status,loading:!1,matches:p.status===0,agrees:!0}),k}),await Promise.all(Va.map(async x=>{const k=Di.find(D=>D.id===x);if(!k)return;const S=await GM(x,h,k.version);let b,C;if(S.status===-1)b=!1,C=!1;else if(x==="refhs"){const D=v===0,N=S.status===0;b=D===N,C=v===0&&b}else v!==0?(b=S.status!==0,C=!1):(b=S.status===0&&nE(m,S.output,x),C=b);e(D=>{const N=new Map(D);return N.set(x,{parserId:x,output:S.output,status:S.status,loading:!1,matches:C,agrees:b,versionMismatch:S.versionMismatch}),N})}))},[]),a=P.useCallback(h=>n.get(h),[n]),c=P.useCallback(()=>{const h=[];let d=0;return Va.forEach(p=>{const m=n.get(p);if(!m||m.loading)d++;else if(!m.agrees){const v=td(p);h.push((v==null?void 0:v.name)||p)}}),{total:Va.length,disagreeing:h.length,disagreeingNames:h,loading:d>0}},[n]);return{results:n,refOutput:t,runAllParsers:l,getResult:a,getAgreementCount:c}}function iE(n=640){const[e,t]=P.useState(typeof window<"u"?window.innerWidth<n:!1);return P.useEffect(()=>{const r=()=>t(window.innerWidth<n);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[n]),e}function sE(){const[n,e]=P.useState(typeof window<"u"?window.innerWidth>window.innerHeight:!1);return P.useEffect(()=>{const t=()=>e(window.innerWidth>window.innerHeight);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),n}function oE(){const n=window.location.hash.slice(1);if(!n)return null;try{return atob(n)}catch{return null}}function lE(n){const e=btoa(n);window.history.replaceState(null,"",`#${e}`)}function aE(){const[n,e]=P.useState(()=>oE()||Oo),[t,r]=P.useState(!1),[s,l]=P.useState(!1),[a,c]=P.useState(!1),[h,d]=P.useState(!0),[p,m]=P.useState(!1),v=P.useRef(null),x=P.useRef(""),k=iE(640),S=sE(),{layout:b,updatePaneVisibility:C,reorderPanes:D,resetLayout:N,showAllPanes:_,hideAllPanes:z,showSelectedPanes:F,showErrorPanes:B,getVisiblePanes:Q,inputPaneWidth:X,setInputPaneWidth:K,colorScheme:ee,setColorScheme:te,editorType:ue,setEditorType:de}=ZM(),{results:Y,runAllParsers:ce,getResult:fe,getAgreementCount:$}=rE(),G=Q(),{total:J,disagreeing:A,disagreeingNames:I,loading:re}=$(),ae=G.map(se=>se.id).join(","),ye=P.useRef({input:"",panes:""}),xe=Array.from(Y.values()).some(se=>se.versionMismatch);P.useEffect(()=>{const se=async()=>{const Ee=await YM();d(Ee)};se();const ge=setInterval(se,1e4);return()=>clearInterval(ge)},[]),P.useEffect(()=>{const se=b.panes.find(ge=>ge.id==="refparse");se&&!se.visible&&C("refparse",!0)},[b.panes,C]),P.useEffect(()=>{const se=setTimeout(()=>{lE(n)},1e3);return()=>clearTimeout(se)},[n]),P.useEffect(()=>{if(ye.current.input===n&&ye.current.panes===ae)return;const se=setTimeout(()=>{const ge=ae.split(",").filter(Boolean);ge.length>0&&(ye.current={input:n,panes:ae},ce(n,ge))},500);return()=>clearTimeout(se)},[n,ae,ce]),P.useEffect(()=>{const se=ge=>{var on,ln;const Ee=ge.target,gt=Ee.tagName==="INPUT"||Ee.tagName==="TEXTAREA"||Ee.closest(".monaco-editor")||Ee.closest(".cm-editor");if(ge.key==="Escape"&&gt){ge.preventDefault(),(on=v.current)==null||on.blur();return}if(gt)return;const _e=ge.key.toUpperCase();if(_e==="I"&&!ge.ctrlKey&&!ge.metaKey&&!ge.altKey&&(ge.preventDefault(),(ln=v.current)==null||ln.focus()),_e==="H"&&!ge.ctrlKey&&!ge.metaKey&&!ge.altKey&&(ge.preventDefault(),l(!0)),_e==="P"&&!ge.ctrlKey&&!ge.metaKey&&!ge.altKey&&(ge.preventDefault(),r(!0)),_e==="A"&&!ge.ctrlKey&&!ge.metaKey&&!ge.altKey&&(ge.preventDefault(),_()),_e==="N"&&!ge.ctrlKey&&!ge.metaKey&&!ge.altKey&&(ge.preventDefault(),z()),_e==="S"&&!ge.ctrlKey&&!ge.metaKey&&!ge.altKey&&(ge.preventDefault(),F()),_e==="D"&&!ge.ctrlKey&&!ge.metaKey&&!ge.altKey){ge.preventDefault();const Fn=[];Y.forEach((oi,_n)=>{_n!=="refparse"&&oi.agrees===!1&&Fn.push(_n)}),Fn.length>0&&B(Fn)}_e==="X"&&!ge.ctrlKey&&!ge.metaKey&&!ge.altKey?(x.current+="X",x.current==="XXX"&&(ge.preventDefault(),N(),e(Oo),x.current="")):x.current=""};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[_,z,F,B,Y,N]);const Me=Bk(Cm(dd,{activationConstraint:{distance:8}}),Cm(hd)),Oe=P.useCallback(se=>{const{active:ge,over:Ee}=se;if(Ee&&ge.id!==Ee.id){if(ge.id==="refparse")return;D(ge.id,Ee.id)}},[D]),Ce=td("refparse");return k?R.jsxs("div",{className:"h-screen flex flex-col bg-gray-900",children:[R.jsxs("header",{className:"bg-gray-800 px-3 py-2 border-b border-gray-700 flex items-center justify-between flex-shrink-0",children:[R.jsx("h1",{className:"text-lg font-bold text-white",children:"YAML Playground"}),R.jsxs("div",{className:"relative",children:[R.jsx("button",{onClick:()=>m(!p),className:"p-2 text-white hover:bg-gray-700 rounded transition-colors","aria-label":"Menu",children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),p&&R.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50",children:[R.jsx("button",{onClick:()=>{l(!0),m(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-gray-700 transition-colors",children:"About"}),R.jsx("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),m(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-gray-700 transition-colors",children:"Share"}),R.jsx("button",{onClick:()=>{e(""),m(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-gray-700 transition-colors",children:"Clear"}),R.jsx("button",{onClick:()=>{N(),e(Oo),m(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-gray-700 transition-colors",children:"Reset"})]})]})]}),R.jsxs("div",{className:`flex-1 flex ${S?"flex-row":"flex-col"} overflow-hidden min-h-0`,children:[R.jsx("div",{className:`${S?"w-1/2 h-full":"h-1/2 w-full"} flex flex-col overflow-hidden ${S?"border-r border-gray-700":"border-b border-gray-700"}`,children:R.jsx(Sy,{ref:v,value:n,onChange:e,width:X,onWidthChange:K,colorScheme:ee,editorType:ue,showBorder:!1,isMobile:!0})}),Ce&&R.jsx("div",{className:`${S?"w-1/2 h-full":"h-1/2 w-full"} flex flex-col overflow-hidden`,children:R.jsx(Jh,{parser:Ce,result:fe("refparse"),isDraggable:!1})})]}),R.jsx(by,{isOpen:s,onClose:()=>l(!1),isMobile:k})]}):R.jsxs("div",{className:"h-screen flex flex-col bg-gray-900",children:[R.jsxs("header",{className:"bg-gray-800 px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[R.jsx("h1",{className:"text-xl font-bold text-white",children:"YAML Parser Playground"}),R.jsxs("div",{className:"flex items-center gap-2",children:[(!h||xe)&&R.jsx("button",{onClick:()=>c(!0),className:"px-3 py-1.5 bg-yellow-500 text-black font-semibold rounded hover:bg-yellow-400 transition-colors text-sm",children:"Setup"}),R.jsx("button",{onClick:()=>r(!0),className:"px-3 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-500 transition-colors text-sm",children:"Preferences"}),R.jsx("button",{onClick:()=>l(!0),className:"px-3 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-500 transition-colors text-sm",children:"Help"})]})]}),R.jsx("div",{className:"flex-1 flex overflow-hidden",children:(()=>{const se=G.length>8,ge=se?G.filter(Ee=>Ee.id!=="refparse"):G;return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:`${se?"grid grid-rows-2":"flex flex-col"} h-full border-r border-gray-700`,style:{width:`${X}px`,minWidth:"200px",maxWidth:"800px"},children:[R.jsx(Sy,{ref:v,value:n,onChange:e,width:X,onWidthChange:K,colorScheme:ee,editorType:ue,showBorder:!1,heightMode:se?"half":"full"}),se&&Ce&&R.jsx("div",{className:"h-full overflow-hidden border-t border-gray-700",children:R.jsx(Jh,{parser:Ce,result:fe("refparse"),isDraggable:!1},"refparse-sidebar")})]},se?"left-col-split":"left-col-full"),R.jsx("div",{className:"flex-1 grid grid-cols-4 overflow-y-auto pane-container gap-px bg-gray-700 auto-rows-fr",children:R.jsx(_S,{sensors:Me,collisionDetection:Vk,onDragEnd:Oe,children:R.jsx(ZS,{items:ge.map(Ee=>Ee.id),strategy:GS,children:ge.map(Ee=>{const gt=td(Ee.id);if(!gt)return null;const _e=Ee.id==="refparse";return R.jsx(Jh,{parser:gt,result:fe(Ee.id),onClose:_e?void 0:()=>C(Ee.id,!1),isDraggable:!_e},Ee.id)})})})})]})})()}),R.jsx(QM,{total:J,disagreeing:A,disagreeingNames:I,loading:re,sandboxAvailable:h}),R.jsx(KM,{isOpen:t,onClose:()=>r(!1),paneStates:b.panes,onToggleVisibility:C,onReset:()=>{N(),e(Oo)},colorScheme:ee,onColorSchemeChange:te,editorType:ue,onEditorTypeChange:de}),R.jsx(by,{isOpen:s,onClose:()=>l(!1)}),R.jsx(JM,{isOpen:a,onClose:()=>{c(!1);const se=ae.split(",").filter(Boolean);se.length>0&&ce(n,se)}})]})}kk.createRoot(document.getElementById("root")).render(R.jsx(tt.StrictMode,{children:R.jsx(aE,{})}));
//# sourceMappingURL=index-DWrF61N5.js.map
