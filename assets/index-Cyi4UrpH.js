var sk=Object.defineProperty;var ok=(n,e,t)=>e in n?sk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var cm=(n,e,t)=>ok(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Sy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mh={exports:{}},fo={},yh={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function lk(){if(hm)return Pe;hm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(C){return C===null||typeof C!="object"?null:(C=m&&C[m]||C["@@iterator"],typeof C=="function"?C:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function b(C,L,se){this.props=C,this.context=L,this.refs=S,this.updater=se||x}b.prototype.isReactComponent={},b.prototype.setState=function(C,L){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,L,"setState")},b.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function E(){}E.prototype=b.prototype;function D(C,L,se){this.props=C,this.context=L,this.refs=S,this.updater=se||x}var R=D.prototype=new E;R.constructor=D,k(R,b.prototype),R.isPureReactComponent=!0;var F=Array.isArray,I=Object.prototype.hasOwnProperty,j={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function Y(C,L,se){var ee,V={},ue=null,we=null;if(L!=null)for(ee in L.ref!==void 0&&(we=L.ref),L.key!==void 0&&(ue=""+L.key),L)I.call(L,ee)&&!z.hasOwnProperty(ee)&&(V[ee]=L[ee]);var Oe=arguments.length-2;if(Oe===1)V.children=se;else if(1<Oe){for(var Ce=Array(Oe),be=0;be<Oe;be++)Ce[be]=arguments[be+2];V.children=Ce}if(C&&C.defaultProps)for(ee in Oe=C.defaultProps,Oe)V[ee]===void 0&&(V[ee]=Oe[ee]);return{$$typeof:n,type:C,key:ue,ref:we,props:V,_owner:j.current}}function te(C,L){return{$$typeof:n,type:C.type,key:L,ref:C.ref,props:C.props,_owner:C._owner}}function Z(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function re(C){var L={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(se){return L[se]})}var ne=/\/+/g;function he(C,L){return typeof C=="object"&&C!==null&&C.key!=null?re(""+C.key):L.toString(36)}function fe(C,L,se,ee,V){var ue=typeof C;(ue==="undefined"||ue==="boolean")&&(C=null);var we=!1;if(C===null)we=!0;else switch(ue){case"string":case"number":we=!0;break;case"object":switch(C.$$typeof){case n:case e:we=!0}}if(we)return we=C,V=V(we),C=ee===""?"."+he(we,0):ee,F(V)?(se="",C!=null&&(se=C.replace(ne,"$&/")+"/"),fe(V,L,se,"",function(be){return be})):V!=null&&(Z(V)&&(V=te(V,se+(!V.key||we&&we.key===V.key?"":(""+V.key).replace(ne,"$&/")+"/")+C)),L.push(V)),1;if(we=0,ee=ee===""?".":ee+":",F(C))for(var Oe=0;Oe<C.length;Oe++){ue=C[Oe];var Ce=ee+he(ue,Oe);we+=fe(ue,L,se,Ce,V)}else if(Ce=v(C),typeof Ce=="function")for(C=Ce.call(C),Oe=0;!(ue=C.next()).done;)ue=ue.value,Ce=ee+he(ue,Oe++),we+=fe(ue,L,se,Ce,V);else if(ue==="object")throw L=String(C),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return we}function K(C,L,se){if(C==null)return C;var ee=[],V=0;return fe(C,ee,"","",function(ue){return L.call(se,ue,V++)}),ee}function de(C){if(C._status===-1){var L=C._result;L=L(),L.then(function(se){(C._status===0||C._status===-1)&&(C._status=1,C._result=se)},function(se){(C._status===0||C._status===-1)&&(C._status=2,C._result=se)}),C._status===-1&&(C._status=0,C._result=L)}if(C._status===1)return C._result.default;throw C._result}var ge={current:null},$={transition:null},J={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:$,ReactCurrentOwner:j};function X(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:K,forEach:function(C,L,se){K(C,function(){L.apply(this,arguments)},se)},count:function(C){var L=0;return K(C,function(){L++}),L},toArray:function(C){return K(C,function(L){return L})||[]},only:function(C){if(!Z(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Pe.Component=b,Pe.Fragment=t,Pe.Profiler=s,Pe.PureComponent=D,Pe.StrictMode=r,Pe.Suspense=h,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Pe.act=X,Pe.cloneElement=function(C,L,se){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var ee=k({},C.props),V=C.key,ue=C.ref,we=C._owner;if(L!=null){if(L.ref!==void 0&&(ue=L.ref,we=j.current),L.key!==void 0&&(V=""+L.key),C.type&&C.type.defaultProps)var Oe=C.type.defaultProps;for(Ce in L)I.call(L,Ce)&&!z.hasOwnProperty(Ce)&&(ee[Ce]=L[Ce]===void 0&&Oe!==void 0?Oe[Ce]:L[Ce])}var Ce=arguments.length-2;if(Ce===1)ee.children=se;else if(1<Ce){Oe=Array(Ce);for(var be=0;be<Ce;be++)Oe[be]=arguments[be+2];ee.children=Oe}return{$$typeof:n,type:C.type,key:V,ref:ue,props:ee,_owner:we}},Pe.createContext=function(C){return C={$$typeof:a,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:l,_context:C},C.Consumer=C},Pe.createElement=Y,Pe.createFactory=function(C){var L=Y.bind(null,C);return L.type=C,L},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(C){return{$$typeof:c,render:C}},Pe.isValidElement=Z,Pe.lazy=function(C){return{$$typeof:p,_payload:{_status:-1,_result:C},_init:de}},Pe.memo=function(C,L){return{$$typeof:d,type:C,compare:L===void 0?null:L}},Pe.startTransition=function(C){var L=$.transition;$.transition={};try{C()}finally{$.transition=L}},Pe.unstable_act=X,Pe.useCallback=function(C,L){return ge.current.useCallback(C,L)},Pe.useContext=function(C){return ge.current.useContext(C)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(C){return ge.current.useDeferredValue(C)},Pe.useEffect=function(C,L){return ge.current.useEffect(C,L)},Pe.useId=function(){return ge.current.useId()},Pe.useImperativeHandle=function(C,L,se){return ge.current.useImperativeHandle(C,L,se)},Pe.useInsertionEffect=function(C,L){return ge.current.useInsertionEffect(C,L)},Pe.useLayoutEffect=function(C,L){return ge.current.useLayoutEffect(C,L)},Pe.useMemo=function(C,L){return ge.current.useMemo(C,L)},Pe.useReducer=function(C,L,se){return ge.current.useReducer(C,L,se)},Pe.useRef=function(C){return ge.current.useRef(C)},Pe.useState=function(C){return ge.current.useState(C)},Pe.useSyncExternalStore=function(C,L,se){return ge.current.useSyncExternalStore(C,L,se)},Pe.useTransition=function(){return ge.current.useTransition()},Pe.version="18.3.1",Pe}var fm;function ed(){return fm||(fm=1,yh.exports=lk()),yh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function ak(){if(dm)return fo;dm=1;var n=ed(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(c,h,d){var p,m={},v=null,x=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(x=h.ref);for(p in h)r.call(h,p)&&!l.hasOwnProperty(p)&&(m[p]=h[p]);if(c&&c.defaultProps)for(p in h=c.defaultProps,h)m[p]===void 0&&(m[p]=h[p]);return{$$typeof:e,type:c,key:v,ref:x,props:m,_owner:s.current}}return fo.Fragment=t,fo.jsx=a,fo.jsxs=a,fo}var pm;function uk(){return pm||(pm=1,mh.exports=ak()),mh.exports}var _=uk(),P=ed();const Ze=Sy(P);var ma={},vh={exports:{}},Qt={},xh={exports:{}},wh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function ck(){return gm||(gm=1,(function(n){function e($,J){var X=$.length;$.push(J);e:for(;0<X;){var C=X-1>>>1,L=$[C];if(0<s(L,J))$[C]=J,$[X]=L,X=C;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var J=$[0],X=$.pop();if(X!==J){$[0]=X;e:for(var C=0,L=$.length,se=L>>>1;C<se;){var ee=2*(C+1)-1,V=$[ee],ue=ee+1,we=$[ue];if(0>s(V,X))ue<L&&0>s(we,V)?($[C]=we,$[ue]=X,C=ue):($[C]=V,$[ee]=X,C=ee);else if(ue<L&&0>s(we,X))$[C]=we,$[ue]=X,C=ue;else break e}}return J}function s($,J){var X=$.sortIndex-J.sortIndex;return X!==0?X:$.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var h=[],d=[],p=1,m=null,v=3,x=!1,k=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R($){for(var J=t(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=$)r(d),J.sortIndex=J.expirationTime,e(h,J);else break;J=t(d)}}function F($){if(S=!1,R($),!k)if(t(h)!==null)k=!0,de(I);else{var J=t(d);J!==null&&ge(F,J.startTime-$)}}function I($,J){k=!1,S&&(S=!1,E(Y),Y=-1),x=!0;var X=v;try{for(R(J),m=t(h);m!==null&&(!(m.expirationTime>J)||$&&!re());){var C=m.callback;if(typeof C=="function"){m.callback=null,v=m.priorityLevel;var L=C(m.expirationTime<=J);J=n.unstable_now(),typeof L=="function"?m.callback=L:m===t(h)&&r(h),R(J)}else r(h);m=t(h)}if(m!==null)var se=!0;else{var ee=t(d);ee!==null&&ge(F,ee.startTime-J),se=!1}return se}finally{m=null,v=X,x=!1}}var j=!1,z=null,Y=-1,te=5,Z=-1;function re(){return!(n.unstable_now()-Z<te)}function ne(){if(z!==null){var $=n.unstable_now();Z=$;var J=!0;try{J=z(!0,$)}finally{J?he():(j=!1,z=null)}}else j=!1}var he;if(typeof D=="function")he=function(){D(ne)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,K=fe.port2;fe.port1.onmessage=ne,he=function(){K.postMessage(null)}}else he=function(){b(ne,0)};function de($){z=$,j||(j=!0,he())}function ge($,J){Y=b(function(){$(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){k||x||(k=!0,de(I))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function($){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var X=v;v=J;try{return $()}finally{v=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,J){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=v;v=$;try{return J()}finally{v=X}},n.unstable_scheduleCallback=function($,J,X){var C=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?C+X:C):X=C,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=X+L,$={id:p++,callback:J,priorityLevel:$,startTime:X,expirationTime:L,sortIndex:-1},X>C?($.sortIndex=X,e(d,$),t(h)===null&&$===t(d)&&(S?(E(Y),Y=-1):S=!0,ge(F,X-C))):($.sortIndex=L,e(h,$),k||x||(k=!0,de(I))),$},n.unstable_shouldYield=re,n.unstable_wrapCallback=function($){var J=v;return function(){var X=v;v=J;try{return $.apply(this,arguments)}finally{v=X}}}})(wh)),wh}var mm;function hk(){return mm||(mm=1,xh.exports=ck()),xh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function fk(){if(ym)return Qt;ym=1;var n=ed(),e=hk();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function l(i,o){a(i,o),a(i+"Capture",o)}function a(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(i){return h.call(m,i)?!0:h.call(p,i)?!1:d.test(i)?m[i]=!0:(p[i]=!0,!1)}function x(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,u,f){if(o===null||typeof o>"u"||x(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(i,o,u,f,g,y,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=w}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];b[o]=new S(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(E,D);b[o]=new S(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(E,D);b[o]=new S(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(E,D);b[o]=new S(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,o,u,f){var g=b.hasOwnProperty(o)?b[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,g,f)&&(u=null),f||g===null?v(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,f=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var F=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),j=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),re=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),$=Symbol.iterator;function J(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var X=Object.assign,C;function L(i){if(C===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);C=o&&o[1]||""}return`
`+C+i}var se=!1;function ee(i,o){if(!i||se)return"";se=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(B){var f=B}Reflect.construct(i,[],o)}else{try{o.call()}catch(B){f=B}i.call(o.prototype)}else{try{throw Error()}catch(B){f=B}i()}}catch(B){if(B&&f&&typeof B.stack=="string"){for(var g=B.stack.split(`
`),y=f.stack.split(`
`),w=g.length-1,O=y.length-1;1<=w&&0<=O&&g[w]!==y[O];)O--;for(;1<=w&&0<=O;w--,O--)if(g[w]!==y[O]){if(w!==1||O!==1)do if(w--,O--,0>O||g[w]!==y[O]){var A=`
`+g[w].replace(" at new "," at ");return i.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",i.displayName)),A}while(1<=w&&0<=O);break}}}finally{se=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?L(i):""}function V(i){switch(i.tag){case 5:return L(i.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return i=ee(i.type,!1),i;case 11:return i=ee(i.type.render,!1),i;case 1:return i=ee(i.type,!0),i;default:return""}}function ue(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case j:return"Portal";case te:return"Profiler";case Y:return"StrictMode";case he:return"Suspense";case fe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case re:return(i.displayName||"Context")+".Consumer";case Z:return(i._context.displayName||"Context")+".Provider";case ne:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return o=i.displayName||null,o!==null?o:ue(i.type)||"Memo";case de:o=i._payload,i=i._init;try{return ue(i(o))}catch{}}return null}function we(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(o);case 8:return o===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ce(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function be(i){var o=Ce(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(w){f=""+w,y.call(this,w)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function rn(i){i._valueTracker||(i._valueTracker=be(i))}function mt(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Ce(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function yn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Xt(i,o){var u=o.checked;return X({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function er(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Oe(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function tr(i,o){o=o.checked,o!=null&&R(i,"checked",o,!1)}function Di(i,o){tr(i,o);var u=Oe(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?ii(i,o.type,u):o.hasOwnProperty("defaultValue")&&ii(i,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Cs(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function ii(i,o,u){(o!=="number"||yn(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Bt=Array.isArray;function vn(i,o,u,f){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Oe(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function wr(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ps(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Bt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Oe(u)}}function As(i,o){var u=Oe(o.value),f=Oe(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function ol(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ll(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zn(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ll(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var xn,kr=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(xn=xn||document.createElement("div"),xn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=xn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Sr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},al=["Webkit","ms","Moz","O"];Object.keys(zt).forEach(function(i){al.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),zt[o]=zt[i]})});function ul(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||zt.hasOwnProperty(i)&&zt[i]?(""+o).trim():o+"px"}function cl(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=ul(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,g):i[u]=g}}var Es=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ri(i,o){if(o){if(Es[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ms(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ti=null;function Ds(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Rs=null,br=null,He=null;function yt(i){if(i=Gs(i)){if(typeof Rs!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Rl(o),Rs(i.stateNode,i.type,o))}}function vt(i){br?He?He.push(i):He=[i]:br=i}function wn(){if(br){var i=br,o=He;if(He=br=null,yt(i),o)for(i=0;i<o.length;i++)yt(o[i])}}function Mt(i,o){return i(o)}function xt(){}var jt=!1;function nr(i,o,u){if(jt)return i(o,u);jt=!0;try{return Mt(i,o,u)}finally{jt=!1,(br!==null||He!==null)&&(xt(),wn())}}function We(i,o){var u=i.stateNode;if(u===null)return null;var f=Rl(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var sn=!1;if(c)try{var wt={};Object.defineProperty(wt,"passive",{get:function(){sn=!0}}),window.addEventListener("test",wt,wt),window.removeEventListener("test",wt,wt)}catch{sn=!1}function kn(i,o,u,f,g,y,w,O,A){var B=Array.prototype.slice.call(arguments,3);try{o.apply(u,B)}catch(Q){this.onError(Q)}}var Sn=!1,jn=null,Kt=!1,rr=null,Ts={onError:function(i){Sn=!0,jn=i}};function dx(i,o,u,f,g,y,w,O,A){Sn=!1,jn=null,kn.apply(Ts,arguments)}function px(i,o,u,f,g,y,w,O,A){if(dx.apply(this,arguments),Sn){if(Sn){var B=jn;Sn=!1,jn=null}else throw Error(t(198));Kt||(Kt=!0,rr=B)}}function si(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Nd(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Ld(i){if(si(i)!==i)throw Error(t(188))}function gx(i){var o=i.alternate;if(!o){if(o=si(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,f=o;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return Ld(g),i;if(y===f)return Ld(g),o;y=y.sibling}throw Error(t(188))}if(u.return!==f.return)u=g,f=y;else{for(var w=!1,O=g.child;O;){if(O===u){w=!0,u=g,f=y;break}if(O===f){w=!0,f=g,u=y;break}O=O.sibling}if(!w){for(O=y.child;O;){if(O===u){w=!0,u=y,f=g;break}if(O===f){w=!0,f=y,u=g;break}O=O.sibling}if(!w)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Id(i){return i=gx(i),i!==null?Bd(i):null}function Bd(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Bd(i);if(o!==null)return o;i=i.sibling}return null}var zd=e.unstable_scheduleCallback,jd=e.unstable_cancelCallback,mx=e.unstable_shouldYield,yx=e.unstable_requestPaint,qe=e.unstable_now,vx=e.unstable_getCurrentPriorityLevel,Bu=e.unstable_ImmediatePriority,Fd=e.unstable_UserBlockingPriority,hl=e.unstable_NormalPriority,xx=e.unstable_LowPriority,_d=e.unstable_IdlePriority,fl=null,Fn=null;function wx(i){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(fl,i,void 0,(i.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:bx,kx=Math.log,Sx=Math.LN2;function bx(i){return i>>>=0,i===0?32:31-(kx(i)/Sx|0)|0}var dl=64,pl=4194304;function Ns(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function gl(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,y=i.pingedLanes,w=u&268435455;if(w!==0){var O=w&~g;O!==0?f=Ns(O):(y&=w,y!==0&&(f=Ns(y)))}else w=u&~g,w!==0?f=Ns(w):y!==0&&(f=Ns(y));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,y=o&-o,g>=y||g===16&&(y&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-bn(o),g=1<<u,f|=i[u],o&=~g;return f}function Ox(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cx(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes;0<y;){var w=31-bn(y),O=1<<w,A=g[w];A===-1?((O&u)===0||(O&f)!==0)&&(g[w]=Ox(O,o)):A<=o&&(i.expiredLanes|=O),y&=~O}}function zu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Vd(){var i=dl;return dl<<=1,(dl&4194240)===0&&(dl=64),i}function ju(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ls(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-bn(o),i[o]=u}function Px(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-bn(u),y=1<<g;o[g]=0,f[g]=-1,i[g]=-1,u&=~y}}function Fu(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-bn(u),g=1<<f;g&o|i[f]&o&&(i[f]|=o),u&=~g}}var Le=0;function Hd(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Wd,_u,Qd,$d,Ud,Vu=!1,ml=[],Or=null,Cr=null,Pr=null,Is=new Map,Bs=new Map,Ar=[],Ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xd(i,o){switch(i){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Is.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(o.pointerId)}}function zs(i,o,u,f,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},o!==null&&(o=Gs(o),o!==null&&_u(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function Ex(i,o,u,f,g){switch(o){case"focusin":return Or=zs(Or,i,o,u,f,g),!0;case"dragenter":return Cr=zs(Cr,i,o,u,f,g),!0;case"mouseover":return Pr=zs(Pr,i,o,u,f,g),!0;case"pointerover":var y=g.pointerId;return Is.set(y,zs(Is.get(y)||null,i,o,u,f,g)),!0;case"gotpointercapture":return y=g.pointerId,Bs.set(y,zs(Bs.get(y)||null,i,o,u,f,g)),!0}return!1}function Kd(i){var o=oi(i.target);if(o!==null){var u=si(o);if(u!==null){if(o=u.tag,o===13){if(o=Nd(u),o!==null){i.blockedOn=o,Ud(i.priority,function(){Qd(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function yl(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Wu(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Ti=f,u.target.dispatchEvent(f),Ti=null}else return o=Gs(u),o!==null&&_u(o),i.blockedOn=u,!1;o.shift()}return!0}function qd(i,o,u){yl(i)&&u.delete(o)}function Mx(){Vu=!1,Or!==null&&yl(Or)&&(Or=null),Cr!==null&&yl(Cr)&&(Cr=null),Pr!==null&&yl(Pr)&&(Pr=null),Is.forEach(qd),Bs.forEach(qd)}function js(i,o){i.blockedOn===o&&(i.blockedOn=null,Vu||(Vu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Mx)))}function Fs(i){function o(g){return js(g,i)}if(0<ml.length){js(ml[0],i);for(var u=1;u<ml.length;u++){var f=ml[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Or!==null&&js(Or,i),Cr!==null&&js(Cr,i),Pr!==null&&js(Pr,i),Is.forEach(o),Bs.forEach(o),u=0;u<Ar.length;u++)f=Ar[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<Ar.length&&(u=Ar[0],u.blockedOn===null);)Kd(u),u.blockedOn===null&&Ar.shift()}var Ni=F.ReactCurrentBatchConfig,vl=!0;function Dx(i,o,u,f){var g=Le,y=Ni.transition;Ni.transition=null;try{Le=1,Hu(i,o,u,f)}finally{Le=g,Ni.transition=y}}function Rx(i,o,u,f){var g=Le,y=Ni.transition;Ni.transition=null;try{Le=4,Hu(i,o,u,f)}finally{Le=g,Ni.transition=y}}function Hu(i,o,u,f){if(vl){var g=Wu(i,o,u,f);if(g===null)oc(i,o,f,xl,u),Xd(i,f);else if(Ex(g,i,o,u,f))f.stopPropagation();else if(Xd(i,f),o&4&&-1<Ax.indexOf(i)){for(;g!==null;){var y=Gs(g);if(y!==null&&Wd(y),y=Wu(i,o,u,f),y===null&&oc(i,o,f,xl,u),y===g)break;g=y}g!==null&&f.stopPropagation()}else oc(i,o,f,null,u)}}var xl=null;function Wu(i,o,u,f){if(xl=null,i=Ds(f),i=oi(i),i!==null)if(o=si(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Nd(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return xl=i,null}function Yd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vx()){case Bu:return 1;case Fd:return 4;case hl:case xx:return 16;case _d:return 536870912;default:return 16}default:return 16}}var Er=null,Qu=null,wl=null;function Gd(){if(wl)return wl;var i,o=Qu,u=o.length,f,g="value"in Er?Er.value:Er.textContent,y=g.length;for(i=0;i<u&&o[i]===g[i];i++);var w=u-i;for(f=1;f<=w&&o[u-f]===g[y-f];f++);return wl=g.slice(i,1<f?1-f:void 0)}function kl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Sl(){return!0}function Zd(){return!1}function qt(i){function o(u,f,g,y,w){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(u=i[O],this[O]=u?u(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Sl:Zd,this.isPropagationStopped=Zd,this}return X(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),o}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=qt(Li),_s=X({},Li,{view:0,detail:0}),Tx=qt(_s),Uu,Xu,Vs,bl=X({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vs&&(Vs&&i.type==="mousemove"?(Uu=i.screenX-Vs.screenX,Xu=i.screenY-Vs.screenY):Xu=Uu=0,Vs=i),Uu)},movementY:function(i){return"movementY"in i?i.movementY:Xu}}),Jd=qt(bl),Nx=X({},bl,{dataTransfer:0}),Lx=qt(Nx),Ix=X({},_s,{relatedTarget:0}),Ku=qt(Ix),Bx=X({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),zx=qt(Bx),jx=X({},Li,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Fx=qt(jx),_x=X({},Li,{data:0}),ep=qt(_x),Vx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qx(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Wx[i])?!!o[i]:!1}function qu(){return Qx}var $x=X({},_s,{key:function(i){if(i.key){var o=Vx[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=kl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Hx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qu,charCode:function(i){return i.type==="keypress"?kl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?kl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ux=qt($x),Xx=X({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tp=qt(Xx),Kx=X({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qu}),qx=qt(Kx),Yx=X({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gx=qt(Yx),Zx=X({},bl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Jx=qt(Zx),ew=[9,13,27,32],Yu=c&&"CompositionEvent"in window,Hs=null;c&&"documentMode"in document&&(Hs=document.documentMode);var tw=c&&"TextEvent"in window&&!Hs,np=c&&(!Yu||Hs&&8<Hs&&11>=Hs),rp=" ",ip=!1;function sp(i,o){switch(i){case"keyup":return ew.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function op(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ii=!1;function nw(i,o){switch(i){case"compositionend":return op(o);case"keypress":return o.which!==32?null:(ip=!0,rp);case"textInput":return i=o.data,i===rp&&ip?null:i;default:return null}}function rw(i,o){if(Ii)return i==="compositionend"||!Yu&&sp(i,o)?(i=Gd(),wl=Qu=Er=null,Ii=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return np&&o.locale!=="ko"?null:o.data;default:return null}}var iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!iw[i.type]:o==="textarea"}function ap(i,o,u,f){vt(f),o=El(o,"onChange"),0<o.length&&(u=new $u("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var Ws=null,Qs=null;function sw(i){Pp(i,0)}function Ol(i){var o=_i(i);if(mt(o))return i}function ow(i,o){if(i==="change")return o}var up=!1;if(c){var Gu;if(c){var Zu="oninput"in document;if(!Zu){var cp=document.createElement("div");cp.setAttribute("oninput","return;"),Zu=typeof cp.oninput=="function"}Gu=Zu}else Gu=!1;up=Gu&&(!document.documentMode||9<document.documentMode)}function hp(){Ws&&(Ws.detachEvent("onpropertychange",fp),Qs=Ws=null)}function fp(i){if(i.propertyName==="value"&&Ol(Qs)){var o=[];ap(o,Qs,i,Ds(i)),nr(sw,o)}}function lw(i,o,u){i==="focusin"?(hp(),Ws=o,Qs=u,Ws.attachEvent("onpropertychange",fp)):i==="focusout"&&hp()}function aw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ol(Qs)}function uw(i,o){if(i==="click")return Ol(o)}function cw(i,o){if(i==="input"||i==="change")return Ol(o)}function hw(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var On=typeof Object.is=="function"?Object.is:hw;function $s(i,o){if(On(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!h.call(o,g)||!On(i[g],o[g]))return!1}return!0}function dp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pp(i,o){var u=dp(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=dp(u)}}function gp(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?gp(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function mp(){for(var i=window,o=yn();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=yn(i.document)}return o}function Ju(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function fw(i){var o=mp(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&gp(u.ownerDocument.documentElement,u)){if(f!==null&&Ju(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,y=Math.min(f.start,g);f=f.end===void 0?y:Math.min(f.end,g),!i.extend&&y>f&&(g=f,f=y,y=g),g=pp(u,y);var w=pp(u,f);g&&w&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),y>f?(i.addRange(o),i.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var dw=c&&"documentMode"in document&&11>=document.documentMode,Bi=null,ec=null,Us=null,tc=!1;function yp(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;tc||Bi==null||Bi!==yn(f)||(f=Bi,"selectionStart"in f&&Ju(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Us&&$s(Us,f)||(Us=f,f=El(ec,"onSelect"),0<f.length&&(o=new $u("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Bi)))}function Cl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var zi={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},nc={},vp={};c&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Pl(i){if(nc[i])return nc[i];if(!zi[i])return i;var o=zi[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in vp)return nc[i]=o[u];return i}var xp=Pl("animationend"),wp=Pl("animationiteration"),kp=Pl("animationstart"),Sp=Pl("transitionend"),bp=new Map,Op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(i,o){bp.set(i,o),l(o,[i])}for(var rc=0;rc<Op.length;rc++){var ic=Op[rc],pw=ic.toLowerCase(),gw=ic[0].toUpperCase()+ic.slice(1);Mr(pw,"on"+gw)}Mr(xp,"onAnimationEnd"),Mr(wp,"onAnimationIteration"),Mr(kp,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Sp,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function Cp(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,px(f,o,void 0,i),i.currentTarget=null}function Pp(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],g=f.event;f=f.listeners;e:{var y=void 0;if(o)for(var w=f.length-1;0<=w;w--){var O=f[w],A=O.instance,B=O.currentTarget;if(O=O.listener,A!==y&&g.isPropagationStopped())break e;Cp(g,O,B),y=A}else for(w=0;w<f.length;w++){if(O=f[w],A=O.instance,B=O.currentTarget,O=O.listener,A!==y&&g.isPropagationStopped())break e;Cp(g,O,B),y=A}}}if(Kt)throw i=rr,Kt=!1,rr=null,i}function je(i,o){var u=o[fc];u===void 0&&(u=o[fc]=new Set);var f=i+"__bubble";u.has(f)||(Ap(o,i,2,!1),u.add(f))}function sc(i,o,u){var f=0;o&&(f|=4),Ap(u,i,f,o)}var Al="_reactListening"+Math.random().toString(36).slice(2);function Ks(i){if(!i[Al]){i[Al]=!0,r.forEach(function(u){u!=="selectionchange"&&(mw.has(u)||sc(u,!1,i),sc(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Al]||(o[Al]=!0,sc("selectionchange",!1,o))}}function Ap(i,o,u,f){switch(Yd(o)){case 1:var g=Dx;break;case 4:g=Rx;break;default:g=Hu}u=g.bind(null,o,u,i),g=void 0,!sn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function oc(i,o,u,f,g){var y=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var O=f.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(w===4)for(w=f.return;w!==null;){var A=w.tag;if((A===3||A===4)&&(A=w.stateNode.containerInfo,A===g||A.nodeType===8&&A.parentNode===g))return;w=w.return}for(;O!==null;){if(w=oi(O),w===null)return;if(A=w.tag,A===5||A===6){f=y=w;continue e}O=O.parentNode}}f=f.return}nr(function(){var B=y,Q=Ds(u),U=[];e:{var W=bp.get(i);if(W!==void 0){var le=$u,ce=i;switch(i){case"keypress":if(kl(u)===0)break e;case"keydown":case"keyup":le=Ux;break;case"focusin":ce="focus",le=Ku;break;case"focusout":ce="blur",le=Ku;break;case"beforeblur":case"afterblur":le=Ku;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Lx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=qx;break;case xp:case wp:case kp:le=zx;break;case Sp:le=Gx;break;case"scroll":le=Tx;break;case"wheel":le=Jx;break;case"copy":case"cut":case"paste":le=Fx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=tp}var pe=(o&4)!==0,Ye=!pe&&i==="scroll",T=pe?W!==null?W+"Capture":null:W;pe=[];for(var M=B,N;M!==null;){N=M;var q=N.stateNode;if(N.tag===5&&q!==null&&(N=q,T!==null&&(q=We(M,T),q!=null&&pe.push(qs(M,q,N)))),Ye)break;M=M.return}0<pe.length&&(W=new le(W,ce,null,u,Q),U.push({event:W,listeners:pe}))}}if((o&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",W&&u!==Ti&&(ce=u.relatedTarget||u.fromElement)&&(oi(ce)||ce[ir]))break e;if((le||W)&&(W=Q.window===Q?Q:(W=Q.ownerDocument)?W.defaultView||W.parentWindow:window,le?(ce=u.relatedTarget||u.toElement,le=B,ce=ce?oi(ce):null,ce!==null&&(Ye=si(ce),ce!==Ye||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(le=null,ce=B),le!==ce)){if(pe=Jd,q="onMouseLeave",T="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(pe=tp,q="onPointerLeave",T="onPointerEnter",M="pointer"),Ye=le==null?W:_i(le),N=ce==null?W:_i(ce),W=new pe(q,M+"leave",le,u,Q),W.target=Ye,W.relatedTarget=N,q=null,oi(Q)===B&&(pe=new pe(T,M+"enter",ce,u,Q),pe.target=N,pe.relatedTarget=Ye,q=pe),Ye=q,le&&ce)t:{for(pe=le,T=ce,M=0,N=pe;N;N=ji(N))M++;for(N=0,q=T;q;q=ji(q))N++;for(;0<M-N;)pe=ji(pe),M--;for(;0<N-M;)T=ji(T),N--;for(;M--;){if(pe===T||T!==null&&pe===T.alternate)break t;pe=ji(pe),T=ji(T)}pe=null}else pe=null;le!==null&&Ep(U,W,le,pe,!1),ce!==null&&Ye!==null&&Ep(U,Ye,ce,pe,!0)}}e:{if(W=B?_i(B):window,le=W.nodeName&&W.nodeName.toLowerCase(),le==="select"||le==="input"&&W.type==="file")var me=ow;else if(lp(W))if(up)me=cw;else{me=aw;var ve=lw}else(le=W.nodeName)&&le.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(me=uw);if(me&&(me=me(i,B))){ap(U,me,u,Q);break e}ve&&ve(i,W,B),i==="focusout"&&(ve=W._wrapperState)&&ve.controlled&&W.type==="number"&&ii(W,"number",W.value)}switch(ve=B?_i(B):window,i){case"focusin":(lp(ve)||ve.contentEditable==="true")&&(Bi=ve,ec=B,Us=null);break;case"focusout":Us=ec=Bi=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,yp(U,u,Q);break;case"selectionchange":if(dw)break;case"keydown":case"keyup":yp(U,u,Q)}var xe;if(Yu)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ii?sp(i,u)&&(ke="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ke="onCompositionStart");ke&&(np&&u.locale!=="ko"&&(Ii||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ii&&(xe=Gd()):(Er=Q,Qu="value"in Er?Er.value:Er.textContent,Ii=!0)),ve=El(B,ke),0<ve.length&&(ke=new ep(ke,i,null,u,Q),U.push({event:ke,listeners:ve}),xe?ke.data=xe:(xe=op(u),xe!==null&&(ke.data=xe)))),(xe=tw?nw(i,u):rw(i,u))&&(B=El(B,"onBeforeInput"),0<B.length&&(Q=new ep("onBeforeInput","beforeinput",null,u,Q),U.push({event:Q,listeners:B}),Q.data=xe))}Pp(U,o)})}function qs(i,o,u){return{instance:i,listener:o,currentTarget:u}}function El(i,o){for(var u=o+"Capture",f=[];i!==null;){var g=i,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=We(i,u),y!=null&&f.unshift(qs(i,y,g)),y=We(i,o),y!=null&&f.push(qs(i,y,g))),i=i.return}return f}function ji(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ep(i,o,u,f,g){for(var y=o._reactName,w=[];u!==null&&u!==f;){var O=u,A=O.alternate,B=O.stateNode;if(A!==null&&A===f)break;O.tag===5&&B!==null&&(O=B,g?(A=We(u,y),A!=null&&w.unshift(qs(u,A,O))):g||(A=We(u,y),A!=null&&w.push(qs(u,A,O)))),u=u.return}w.length!==0&&i.push({event:o,listeners:w})}var yw=/\r\n?/g,vw=/\u0000|\uFFFD/g;function Mp(i){return(typeof i=="string"?i:""+i).replace(yw,`
`).replace(vw,"")}function Ml(i,o,u){if(o=Mp(o),Mp(i)!==o&&u)throw Error(t(425))}function Dl(){}var lc=null,ac=null;function uc(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var cc=typeof setTimeout=="function"?setTimeout:void 0,xw=typeof clearTimeout=="function"?clearTimeout:void 0,Dp=typeof Promise=="function"?Promise:void 0,ww=typeof queueMicrotask=="function"?queueMicrotask:typeof Dp<"u"?function(i){return Dp.resolve(null).then(i).catch(kw)}:cc;function kw(i){setTimeout(function(){throw i})}function hc(i,o){var u=o,f=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){i.removeChild(g),Fs(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);Fs(o)}function Dr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Rp(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Fi=Math.random().toString(36).slice(2),_n="__reactFiber$"+Fi,Ys="__reactProps$"+Fi,ir="__reactContainer$"+Fi,fc="__reactEvents$"+Fi,Sw="__reactListeners$"+Fi,bw="__reactHandles$"+Fi;function oi(i){var o=i[_n];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ir]||u[_n]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Rp(i);i!==null;){if(u=i[_n])return u;i=Rp(i)}return o}i=u,u=i.parentNode}return null}function Gs(i){return i=i[_n]||i[ir],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function _i(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Rl(i){return i[Ys]||null}var dc=[],Vi=-1;function Rr(i){return{current:i}}function Fe(i){0>Vi||(i.current=dc[Vi],dc[Vi]=null,Vi--)}function ze(i,o){Vi++,dc[Vi]=i.current,i.current=o}var Tr={},kt=Rr(Tr),Ft=Rr(!1),li=Tr;function Hi(i,o){var u=i.type.contextTypes;if(!u)return Tr;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in u)g[y]=o[y];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function _t(i){return i=i.childContextTypes,i!=null}function Tl(){Fe(Ft),Fe(kt)}function Tp(i,o,u){if(kt.current!==Tr)throw Error(t(168));ze(kt,o),ze(Ft,u)}function Np(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(t(108,we(i)||"Unknown",g));return X({},u,f)}function Nl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Tr,li=kt.current,ze(kt,i),ze(Ft,Ft.current),!0}function Lp(i,o,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=Np(i,o,li),f.__reactInternalMemoizedMergedChildContext=i,Fe(Ft),Fe(kt),ze(kt,i)):Fe(Ft),ze(Ft,u)}var sr=null,Ll=!1,pc=!1;function Ip(i){sr===null?sr=[i]:sr.push(i)}function Ow(i){Ll=!0,Ip(i)}function Nr(){if(!pc&&sr!==null){pc=!0;var i=0,o=Le;try{var u=sr;for(Le=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}sr=null,Ll=!1}catch(g){throw sr!==null&&(sr=sr.slice(i+1)),zd(Bu,Nr),g}finally{Le=o,pc=!1}}return null}var Wi=[],Qi=0,Il=null,Bl=0,on=[],ln=0,ai=null,or=1,lr="";function ui(i,o){Wi[Qi++]=Bl,Wi[Qi++]=Il,Il=i,Bl=o}function Bp(i,o,u){on[ln++]=or,on[ln++]=lr,on[ln++]=ai,ai=i;var f=or;i=lr;var g=32-bn(f)-1;f&=~(1<<g),u+=1;var y=32-bn(o)+g;if(30<y){var w=g-g%5;y=(f&(1<<w)-1).toString(32),f>>=w,g-=w,or=1<<32-bn(o)+g|u<<g|f,lr=y+i}else or=1<<y|u<<g|f,lr=i}function gc(i){i.return!==null&&(ui(i,1),Bp(i,1,0))}function mc(i){for(;i===Il;)Il=Wi[--Qi],Wi[Qi]=null,Bl=Wi[--Qi],Wi[Qi]=null;for(;i===ai;)ai=on[--ln],on[ln]=null,lr=on[--ln],on[ln]=null,or=on[--ln],on[ln]=null}var Yt=null,Gt=null,Ve=!1,Cn=null;function zp(i,o){var u=hn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function jp(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Yt=i,Gt=Dr(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Yt=i,Gt=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=ai!==null?{id:or,overflow:lr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=hn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Yt=i,Gt=null,!0):!1;default:return!1}}function yc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function vc(i){if(Ve){var o=Gt;if(o){var u=o;if(!jp(i,o)){if(yc(i))throw Error(t(418));o=Dr(u.nextSibling);var f=Yt;o&&jp(i,o)?zp(f,u):(i.flags=i.flags&-4097|2,Ve=!1,Yt=i)}}else{if(yc(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ve=!1,Yt=i}}}function Fp(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Yt=i}function zl(i){if(i!==Yt)return!1;if(!Ve)return Fp(i),Ve=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!uc(i.type,i.memoizedProps)),o&&(o=Gt)){if(yc(i))throw _p(),Error(t(418));for(;o;)zp(i,o),o=Dr(o.nextSibling)}if(Fp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Gt=Dr(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Gt=null}}else Gt=Yt?Dr(i.stateNode.nextSibling):null;return!0}function _p(){for(var i=Gt;i;)i=Dr(i.nextSibling)}function $i(){Gt=Yt=null,Ve=!1}function xc(i){Cn===null?Cn=[i]:Cn.push(i)}var Cw=F.ReactCurrentBatchConfig;function Zs(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var g=f,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(w){var O=g.refs;w===null?delete O[y]:O[y]=w},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function jl(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Vp(i){var o=i._init;return o(i._payload)}function Hp(i){function o(T,M){if(i){var N=T.deletions;N===null?(T.deletions=[M],T.flags|=16):N.push(M)}}function u(T,M){if(!i)return null;for(;M!==null;)o(T,M),M=M.sibling;return null}function f(T,M){for(T=new Map;M!==null;)M.key!==null?T.set(M.key,M):T.set(M.index,M),M=M.sibling;return T}function g(T,M){return T=Vr(T,M),T.index=0,T.sibling=null,T}function y(T,M,N){return T.index=N,i?(N=T.alternate,N!==null?(N=N.index,N<M?(T.flags|=2,M):N):(T.flags|=2,M)):(T.flags|=1048576,M)}function w(T){return i&&T.alternate===null&&(T.flags|=2),T}function O(T,M,N,q){return M===null||M.tag!==6?(M=ch(N,T.mode,q),M.return=T,M):(M=g(M,N),M.return=T,M)}function A(T,M,N,q){var me=N.type;return me===z?Q(T,M,N.props.children,q,N.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===de&&Vp(me)===M.type)?(q=g(M,N.props),q.ref=Zs(T,M,N),q.return=T,q):(q=aa(N.type,N.key,N.props,null,T.mode,q),q.ref=Zs(T,M,N),q.return=T,q)}function B(T,M,N,q){return M===null||M.tag!==4||M.stateNode.containerInfo!==N.containerInfo||M.stateNode.implementation!==N.implementation?(M=hh(N,T.mode,q),M.return=T,M):(M=g(M,N.children||[]),M.return=T,M)}function Q(T,M,N,q,me){return M===null||M.tag!==7?(M=yi(N,T.mode,q,me),M.return=T,M):(M=g(M,N),M.return=T,M)}function U(T,M,N){if(typeof M=="string"&&M!==""||typeof M=="number")return M=ch(""+M,T.mode,N),M.return=T,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case I:return N=aa(M.type,M.key,M.props,null,T.mode,N),N.ref=Zs(T,null,M),N.return=T,N;case j:return M=hh(M,T.mode,N),M.return=T,M;case de:var q=M._init;return U(T,q(M._payload),N)}if(Bt(M)||J(M))return M=yi(M,T.mode,N,null),M.return=T,M;jl(T,M)}return null}function W(T,M,N,q){var me=M!==null?M.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return me!==null?null:O(T,M,""+N,q);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case I:return N.key===me?A(T,M,N,q):null;case j:return N.key===me?B(T,M,N,q):null;case de:return me=N._init,W(T,M,me(N._payload),q)}if(Bt(N)||J(N))return me!==null?null:Q(T,M,N,q,null);jl(T,N)}return null}function le(T,M,N,q,me){if(typeof q=="string"&&q!==""||typeof q=="number")return T=T.get(N)||null,O(M,T,""+q,me);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case I:return T=T.get(q.key===null?N:q.key)||null,A(M,T,q,me);case j:return T=T.get(q.key===null?N:q.key)||null,B(M,T,q,me);case de:var ve=q._init;return le(T,M,N,ve(q._payload),me)}if(Bt(q)||J(q))return T=T.get(N)||null,Q(M,T,q,me,null);jl(M,q)}return null}function ce(T,M,N,q){for(var me=null,ve=null,xe=M,ke=M=0,at=null;xe!==null&&ke<N.length;ke++){xe.index>ke?(at=xe,xe=null):at=xe.sibling;var De=W(T,xe,N[ke],q);if(De===null){xe===null&&(xe=at);break}i&&xe&&De.alternate===null&&o(T,xe),M=y(De,M,ke),ve===null?me=De:ve.sibling=De,ve=De,xe=at}if(ke===N.length)return u(T,xe),Ve&&ui(T,ke),me;if(xe===null){for(;ke<N.length;ke++)xe=U(T,N[ke],q),xe!==null&&(M=y(xe,M,ke),ve===null?me=xe:ve.sibling=xe,ve=xe);return Ve&&ui(T,ke),me}for(xe=f(T,xe);ke<N.length;ke++)at=le(xe,T,ke,N[ke],q),at!==null&&(i&&at.alternate!==null&&xe.delete(at.key===null?ke:at.key),M=y(at,M,ke),ve===null?me=at:ve.sibling=at,ve=at);return i&&xe.forEach(function(Hr){return o(T,Hr)}),Ve&&ui(T,ke),me}function pe(T,M,N,q){var me=J(N);if(typeof me!="function")throw Error(t(150));if(N=me.call(N),N==null)throw Error(t(151));for(var ve=me=null,xe=M,ke=M=0,at=null,De=N.next();xe!==null&&!De.done;ke++,De=N.next()){xe.index>ke?(at=xe,xe=null):at=xe.sibling;var Hr=W(T,xe,De.value,q);if(Hr===null){xe===null&&(xe=at);break}i&&xe&&Hr.alternate===null&&o(T,xe),M=y(Hr,M,ke),ve===null?me=Hr:ve.sibling=Hr,ve=Hr,xe=at}if(De.done)return u(T,xe),Ve&&ui(T,ke),me;if(xe===null){for(;!De.done;ke++,De=N.next())De=U(T,De.value,q),De!==null&&(M=y(De,M,ke),ve===null?me=De:ve.sibling=De,ve=De);return Ve&&ui(T,ke),me}for(xe=f(T,xe);!De.done;ke++,De=N.next())De=le(xe,T,ke,De.value,q),De!==null&&(i&&De.alternate!==null&&xe.delete(De.key===null?ke:De.key),M=y(De,M,ke),ve===null?me=De:ve.sibling=De,ve=De);return i&&xe.forEach(function(ik){return o(T,ik)}),Ve&&ui(T,ke),me}function Ye(T,M,N,q){if(typeof N=="object"&&N!==null&&N.type===z&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case I:e:{for(var me=N.key,ve=M;ve!==null;){if(ve.key===me){if(me=N.type,me===z){if(ve.tag===7){u(T,ve.sibling),M=g(ve,N.props.children),M.return=T,T=M;break e}}else if(ve.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===de&&Vp(me)===ve.type){u(T,ve.sibling),M=g(ve,N.props),M.ref=Zs(T,ve,N),M.return=T,T=M;break e}u(T,ve);break}else o(T,ve);ve=ve.sibling}N.type===z?(M=yi(N.props.children,T.mode,q,N.key),M.return=T,T=M):(q=aa(N.type,N.key,N.props,null,T.mode,q),q.ref=Zs(T,M,N),q.return=T,T=q)}return w(T);case j:e:{for(ve=N.key;M!==null;){if(M.key===ve)if(M.tag===4&&M.stateNode.containerInfo===N.containerInfo&&M.stateNode.implementation===N.implementation){u(T,M.sibling),M=g(M,N.children||[]),M.return=T,T=M;break e}else{u(T,M);break}else o(T,M);M=M.sibling}M=hh(N,T.mode,q),M.return=T,T=M}return w(T);case de:return ve=N._init,Ye(T,M,ve(N._payload),q)}if(Bt(N))return ce(T,M,N,q);if(J(N))return pe(T,M,N,q);jl(T,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,M!==null&&M.tag===6?(u(T,M.sibling),M=g(M,N),M.return=T,T=M):(u(T,M),M=ch(N,T.mode,q),M.return=T,T=M),w(T)):u(T,M)}return Ye}var Ui=Hp(!0),Wp=Hp(!1),Fl=Rr(null),_l=null,Xi=null,wc=null;function kc(){wc=Xi=_l=null}function Sc(i){var o=Fl.current;Fe(Fl),i._currentValue=o}function bc(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function Ki(i,o){_l=i,wc=Xi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Vt=!0),i.firstContext=null)}function an(i){var o=i._currentValue;if(wc!==i)if(i={context:i,memoizedValue:o,next:null},Xi===null){if(_l===null)throw Error(t(308));Xi=i,_l.dependencies={lanes:0,firstContext:i}}else Xi=Xi.next=i;return o}var ci=null;function Oc(i){ci===null?ci=[i]:ci.push(i)}function Qp(i,o,u,f){var g=o.interleaved;return g===null?(u.next=u,Oc(o)):(u.next=g.next,g.next=u),o.interleaved=u,ar(i,f)}function ar(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Lr=!1;function Cc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ur(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ir(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ee&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,ar(i,u)}return g=f.interleaved,g===null?(o.next=o,Oc(f)):(o.next=g.next,g.next=o),f.interleaved=o,ar(i,u)}function Vl(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Fu(i,u)}}function Up(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var w={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?g=y=w:y=y.next=w,u=u.next}while(u!==null);y===null?g=y=o:y=y.next=o}else g=y=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Hl(i,o,u,f){var g=i.updateQueue;Lr=!1;var y=g.firstBaseUpdate,w=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var A=O,B=A.next;A.next=null,w===null?y=B:w.next=B,w=A;var Q=i.alternate;Q!==null&&(Q=Q.updateQueue,O=Q.lastBaseUpdate,O!==w&&(O===null?Q.firstBaseUpdate=B:O.next=B,Q.lastBaseUpdate=A))}if(y!==null){var U=g.baseState;w=0,Q=B=A=null,O=y;do{var W=O.lane,le=O.eventTime;if((f&W)===W){Q!==null&&(Q=Q.next={eventTime:le,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ce=i,pe=O;switch(W=o,le=u,pe.tag){case 1:if(ce=pe.payload,typeof ce=="function"){U=ce.call(le,U,W);break e}U=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=pe.payload,W=typeof ce=="function"?ce.call(le,U,W):ce,W==null)break e;U=X({},U,W);break e;case 2:Lr=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,W=g.effects,W===null?g.effects=[O]:W.push(O))}else le={eventTime:le,lane:W,tag:O.tag,payload:O.payload,callback:O.callback,next:null},Q===null?(B=Q=le,A=U):Q=Q.next=le,w|=W;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;W=O,O=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);if(Q===null&&(A=U),g.baseState=A,g.firstBaseUpdate=B,g.lastBaseUpdate=Q,o=g.shared.interleaved,o!==null){g=o;do w|=g.lane,g=g.next;while(g!==o)}else y===null&&(g.shared.lanes=0);di|=w,i.lanes=w,i.memoizedState=U}}function Xp(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var Js={},Vn=Rr(Js),eo=Rr(Js),to=Rr(Js);function hi(i){if(i===Js)throw Error(t(174));return i}function Pc(i,o){switch(ze(to,o),ze(eo,i),ze(Vn,Js),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:zn(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=zn(o,i)}Fe(Vn),ze(Vn,o)}function qi(){Fe(Vn),Fe(eo),Fe(to)}function Kp(i){hi(to.current);var o=hi(Vn.current),u=zn(o,i.type);o!==u&&(ze(eo,i),ze(Vn,u))}function Ac(i){eo.current===i&&(Fe(Vn),Fe(eo))}var Qe=Rr(0);function Wl(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ec=[];function Mc(){for(var i=0;i<Ec.length;i++)Ec[i]._workInProgressVersionPrimary=null;Ec.length=0}var Ql=F.ReactCurrentDispatcher,Dc=F.ReactCurrentBatchConfig,fi=0,$e=null,nt=null,ot=null,$l=!1,no=!1,ro=0,Pw=0;function St(){throw Error(t(321))}function Rc(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!On(i[u],o[u]))return!1;return!0}function Tc(i,o,u,f,g,y){if(fi=y,$e=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ql.current=i===null||i.memoizedState===null?Dw:Rw,i=u(f,g),no){y=0;do{if(no=!1,ro=0,25<=y)throw Error(t(301));y+=1,ot=nt=null,o.updateQueue=null,Ql.current=Tw,i=u(f,g)}while(no)}if(Ql.current=Kl,o=nt!==null&&nt.next!==null,fi=0,ot=nt=$e=null,$l=!1,o)throw Error(t(300));return i}function Nc(){var i=ro!==0;return ro=0,i}function Hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?$e.memoizedState=ot=i:ot=ot.next=i,ot}function un(){if(nt===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=nt.next;var o=ot===null?$e.memoizedState:ot.next;if(o!==null)ot=o,nt=i;else{if(i===null)throw Error(t(310));nt=i,i={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ot===null?$e.memoizedState=ot=i:ot=ot.next=i}return ot}function io(i,o){return typeof o=="function"?o(i):o}function Lc(i){var o=un(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=nt,g=f.baseQueue,y=u.pending;if(y!==null){if(g!==null){var w=g.next;g.next=y.next,y.next=w}f.baseQueue=g=y,u.pending=null}if(g!==null){y=g.next,f=f.baseState;var O=w=null,A=null,B=y;do{var Q=B.lane;if((fi&Q)===Q)A!==null&&(A=A.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),f=B.hasEagerState?B.eagerState:i(f,B.action);else{var U={lane:Q,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};A===null?(O=A=U,w=f):A=A.next=U,$e.lanes|=Q,di|=Q}B=B.next}while(B!==null&&B!==y);A===null?w=f:A.next=O,On(f,o.memoizedState)||(Vt=!0),o.memoizedState=f,o.baseState=w,o.baseQueue=A,u.lastRenderedState=f}if(i=u.interleaved,i!==null){g=i;do y=g.lane,$e.lanes|=y,di|=y,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Ic(i){var o=un(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,g=u.pending,y=o.memoizedState;if(g!==null){u.pending=null;var w=g=g.next;do y=i(y,w.action),w=w.next;while(w!==g);On(y,o.memoizedState)||(Vt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,f]}function qp(){}function Yp(i,o){var u=$e,f=un(),g=o(),y=!On(f.memoizedState,g);if(y&&(f.memoizedState=g,Vt=!0),f=f.queue,Bc(Jp.bind(null,u,f,i),[i]),f.getSnapshot!==o||y||ot!==null&&ot.memoizedState.tag&1){if(u.flags|=2048,so(9,Zp.bind(null,u,f,g,o),void 0,null),lt===null)throw Error(t(349));(fi&30)!==0||Gp(u,o,g)}return g}function Gp(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=$e.updateQueue,o===null?(o={lastEffect:null,stores:null},$e.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Zp(i,o,u,f){o.value=u,o.getSnapshot=f,eg(o)&&tg(i)}function Jp(i,o,u){return u(function(){eg(o)&&tg(i)})}function eg(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!On(i,u)}catch{return!0}}function tg(i){var o=ar(i,1);o!==null&&Mn(o,i,1,-1)}function ng(i){var o=Hn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:i},o.queue=i,i=i.dispatch=Mw.bind(null,$e,i),[o.memoizedState,i]}function so(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=$e.updateQueue,o===null?(o={lastEffect:null,stores:null},$e.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function rg(){return un().memoizedState}function Ul(i,o,u,f){var g=Hn();$e.flags|=i,g.memoizedState=so(1|o,u,void 0,f===void 0?null:f)}function Xl(i,o,u,f){var g=un();f=f===void 0?null:f;var y=void 0;if(nt!==null){var w=nt.memoizedState;if(y=w.destroy,f!==null&&Rc(f,w.deps)){g.memoizedState=so(o,u,y,f);return}}$e.flags|=i,g.memoizedState=so(1|o,u,y,f)}function ig(i,o){return Ul(8390656,8,i,o)}function Bc(i,o){return Xl(2048,8,i,o)}function sg(i,o){return Xl(4,2,i,o)}function og(i,o){return Xl(4,4,i,o)}function lg(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function ag(i,o,u){return u=u!=null?u.concat([i]):null,Xl(4,4,lg.bind(null,o,i),u)}function zc(){}function ug(i,o){var u=un();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Rc(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function cg(i,o){var u=un();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Rc(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function hg(i,o,u){return(fi&21)===0?(i.baseState&&(i.baseState=!1,Vt=!0),i.memoizedState=u):(On(u,o)||(u=Vd(),$e.lanes|=u,di|=u,i.baseState=!0),o)}function Aw(i,o){var u=Le;Le=u!==0&&4>u?u:4,i(!0);var f=Dc.transition;Dc.transition={};try{i(!1),o()}finally{Le=u,Dc.transition=f}}function fg(){return un().memoizedState}function Ew(i,o,u){var f=Fr(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},dg(i))pg(o,u);else if(u=Qp(i,o,u,f),u!==null){var g=Rt();Mn(u,i,f,g),gg(u,o,f)}}function Mw(i,o,u){var f=Fr(i),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(dg(i))pg(o,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var w=o.lastRenderedState,O=y(w,u);if(g.hasEagerState=!0,g.eagerState=O,On(O,w)){var A=o.interleaved;A===null?(g.next=g,Oc(o)):(g.next=A.next,A.next=g),o.interleaved=g;return}}catch{}finally{}u=Qp(i,o,g,f),u!==null&&(g=Rt(),Mn(u,i,f,g),gg(u,o,f))}}function dg(i){var o=i.alternate;return i===$e||o!==null&&o===$e}function pg(i,o){no=$l=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function gg(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Fu(i,u)}}var Kl={readContext:an,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},Dw={readContext:an,useCallback:function(i,o){return Hn().memoizedState=[i,o===void 0?null:o],i},useContext:an,useEffect:ig,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Ul(4194308,4,lg.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Ul(4194308,4,i,o)},useInsertionEffect:function(i,o){return Ul(4,2,i,o)},useMemo:function(i,o){var u=Hn();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Hn();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=Ew.bind(null,$e,i),[f.memoizedState,i]},useRef:function(i){var o=Hn();return i={current:i},o.memoizedState=i},useState:ng,useDebugValue:zc,useDeferredValue:function(i){return Hn().memoizedState=i},useTransition:function(){var i=ng(!1),o=i[0];return i=Aw.bind(null,i[1]),Hn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=$e,g=Hn();if(Ve){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),lt===null)throw Error(t(349));(fi&30)!==0||Gp(f,o,u)}g.memoizedState=u;var y={value:u,getSnapshot:o};return g.queue=y,ig(Jp.bind(null,f,y,i),[i]),f.flags|=2048,so(9,Zp.bind(null,f,y,u,o),void 0,null),u},useId:function(){var i=Hn(),o=lt.identifierPrefix;if(Ve){var u=lr,f=or;u=(f&~(1<<32-bn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=ro++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Pw++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Rw={readContext:an,useCallback:ug,useContext:an,useEffect:Bc,useImperativeHandle:ag,useInsertionEffect:sg,useLayoutEffect:og,useMemo:cg,useReducer:Lc,useRef:rg,useState:function(){return Lc(io)},useDebugValue:zc,useDeferredValue:function(i){var o=un();return hg(o,nt.memoizedState,i)},useTransition:function(){var i=Lc(io)[0],o=un().memoizedState;return[i,o]},useMutableSource:qp,useSyncExternalStore:Yp,useId:fg,unstable_isNewReconciler:!1},Tw={readContext:an,useCallback:ug,useContext:an,useEffect:Bc,useImperativeHandle:ag,useInsertionEffect:sg,useLayoutEffect:og,useMemo:cg,useReducer:Ic,useRef:rg,useState:function(){return Ic(io)},useDebugValue:zc,useDeferredValue:function(i){var o=un();return nt===null?o.memoizedState=i:hg(o,nt.memoizedState,i)},useTransition:function(){var i=Ic(io)[0],o=un().memoizedState;return[i,o]},useMutableSource:qp,useSyncExternalStore:Yp,useId:fg,unstable_isNewReconciler:!1};function Pn(i,o){if(i&&i.defaultProps){o=X({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function jc(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:X({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ql={isMounted:function(i){return(i=i._reactInternals)?si(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=Rt(),g=Fr(i),y=ur(f,g);y.payload=o,u!=null&&(y.callback=u),o=Ir(i,y,g),o!==null&&(Mn(o,i,g,f),Vl(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=Rt(),g=Fr(i),y=ur(f,g);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Ir(i,y,g),o!==null&&(Mn(o,i,g,f),Vl(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Rt(),f=Fr(i),g=ur(u,f);g.tag=2,o!=null&&(g.callback=o),o=Ir(i,g,f),o!==null&&(Mn(o,i,f,u),Vl(o,i,f))}};function mg(i,o,u,f,g,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,w):o.prototype&&o.prototype.isPureReactComponent?!$s(u,f)||!$s(g,y):!0}function yg(i,o,u){var f=!1,g=Tr,y=o.contextType;return typeof y=="object"&&y!==null?y=an(y):(g=_t(o)?li:kt.current,f=o.contextTypes,y=(f=f!=null)?Hi(i,g):Tr),o=new o(u,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ql,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=y),o}function vg(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&ql.enqueueReplaceState(o,o.state,null)}function Fc(i,o,u,f){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},Cc(i);var y=o.contextType;typeof y=="object"&&y!==null?g.context=an(y):(y=_t(o)?li:kt.current,g.context=Hi(i,y)),g.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(jc(i,o,y,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&ql.enqueueReplaceState(g,g.state,null),Hl(i,u,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function Yi(i,o){try{var u="",f=o;do u+=V(f),f=f.return;while(f);var g=u}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:g,digest:null}}function _c(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Vc(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Nw=typeof WeakMap=="function"?WeakMap:Map;function xg(i,o,u){u=ur(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){na||(na=!0,nh=f),Vc(i,o)},u}function wg(i,o,u){u=ur(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;u.payload=function(){return f(g)},u.callback=function(){Vc(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Vc(i,o),typeof f!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),u}function kg(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new Nw;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(g.add(u),i=Xw.bind(null,i,o,u),o.then(i,i))}function Sg(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function bg(i,o,u,f,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ur(-1,1),o.tag=2,Ir(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var Lw=F.ReactCurrentOwner,Vt=!1;function Dt(i,o,u,f){o.child=i===null?Wp(o,null,u,f):Ui(o,i.child,u,f)}function Og(i,o,u,f,g){u=u.render;var y=o.ref;return Ki(o,g),f=Tc(i,o,u,f,y,g),u=Nc(),i!==null&&!Vt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,cr(i,o,g)):(Ve&&u&&gc(o),o.flags|=1,Dt(i,o,f,g),o.child)}function Cg(i,o,u,f,g){if(i===null){var y=u.type;return typeof y=="function"&&!uh(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,Pg(i,o,y,f,g)):(i=aa(u.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&g)===0){var w=y.memoizedProps;if(u=u.compare,u=u!==null?u:$s,u(w,f)&&i.ref===o.ref)return cr(i,o,g)}return o.flags|=1,i=Vr(y,f),i.ref=o.ref,i.return=o,o.child=i}function Pg(i,o,u,f,g){if(i!==null){var y=i.memoizedProps;if($s(y,f)&&i.ref===o.ref)if(Vt=!1,o.pendingProps=f=y,(i.lanes&g)!==0)(i.flags&131072)!==0&&(Vt=!0);else return o.lanes=i.lanes,cr(i,o,g)}return Hc(i,o,u,f,g)}function Ag(i,o,u){var f=o.pendingProps,g=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Zi,Zt),Zt|=u;else{if((u&1073741824)===0)return i=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,ze(Zi,Zt),Zt|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:u,ze(Zi,Zt),Zt|=f}else y!==null?(f=y.baseLanes|u,o.memoizedState=null):f=u,ze(Zi,Zt),Zt|=f;return Dt(i,o,g,u),o.child}function Eg(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Hc(i,o,u,f,g){var y=_t(u)?li:kt.current;return y=Hi(o,y),Ki(o,g),u=Tc(i,o,u,f,y,g),f=Nc(),i!==null&&!Vt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,cr(i,o,g)):(Ve&&f&&gc(o),o.flags|=1,Dt(i,o,u,g),o.child)}function Mg(i,o,u,f,g){if(_t(u)){var y=!0;Nl(o)}else y=!1;if(Ki(o,g),o.stateNode===null)Gl(i,o),yg(o,u,f),Fc(o,u,f,g),f=!0;else if(i===null){var w=o.stateNode,O=o.memoizedProps;w.props=O;var A=w.context,B=u.contextType;typeof B=="object"&&B!==null?B=an(B):(B=_t(u)?li:kt.current,B=Hi(o,B));var Q=u.getDerivedStateFromProps,U=typeof Q=="function"||typeof w.getSnapshotBeforeUpdate=="function";U||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==f||A!==B)&&vg(o,w,f,B),Lr=!1;var W=o.memoizedState;w.state=W,Hl(o,f,w,g),A=o.memoizedState,O!==f||W!==A||Ft.current||Lr?(typeof Q=="function"&&(jc(o,u,Q,f),A=o.memoizedState),(O=Lr||mg(o,u,O,f,W,A,B))?(U||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=A),w.props=f,w.state=A,w.context=B,f=O):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{w=o.stateNode,$p(i,o),O=o.memoizedProps,B=o.type===o.elementType?O:Pn(o.type,O),w.props=B,U=o.pendingProps,W=w.context,A=u.contextType,typeof A=="object"&&A!==null?A=an(A):(A=_t(u)?li:kt.current,A=Hi(o,A));var le=u.getDerivedStateFromProps;(Q=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==U||W!==A)&&vg(o,w,f,A),Lr=!1,W=o.memoizedState,w.state=W,Hl(o,f,w,g);var ce=o.memoizedState;O!==U||W!==ce||Ft.current||Lr?(typeof le=="function"&&(jc(o,u,le,f),ce=o.memoizedState),(B=Lr||mg(o,u,B,f,W,ce,A)||!1)?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,ce,A),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,ce,A)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===i.memoizedProps&&W===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&W===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ce),w.props=f,w.state=ce,w.context=A,f=B):(typeof w.componentDidUpdate!="function"||O===i.memoizedProps&&W===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&W===i.memoizedState||(o.flags|=1024),f=!1)}return Wc(i,o,u,f,y,g)}function Wc(i,o,u,f,g,y){Eg(i,o);var w=(o.flags&128)!==0;if(!f&&!w)return g&&Lp(o,u,!1),cr(i,o,y);f=o.stateNode,Lw.current=o;var O=w&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&w?(o.child=Ui(o,i.child,null,y),o.child=Ui(o,null,O,y)):Dt(i,o,O,y),o.memoizedState=f.state,g&&Lp(o,u,!0),o.child}function Dg(i){var o=i.stateNode;o.pendingContext?Tp(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Tp(i,o.context,!1),Pc(i,o.containerInfo)}function Rg(i,o,u,f,g){return $i(),xc(g),o.flags|=256,Dt(i,o,u,f),o.child}var Qc={dehydrated:null,treeContext:null,retryLane:0};function $c(i){return{baseLanes:i,cachePool:null,transitions:null}}function Tg(i,o,u){var f=o.pendingProps,g=Qe.current,y=!1,w=(o.flags&128)!==0,O;if((O=w)||(O=i!==null&&i.memoizedState===null?!1:(g&2)!==0),O?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),ze(Qe,g&1),i===null)return vc(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(w=f.children,i=f.fallback,y?(f=o.mode,y=o.child,w={mode:"hidden",children:w},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=ua(w,f,0,null),i=yi(i,f,u,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=$c(u),o.memoizedState=Qc,i):Uc(o,w));if(g=i.memoizedState,g!==null&&(O=g.dehydrated,O!==null))return Iw(i,o,w,f,O,g,u);if(y){y=f.fallback,w=o.mode,g=i.child,O=g.sibling;var A={mode:"hidden",children:f.children};return(w&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=A,o.deletions=null):(f=Vr(g,A),f.subtreeFlags=g.subtreeFlags&14680064),O!==null?y=Vr(O,y):(y=yi(y,w,u,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,w=i.child.memoizedState,w=w===null?$c(u):{baseLanes:w.baseLanes|u,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=i.childLanes&~u,o.memoizedState=Qc,f}return y=i.child,i=y.sibling,f=Vr(y,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Uc(i,o){return o=ua({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Yl(i,o,u,f){return f!==null&&xc(f),Ui(o,i.child,null,u),i=Uc(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Iw(i,o,u,f,g,y,w){if(u)return o.flags&256?(o.flags&=-257,f=_c(Error(t(422))),Yl(i,o,w,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=f.fallback,g=o.mode,f=ua({mode:"visible",children:f.children},g,0,null),y=yi(y,g,w,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,(o.mode&1)!==0&&Ui(o,i.child,null,w),o.child.memoizedState=$c(w),o.memoizedState=Qc,y);if((o.mode&1)===0)return Yl(i,o,w,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var O=f.dgst;return f=O,y=Error(t(419)),f=_c(y,f,void 0),Yl(i,o,w,f)}if(O=(w&i.childLanes)!==0,Vt||O){if(f=lt,f!==null){switch(w&-w){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|w))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,ar(i,g),Mn(f,i,g,-1))}return ah(),f=_c(Error(t(421))),Yl(i,o,w,f)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=Kw.bind(null,i),g._reactRetry=o,null):(i=y.treeContext,Gt=Dr(g.nextSibling),Yt=o,Ve=!0,Cn=null,i!==null&&(on[ln++]=or,on[ln++]=lr,on[ln++]=ai,or=i.id,lr=i.overflow,ai=o),o=Uc(o,f.children),o.flags|=4096,o)}function Ng(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),bc(i.return,o,u)}function Xc(i,o,u,f,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=g)}function Lg(i,o,u){var f=o.pendingProps,g=f.revealOrder,y=f.tail;if(Dt(i,o,f.children,u),f=Qe.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ng(i,u,o);else if(i.tag===19)Ng(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(ze(Qe,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&Wl(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Xc(o,!1,g,u,y);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Wl(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}Xc(o,!0,u,null,y);break;case"together":Xc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Gl(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function cr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),di|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=Vr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Vr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Bw(i,o,u){switch(o.tag){case 3:Dg(o),$i();break;case 5:Kp(o);break;case 1:_t(o.type)&&Nl(o);break;case 4:Pc(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;ze(Fl,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(ze(Qe,Qe.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Tg(i,o,u):(ze(Qe,Qe.current&1),i=cr(i,o,u),i!==null?i.sibling:null);ze(Qe,Qe.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return Lg(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ze(Qe,Qe.current),f)break;return null;case 22:case 23:return o.lanes=0,Ag(i,o,u)}return cr(i,o,u)}var Ig,Kc,Bg,zg;Ig=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Kc=function(){},Bg=function(i,o,u,f){var g=i.memoizedProps;if(g!==f){i=o.stateNode,hi(Vn.current);var y=null;switch(u){case"input":g=Xt(i,g),f=Xt(i,f),y=[];break;case"select":g=X({},g,{value:void 0}),f=X({},f,{value:void 0}),y=[];break;case"textarea":g=wr(i,g),f=wr(i,f),y=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Dl)}Ri(u,f);var w;u=null;for(B in g)if(!f.hasOwnProperty(B)&&g.hasOwnProperty(B)&&g[B]!=null)if(B==="style"){var O=g[B];for(w in O)O.hasOwnProperty(w)&&(u||(u={}),u[w]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(s.hasOwnProperty(B)?y||(y=[]):(y=y||[]).push(B,null));for(B in f){var A=f[B];if(O=g!=null?g[B]:void 0,f.hasOwnProperty(B)&&A!==O&&(A!=null||O!=null))if(B==="style")if(O){for(w in O)!O.hasOwnProperty(w)||A&&A.hasOwnProperty(w)||(u||(u={}),u[w]="");for(w in A)A.hasOwnProperty(w)&&O[w]!==A[w]&&(u||(u={}),u[w]=A[w])}else u||(y||(y=[]),y.push(B,u)),u=A;else B==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,O=O?O.__html:void 0,A!=null&&O!==A&&(y=y||[]).push(B,A)):B==="children"?typeof A!="string"&&typeof A!="number"||(y=y||[]).push(B,""+A):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(s.hasOwnProperty(B)?(A!=null&&B==="onScroll"&&je("scroll",i),y||O===A||(y=[])):(y=y||[]).push(B,A))}u&&(y=y||[]).push("style",u);var B=y;(o.updateQueue=B)&&(o.flags|=4)}},zg=function(i,o,u,f){u!==f&&(o.flags|=4)};function oo(i,o){if(!Ve)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function bt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function zw(i,o,u){var f=o.pendingProps;switch(mc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(o),null;case 1:return _t(o.type)&&Tl(),bt(o),null;case 3:return f=o.stateNode,qi(),Fe(Ft),Fe(kt),Mc(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(zl(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Cn!==null&&(sh(Cn),Cn=null))),Kc(i,o),bt(o),null;case 5:Ac(o);var g=hi(to.current);if(u=o.type,i!==null&&o.stateNode!=null)Bg(i,o,u,f,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return bt(o),null}if(i=hi(Vn.current),zl(o)){f=o.stateNode,u=o.type;var y=o.memoizedProps;switch(f[_n]=o,f[Ys]=y,i=(o.mode&1)!==0,u){case"dialog":je("cancel",f),je("close",f);break;case"iframe":case"object":case"embed":je("load",f);break;case"video":case"audio":for(g=0;g<Xs.length;g++)je(Xs[g],f);break;case"source":je("error",f);break;case"img":case"image":case"link":je("error",f),je("load",f);break;case"details":je("toggle",f);break;case"input":er(f,y),je("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},je("invalid",f);break;case"textarea":Ps(f,y),je("invalid",f)}Ri(u,y),g=null;for(var w in y)if(y.hasOwnProperty(w)){var O=y[w];w==="children"?typeof O=="string"?f.textContent!==O&&(y.suppressHydrationWarning!==!0&&Ml(f.textContent,O,i),g=["children",O]):typeof O=="number"&&f.textContent!==""+O&&(y.suppressHydrationWarning!==!0&&Ml(f.textContent,O,i),g=["children",""+O]):s.hasOwnProperty(w)&&O!=null&&w==="onScroll"&&je("scroll",f)}switch(u){case"input":rn(f),Cs(f,y,!0);break;case"textarea":rn(f),ol(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Dl)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{w=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ll(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=w.createElement(u,{is:f.is}):(i=w.createElement(u),u==="select"&&(w=i,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):i=w.createElementNS(i,u),i[_n]=o,i[Ys]=f,Ig(i,o,!1,!1),o.stateNode=i;e:{switch(w=Ms(u,f),u){case"dialog":je("cancel",i),je("close",i),g=f;break;case"iframe":case"object":case"embed":je("load",i),g=f;break;case"video":case"audio":for(g=0;g<Xs.length;g++)je(Xs[g],i);g=f;break;case"source":je("error",i),g=f;break;case"img":case"image":case"link":je("error",i),je("load",i),g=f;break;case"details":je("toggle",i),g=f;break;case"input":er(i,f),g=Xt(i,f),je("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=X({},f,{value:void 0}),je("invalid",i);break;case"textarea":Ps(i,f),g=wr(i,f),je("invalid",i);break;default:g=f}Ri(u,g),O=g;for(y in O)if(O.hasOwnProperty(y)){var A=O[y];y==="style"?cl(i,A):y==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&kr(i,A)):y==="children"?typeof A=="string"?(u!=="textarea"||A!=="")&&Sr(i,A):typeof A=="number"&&Sr(i,""+A):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?A!=null&&y==="onScroll"&&je("scroll",i):A!=null&&R(i,y,A,w))}switch(u){case"input":rn(i),Cs(i,f,!1);break;case"textarea":rn(i),ol(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Oe(f.value));break;case"select":i.multiple=!!f.multiple,y=f.value,y!=null?vn(i,!!f.multiple,y,!1):f.defaultValue!=null&&vn(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Dl)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return bt(o),null;case 6:if(i&&o.stateNode!=null)zg(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=hi(to.current),hi(Vn.current),zl(o)){if(f=o.stateNode,u=o.memoizedProps,f[_n]=o,(y=f.nodeValue!==u)&&(i=Yt,i!==null))switch(i.tag){case 3:Ml(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ml(f.nodeValue,u,(i.mode&1)!==0)}y&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[_n]=o,o.stateNode=f}return bt(o),null;case 13:if(Fe(Qe),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ve&&Gt!==null&&(o.mode&1)!==0&&(o.flags&128)===0)_p(),$i(),o.flags|=98560,y=!1;else if(y=zl(o),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[_n]=o}else $i(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;bt(o),y=!1}else Cn!==null&&(sh(Cn),Cn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Qe.current&1)!==0?rt===0&&(rt=3):ah())),o.updateQueue!==null&&(o.flags|=4),bt(o),null);case 4:return qi(),Kc(i,o),i===null&&Ks(o.stateNode.containerInfo),bt(o),null;case 10:return Sc(o.type._context),bt(o),null;case 17:return _t(o.type)&&Tl(),bt(o),null;case 19:if(Fe(Qe),y=o.memoizedState,y===null)return bt(o),null;if(f=(o.flags&128)!==0,w=y.rendering,w===null)if(f)oo(y,!1);else{if(rt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=Wl(i),w!==null){for(o.flags|=128,oo(y,!1),f=w.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)y=u,i=f,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,i=w.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ze(Qe,Qe.current&1|2),o.child}i=i.sibling}y.tail!==null&&qe()>Ji&&(o.flags|=128,f=!0,oo(y,!1),o.lanes=4194304)}else{if(!f)if(i=Wl(w),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),oo(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Ve)return bt(o),null}else 2*qe()-y.renderingStartTime>Ji&&u!==1073741824&&(o.flags|=128,f=!0,oo(y,!1),o.lanes=4194304);y.isBackwards?(w.sibling=o.child,o.child=w):(u=y.last,u!==null?u.sibling=w:o.child=w,y.last=w)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=qe(),o.sibling=null,u=Qe.current,ze(Qe,f?u&1|2:u&1),o):(bt(o),null);case 22:case 23:return lh(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Zt&1073741824)!==0&&(bt(o),o.subtreeFlags&6&&(o.flags|=8192)):bt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function jw(i,o){switch(mc(o),o.tag){case 1:return _t(o.type)&&Tl(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return qi(),Fe(Ft),Fe(kt),Mc(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Ac(o),null;case 13:if(Fe(Qe),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));$i()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Fe(Qe),null;case 4:return qi(),null;case 10:return Sc(o.type._context),null;case 22:case 23:return lh(),null;case 24:return null;default:return null}}var Zl=!1,Ot=!1,Fw=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Gi(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Ue(i,o,f)}else u.current=null}function qc(i,o,u){try{u()}catch(f){Ue(i,o,f)}}var jg=!1;function _w(i,o){if(lc=vl,i=mp(),Ju(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var w=0,O=-1,A=-1,B=0,Q=0,U=i,W=null;t:for(;;){for(var le;U!==u||g!==0&&U.nodeType!==3||(O=w+g),U!==y||f!==0&&U.nodeType!==3||(A=w+f),U.nodeType===3&&(w+=U.nodeValue.length),(le=U.firstChild)!==null;)W=U,U=le;for(;;){if(U===i)break t;if(W===u&&++B===g&&(O=w),W===y&&++Q===f&&(A=w),(le=U.nextSibling)!==null)break;U=W,W=U.parentNode}U=le}u=O===-1||A===-1?null:{start:O,end:A}}else u=null}u=u||{start:0,end:0}}else u=null;for(ac={focusedElem:i,selectionRange:u},vl=!1,ae=o;ae!==null;)if(o=ae,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ae=i;else for(;ae!==null;){o=ae;try{var ce=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var pe=ce.memoizedProps,Ye=ce.memoizedState,T=o.stateNode,M=T.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Pn(o.type,pe),Ye);T.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var N=o.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(q){Ue(o,o.return,q)}if(i=o.sibling,i!==null){i.return=o.return,ae=i;break}ae=o.return}return ce=jg,jg=!1,ce}function lo(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var y=g.destroy;g.destroy=void 0,y!==void 0&&qc(o,u,y)}g=g.next}while(g!==f)}}function Jl(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Yc(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Fg(i){var o=i.alternate;o!==null&&(i.alternate=null,Fg(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[_n],delete o[Ys],delete o[fc],delete o[Sw],delete o[bw])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function _g(i){return i.tag===5||i.tag===3||i.tag===4}function Vg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_g(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gc(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Dl));else if(f!==4&&(i=i.child,i!==null))for(Gc(i,o,u),i=i.sibling;i!==null;)Gc(i,o,u),i=i.sibling}function Zc(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Zc(i,o,u),i=i.sibling;i!==null;)Zc(i,o,u),i=i.sibling}var ft=null,An=!1;function Br(i,o,u){for(u=u.child;u!==null;)Hg(i,o,u),u=u.sibling}function Hg(i,o,u){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(fl,u)}catch{}switch(u.tag){case 5:Ot||Gi(u,o);case 6:var f=ft,g=An;ft=null,Br(i,o,u),ft=f,An=g,ft!==null&&(An?(i=ft,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):ft.removeChild(u.stateNode));break;case 18:ft!==null&&(An?(i=ft,u=u.stateNode,i.nodeType===8?hc(i.parentNode,u):i.nodeType===1&&hc(i,u),Fs(i)):hc(ft,u.stateNode));break;case 4:f=ft,g=An,ft=u.stateNode.containerInfo,An=!0,Br(i,o,u),ft=f,An=g;break;case 0:case 11:case 14:case 15:if(!Ot&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var y=g,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&qc(u,o,w),g=g.next}while(g!==f)}Br(i,o,u);break;case 1:if(!Ot&&(Gi(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(O){Ue(u,o,O)}Br(i,o,u);break;case 21:Br(i,o,u);break;case 22:u.mode&1?(Ot=(f=Ot)||u.memoizedState!==null,Br(i,o,u),Ot=f):Br(i,o,u);break;default:Br(i,o,u)}}function Wg(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Fw),o.forEach(function(f){var g=qw.bind(null,i,f);u.has(f)||(u.add(f),f.then(g,g))})}}function En(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var y=i,w=o,O=w;e:for(;O!==null;){switch(O.tag){case 5:ft=O.stateNode,An=!1;break e;case 3:ft=O.stateNode.containerInfo,An=!0;break e;case 4:ft=O.stateNode.containerInfo,An=!0;break e}O=O.return}if(ft===null)throw Error(t(160));Hg(y,w,g),ft=null,An=!1;var A=g.alternate;A!==null&&(A.return=null),g.return=null}catch(B){Ue(g,o,B)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Qg(o,i),o=o.sibling}function Qg(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(En(o,i),Wn(i),f&4){try{lo(3,i,i.return),Jl(3,i)}catch(pe){Ue(i,i.return,pe)}try{lo(5,i,i.return)}catch(pe){Ue(i,i.return,pe)}}break;case 1:En(o,i),Wn(i),f&512&&u!==null&&Gi(u,u.return);break;case 5:if(En(o,i),Wn(i),f&512&&u!==null&&Gi(u,u.return),i.flags&32){var g=i.stateNode;try{Sr(g,"")}catch(pe){Ue(i,i.return,pe)}}if(f&4&&(g=i.stateNode,g!=null)){var y=i.memoizedProps,w=u!==null?u.memoizedProps:y,O=i.type,A=i.updateQueue;if(i.updateQueue=null,A!==null)try{O==="input"&&y.type==="radio"&&y.name!=null&&tr(g,y),Ms(O,w);var B=Ms(O,y);for(w=0;w<A.length;w+=2){var Q=A[w],U=A[w+1];Q==="style"?cl(g,U):Q==="dangerouslySetInnerHTML"?kr(g,U):Q==="children"?Sr(g,U):R(g,Q,U,B)}switch(O){case"input":Di(g,y);break;case"textarea":As(g,y);break;case"select":var W=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var le=y.value;le!=null?vn(g,!!y.multiple,le,!1):W!==!!y.multiple&&(y.defaultValue!=null?vn(g,!!y.multiple,y.defaultValue,!0):vn(g,!!y.multiple,y.multiple?[]:"",!1))}g[Ys]=y}catch(pe){Ue(i,i.return,pe)}}break;case 6:if(En(o,i),Wn(i),f&4){if(i.stateNode===null)throw Error(t(162));g=i.stateNode,y=i.memoizedProps;try{g.nodeValue=y}catch(pe){Ue(i,i.return,pe)}}break;case 3:if(En(o,i),Wn(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Fs(o.containerInfo)}catch(pe){Ue(i,i.return,pe)}break;case 4:En(o,i),Wn(i);break;case 13:En(o,i),Wn(i),g=i.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(th=qe())),f&4&&Wg(i);break;case 22:if(Q=u!==null&&u.memoizedState!==null,i.mode&1?(Ot=(B=Ot)||Q,En(o,i),Ot=B):En(o,i),Wn(i),f&8192){if(B=i.memoizedState!==null,(i.stateNode.isHidden=B)&&!Q&&(i.mode&1)!==0)for(ae=i,Q=i.child;Q!==null;){for(U=ae=Q;ae!==null;){switch(W=ae,le=W.child,W.tag){case 0:case 11:case 14:case 15:lo(4,W,W.return);break;case 1:Gi(W,W.return);var ce=W.stateNode;if(typeof ce.componentWillUnmount=="function"){f=W,u=W.return;try{o=f,ce.props=o.memoizedProps,ce.state=o.memoizedState,ce.componentWillUnmount()}catch(pe){Ue(f,u,pe)}}break;case 5:Gi(W,W.return);break;case 22:if(W.memoizedState!==null){Xg(U);continue}}le!==null?(le.return=W,ae=le):Xg(U)}Q=Q.sibling}e:for(Q=null,U=i;;){if(U.tag===5){if(Q===null){Q=U;try{g=U.stateNode,B?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(O=U.stateNode,A=U.memoizedProps.style,w=A!=null&&A.hasOwnProperty("display")?A.display:null,O.style.display=ul("display",w))}catch(pe){Ue(i,i.return,pe)}}}else if(U.tag===6){if(Q===null)try{U.stateNode.nodeValue=B?"":U.memoizedProps}catch(pe){Ue(i,i.return,pe)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===i)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===i)break e;for(;U.sibling===null;){if(U.return===null||U.return===i)break e;Q===U&&(Q=null),U=U.return}Q===U&&(Q=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:En(o,i),Wn(i),f&4&&Wg(i);break;case 21:break;default:En(o,i),Wn(i)}}function Wn(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(_g(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Sr(g,""),f.flags&=-33);var y=Vg(i);Zc(i,y,g);break;case 3:case 4:var w=f.stateNode.containerInfo,O=Vg(i);Gc(i,O,w);break;default:throw Error(t(161))}}catch(A){Ue(i,i.return,A)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Vw(i,o,u){ae=i,$g(i)}function $g(i,o,u){for(var f=(i.mode&1)!==0;ae!==null;){var g=ae,y=g.child;if(g.tag===22&&f){var w=g.memoizedState!==null||Zl;if(!w){var O=g.alternate,A=O!==null&&O.memoizedState!==null||Ot;O=Zl;var B=Ot;if(Zl=w,(Ot=A)&&!B)for(ae=g;ae!==null;)w=ae,A=w.child,w.tag===22&&w.memoizedState!==null?Kg(g):A!==null?(A.return=w,ae=A):Kg(g);for(;y!==null;)ae=y,$g(y),y=y.sibling;ae=g,Zl=O,Ot=B}Ug(i)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,ae=y):Ug(i)}}function Ug(i){for(;ae!==null;){var o=ae;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ot||Jl(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Ot)if(u===null)f.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:Pn(o.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Xp(o,y,f);break;case 3:var w=o.updateQueue;if(w!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Xp(o,w,u)}break;case 5:var O=o.stateNode;if(u===null&&o.flags&4){u=O;var A=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&u.focus();break;case"img":A.src&&(u.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var B=o.alternate;if(B!==null){var Q=B.memoizedState;if(Q!==null){var U=Q.dehydrated;U!==null&&Fs(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ot||o.flags&512&&Yc(o)}catch(W){Ue(o,o.return,W)}}if(o===i){ae=null;break}if(u=o.sibling,u!==null){u.return=o.return,ae=u;break}ae=o.return}}function Xg(i){for(;ae!==null;){var o=ae;if(o===i){ae=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ae=u;break}ae=o.return}}function Kg(i){for(;ae!==null;){var o=ae;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Jl(4,o)}catch(A){Ue(o,u,A)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(A){Ue(o,g,A)}}var y=o.return;try{Yc(o)}catch(A){Ue(o,y,A)}break;case 5:var w=o.return;try{Yc(o)}catch(A){Ue(o,w,A)}}}catch(A){Ue(o,o.return,A)}if(o===i){ae=null;break}var O=o.sibling;if(O!==null){O.return=o.return,ae=O;break}ae=o.return}}var Hw=Math.ceil,ea=F.ReactCurrentDispatcher,Jc=F.ReactCurrentOwner,cn=F.ReactCurrentBatchConfig,Ee=0,lt=null,Je=null,dt=0,Zt=0,Zi=Rr(0),rt=0,ao=null,di=0,ta=0,eh=0,uo=null,Ht=null,th=0,Ji=1/0,hr=null,na=!1,nh=null,zr=null,ra=!1,jr=null,ia=0,co=0,rh=null,sa=-1,oa=0;function Rt(){return(Ee&6)!==0?qe():sa!==-1?sa:sa=qe()}function Fr(i){return(i.mode&1)===0?1:(Ee&2)!==0&&dt!==0?dt&-dt:Cw.transition!==null?(oa===0&&(oa=Vd()),oa):(i=Le,i!==0||(i=window.event,i=i===void 0?16:Yd(i.type)),i)}function Mn(i,o,u,f){if(50<co)throw co=0,rh=null,Error(t(185));Ls(i,u,f),((Ee&2)===0||i!==lt)&&(i===lt&&((Ee&2)===0&&(ta|=u),rt===4&&_r(i,dt)),Wt(i,f),u===1&&Ee===0&&(o.mode&1)===0&&(Ji=qe()+500,Ll&&Nr()))}function Wt(i,o){var u=i.callbackNode;Cx(i,o);var f=gl(i,i===lt?dt:0);if(f===0)u!==null&&jd(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&jd(u),o===1)i.tag===0?Ow(Yg.bind(null,i)):Ip(Yg.bind(null,i)),ww(function(){(Ee&6)===0&&Nr()}),u=null;else{switch(Hd(f)){case 1:u=Bu;break;case 4:u=Fd;break;case 16:u=hl;break;case 536870912:u=_d;break;default:u=hl}u=im(u,qg.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function qg(i,o){if(sa=-1,oa=0,(Ee&6)!==0)throw Error(t(327));var u=i.callbackNode;if(es()&&i.callbackNode!==u)return null;var f=gl(i,i===lt?dt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=la(i,f);else{o=f;var g=Ee;Ee|=2;var y=Zg();(lt!==i||dt!==o)&&(hr=null,Ji=qe()+500,gi(i,o));do try{$w();break}catch(O){Gg(i,O)}while(!0);kc(),ea.current=y,Ee=g,Je!==null?o=0:(lt=null,dt=0,o=rt)}if(o!==0){if(o===2&&(g=zu(i),g!==0&&(f=g,o=ih(i,g))),o===1)throw u=ao,gi(i,0),_r(i,f),Wt(i,qe()),u;if(o===6)_r(i,f);else{if(g=i.current.alternate,(f&30)===0&&!Ww(g)&&(o=la(i,f),o===2&&(y=zu(i),y!==0&&(f=y,o=ih(i,y))),o===1))throw u=ao,gi(i,0),_r(i,f),Wt(i,qe()),u;switch(i.finishedWork=g,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:mi(i,Ht,hr);break;case 3:if(_r(i,f),(f&130023424)===f&&(o=th+500-qe(),10<o)){if(gl(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){Rt(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=cc(mi.bind(null,i,Ht,hr),o);break}mi(i,Ht,hr);break;case 4:if(_r(i,f),(f&4194240)===f)break;for(o=i.eventTimes,g=-1;0<f;){var w=31-bn(f);y=1<<w,w=o[w],w>g&&(g=w),f&=~y}if(f=g,f=qe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Hw(f/1960))-f,10<f){i.timeoutHandle=cc(mi.bind(null,i,Ht,hr),f);break}mi(i,Ht,hr);break;case 5:mi(i,Ht,hr);break;default:throw Error(t(329))}}}return Wt(i,qe()),i.callbackNode===u?qg.bind(null,i):null}function ih(i,o){var u=uo;return i.current.memoizedState.isDehydrated&&(gi(i,o).flags|=256),i=la(i,o),i!==2&&(o=Ht,Ht=u,o!==null&&sh(o)),i}function sh(i){Ht===null?Ht=i:Ht.push.apply(Ht,i)}function Ww(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],y=g.getSnapshot;g=g.value;try{if(!On(y(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function _r(i,o){for(o&=~eh,o&=~ta,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-bn(o),f=1<<u;i[u]=-1,o&=~f}}function Yg(i){if((Ee&6)!==0)throw Error(t(327));es();var o=gl(i,0);if((o&1)===0)return Wt(i,qe()),null;var u=la(i,o);if(i.tag!==0&&u===2){var f=zu(i);f!==0&&(o=f,u=ih(i,f))}if(u===1)throw u=ao,gi(i,0),_r(i,o),Wt(i,qe()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,mi(i,Ht,hr),Wt(i,qe()),null}function oh(i,o){var u=Ee;Ee|=1;try{return i(o)}finally{Ee=u,Ee===0&&(Ji=qe()+500,Ll&&Nr())}}function pi(i){jr!==null&&jr.tag===0&&(Ee&6)===0&&es();var o=Ee;Ee|=1;var u=cn.transition,f=Le;try{if(cn.transition=null,Le=1,i)return i()}finally{Le=f,cn.transition=u,Ee=o,(Ee&6)===0&&Nr()}}function lh(){Zt=Zi.current,Fe(Zi)}function gi(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,xw(u)),Je!==null)for(u=Je.return;u!==null;){var f=u;switch(mc(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Tl();break;case 3:qi(),Fe(Ft),Fe(kt),Mc();break;case 5:Ac(f);break;case 4:qi();break;case 13:Fe(Qe);break;case 19:Fe(Qe);break;case 10:Sc(f.type._context);break;case 22:case 23:lh()}u=u.return}if(lt=i,Je=i=Vr(i.current,null),dt=Zt=o,rt=0,ao=null,eh=ta=di=0,Ht=uo=null,ci!==null){for(o=0;o<ci.length;o++)if(u=ci[o],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,y=u.pending;if(y!==null){var w=y.next;y.next=g,f.next=w}u.pending=f}ci=null}return i}function Gg(i,o){do{var u=Je;try{if(kc(),Ql.current=Kl,$l){for(var f=$e.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}$l=!1}if(fi=0,ot=nt=$e=null,no=!1,ro=0,Jc.current=null,u===null||u.return===null){rt=1,ao=o,Je=null;break}e:{var y=i,w=u.return,O=u,A=o;if(o=dt,O.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var B=A,Q=O,U=Q.tag;if((Q.mode&1)===0&&(U===0||U===11||U===15)){var W=Q.alternate;W?(Q.updateQueue=W.updateQueue,Q.memoizedState=W.memoizedState,Q.lanes=W.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var le=Sg(w);if(le!==null){le.flags&=-257,bg(le,w,O,y,o),le.mode&1&&kg(y,B,o),o=le,A=B;var ce=o.updateQueue;if(ce===null){var pe=new Set;pe.add(A),o.updateQueue=pe}else ce.add(A);break e}else{if((o&1)===0){kg(y,B,o),ah();break e}A=Error(t(426))}}else if(Ve&&O.mode&1){var Ye=Sg(w);if(Ye!==null){(Ye.flags&65536)===0&&(Ye.flags|=256),bg(Ye,w,O,y,o),xc(Yi(A,O));break e}}y=A=Yi(A,O),rt!==4&&(rt=2),uo===null?uo=[y]:uo.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var T=xg(y,A,o);Up(y,T);break e;case 1:O=A;var M=y.type,N=y.stateNode;if((y.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(zr===null||!zr.has(N)))){y.flags|=65536,o&=-o,y.lanes|=o;var q=wg(y,O,o);Up(y,q);break e}}y=y.return}while(y!==null)}em(u)}catch(me){o=me,Je===u&&u!==null&&(Je=u=u.return);continue}break}while(!0)}function Zg(){var i=ea.current;return ea.current=Kl,i===null?Kl:i}function ah(){(rt===0||rt===3||rt===2)&&(rt=4),lt===null||(di&268435455)===0&&(ta&268435455)===0||_r(lt,dt)}function la(i,o){var u=Ee;Ee|=2;var f=Zg();(lt!==i||dt!==o)&&(hr=null,gi(i,o));do try{Qw();break}catch(g){Gg(i,g)}while(!0);if(kc(),Ee=u,ea.current=f,Je!==null)throw Error(t(261));return lt=null,dt=0,rt}function Qw(){for(;Je!==null;)Jg(Je)}function $w(){for(;Je!==null&&!mx();)Jg(Je)}function Jg(i){var o=rm(i.alternate,i,Zt);i.memoizedProps=i.pendingProps,o===null?em(i):Je=o,Jc.current=null}function em(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=zw(u,o,Zt),u!==null){Je=u;return}}else{if(u=jw(u,o),u!==null){u.flags&=32767,Je=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{rt=6,Je=null;return}}if(o=o.sibling,o!==null){Je=o;return}Je=o=i}while(o!==null);rt===0&&(rt=5)}function mi(i,o,u){var f=Le,g=cn.transition;try{cn.transition=null,Le=1,Uw(i,o,u,f)}finally{cn.transition=g,Le=f}return null}function Uw(i,o,u,f){do es();while(jr!==null);if((Ee&6)!==0)throw Error(t(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=u.lanes|u.childLanes;if(Px(i,y),i===lt&&(Je=lt=null,dt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ra||(ra=!0,im(hl,function(){return es(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=cn.transition,cn.transition=null;var w=Le;Le=1;var O=Ee;Ee|=4,Jc.current=null,_w(i,u),Qg(u,i),fw(ac),vl=!!lc,ac=lc=null,i.current=u,Vw(u),yx(),Ee=O,Le=w,cn.transition=y}else i.current=u;if(ra&&(ra=!1,jr=i,ia=g),y=i.pendingLanes,y===0&&(zr=null),wx(u.stateNode),Wt(i,qe()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(na)throw na=!1,i=nh,nh=null,i;return(ia&1)!==0&&i.tag!==0&&es(),y=i.pendingLanes,(y&1)!==0?i===rh?co++:(co=0,rh=i):co=0,Nr(),null}function es(){if(jr!==null){var i=Hd(ia),o=cn.transition,u=Le;try{if(cn.transition=null,Le=16>i?16:i,jr===null)var f=!1;else{if(i=jr,jr=null,ia=0,(Ee&6)!==0)throw Error(t(331));var g=Ee;for(Ee|=4,ae=i.current;ae!==null;){var y=ae,w=y.child;if((ae.flags&16)!==0){var O=y.deletions;if(O!==null){for(var A=0;A<O.length;A++){var B=O[A];for(ae=B;ae!==null;){var Q=ae;switch(Q.tag){case 0:case 11:case 15:lo(8,Q,y)}var U=Q.child;if(U!==null)U.return=Q,ae=U;else for(;ae!==null;){Q=ae;var W=Q.sibling,le=Q.return;if(Fg(Q),Q===B){ae=null;break}if(W!==null){W.return=le,ae=W;break}ae=le}}}var ce=y.alternate;if(ce!==null){var pe=ce.child;if(pe!==null){ce.child=null;do{var Ye=pe.sibling;pe.sibling=null,pe=Ye}while(pe!==null)}}ae=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,ae=w;else e:for(;ae!==null;){if(y=ae,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:lo(9,y,y.return)}var T=y.sibling;if(T!==null){T.return=y.return,ae=T;break e}ae=y.return}}var M=i.current;for(ae=M;ae!==null;){w=ae;var N=w.child;if((w.subtreeFlags&2064)!==0&&N!==null)N.return=w,ae=N;else e:for(w=M;ae!==null;){if(O=ae,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Jl(9,O)}}catch(me){Ue(O,O.return,me)}if(O===w){ae=null;break e}var q=O.sibling;if(q!==null){q.return=O.return,ae=q;break e}ae=O.return}}if(Ee=g,Nr(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(fl,i)}catch{}f=!0}return f}finally{Le=u,cn.transition=o}}return!1}function tm(i,o,u){o=Yi(u,o),o=xg(i,o,1),i=Ir(i,o,1),o=Rt(),i!==null&&(Ls(i,1,o),Wt(i,o))}function Ue(i,o,u){if(i.tag===3)tm(i,i,u);else for(;o!==null;){if(o.tag===3){tm(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(zr===null||!zr.has(f))){i=Yi(u,i),i=wg(o,i,1),o=Ir(o,i,1),i=Rt(),o!==null&&(Ls(o,1,i),Wt(o,i));break}}o=o.return}}function Xw(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=Rt(),i.pingedLanes|=i.suspendedLanes&u,lt===i&&(dt&u)===u&&(rt===4||rt===3&&(dt&130023424)===dt&&500>qe()-th?gi(i,0):eh|=u),Wt(i,o)}function nm(i,o){o===0&&((i.mode&1)===0?o=1:(o=pl,pl<<=1,(pl&130023424)===0&&(pl=4194304)));var u=Rt();i=ar(i,o),i!==null&&(Ls(i,o,u),Wt(i,u))}function Kw(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),nm(i,u)}function qw(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),nm(i,u)}var rm;rm=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Ft.current)Vt=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return Vt=!1,Bw(i,o,u);Vt=(i.flags&131072)!==0}else Vt=!1,Ve&&(o.flags&1048576)!==0&&Bp(o,Bl,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Gl(i,o),i=o.pendingProps;var g=Hi(o,kt.current);Ki(o,u),g=Tc(null,o,f,i,g,u);var y=Nc();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,_t(f)?(y=!0,Nl(o)):y=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Cc(o),g.updater=ql,o.stateNode=g,g._reactInternals=o,Fc(o,f,i,u),o=Wc(null,o,f,!0,y,u)):(o.tag=0,Ve&&y&&gc(o),Dt(null,o,g,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Gl(i,o),i=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=Gw(f),i=Pn(f,i),g){case 0:o=Hc(null,o,f,i,u);break e;case 1:o=Mg(null,o,f,i,u);break e;case 11:o=Og(null,o,f,i,u);break e;case 14:o=Cg(null,o,f,Pn(f.type,i),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Pn(f,g),Hc(i,o,f,g,u);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Pn(f,g),Mg(i,o,f,g,u);case 3:e:{if(Dg(o),i===null)throw Error(t(387));f=o.pendingProps,y=o.memoizedState,g=y.element,$p(i,o),Hl(o,f,null,u);var w=o.memoizedState;if(f=w.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){g=Yi(Error(t(423)),o),o=Rg(i,o,f,u,g);break e}else if(f!==g){g=Yi(Error(t(424)),o),o=Rg(i,o,f,u,g);break e}else for(Gt=Dr(o.stateNode.containerInfo.firstChild),Yt=o,Ve=!0,Cn=null,u=Wp(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if($i(),f===g){o=cr(i,o,u);break e}Dt(i,o,f,u)}o=o.child}return o;case 5:return Kp(o),i===null&&vc(o),f=o.type,g=o.pendingProps,y=i!==null?i.memoizedProps:null,w=g.children,uc(f,g)?w=null:y!==null&&uc(f,y)&&(o.flags|=32),Eg(i,o),Dt(i,o,w,u),o.child;case 6:return i===null&&vc(o),null;case 13:return Tg(i,o,u);case 4:return Pc(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Ui(o,null,f,u):Dt(i,o,f,u),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Pn(f,g),Og(i,o,f,g,u);case 7:return Dt(i,o,o.pendingProps,u),o.child;case 8:return Dt(i,o,o.pendingProps.children,u),o.child;case 12:return Dt(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,y=o.memoizedProps,w=g.value,ze(Fl,f._currentValue),f._currentValue=w,y!==null)if(On(y.value,w)){if(y.children===g.children&&!Ft.current){o=cr(i,o,u);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var O=y.dependencies;if(O!==null){w=y.child;for(var A=O.firstContext;A!==null;){if(A.context===f){if(y.tag===1){A=ur(-1,u&-u),A.tag=2;var B=y.updateQueue;if(B!==null){B=B.shared;var Q=B.pending;Q===null?A.next=A:(A.next=Q.next,Q.next=A),B.pending=A}}y.lanes|=u,A=y.alternate,A!==null&&(A.lanes|=u),bc(y.return,u,o),O.lanes|=u;break}A=A.next}}else if(y.tag===10)w=y.type===o.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=u,O=w.alternate,O!==null&&(O.lanes|=u),bc(w,u,o),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===o){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Dt(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,Ki(o,u),g=an(g),f=f(g),o.flags|=1,Dt(i,o,f,u),o.child;case 14:return f=o.type,g=Pn(f,o.pendingProps),g=Pn(f.type,g),Cg(i,o,f,g,u);case 15:return Pg(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Pn(f,g),Gl(i,o),o.tag=1,_t(f)?(i=!0,Nl(o)):i=!1,Ki(o,u),yg(o,f,g),Fc(o,f,g,u),Wc(null,o,f,!0,i,u);case 19:return Lg(i,o,u);case 22:return Ag(i,o,u)}throw Error(t(156,o.tag))};function im(i,o){return zd(i,o)}function Yw(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(i,o,u,f){return new Yw(i,o,u,f)}function uh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Gw(i){if(typeof i=="function")return uh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ne)return 11;if(i===K)return 14}return 2}function Vr(i,o){var u=i.alternate;return u===null?(u=hn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function aa(i,o,u,f,g,y){var w=2;if(f=i,typeof i=="function")uh(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case z:return yi(u.children,g,y,o);case Y:w=8,g|=8;break;case te:return i=hn(12,u,o,g|2),i.elementType=te,i.lanes=y,i;case he:return i=hn(13,u,o,g),i.elementType=he,i.lanes=y,i;case fe:return i=hn(19,u,o,g),i.elementType=fe,i.lanes=y,i;case ge:return ua(u,g,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Z:w=10;break e;case re:w=9;break e;case ne:w=11;break e;case K:w=14;break e;case de:w=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=hn(w,u,o,g),o.elementType=i,o.type=f,o.lanes=y,o}function yi(i,o,u,f){return i=hn(7,i,f,o),i.lanes=u,i}function ua(i,o,u,f){return i=hn(22,i,f,o),i.elementType=ge,i.lanes=u,i.stateNode={isHidden:!1},i}function ch(i,o,u){return i=hn(6,i,null,o),i.lanes=u,i}function hh(i,o,u){return o=hn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Zw(i,o,u,f,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ju(0),this.expirationTimes=ju(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ju(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function fh(i,o,u,f,g,y,w,O,A){return i=new Zw(i,o,u,O,A),o===1?(o=1,y===!0&&(o|=8)):o=0,y=hn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cc(y),i}function Jw(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function sm(i){if(!i)return Tr;i=i._reactInternals;e:{if(si(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(_t(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(_t(u))return Np(i,u,o)}return o}function om(i,o,u,f,g,y,w,O,A){return i=fh(u,f,!0,i,g,y,w,O,A),i.context=sm(null),u=i.current,f=Rt(),g=Fr(u),y=ur(f,g),y.callback=o??null,Ir(u,y,g),i.current.lanes=g,Ls(i,g,f),Wt(i,f),i}function ca(i,o,u,f){var g=o.current,y=Rt(),w=Fr(g);return u=sm(u),o.context===null?o.context=u:o.pendingContext=u,o=ur(y,w),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Ir(g,o,w),i!==null&&(Mn(i,g,w,y),Vl(i,g,w)),w}function ha(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function lm(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function dh(i,o){lm(i,o),(i=i.alternate)&&lm(i,o)}function ek(){return null}var am=typeof reportError=="function"?reportError:function(i){console.error(i)};function ph(i){this._internalRoot=i}fa.prototype.render=ph.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));ca(i,o,null,null)},fa.prototype.unmount=ph.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;pi(function(){ca(null,i,null,null)}),o[ir]=null}};function fa(i){this._internalRoot=i}fa.prototype.unstable_scheduleHydration=function(i){if(i){var o=$d();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ar.length&&o!==0&&o<Ar[u].priority;u++);Ar.splice(u,0,i),u===0&&Kd(i)}};function gh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function da(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function um(){}function tk(i,o,u,f,g){if(g){if(typeof f=="function"){var y=f;f=function(){var B=ha(w);y.call(B)}}var w=om(o,f,i,0,null,!1,!1,"",um);return i._reactRootContainer=w,i[ir]=w.current,Ks(i.nodeType===8?i.parentNode:i),pi(),w}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var O=f;f=function(){var B=ha(A);O.call(B)}}var A=fh(i,0,!1,null,null,!1,!1,"",um);return i._reactRootContainer=A,i[ir]=A.current,Ks(i.nodeType===8?i.parentNode:i),pi(function(){ca(o,A,u,f)}),A}function pa(i,o,u,f,g){var y=u._reactRootContainer;if(y){var w=y;if(typeof g=="function"){var O=g;g=function(){var A=ha(w);O.call(A)}}ca(o,w,i,g)}else w=tk(u,o,i,g,f);return ha(w)}Wd=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ns(o.pendingLanes);u!==0&&(Fu(o,u|1),Wt(o,qe()),(Ee&6)===0&&(Ji=qe()+500,Nr()))}break;case 13:pi(function(){var f=ar(i,1);if(f!==null){var g=Rt();Mn(f,i,1,g)}}),dh(i,1)}},_u=function(i){if(i.tag===13){var o=ar(i,134217728);if(o!==null){var u=Rt();Mn(o,i,134217728,u)}dh(i,134217728)}},Qd=function(i){if(i.tag===13){var o=Fr(i),u=ar(i,o);if(u!==null){var f=Rt();Mn(u,i,o,f)}dh(i,o)}},$d=function(){return Le},Ud=function(i,o){var u=Le;try{return Le=i,o()}finally{Le=u}},Rs=function(i,o,u){switch(o){case"input":if(Di(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var g=Rl(f);if(!g)throw Error(t(90));mt(f),Di(f,g)}}}break;case"textarea":As(i,u);break;case"select":o=u.value,o!=null&&vn(i,!!u.multiple,o,!1)}},Mt=oh,xt=pi;var nk={usingClientEntryPoint:!1,Events:[Gs,_i,Rl,vt,wn,oh]},ho={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rk={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Id(i),i===null?null:i.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||ek,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ga.isDisabled&&ga.supportsFiber)try{fl=ga.inject(rk),Fn=ga}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nk,Qt.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gh(o))throw Error(t(200));return Jw(i,o,null,u)},Qt.createRoot=function(i,o){if(!gh(i))throw Error(t(299));var u=!1,f="",g=am;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=fh(i,1,!1,null,null,u,!1,f,g),i[ir]=o.current,Ks(i.nodeType===8?i.parentNode:i),new ph(o)},Qt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Id(o),i=i===null?null:i.stateNode,i},Qt.flushSync=function(i){return pi(i)},Qt.hydrate=function(i,o,u){if(!da(o))throw Error(t(200));return pa(null,i,o,!0,u)},Qt.hydrateRoot=function(i,o,u){if(!gh(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,g=!1,y="",w=am;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),o=om(o,null,i,1,u??null,g,!1,y,w),i[ir]=o.current,Ks(i),f)for(i=0;i<f.length;i++)u=f[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new fa(o)},Qt.render=function(i,o,u){if(!da(o))throw Error(t(200));return pa(null,i,o,!1,u)},Qt.unmountComponentAtNode=function(i){if(!da(i))throw Error(t(40));return i._reactRootContainer?(pi(function(){pa(null,null,i,!1,function(){i._reactRootContainer=null,i[ir]=null})}),!0):!1},Qt.unstable_batchedUpdates=oh,Qt.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!da(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return pa(i,o,u,!1,f)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var vm;function by(){if(vm)return vh.exports;vm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vh.exports=fk(),vh.exports}var xm;function dk(){if(xm)return ma;xm=1;var n=by();return ma.createRoot=n.createRoot,ma.hydrateRoot=n.hydrateRoot,ma}var pk=dk();const gk=Sy(pk);var xo=by();function mk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return P.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const ku=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ws(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function td(n){return"nodeType"in n}function Ut(n){var e,t;return n?ws(n)?n:td(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function nd(n){const{Document:e}=Ut(n);return n instanceof e}function qo(n){return ws(n)?!1:n instanceof Ut(n).HTMLElement}function Oy(n){return n instanceof Ut(n).SVGElement}function ks(n){return n?ws(n)?n.document:td(n)?nd(n)?n:qo(n)||Oy(n)?n.ownerDocument:document:document:document}const Gn=ku?P.useLayoutEffect:P.useEffect;function rd(n){const e=P.useRef(n);return Gn(()=>{e.current=n}),P.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function yk(){const n=P.useRef(null),e=P.useCallback((r,s)=>{n.current=setInterval(r,s)},[]),t=P.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function Lo(n,e){e===void 0&&(e=[n]);const t=P.useRef(n);return Gn(()=>{t.current!==n&&(t.current=n)},e),t}function Yo(n,e){const t=P.useRef();return P.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function Ja(n){const e=rd(n),t=P.useRef(null),r=P.useCallback(s=>{s!==t.current&&(e==null||e(s,t.current)),t.current=s},[]);return[t,r]}function Gh(n){const e=P.useRef();return P.useEffect(()=>{e.current=n},[n]),e.current}let kh={};function Go(n,e){return P.useMemo(()=>{if(e)return e;const t=kh[n]==null?0:kh[n]+1;return kh[n]=t,n+"-"+t},[n,e])}function Cy(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.reduce((l,a)=>{const c=Object.entries(a);for(const[h,d]of c){const p=l[h];p!=null&&(l[h]=p+n*d)}return l},{...e})}}const ls=Cy(1),eu=Cy(-1);function vk(n){return"clientX"in n&&"clientY"in n}function id(n){if(!n)return!1;const{KeyboardEvent:e}=Ut(n.target);return e&&n instanceof e}function xk(n){if(!n)return!1;const{TouchEvent:e}=Ut(n.target);return e&&n instanceof e}function Zh(n){if(xk(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return vk(n)?{x:n.clientX,y:n.clientY}:null}const Io=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Io.Translate.toString(n),Io.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),wm="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function wk(n){return n.matches(wm)?n:n.querySelector(wm)}const kk={display:"none"};function Sk(n){let{id:e,value:t}=n;return Ze.createElement("div",{id:e,style:kk},t)}function bk(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ze.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},t)}function Ok(){const[n,e]=P.useState("");return{announce:P.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const Py=P.createContext(null);function Ck(n){const e=P.useContext(Py);P.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function Pk(){const[n]=P.useState(()=>new Set),e=P.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[P.useCallback(r=>{let{type:s,event:l}=r;n.forEach(a=>{var c;return(c=a[s])==null?void 0:c.call(a,l)})},[n]),e]}const Ak={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Ek={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Mk(n){let{announcements:e=Ek,container:t,hiddenTextDescribedById:r,screenReaderInstructions:s=Ak}=n;const{announce:l,announcement:a}=Ok(),c=Go("DndLiveRegion"),[h,d]=P.useState(!1);if(P.useEffect(()=>{d(!0)},[]),Ck(P.useMemo(()=>({onDragStart(m){let{active:v}=m;l(e.onDragStart({active:v}))},onDragMove(m){let{active:v,over:x}=m;e.onDragMove&&l(e.onDragMove({active:v,over:x}))},onDragOver(m){let{active:v,over:x}=m;l(e.onDragOver({active:v,over:x}))},onDragEnd(m){let{active:v,over:x}=m;l(e.onDragEnd({active:v,over:x}))},onDragCancel(m){let{active:v,over:x}=m;l(e.onDragCancel({active:v,over:x}))}}),[l,e])),!h)return null;const p=Ze.createElement(Ze.Fragment,null,Ze.createElement(Sk,{id:r,value:s.draggable}),Ze.createElement(bk,{id:c,announcement:a}));return t?xo.createPortal(p,t):p}var it;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(it||(it={}));function tu(){}function km(n,e){return P.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Dk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return P.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Rn=Object.freeze({x:0,y:0});function Rk(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Tk(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function Nk(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function Lk(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function Sm(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const Ik=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=Sm(e,e.left,e.top),l=[];for(const a of r){const{id:c}=a,h=t.get(c);if(h){const d=Rk(Sm(h),s);l.push({id:c,data:{droppableContainer:a,value:d}})}}return l.sort(Tk)};function Bk(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),s=Math.min(e.left+e.width,n.left+n.width),l=Math.min(e.top+e.height,n.top+n.height),a=s-r,c=l-t;if(r<s&&t<l){const h=e.width*e.height,d=n.width*n.height,p=a*c,m=p/(h+d-p);return Number(m.toFixed(4))}return 0}const zk=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=[];for(const l of r){const{id:a}=l,c=t.get(a);if(c){const h=Bk(c,e);h>0&&s.push({id:a,data:{droppableContainer:l,value:h}})}}return s.sort(Nk)};function jk(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function Ay(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Rn}function Fk(n){return function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return s.reduce((a,c)=>({...a,top:a.top+n*c.y,bottom:a.bottom+n*c.y,left:a.left+n*c.x,right:a.right+n*c.x}),{...t})}}const _k=Fk(1);function Vk(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Hk(n,e,t){const r=Vk(e);if(!r)return n;const{scaleX:s,scaleY:l,x:a,y:c}=r,h=n.left-a-(1-s)*parseFloat(t),d=n.top-c-(1-l)*parseFloat(t.slice(t.indexOf(" ")+1)),p=s?n.width/s:n.width,m=l?n.height/l:n.height;return{width:p,height:m,top:d,right:h+p,bottom:d+m,left:h}}const Wk={ignoreTransform:!1};function Ss(n,e){e===void 0&&(e=Wk);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:p}=Ut(n).getComputedStyle(n);d&&(t=Hk(t,d,p))}const{top:r,left:s,width:l,height:a,bottom:c,right:h}=t;return{top:r,left:s,width:l,height:a,bottom:c,right:h}}function bm(n){return Ss(n,{ignoreTransform:!0})}function Qk(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function $k(n,e){return e===void 0&&(e=Ut(n).getComputedStyle(n)),e.position==="fixed"}function Uk(n,e){e===void 0&&(e=Ut(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const l=e[s];return typeof l=="string"?t.test(l):!1})}function sd(n,e){const t=[];function r(s){if(e!=null&&t.length>=e||!s)return t;if(nd(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!qo(s)||Oy(s)||t.includes(s))return t;const l=Ut(n).getComputedStyle(s);return s!==n&&Uk(s,l)&&t.push(s),$k(s,l)?t:r(s.parentNode)}return n?r(n):t}function Ey(n){const[e]=sd(n,1);return e??null}function Sh(n){return!ku||!n?null:ws(n)?n:td(n)?nd(n)||n===ks(n).scrollingElement?window:qo(n)?n:null:null}function My(n){return ws(n)?n.scrollX:n.scrollLeft}function Dy(n){return ws(n)?n.scrollY:n.scrollTop}function Jh(n){return{x:My(n),y:Dy(n)}}var ut;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(ut||(ut={}));function Ry(n){return!ku||!n?!1:n===document.scrollingElement}function Ty(n){const e={x:0,y:0},t=Ry(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},s=n.scrollTop<=e.y,l=n.scrollLeft<=e.x,a=n.scrollTop>=r.y,c=n.scrollLeft>=r.x;return{isTop:s,isLeft:l,isBottom:a,isRight:c,maxScroll:r,minScroll:e}}const Xk={x:.2,y:.2};function Kk(n,e,t,r,s){let{top:l,left:a,right:c,bottom:h}=t;r===void 0&&(r=10),s===void 0&&(s=Xk);const{isTop:d,isBottom:p,isLeft:m,isRight:v}=Ty(n),x={x:0,y:0},k={x:0,y:0},S={height:e.height*s.y,width:e.width*s.x};return!d&&l<=e.top+S.height?(x.y=ut.Backward,k.y=r*Math.abs((e.top+S.height-l)/S.height)):!p&&h>=e.bottom-S.height&&(x.y=ut.Forward,k.y=r*Math.abs((e.bottom-S.height-h)/S.height)),!v&&c>=e.right-S.width?(x.x=ut.Forward,k.x=r*Math.abs((e.right-S.width-c)/S.width)):!m&&a<=e.left+S.width&&(x.x=ut.Backward,k.x=r*Math.abs((e.left+S.width-a)/S.width)),{direction:x,speed:k}}function qk(n){if(n===document.scrollingElement){const{innerWidth:l,innerHeight:a}=window;return{top:0,left:0,right:l,bottom:a,width:l,height:a}}const{top:e,left:t,right:r,bottom:s}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:s,width:n.clientWidth,height:n.clientHeight}}function Ny(n){return n.reduce((e,t)=>ls(e,Jh(t)),Rn)}function Yk(n){return n.reduce((e,t)=>e+My(t),0)}function Gk(n){return n.reduce((e,t)=>e+Dy(t),0)}function Zk(n,e){if(e===void 0&&(e=Ss),!n)return;const{top:t,left:r,bottom:s,right:l}=e(n);Ey(n)&&(s<=0||l<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const Jk=[["x",["left","right"],Yk],["y",["top","bottom"],Gk]];class od{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=sd(t),s=Ny(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,a,c]of Jk)for(const h of a)Object.defineProperty(this,h,{get:()=>{const d=c(r),p=s[l]-d;return this.rect[h]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Oo{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var s;(s=this.target)==null||s.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function eS(n){const{EventTarget:e}=Ut(n);return n instanceof e?n:ks(n)}function bh(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var fn;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(fn||(fn={}));function Om(n){n.preventDefault()}function tS(n){n.stopPropagation()}var Re;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Re||(Re={}));const Ly={start:[Re.Space,Re.Enter],cancel:[Re.Esc],end:[Re.Space,Re.Enter,Re.Tab]},nS=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Re.Right:return{...t,x:t.x+25};case Re.Left:return{...t,x:t.x-25};case Re.Down:return{...t,y:t.y+25};case Re.Up:return{...t,y:t.y-25}}};class ld{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Oo(ks(t)),this.windowListeners=new Oo(Ut(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(fn.Resize,this.handleCancel),this.windowListeners.add(fn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(fn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&Zk(r),t(Rn)}handleKeyDown(e){if(id(e)){const{active:t,context:r,options:s}=this.props,{keyboardCodes:l=Ly,coordinateGetter:a=nS,scrollBehavior:c="smooth"}=s,{code:h}=e;if(l.end.includes(h)){this.handleEnd(e);return}if(l.cancel.includes(h)){this.handleCancel(e);return}const{collisionRect:d}=r.current,p=d?{x:d.left,y:d.top}:Rn;this.referenceCoordinates||(this.referenceCoordinates=p);const m=a(e,{active:t,context:r.current,currentCoordinates:p});if(m){const v=eu(m,p),x={x:0,y:0},{scrollableAncestors:k}=r.current;for(const S of k){const b=e.code,{isTop:E,isRight:D,isLeft:R,isBottom:F,maxScroll:I,minScroll:j}=Ty(S),z=qk(S),Y={x:Math.min(b===Re.Right?z.right-z.width/2:z.right,Math.max(b===Re.Right?z.left:z.left+z.width/2,m.x)),y:Math.min(b===Re.Down?z.bottom-z.height/2:z.bottom,Math.max(b===Re.Down?z.top:z.top+z.height/2,m.y))},te=b===Re.Right&&!D||b===Re.Left&&!R,Z=b===Re.Down&&!F||b===Re.Up&&!E;if(te&&Y.x!==m.x){const re=S.scrollLeft+v.x,ne=b===Re.Right&&re<=I.x||b===Re.Left&&re>=j.x;if(ne&&!v.y){S.scrollTo({left:re,behavior:c});return}ne?x.x=S.scrollLeft-re:x.x=b===Re.Right?S.scrollLeft-I.x:S.scrollLeft-j.x,x.x&&S.scrollBy({left:-x.x,behavior:c});break}else if(Z&&Y.y!==m.y){const re=S.scrollTop+v.y,ne=b===Re.Down&&re<=I.y||b===Re.Up&&re>=j.y;if(ne&&!v.x){S.scrollTo({top:re,behavior:c});return}ne?x.y=S.scrollTop-re:x.y=b===Re.Down?S.scrollTop-I.y:S.scrollTop-j.y,x.y&&S.scrollBy({top:-x.y,behavior:c});break}}this.handleMove(e,ls(eu(m,this.referenceCoordinates),x))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ld.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=Ly,onActivation:s}=e,{active:l}=t;const{code:a}=n.nativeEvent;if(r.start.includes(a)){const c=l.activatorNode.current;return c&&n.target!==c?!1:(n.preventDefault(),s==null||s({event:n.nativeEvent}),!0)}return!1}}];function Cm(n){return!!(n&&"distance"in n)}function Pm(n){return!!(n&&"delay"in n)}class ad{constructor(e,t,r){var s;r===void 0&&(r=eS(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:l}=e,{target:a}=l;this.props=e,this.events=t,this.document=ks(a),this.documentListeners=new Oo(this.document),this.listeners=new Oo(r),this.windowListeners=new Oo(Ut(a)),this.initialCoordinates=(s=Zh(l))!=null?s:Rn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(fn.Resize,this.handleCancel),this.windowListeners.add(fn.DragStart,Om),this.windowListeners.add(fn.VisibilityChange,this.handleCancel),this.windowListeners.add(fn.ContextMenu,Om),this.documentListeners.add(fn.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Pm(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Cm(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(fn.Click,tS,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(fn.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:s,props:l}=this,{onMove:a,options:{activationConstraint:c}}=l;if(!s)return;const h=(t=Zh(e))!=null?t:Rn,d=eu(s,h);if(!r&&c){if(Cm(c)){if(c.tolerance!=null&&bh(d,c.tolerance))return this.handleCancel();if(bh(d,c.distance))return this.handleStart()}if(Pm(c)&&bh(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),a(h)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Re.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const rS={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ud extends ad{constructor(e){const{event:t}=e,r=ks(t.target);super(e,rS,r)}}ud.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const iS={move:{name:"mousemove"},end:{name:"mouseup"}};var ef;(function(n){n[n.RightClick=2]="RightClick"})(ef||(ef={}));class sS extends ad{constructor(e){super(e,iS,ks(e.event.target))}}sS.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===ef.RightClick?!1:(r==null||r({event:t}),!0)}}];const Oh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class oS extends ad{constructor(e){super(e,Oh)}static setup(){return window.addEventListener(Oh.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Oh.move.name,e)};function e(){}}}oS.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:s}=t;return s.length>1?!1:(r==null||r({event:t}),!0)}}];var Co;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Co||(Co={}));var nu;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(nu||(nu={}));function lS(n){let{acceleration:e,activator:t=Co.Pointer,canScroll:r,draggingRect:s,enabled:l,interval:a=5,order:c=nu.TreeOrder,pointerCoordinates:h,scrollableAncestors:d,scrollableAncestorRects:p,delta:m,threshold:v}=n;const x=uS({delta:m,disabled:!l}),[k,S]=yk(),b=P.useRef({x:0,y:0}),E=P.useRef({x:0,y:0}),D=P.useMemo(()=>{switch(t){case Co.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Co.DraggableRect:return s}},[t,s,h]),R=P.useRef(null),F=P.useCallback(()=>{const j=R.current;if(!j)return;const z=b.current.x*E.current.x,Y=b.current.y*E.current.y;j.scrollBy(z,Y)},[]),I=P.useMemo(()=>c===nu.TreeOrder?[...d].reverse():d,[c,d]);P.useEffect(()=>{if(!l||!d.length||!D){S();return}for(const j of I){if((r==null?void 0:r(j))===!1)continue;const z=d.indexOf(j),Y=p[z];if(!Y)continue;const{direction:te,speed:Z}=Kk(j,Y,D,e,v);for(const re of["x","y"])x[re][te[re]]||(Z[re]=0,te[re]=0);if(Z.x>0||Z.y>0){S(),R.current=j,k(F,a),b.current=Z,E.current=te;return}}b.current={x:0,y:0},E.current={x:0,y:0},S()},[e,F,r,S,l,a,JSON.stringify(D),JSON.stringify(x),k,d,I,p,JSON.stringify(v)])}const aS={x:{[ut.Backward]:!1,[ut.Forward]:!1},y:{[ut.Backward]:!1,[ut.Forward]:!1}};function uS(n){let{delta:e,disabled:t}=n;const r=Gh(e);return Yo(s=>{if(t||!r||!s)return aS;const l={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[ut.Backward]:s.x[ut.Backward]||l.x===-1,[ut.Forward]:s.x[ut.Forward]||l.x===1},y:{[ut.Backward]:s.y[ut.Backward]||l.y===-1,[ut.Forward]:s.y[ut.Forward]||l.y===1}}},[t,e,r])}function cS(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return Yo(s=>{var l;return e==null?null:(l=r??s)!=null?l:null},[r,e])}function hS(n,e){return P.useMemo(()=>n.reduce((t,r)=>{const{sensor:s}=r,l=s.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...t,...l]},[]),[n,e])}var Bo;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Bo||(Bo={}));var tf;(function(n){n.Optimized="optimized"})(tf||(tf={}));const Am=new Map;function fS(n,e){let{dragging:t,dependencies:r,config:s}=e;const[l,a]=P.useState(null),{frequency:c,measure:h,strategy:d}=s,p=P.useRef(n),m=b(),v=Lo(m),x=P.useCallback(function(E){E===void 0&&(E=[]),!v.current&&a(D=>D===null?E:D.concat(E.filter(R=>!D.includes(R))))},[v]),k=P.useRef(null),S=Yo(E=>{if(m&&!t)return Am;if(!E||E===Am||p.current!==n||l!=null){const D=new Map;for(let R of n){if(!R)continue;if(l&&l.length>0&&!l.includes(R.id)&&R.rect.current){D.set(R.id,R.rect.current);continue}const F=R.node.current,I=F?new od(h(F),F):null;R.rect.current=I,I&&D.set(R.id,I)}return D}return E},[n,l,t,m,h]);return P.useEffect(()=>{p.current=n},[n]),P.useEffect(()=>{m||x()},[t,m]),P.useEffect(()=>{l&&l.length>0&&a(null)},[JSON.stringify(l)]),P.useEffect(()=>{m||typeof c!="number"||k.current!==null||(k.current=setTimeout(()=>{x(),k.current=null},c))},[c,m,x,...r]),{droppableRects:S,measureDroppableContainers:x,measuringScheduled:l!=null};function b(){switch(d){case Bo.Always:return!1;case Bo.BeforeDragging:return t;default:return!t}}}function Iy(n,e){return Yo(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function dS(n,e){return Iy(n,e)}function pS(n){let{callback:e,disabled:t}=n;const r=rd(e),s=P.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,t]);return P.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Su(n){let{callback:e,disabled:t}=n;const r=rd(e),s=P.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[t]);return P.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function gS(n){return new od(Ss(n),n)}function Em(n,e,t){e===void 0&&(e=gS);const[r,s]=P.useState(null);function l(){s(h=>{if(!n)return null;if(n.isConnected===!1){var d;return(d=h??t)!=null?d:null}const p=e(n);return JSON.stringify(h)===JSON.stringify(p)?h:p})}const a=pS({callback(h){if(n)for(const d of h){const{type:p,target:m}=d;if(p==="childList"&&m instanceof HTMLElement&&m.contains(n)){l();break}}}}),c=Su({callback:l});return Gn(()=>{l(),n?(c==null||c.observe(n),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(c==null||c.disconnect(),a==null||a.disconnect())},[n]),r}function mS(n){const e=Iy(n);return Ay(n,e)}const Mm=[];function yS(n){const e=P.useRef(n),t=Yo(r=>n?r&&r!==Mm&&n&&e.current&&n.parentNode===e.current.parentNode?r:sd(n):Mm,[n]);return P.useEffect(()=>{e.current=n},[n]),t}function vS(n){const[e,t]=P.useState(null),r=P.useRef(n),s=P.useCallback(l=>{const a=Sh(l.target);a&&t(c=>c?(c.set(a,Jh(a)),new Map(c)):null)},[]);return P.useEffect(()=>{const l=r.current;if(n!==l){a(l);const c=n.map(h=>{const d=Sh(h);return d?(d.addEventListener("scroll",s,{passive:!0}),[d,Jh(d)]):null}).filter(h=>h!=null);t(c.length?new Map(c):null),r.current=n}return()=>{a(n),a(l)};function a(c){c.forEach(h=>{const d=Sh(h);d==null||d.removeEventListener("scroll",s)})}},[s,n]),P.useMemo(()=>n.length?e?Array.from(e.values()).reduce((l,a)=>ls(l,a),Rn):Ny(n):Rn,[n,e])}function Dm(n,e){e===void 0&&(e=[]);const t=P.useRef(null);return P.useEffect(()=>{t.current=null},e),P.useEffect(()=>{const r=n!==Rn;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?eu(n,t.current):Rn}function xS(n){P.useEffect(()=>{if(!ku)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function wS(n,e){return P.useMemo(()=>n.reduce((t,r)=>{let{eventName:s,handler:l}=r;return t[s]=a=>{l(a,e)},t},{}),[n,e])}function By(n){return P.useMemo(()=>n?Qk(n):null,[n])}const Rm=[];function kS(n,e){e===void 0&&(e=Ss);const[t]=n,r=By(t?Ut(t):null),[s,l]=P.useState(Rm);function a(){l(()=>n.length?n.map(h=>Ry(h)?r:new od(e(h),h)):Rm)}const c=Su({callback:a});return Gn(()=>{c==null||c.disconnect(),a(),n.forEach(h=>c==null?void 0:c.observe(h))},[n]),s}function SS(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return qo(e)?e:n}function bS(n){let{measure:e}=n;const[t,r]=P.useState(null),s=P.useCallback(d=>{for(const{target:p}of d)if(qo(p)){r(m=>{const v=e(p);return m?{...m,width:v.width,height:v.height}:v});break}},[e]),l=Su({callback:s}),a=P.useCallback(d=>{const p=SS(d);l==null||l.disconnect(),p&&(l==null||l.observe(p)),r(p?e(p):null)},[e,l]),[c,h]=Ja(a);return P.useMemo(()=>({nodeRef:c,rect:t,setRef:h}),[t,c,h])}const OS=[{sensor:ud,options:{}},{sensor:ld,options:{}}],CS={current:{}},_a={draggable:{measure:bm},droppable:{measure:bm,strategy:Bo.WhileDragging,frequency:tf.Optimized},dragOverlay:{measure:Ss}};class Po extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const PS={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Po,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:tu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:_a,measureDroppableContainers:tu,windowRect:null,measuringScheduled:!1},AS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:tu,draggableNodes:new Map,over:null,measureDroppableContainers:tu},bu=P.createContext(AS),zy=P.createContext(PS);function ES(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Po}}}function MS(n,e){switch(e.type){case it.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case it.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case it.DragEnd:case it.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case it.RegisterDroppable:{const{element:t}=e,{id:r}=t,s=new Po(n.droppable.containers);return s.set(r,t),{...n,droppable:{...n.droppable,containers:s}}}case it.SetDroppableDisabled:{const{id:t,key:r,disabled:s}=e,l=n.droppable.containers.get(t);if(!l||r!==l.key)return n;const a=new Po(n.droppable.containers);return a.set(t,{...l,disabled:s}),{...n,droppable:{...n.droppable,containers:a}}}case it.UnregisterDroppable:{const{id:t,key:r}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const l=new Po(n.droppable.containers);return l.delete(t),{...n,droppable:{...n.droppable,containers:l}}}default:return n}}function DS(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:s}=P.useContext(bu),l=Gh(r),a=Gh(t==null?void 0:t.id);return P.useEffect(()=>{if(!e&&!r&&l&&a!=null){if(!id(l)||document.activeElement===l.target)return;const c=s.get(a);if(!c)return;const{activatorNode:h,node:d}=c;if(!h.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[h.current,d.current]){if(!p)continue;const m=wk(p);if(m){m.focus();break}}})}},[r,e,s,a,l]),null}function RS(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((s,l)=>l({transform:s,...r}),t):t}function TS(n){return P.useMemo(()=>({draggable:{..._a.draggable,...n==null?void 0:n.draggable},droppable:{..._a.droppable,...n==null?void 0:n.droppable},dragOverlay:{..._a.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function NS(n){let{activeNode:e,measure:t,initialRect:r,config:s=!0}=n;const l=P.useRef(!1),{x:a,y:c}=typeof s=="boolean"?{x:s,y:s}:s;Gn(()=>{if(!a&&!c||!e){l.current=!1;return}if(l.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const p=t(d),m=Ay(p,r);if(a||(m.x=0),c||(m.y=0),l.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const v=Ey(d);v&&v.scrollBy({top:m.y,left:m.x})}},[e,a,c,r,t])}const jy=P.createContext({...Rn,scaleX:1,scaleY:1});var Wr;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Wr||(Wr={}));const LS=P.memo(function(e){var t,r,s,l;let{id:a,accessibility:c,autoScroll:h=!0,children:d,sensors:p=OS,collisionDetection:m=zk,measuring:v,modifiers:x,...k}=e;const S=P.useReducer(MS,void 0,ES),[b,E]=S,[D,R]=Pk(),[F,I]=P.useState(Wr.Uninitialized),j=F===Wr.Initialized,{draggable:{active:z,nodes:Y,translate:te},droppable:{containers:Z}}=b,re=z!=null?Y.get(z):null,ne=P.useRef({initial:null,translated:null}),he=P.useMemo(()=>{var He;return z!=null?{id:z,data:(He=re==null?void 0:re.data)!=null?He:CS,rect:ne}:null},[z,re]),fe=P.useRef(null),[K,de]=P.useState(null),[ge,$]=P.useState(null),J=Lo(k,Object.values(k)),X=Go("DndDescribedBy",a),C=P.useMemo(()=>Z.getEnabled(),[Z]),L=TS(v),{droppableRects:se,measureDroppableContainers:ee,measuringScheduled:V}=fS(C,{dragging:j,dependencies:[te.x,te.y],config:L.droppable}),ue=cS(Y,z),we=P.useMemo(()=>ge?Zh(ge):null,[ge]),Oe=br(),Ce=dS(ue,L.draggable.measure);NS({activeNode:z!=null?Y.get(z):null,config:Oe.layoutShiftCompensation,initialRect:Ce,measure:L.draggable.measure});const be=Em(ue,L.draggable.measure,Ce),rn=Em(ue?ue.parentElement:null),mt=P.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:se,draggableNodes:Y,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),yn=Z.getNodeFor((t=mt.current.over)==null?void 0:t.id),Xt=bS({measure:L.dragOverlay.measure}),er=(r=Xt.nodeRef.current)!=null?r:ue,tr=j?(s=Xt.rect)!=null?s:be:null,Di=!!(Xt.nodeRef.current&&Xt.rect),Cs=mS(Di?null:be),ii=By(er?Ut(er):null),Bt=yS(j?yn??ue:null),vn=kS(Bt),wr=RS(x,{transform:{x:te.x-Cs.x,y:te.y-Cs.y,scaleX:1,scaleY:1},activatorEvent:ge,active:he,activeNodeRect:be,containerNodeRect:rn,draggingNodeRect:tr,over:mt.current.over,overlayNodeRect:Xt.rect,scrollableAncestors:Bt,scrollableAncestorRects:vn,windowRect:ii}),Ps=we?ls(we,te):null,As=vS(Bt),ol=Dm(As),ll=Dm(As,[be]),zn=ls(wr,ol),xn=tr?_k(tr,wr):null,kr=he&&xn?m({active:he,collisionRect:xn,droppableRects:se,droppableContainers:C,pointerCoordinates:Ps}):null,Sr=Lk(kr,"id"),[zt,al]=P.useState(null),ul=Di?wr:ls(wr,ll),cl=jk(ul,(l=zt==null?void 0:zt.rect)!=null?l:null,be),Es=P.useRef(null),Ri=P.useCallback((He,yt)=>{let{sensor:vt,options:wn}=yt;if(fe.current==null)return;const Mt=Y.get(fe.current);if(!Mt)return;const xt=He.nativeEvent,jt=new vt({active:fe.current,activeNode:Mt,event:xt,options:wn,context:mt,onAbort(We){if(!Y.get(We))return;const{onDragAbort:wt}=J.current,kn={id:We};wt==null||wt(kn),D({type:"onDragAbort",event:kn})},onPending(We,sn,wt,kn){if(!Y.get(We))return;const{onDragPending:jn}=J.current,Kt={id:We,constraint:sn,initialCoordinates:wt,offset:kn};jn==null||jn(Kt),D({type:"onDragPending",event:Kt})},onStart(We){const sn=fe.current;if(sn==null)return;const wt=Y.get(sn);if(!wt)return;const{onDragStart:kn}=J.current,Sn={activatorEvent:xt,active:{id:sn,data:wt.data,rect:ne}};xo.unstable_batchedUpdates(()=>{kn==null||kn(Sn),I(Wr.Initializing),E({type:it.DragStart,initialCoordinates:We,active:sn}),D({type:"onDragStart",event:Sn}),de(Es.current),$(xt)})},onMove(We){E({type:it.DragMove,coordinates:We})},onEnd:nr(it.DragEnd),onCancel:nr(it.DragCancel)});Es.current=jt;function nr(We){return async function(){const{active:wt,collisions:kn,over:Sn,scrollAdjustedTranslate:jn}=mt.current;let Kt=null;if(wt&&jn){const{cancelDrop:rr}=J.current;Kt={activatorEvent:xt,active:wt,collisions:kn,delta:jn,over:Sn},We===it.DragEnd&&typeof rr=="function"&&await Promise.resolve(rr(Kt))&&(We=it.DragCancel)}fe.current=null,xo.unstable_batchedUpdates(()=>{E({type:We}),I(Wr.Uninitialized),al(null),de(null),$(null),Es.current=null;const rr=We===it.DragEnd?"onDragEnd":"onDragCancel";if(Kt){const Ts=J.current[rr];Ts==null||Ts(Kt),D({type:rr,event:Kt})}})}}},[Y]),Ms=P.useCallback((He,yt)=>(vt,wn)=>{const Mt=vt.nativeEvent,xt=Y.get(wn);if(fe.current!==null||!xt||Mt.dndKit||Mt.defaultPrevented)return;const jt={active:xt};He(vt,yt.options,jt)===!0&&(Mt.dndKit={capturedBy:yt.sensor},fe.current=wn,Ri(vt,yt))},[Y,Ri]),Ti=hS(p,Ms);xS(p),Gn(()=>{be&&F===Wr.Initializing&&I(Wr.Initialized)},[be,F]),P.useEffect(()=>{const{onDragMove:He}=J.current,{active:yt,activatorEvent:vt,collisions:wn,over:Mt}=mt.current;if(!yt||!vt)return;const xt={active:yt,activatorEvent:vt,collisions:wn,delta:{x:zn.x,y:zn.y},over:Mt};xo.unstable_batchedUpdates(()=>{He==null||He(xt),D({type:"onDragMove",event:xt})})},[zn.x,zn.y]),P.useEffect(()=>{const{active:He,activatorEvent:yt,collisions:vt,droppableContainers:wn,scrollAdjustedTranslate:Mt}=mt.current;if(!He||fe.current==null||!yt||!Mt)return;const{onDragOver:xt}=J.current,jt=wn.get(Sr),nr=jt&&jt.rect.current?{id:jt.id,rect:jt.rect.current,data:jt.data,disabled:jt.disabled}:null,We={active:He,activatorEvent:yt,collisions:vt,delta:{x:Mt.x,y:Mt.y},over:nr};xo.unstable_batchedUpdates(()=>{al(nr),xt==null||xt(We),D({type:"onDragOver",event:We})})},[Sr]),Gn(()=>{mt.current={activatorEvent:ge,active:he,activeNode:ue,collisionRect:xn,collisions:kr,droppableRects:se,draggableNodes:Y,draggingNode:er,draggingNodeRect:tr,droppableContainers:Z,over:zt,scrollableAncestors:Bt,scrollAdjustedTranslate:zn},ne.current={initial:tr,translated:xn}},[he,ue,kr,xn,Y,er,tr,se,Z,zt,Bt,zn]),lS({...Oe,delta:te,draggingRect:xn,pointerCoordinates:Ps,scrollableAncestors:Bt,scrollableAncestorRects:vn});const Ds=P.useMemo(()=>({active:he,activeNode:ue,activeNodeRect:be,activatorEvent:ge,collisions:kr,containerNodeRect:rn,dragOverlay:Xt,draggableNodes:Y,droppableContainers:Z,droppableRects:se,over:zt,measureDroppableContainers:ee,scrollableAncestors:Bt,scrollableAncestorRects:vn,measuringConfiguration:L,measuringScheduled:V,windowRect:ii}),[he,ue,be,ge,kr,rn,Xt,Y,Z,se,zt,ee,Bt,vn,L,V,ii]),Rs=P.useMemo(()=>({activatorEvent:ge,activators:Ti,active:he,activeNodeRect:be,ariaDescribedById:{draggable:X},dispatch:E,draggableNodes:Y,over:zt,measureDroppableContainers:ee}),[ge,Ti,he,be,E,X,Y,zt,ee]);return Ze.createElement(Py.Provider,{value:R},Ze.createElement(bu.Provider,{value:Rs},Ze.createElement(zy.Provider,{value:Ds},Ze.createElement(jy.Provider,{value:cl},d)),Ze.createElement(DS,{disabled:(c==null?void 0:c.restoreFocus)===!1})),Ze.createElement(Mk,{...c,hiddenTextDescribedById:X}));function br(){const He=(K==null?void 0:K.autoScrollEnabled)===!1,yt=typeof h=="object"?h.enabled===!1:h===!1,vt=j&&!He&&!yt;return typeof h=="object"?{...h,enabled:vt}:{enabled:vt}}}),IS=P.createContext(null),Tm="button",BS="Draggable";function zS(n){let{id:e,data:t,disabled:r=!1,attributes:s}=n;const l=Go(BS),{activators:a,activatorEvent:c,active:h,activeNodeRect:d,ariaDescribedById:p,draggableNodes:m,over:v}=P.useContext(bu),{role:x=Tm,roleDescription:k="draggable",tabIndex:S=0}=s??{},b=(h==null?void 0:h.id)===e,E=P.useContext(b?jy:IS),[D,R]=Ja(),[F,I]=Ja(),j=wS(a,e),z=Lo(t);Gn(()=>(m.set(e,{id:e,key:l,node:D,activatorNode:F,data:z}),()=>{const te=m.get(e);te&&te.key===l&&m.delete(e)}),[m,e]);const Y=P.useMemo(()=>({role:x,tabIndex:S,"aria-disabled":r,"aria-pressed":b&&x===Tm?!0:void 0,"aria-roledescription":k,"aria-describedby":p.draggable}),[r,x,S,b,k,p.draggable]);return{active:h,activatorEvent:c,activeNodeRect:d,attributes:Y,isDragging:b,listeners:r?void 0:j,node:D,over:v,setNodeRef:R,setActivatorNodeRef:I,transform:E}}function jS(){return P.useContext(zy)}const FS="Droppable",_S={timeout:25};function VS(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:s}=n;const l=Go(FS),{active:a,dispatch:c,over:h,measureDroppableContainers:d}=P.useContext(bu),p=P.useRef({disabled:t}),m=P.useRef(!1),v=P.useRef(null),x=P.useRef(null),{disabled:k,updateMeasurementsFor:S,timeout:b}={..._S,...s},E=Lo(S??r),D=P.useCallback(()=>{if(!m.current){m.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{d(Array.isArray(E.current)?E.current:[E.current]),x.current=null},b)},[b]),R=Su({callback:D,disabled:k||!a}),F=P.useCallback((Y,te)=>{R&&(te&&(R.unobserve(te),m.current=!1),Y&&R.observe(Y))},[R]),[I,j]=Ja(F),z=Lo(e);return P.useEffect(()=>{!R||!I.current||(R.disconnect(),m.current=!1,R.observe(I.current))},[I,R]),P.useEffect(()=>(c({type:it.RegisterDroppable,element:{id:r,key:l,disabled:t,node:I,rect:v,data:z}}),()=>c({type:it.UnregisterDroppable,key:l,id:r})),[r]),P.useEffect(()=>{t!==p.current.disabled&&(c({type:it.SetDroppableDisabled,id:r,key:l,disabled:t}),p.current.disabled=t)},[r,l,t,c]),{active:a,rect:v,isOver:(h==null?void 0:h.id)===r,node:I,over:h,setNodeRef:j}}function Fy(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function HS(n,e){return n.reduce((t,r,s)=>{const l=e.get(r);return l&&(t[s]=l),t},Array(n.length))}function ya(n){return n!==null&&n>=0}function WS(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function QS(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const va={scaleX:1,scaleY:1},$S=n=>{var e;let{rects:t,activeNodeRect:r,activeIndex:s,overIndex:l,index:a}=n;const c=(e=t[s])!=null?e:r;if(!c)return null;const h=US(t,a,s);if(a===s){const d=t[l];return d?{x:s<l?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...va}:null}return a>s&&a<=l?{x:-c.width-h,y:0,...va}:a<s&&a>=l?{x:c.width+h,y:0,...va}:{x:0,y:0,...va}};function US(n,e,t){const r=n[e],s=n[e-1],l=n[e+1];return!r||!s&&!l?0:t<e?s?r.left-(s.left+s.width):l.left-(r.left+r.width):l?l.left-(r.left+r.width):r.left-(s.left+s.width)}const _y=n=>{let{rects:e,activeIndex:t,overIndex:r,index:s}=n;const l=Fy(e,r,t),a=e[s],c=l[s];return!c||!a?null:{x:c.left-a.left,y:c.top-a.top,scaleX:c.width/a.width,scaleY:c.height/a.height}},Vy="Sortable",Hy=Ze.createContext({activeIndex:-1,containerId:Vy,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:_y,disabled:{draggable:!1,droppable:!1}});function XS(n){let{children:e,id:t,items:r,strategy:s=_y,disabled:l=!1}=n;const{active:a,dragOverlay:c,droppableRects:h,over:d,measureDroppableContainers:p}=jS(),m=Go(Vy,t),v=c.rect!==null,x=P.useMemo(()=>r.map(j=>typeof j=="object"&&"id"in j?j.id:j),[r]),k=a!=null,S=a?x.indexOf(a.id):-1,b=d?x.indexOf(d.id):-1,E=P.useRef(x),D=!WS(x,E.current),R=b!==-1&&S===-1||D,F=QS(l);Gn(()=>{D&&k&&p(x)},[D,x,k,p]),P.useEffect(()=>{E.current=x},[x]);const I=P.useMemo(()=>({activeIndex:S,containerId:m,disabled:F,disableTransforms:R,items:x,overIndex:b,useDragOverlay:v,sortedRects:HS(x,h),strategy:s}),[S,m,F.draggable,F.droppable,R,x,b,h,v,s]);return Ze.createElement(Hy.Provider,{value:I},e)}const KS=n=>{let{id:e,items:t,activeIndex:r,overIndex:s}=n;return Fy(t,r,s).indexOf(e)},qS=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:s,items:l,newIndex:a,previousItems:c,previousContainerId:h,transition:d}=n;return!d||!r||c!==l&&s===a?!1:t?!0:a!==s&&e===h},YS={duration:200,easing:"ease"},Wy="transform",GS=Io.Transition.toString({property:Wy,duration:0,easing:"linear"}),ZS={roleDescription:"sortable"};function JS(n){let{disabled:e,index:t,node:r,rect:s}=n;const[l,a]=P.useState(null),c=P.useRef(t);return Gn(()=>{if(!e&&t!==c.current&&r.current){const h=s.current;if(h){const d=Ss(r.current,{ignoreTransform:!0}),p={x:h.left-d.left,y:h.top-d.top,scaleX:h.width/d.width,scaleY:h.height/d.height};(p.x||p.y)&&a(p)}}t!==c.current&&(c.current=t)},[e,t,r,s]),P.useEffect(()=>{l&&a(null)},[l]),l}function eb(n){let{animateLayoutChanges:e=qS,attributes:t,disabled:r,data:s,getNewIndex:l=KS,id:a,strategy:c,resizeObserverConfig:h,transition:d=YS}=n;const{items:p,containerId:m,activeIndex:v,disabled:x,disableTransforms:k,sortedRects:S,overIndex:b,useDragOverlay:E,strategy:D}=P.useContext(Hy),R=tb(r,x),F=p.indexOf(a),I=P.useMemo(()=>({sortable:{containerId:m,index:F,items:p},...s}),[m,s,F,p]),j=P.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:z,node:Y,isOver:te,setNodeRef:Z}=VS({id:a,data:I,disabled:R.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...h}}),{active:re,activatorEvent:ne,activeNodeRect:he,attributes:fe,setNodeRef:K,listeners:de,isDragging:ge,over:$,setActivatorNodeRef:J,transform:X}=zS({id:a,data:I,attributes:{...ZS,...t},disabled:R.draggable}),C=mk(Z,K),L=!!re,se=L&&!k&&ya(v)&&ya(b),ee=!E&&ge,V=ee&&se?X:null,we=se?V??(c??D)({rects:S,activeNodeRect:he,activeIndex:v,overIndex:b,index:F}):null,Oe=ya(v)&&ya(b)?l({id:a,items:p,activeIndex:v,overIndex:b}):F,Ce=re==null?void 0:re.id,be=P.useRef({activeId:Ce,items:p,newIndex:Oe,containerId:m}),rn=p!==be.current.items,mt=e({active:re,containerId:m,isDragging:ge,isSorting:L,id:a,index:F,items:p,newIndex:be.current.newIndex,previousItems:be.current.items,previousContainerId:be.current.containerId,transition:d,wasDragging:be.current.activeId!=null}),yn=JS({disabled:!mt,index:F,node:Y,rect:z});return P.useEffect(()=>{L&&be.current.newIndex!==Oe&&(be.current.newIndex=Oe),m!==be.current.containerId&&(be.current.containerId=m),p!==be.current.items&&(be.current.items=p)},[L,Oe,m,p]),P.useEffect(()=>{if(Ce===be.current.activeId)return;if(Ce!=null&&be.current.activeId==null){be.current.activeId=Ce;return}const er=setTimeout(()=>{be.current.activeId=Ce},50);return()=>clearTimeout(er)},[Ce]),{active:re,activeIndex:v,attributes:fe,data:I,rect:z,index:F,newIndex:Oe,items:p,isOver:te,isSorting:L,isDragging:ge,listeners:de,node:Y,overIndex:b,over:$,setNodeRef:C,setActivatorNodeRef:J,setDroppableNodeRef:Z,setDraggableNodeRef:K,transform:yn??we,transition:Xt()};function Xt(){if(yn||rn&&be.current.newIndex===F)return GS;if(!(ee&&!id(ne)||!d)&&(L||mt))return Io.Transition.toString({...d,property:Wy})}}function tb(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}Re.Down,Re.Right,Re.Up,Re.Left;function Nm(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function nb(n){if(Array.isArray(n))return n}function rb(n,e,t){return(e=cb(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ib(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,l,a,c=[],h=!0,d=!1;try{if(l=(t=t.call(n)).next,e!==0)for(;!(h=(r=l.call(t)).done)&&(c.push(r.value),c.length!==e);h=!0);}catch(p){d=!0,s=p}finally{try{if(!h&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(d)throw s}}return c}}function sb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lm(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Im(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lm(Object(t),!0).forEach(function(r){rb(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lm(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ob(n,e){if(n==null)return{};var t,r,s=lb(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(r=0;r<l.length;r++)t=l[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}function lb(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function ab(n,e){return nb(n)||ib(n,e)||hb(n,e)||sb()}function ub(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cb(n){var e=ub(n,"string");return typeof e=="symbol"?e:e+""}function hb(n,e){if(n){if(typeof n=="string")return Nm(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Nm(n,e):void 0}}function fb(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Bm(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function zm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Bm(Object(t),!0).forEach(function(r){fb(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Bm(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function db(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduceRight(function(s,l){return l(s)},r)}}function wo(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return s.length>=n.length?n.apply(this,s):function(){for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return e.apply(t,[].concat(s,c))}}}function ru(n){return{}.toString.call(n).includes("Object")}function pb(n){return!Object.keys(n).length}function zo(n){return typeof n=="function"}function gb(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function mb(n,e){return ru(e)||Gr("changeType"),Object.keys(e).some(function(t){return!gb(n,t)})&&Gr("changeField"),e}function yb(n){zo(n)||Gr("selectorType")}function vb(n){zo(n)||ru(n)||Gr("handlerType"),ru(n)&&Object.values(n).some(function(e){return!zo(e)})&&Gr("handlersType")}function xb(n){n||Gr("initialIsRequired"),ru(n)||Gr("initialType"),pb(n)&&Gr("initialContent")}function wb(n,e){throw new Error(n[e]||n.default)}var kb={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Gr=wo(wb)(kb),xa={changes:mb,selector:yb,handler:vb,initial:xb};function Sb(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};xa.initial(n),xa.handler(e);var t={current:n},r=wo(Cb)(t,e),s=wo(Ob)(t),l=wo(xa.changes)(n),a=wo(bb)(t);function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(p){return p};return xa.selector(d),d(t.current)}function h(d){db(r,s,l,a)(d)}return[c,h]}function bb(n,e){return zo(e)?e(n.current):e}function Ob(n,e){return n.current=zm(zm({},n.current),e),e}function Cb(n,e,t){return zo(e)?e(n.current):Object.keys(t).forEach(function(r){var s;return(s=e[r])===null||s===void 0?void 0:s.call(e,n.current[r])}),t}var Pb={create:Sb},Ab={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Eb(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return s.length>=n.length?n.apply(this,s):function(){for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return e.apply(t,[].concat(s,c))}}}function Mb(n){return{}.toString.call(n).includes("Object")}function Db(n){return n||jm("configIsRequired"),Mb(n)||jm("configType"),n.urls?(Rb(),{paths:{vs:n.urls.monacoBase}}):n}function Rb(){console.warn(Qy.deprecation)}function Tb(n,e){throw new Error(n[e]||n.default)}var Qy={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},jm=Eb(Tb)(Qy),Nb={config:Db},Lb=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduceRight(function(l,a){return a(l)},s)}};function $y(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],$y(n[t],e[t]))}),Im(Im({},n),e)}var Ib={type:"cancelation",msg:"operation is manually canceled"};function Ch(n){var e=!1,t=new Promise(function(r,s){n.then(function(l){return e?s(Ib):r(l)}),n.catch(s)});return t.cancel=function(){return e=!0},t}var Bb=["monaco"],zb=Pb.create({config:Ab,isInitialized:!1,resolve:null,reject:null,monaco:null}),Uy=ab(zb,2),Zo=Uy[0],Ou=Uy[1];function jb(n){var e=Nb.config(n),t=e.monaco,r=ob(e,Bb);Ou(function(s){return{config:$y(s.config,r),monaco:t}})}function Fb(){var n=Zo(function(e){var t=e.monaco,r=e.isInitialized,s=e.resolve;return{monaco:t,isInitialized:r,resolve:s}});if(!n.isInitialized){if(Ou({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),Ch(Ph);if(window.monaco&&window.monaco.editor)return Xy(window.monaco),n.resolve(window.monaco),Ch(Ph);Lb(_b,Hb)(Wb)}return Ch(Ph)}function _b(n){return document.body.appendChild(n)}function Vb(n){var e=document.createElement("script");return n&&(e.src=n),e}function Hb(n){var e=Zo(function(r){var s=r.config,l=r.reject;return{config:s,reject:l}}),t=Vb("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function Wb(){var n=Zo(function(t){var r=t.config,s=t.resolve,l=t.reject;return{config:r,resolve:s,reject:l}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){var r=t.m||t;Xy(r),n.resolve(r)},function(t){n.reject(t)})}function Xy(n){Zo().monaco||Ou({monaco:n})}function Qb(){return Zo(function(n){var e=n.monaco;return e})}var Ph=new Promise(function(n,e){return Ou({resolve:n,reject:e})}),Ky={config:jb,init:Fb,__getMonacoInstance:Qb},$b={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Ah=$b,Ub={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Xb=Ub;function Kb({children:n}){return Ze.createElement("div",{style:Xb.container},n)}var qb=Kb,Yb=qb;function Gb({width:n,height:e,isEditorReady:t,loading:r,_ref:s,className:l,wrapperProps:a}){return Ze.createElement("section",{style:{...Ah.wrapper,width:n,height:e},...a},!t&&Ze.createElement(Yb,null,r),Ze.createElement("div",{ref:s,style:{...Ah.fullWidth,...!t&&Ah.hide},className:l}))}var Zb=Gb,qy=P.memo(Zb);function Jb(n){P.useEffect(n,[])}var Yy=Jb;function eO(n,e,t=!0){let r=P.useRef(!0);P.useEffect(r.current||!t?()=>{r.current=!1}:n,e)}var tn=eO;function Ao(){}function ns(n,e,t,r){return tO(n,r)||nO(n,e,t,r)}function tO(n,e){return n.editor.getModel(Gy(n,e))}function nO(n,e,t,r){return n.editor.createModel(e,t,r?Gy(n,r):void 0)}function Gy(n,e){return n.Uri.parse(e)}function rO({original:n,modified:e,language:t,originalLanguage:r,modifiedLanguage:s,originalModelPath:l,modifiedModelPath:a,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:h=!1,theme:d="light",loading:p="Loading...",options:m={},height:v="100%",width:x="100%",className:k,wrapperProps:S={},beforeMount:b=Ao,onMount:E=Ao}){let[D,R]=P.useState(!1),[F,I]=P.useState(!0),j=P.useRef(null),z=P.useRef(null),Y=P.useRef(null),te=P.useRef(E),Z=P.useRef(b),re=P.useRef(!1);Yy(()=>{let K=Ky.init();return K.then(de=>(z.current=de)&&I(!1)).catch(de=>(de==null?void 0:de.type)!=="cancelation"&&console.error("Monaco initialization: error:",de)),()=>j.current?fe():K.cancel()}),tn(()=>{if(j.current&&z.current){let K=j.current.getOriginalEditor(),de=ns(z.current,n||"",r||t||"text",l||"");de!==K.getModel()&&K.setModel(de)}},[l],D),tn(()=>{if(j.current&&z.current){let K=j.current.getModifiedEditor(),de=ns(z.current,e||"",s||t||"text",a||"");de!==K.getModel()&&K.setModel(de)}},[a],D),tn(()=>{let K=j.current.getModifiedEditor();K.getOption(z.current.editor.EditorOption.readOnly)?K.setValue(e||""):e!==K.getValue()&&(K.executeEdits("",[{range:K.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),K.pushUndoStop())},[e],D),tn(()=>{var K,de;(de=(K=j.current)==null?void 0:K.getModel())==null||de.original.setValue(n||"")},[n],D),tn(()=>{let{original:K,modified:de}=j.current.getModel();z.current.editor.setModelLanguage(K,r||t||"text"),z.current.editor.setModelLanguage(de,s||t||"text")},[t,r,s],D),tn(()=>{var K;(K=z.current)==null||K.editor.setTheme(d)},[d],D),tn(()=>{var K;(K=j.current)==null||K.updateOptions(m)},[m],D);let ne=P.useCallback(()=>{var ge;if(!z.current)return;Z.current(z.current);let K=ns(z.current,n||"",r||t||"text",l||""),de=ns(z.current,e||"",s||t||"text",a||"");(ge=j.current)==null||ge.setModel({original:K,modified:de})},[t,e,s,n,r,l,a]),he=P.useCallback(()=>{var K;!re.current&&Y.current&&(j.current=z.current.editor.createDiffEditor(Y.current,{automaticLayout:!0,...m}),ne(),(K=z.current)==null||K.editor.setTheme(d),R(!0),re.current=!0)},[m,d,ne]);P.useEffect(()=>{D&&te.current(j.current,z.current)},[D]),P.useEffect(()=>{!F&&!D&&he()},[F,D,he]);function fe(){var de,ge,$,J;let K=(de=j.current)==null?void 0:de.getModel();c||((ge=K==null?void 0:K.original)==null||ge.dispose()),h||(($=K==null?void 0:K.modified)==null||$.dispose()),(J=j.current)==null||J.dispose()}return Ze.createElement(qy,{width:x,height:v,isEditorReady:D,loading:p,_ref:Y,className:k,wrapperProps:S})}var iO=rO;P.memo(iO);function sO(n){let e=P.useRef();return P.useEffect(()=>{e.current=n},[n]),e.current}var oO=sO,wa=new Map;function lO({defaultValue:n,defaultLanguage:e,defaultPath:t,value:r,language:s,path:l,theme:a="light",line:c,loading:h="Loading...",options:d={},overrideServices:p={},saveViewState:m=!0,keepCurrentModel:v=!1,width:x="100%",height:k="100%",className:S,wrapperProps:b={},beforeMount:E=Ao,onMount:D=Ao,onChange:R,onValidate:F=Ao}){let[I,j]=P.useState(!1),[z,Y]=P.useState(!0),te=P.useRef(null),Z=P.useRef(null),re=P.useRef(null),ne=P.useRef(D),he=P.useRef(E),fe=P.useRef(),K=P.useRef(r),de=oO(l),ge=P.useRef(!1),$=P.useRef(!1);Yy(()=>{let C=Ky.init();return C.then(L=>(te.current=L)&&Y(!1)).catch(L=>(L==null?void 0:L.type)!=="cancelation"&&console.error("Monaco initialization: error:",L)),()=>Z.current?X():C.cancel()}),tn(()=>{var L,se,ee,V;let C=ns(te.current,n||r||"",e||s||"",l||t||"");C!==((L=Z.current)==null?void 0:L.getModel())&&(m&&wa.set(de,(se=Z.current)==null?void 0:se.saveViewState()),(ee=Z.current)==null||ee.setModel(C),m&&((V=Z.current)==null||V.restoreViewState(wa.get(l))))},[l],I),tn(()=>{var C;(C=Z.current)==null||C.updateOptions(d)},[d],I),tn(()=>{!Z.current||r===void 0||(Z.current.getOption(te.current.editor.EditorOption.readOnly)?Z.current.setValue(r):r!==Z.current.getValue()&&($.current=!0,Z.current.executeEdits("",[{range:Z.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),Z.current.pushUndoStop(),$.current=!1))},[r],I),tn(()=>{var L,se;let C=(L=Z.current)==null?void 0:L.getModel();C&&s&&((se=te.current)==null||se.editor.setModelLanguage(C,s))},[s],I),tn(()=>{var C;c!==void 0&&((C=Z.current)==null||C.revealLine(c))},[c],I),tn(()=>{var C;(C=te.current)==null||C.editor.setTheme(a)},[a],I);let J=P.useCallback(()=>{var C;if(!(!re.current||!te.current)&&!ge.current){he.current(te.current);let L=l||t,se=ns(te.current,r||n||"",e||s||"",L||"");Z.current=(C=te.current)==null?void 0:C.editor.create(re.current,{model:se,automaticLayout:!0,...d},p),m&&Z.current.restoreViewState(wa.get(L)),te.current.editor.setTheme(a),c!==void 0&&Z.current.revealLine(c),j(!0),ge.current=!0}},[n,e,t,r,s,l,d,p,m,a,c]);P.useEffect(()=>{I&&ne.current(Z.current,te.current)},[I]),P.useEffect(()=>{!z&&!I&&J()},[z,I,J]),K.current=r,P.useEffect(()=>{var C,L;I&&R&&((C=fe.current)==null||C.dispose(),fe.current=(L=Z.current)==null?void 0:L.onDidChangeModelContent(se=>{$.current||R(Z.current.getValue(),se)}))},[I,R]),P.useEffect(()=>{if(I){let C=te.current.editor.onDidChangeMarkers(L=>{var ee;let se=(ee=Z.current.getModel())==null?void 0:ee.uri;if(se&&L.find(V=>V.path===se.path)){let V=te.current.editor.getModelMarkers({resource:se});F==null||F(V)}});return()=>{C==null||C.dispose()}}return()=>{}},[I,F]);function X(){var C,L;(C=fe.current)==null||C.dispose(),v?m&&wa.set(l,Z.current.saveViewState()):(L=Z.current.getModel())==null||L.dispose(),Z.current.dispose()}return Ze.createElement(qy,{width:x,height:k,isEditorReady:I,loading:h,_ref:re,className:S,wrapperProps:b})}var aO=lO,uO=P.memo(aO),cO=uO;let nf=[],Zy=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?Zy:nf).push(t=t+n[e])})();function hO(n){if(n<768)return!1;for(let e=0,t=nf.length;;){let r=e+t>>1;if(n<nf[r])t=r;else if(n>=Zy[r])e=r+1;else return!0;if(e==t)return!1}}function Fm(n){return n>=127462&&n<=127487}const _m=8205;function fO(n,e,t=!0,r=!0){return(t?Jy:dO)(n,e,r)}function Jy(n,e,t){if(e==n.length)return e;e&&ev(n.charCodeAt(e))&&tv(n.charCodeAt(e-1))&&e--;let r=Eh(n,e);for(e+=Vm(r);e<n.length;){let s=Eh(n,e);if(r==_m||s==_m||t&&hO(s))e+=Vm(s),r=s;else if(Fm(s)){let l=0,a=e-2;for(;a>=0&&Fm(Eh(n,a));)l++,a-=2;if(l%2==0)break;e+=2}else break}return e}function dO(n,e,t){for(;e>0;){let r=Jy(n,e-2,t);if(r<e)return r;e--}return 0}function Eh(n,e){let t=n.charCodeAt(e);if(!tv(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return ev(r)?(t-55296<<10)+(r-56320)+65536:t}function ev(n){return n>=56320&&n<57344}function tv(n){return n>=55296&&n<56320}function Vm(n){return n<65536?1:2}class Me{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=fs(this,e,t);let s=[];return this.decompose(0,e,s,2),r.length&&r.decompose(0,r.length,s,3),this.decompose(t,this.length,s,1),Kn.from(s,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=fs(this,e,t);let r=[];return this.decompose(e,t,r,0),Kn.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),s=new Eo(this),l=new Eo(e);for(let a=t,c=t;;){if(s.next(a),l.next(a),a=0,s.lineBreak!=l.lineBreak||s.done!=l.done||s.value!=l.value)return!1;if(c+=s.value.length,s.done||c>=r)return!0}}iter(e=1){return new Eo(this,e)}iterRange(e,t=this.length){return new nv(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;r=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new rv(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Me.empty:e.length<=32?new Ge(e):Kn.from(Ge.split(e,[]))}}class Ge extends Me{constructor(e,t=pO(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,s){for(let l=0;;l++){let a=this.text[l],c=s+a.length;if((t?r:c)>=e)return new gO(s,c,r,a);s=c+1,r++}}decompose(e,t,r,s){let l=e<=0&&t>=this.length?this:new Ge(Hm(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let a=r.pop(),c=Va(l.text,a.text.slice(),0,l.length);if(c.length<=32)r.push(new Ge(c,a.length+l.length));else{let h=c.length>>1;r.push(new Ge(c.slice(0,h)),new Ge(c.slice(h)))}}else r.push(l)}replace(e,t,r){if(!(r instanceof Ge))return super.replace(e,t,r);[e,t]=fs(this,e,t);let s=Va(this.text,Va(r.text,Hm(this.text,0,e)),t),l=this.length+r.length-(t-e);return s.length<=32?new Ge(s,l):Kn.from(Ge.split(s,[]),l)}sliceString(e,t=this.length,r=`
`){[e,t]=fs(this,e,t);let s="";for(let l=0,a=0;l<=t&&a<this.text.length;a++){let c=this.text[a],h=l+c.length;l>e&&a&&(s+=r),e<h&&t>l&&(s+=c.slice(Math.max(0,e-l),t-l)),l=h+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],s=-1;for(let l of e)r.push(l),s+=l.length+1,r.length==32&&(t.push(new Ge(r,s)),r=[],s=-1);return s>-1&&t.push(new Ge(r,s)),t}}class Kn extends Me{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,s){for(let l=0;;l++){let a=this.children[l],c=s+a.length,h=r+a.lines-1;if((t?h:c)>=e)return a.lineInner(e,t,r,s);s=c+1,r=h+1}}decompose(e,t,r,s){for(let l=0,a=0;a<=t&&l<this.children.length;l++){let c=this.children[l],h=a+c.length;if(e<=h&&t>=a){let d=s&((a<=e?1:0)|(h>=t?2:0));a>=e&&h<=t&&!d?r.push(c):c.decompose(e-a,t-a,r,d)}a=h+1}}replace(e,t,r){if([e,t]=fs(this,e,t),r.lines<this.lines)for(let s=0,l=0;s<this.children.length;s++){let a=this.children[s],c=l+a.length;if(e>=l&&t<=c){let h=a.replace(e-l,t-l,r),d=this.lines-a.lines+h.lines;if(h.lines<d>>4&&h.lines>d>>6){let p=this.children.slice();return p[s]=h,new Kn(p,this.length-(t-e)+r.length)}return super.replace(l,c,h)}l=c+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=fs(this,e,t);let s="";for(let l=0,a=0;l<this.children.length&&a<=t;l++){let c=this.children[l],h=a+c.length;a>e&&l&&(s+=r),e<h&&t>a&&(s+=c.sliceString(e-a,t-a,r)),a=h+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Kn))return 0;let r=0,[s,l,a,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,l+=t){if(s==a||l==c)return r;let h=this.children[s],d=e.children[l];if(h!=d)return r+h.scanIdentical(d,t);r+=h.length+1}}static from(e,t=e.reduce((r,s)=>r+s.length+1,-1)){let r=0;for(let x of e)r+=x.lines;if(r<32){let x=[];for(let k of e)k.flatten(x);return new Ge(x,t)}let s=Math.max(32,r>>5),l=s<<1,a=s>>1,c=[],h=0,d=-1,p=[];function m(x){let k;if(x.lines>l&&x instanceof Kn)for(let S of x.children)m(S);else x.lines>a&&(h>a||!h)?(v(),c.push(x)):x instanceof Ge&&h&&(k=p[p.length-1])instanceof Ge&&x.lines+k.lines<=32?(h+=x.lines,d+=x.length+1,p[p.length-1]=new Ge(k.text.concat(x.text),k.length+1+x.length)):(h+x.lines>s&&v(),h+=x.lines,d+=x.length+1,p.push(x))}function v(){h!=0&&(c.push(p.length==1?p[0]:Kn.from(p,d)),d=-1,h=p.length=0)}for(let x of e)m(x);return v(),c.length==1?c[0]:new Kn(c,t)}}Me.empty=new Ge([""],0);function pO(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Va(n,e,t=0,r=1e9){for(let s=0,l=0,a=!0;l<n.length&&s<=r;l++){let c=n[l],h=s+c.length;h>=t&&(h>r&&(c=c.slice(0,r-s)),s<t&&(c=c.slice(t-s)),a?(e[e.length-1]+=c,a=!1):e.push(c)),s=h+1}return e}function Hm(n,e,t){return Va(n,[""],e,t)}class Eo{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ge?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,s=this.nodes[r],l=this.offsets[r],a=l>>1,c=s instanceof Ge?s.text.length:s.children.length;if(a==(t>0?c:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((l&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof Ge){let h=s.text[a+(t<0?-1:0)];if(this.offsets[r]+=t,h.length>Math.max(0,e))return this.value=e==0?h:t>0?h.slice(e):h.slice(0,h.length-e),this;e-=h.length}else{let h=s.children[a+(t<0?-1:0)];e>h.length?(e-=h.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(h),this.offsets.push(t>0?1:(h instanceof Ge?h.text.length:h.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class nv{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new Eo(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=r?s:t<0?s.slice(s.length-r):s.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class rv{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:s}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Me.prototype[Symbol.iterator]=function(){return this.iter()},Eo.prototype[Symbol.iterator]=nv.prototype[Symbol.iterator]=rv.prototype[Symbol.iterator]=function(){return this});class gO{constructor(e,t,r,s){this.from=e,this.to=t,this.number=r,this.text=s}get length(){return this.to-this.from}}function fs(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function Nt(n,e,t=!0,r=!0){return fO(n,e,t,r)}function mO(n){return n>=56320&&n<57344}function yO(n){return n>=55296&&n<56320}function vO(n,e){let t=n.charCodeAt(e);if(!yO(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return mO(r)?(t-55296<<10)+(r-56320)+65536:t}function xO(n){return n<65536?1:2}const rf=/\r\n?|\n/;var nn=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(nn||(nn={}));class mr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,s=0;t<this.sections.length;){let l=this.sections[t++],a=this.sections[t++];a<0?(e(r,s,l),s+=l):s+=a,r+=l}}iterChangedRanges(e,t=!1){sf(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],s=this.sections[t++];s<0?e.push(r,s):e.push(s,r)}return new mr(e)}composeDesc(e){return this.empty?e:e.empty?this:iv(this,e)}mapDesc(e,t=!1){return e.empty?this:of(this,e,t)}mapPos(e,t=-1,r=nn.Simple){let s=0,l=0;for(let a=0;a<this.sections.length;){let c=this.sections[a++],h=this.sections[a++],d=s+c;if(h<0){if(d>e)return l+(e-s);l+=c}else{if(r!=nn.Simple&&d>=e&&(r==nn.TrackDel&&s<e&&d>e||r==nn.TrackBefore&&s<e||r==nn.TrackAfter&&d>e))return null;if(d>e||d==e&&t<0&&!c)return e==s||t<0?l:l+h;l+=h}s=d}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return l}touchesRange(e,t=e){for(let r=0,s=0;r<this.sections.length&&s<=t;){let l=this.sections[r++],a=this.sections[r++],c=s+l;if(a>=0&&s<=t&&c>=e)return s<e&&c>t?"cover":!0;s=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+r+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new mr(e)}static create(e){return new mr(e)}}class ct extends mr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return sf(this,(t,r,s,l,a)=>e=e.replace(s,s+(r-t),a),!1),e}mapDesc(e,t=!1){return of(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let s=0,l=0;s<t.length;s+=2){let a=t[s],c=t[s+1];if(c>=0){t[s]=c,t[s+1]=a;let h=s>>1;for(;r.length<h;)r.push(Me.empty);r.push(a?e.slice(l,l+a):Me.empty)}l+=a}return new ct(t,r)}compose(e){return this.empty?e:e.empty?this:iv(this,e,!0)}map(e,t=!1){return e.empty?this:of(this,e,t,!0)}iterChanges(e,t=!1){sf(this,e,t)}get desc(){return mr.create(this.sections)}filter(e){let t=[],r=[],s=[],l=new jo(this);e:for(let a=0,c=0;;){let h=a==e.length?1e9:e[a++];for(;c<h||c==h&&l.len==0;){if(l.done)break e;let p=Math.min(l.len,h-c);Ct(s,p,-1);let m=l.ins==-1?-1:l.off==0?l.ins:0;Ct(t,p,m),m>0&&Xr(r,t,l.text),l.forward(p),c+=p}let d=e[a++];for(;c<d;){if(l.done)break e;let p=Math.min(l.len,d-c);Ct(t,p,-1),Ct(s,p,l.ins==-1?-1:l.off==0?l.ins:0),l.forward(p),c+=p}}return{changes:new ct(t,r),filtered:mr.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],s=this.sections[t+1];s<0?e.push(r):s==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let s=[],l=[],a=0,c=null;function h(p=!1){if(!p&&!s.length)return;a<t&&Ct(s,t-a,-1);let m=new ct(s,l);c=c?c.compose(m.map(c)):m,s=[],l=[],a=0}function d(p){if(Array.isArray(p))for(let m of p)d(m);else if(p instanceof ct){if(p.length!=t)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${t})`);h(),c=c?c.compose(p.map(c)):p}else{let{from:m,to:v=m,insert:x}=p;if(m>v||m<0||v>t)throw new RangeError(`Invalid change range ${m} to ${v} (in doc of length ${t})`);let k=x?typeof x=="string"?Me.of(x.split(r||rf)):x:Me.empty,S=k.length;if(m==v&&S==0)return;m<a&&h(),m>a&&Ct(s,m-a,-1),Ct(s,v-m,S),Xr(l,s,k),a=v}}return d(e),h(!c),c}static empty(e){return new ct(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")t.push(l,-1);else{if(!Array.isArray(l)||typeof l[0]!="number"||l.some((a,c)=>c&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(l.length==1)t.push(l[0],0);else{for(;r.length<s;)r.push(Me.empty);r[s]=Me.of(l.slice(1)),t.push(l[0],r[s].length)}}}return new ct(t,r)}static createSet(e,t){return new ct(e,t)}}function Ct(n,e,t,r=!1){if(e==0&&t<=0)return;let s=n.length-2;s>=0&&t<=0&&t==n[s+1]?n[s]+=e:s>=0&&e==0&&n[s]==0?n[s+1]+=t:r?(n[s]+=e,n[s+1]+=t):n.push(e,t)}function Xr(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Me.empty);n.push(t)}}function sf(n,e,t){let r=n.inserted;for(let s=0,l=0,a=0;a<n.sections.length;){let c=n.sections[a++],h=n.sections[a++];if(h<0)s+=c,l+=c;else{let d=s,p=l,m=Me.empty;for(;d+=c,p+=h,h&&r&&(m=m.append(r[a-2>>1])),!(t||a==n.sections.length||n.sections[a+1]<0);)c=n.sections[a++],h=n.sections[a++];e(s,d,l,p,m),s=d,l=p}}}function of(n,e,t,r=!1){let s=[],l=r?[]:null,a=new jo(n),c=new jo(e);for(let h=-1;;){if(a.done&&c.len||c.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&c.ins==-1){let d=Math.min(a.len,c.len);Ct(s,d,-1),a.forward(d),c.forward(d)}else if(c.ins>=0&&(a.ins<0||h==a.i||a.off==0&&(c.len<a.len||c.len==a.len&&!t))){let d=c.len;for(Ct(s,c.ins,-1);d;){let p=Math.min(a.len,d);a.ins>=0&&h<a.i&&a.len<=p&&(Ct(s,0,a.ins),l&&Xr(l,s,a.text),h=a.i),a.forward(p),d-=p}c.next()}else if(a.ins>=0){let d=0,p=a.len;for(;p;)if(c.ins==-1){let m=Math.min(p,c.len);d+=m,p-=m,c.forward(m)}else if(c.ins==0&&c.len<p)p-=c.len,c.next();else break;Ct(s,d,h<a.i?a.ins:0),l&&h<a.i&&Xr(l,s,a.text),h=a.i,a.forward(a.len-p)}else{if(a.done&&c.done)return l?ct.createSet(s,l):mr.create(s);throw new Error("Mismatched change set lengths")}}}function iv(n,e,t=!1){let r=[],s=t?[]:null,l=new jo(n),a=new jo(e);for(let c=!1;;){if(l.done&&a.done)return s?ct.createSet(r,s):mr.create(r);if(l.ins==0)Ct(r,l.len,0,c),l.next();else if(a.len==0&&!a.done)Ct(r,0,a.ins,c),s&&Xr(s,r,a.text),a.next();else{if(l.done||a.done)throw new Error("Mismatched change set lengths");{let h=Math.min(l.len2,a.len),d=r.length;if(l.ins==-1){let p=a.ins==-1?-1:a.off?0:a.ins;Ct(r,h,p,c),s&&p&&Xr(s,r,a.text)}else a.ins==-1?(Ct(r,l.off?0:l.len,h,c),s&&Xr(s,r,l.textBit(h))):(Ct(r,l.off?0:l.len,a.off?0:a.ins,c),s&&!a.off&&Xr(s,r,a.text));c=(l.ins>h||a.ins>=0&&a.len>h)&&(c||r.length>d),l.forward2(h),a.forward(h)}}}}class jo{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Me.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Me.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Si{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,s;return this.empty?r=s=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),r==this.from&&s==this.to?this:new Si(r,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return G.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return G.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return G.range(e.anchor,e.head)}static create(e,t,r){return new Si(e,t,r)}}class G{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:G.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new G([this.main],0)}addRange(e,t=!0){return G.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,G.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new G(e.ranges.map(t=>Si.fromJSON(t)),e.main)}static single(e,t=e){return new G([G.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,s=0;s<e.length;s++){let l=e[s];if(l.empty?l.from<=r:l.from<r)return G.normalized(e.slice(),t);r=l.to}return new G(e,t)}static cursor(e,t=0,r,s){return Si.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(s??16777215)<<6)}static range(e,t,r,s){let l=(r??16777215)<<6|(s==null?7:Math.min(6,s));return t<e?Si.create(t,e,48|l):Si.create(e,t,(t>e?8:0)|l)}static normalized(e,t=0){let r=e[t];e.sort((s,l)=>s.from-l.from),t=e.indexOf(r);for(let s=1;s<e.length;s++){let l=e[s],a=e[s-1];if(l.empty?l.from<=a.to:l.from<a.to){let c=a.from,h=Math.max(l.to,a.to);s<=t&&t--,e.splice(--s,2,l.anchor>l.head?G.range(h,c):G.range(c,h))}}return new G(e,t)}}function sv(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let cd=0;class ye{constructor(e,t,r,s,l){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=s,this.id=cd++,this.default=e([]),this.extensions=typeof l=="function"?l(this):l}get reader(){return this}static define(e={}){return new ye(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:hd),!!e.static,e.enables)}of(e){return new Ha([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ha(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ha(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function hd(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Ha{constructor(e,t,r,s){this.dependencies=e,this.facet=t,this.type=r,this.value=s,this.id=cd++}dynamicSlot(e){var t;let r=this.value,s=this.facet.compareInput,l=this.id,a=e[l]>>1,c=this.type==2,h=!1,d=!1,p=[];for(let m of this.dependencies)m=="doc"?h=!0:m=="selection"?d=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&p.push(e[m.id]);return{create(m){return m.values[a]=r(m),1},update(m,v){if(h&&v.docChanged||d&&(v.docChanged||v.selection)||lf(m,p)){let x=r(m);if(c?!Wm(x,m.values[a],s):!s(x,m.values[a]))return m.values[a]=x,1}return 0},reconfigure:(m,v)=>{let x,k=v.config.address[l];if(k!=null){let S=su(v,k);if(this.dependencies.every(b=>b instanceof ye?v.facet(b)===m.facet(b):b instanceof Mi?v.field(b,!1)==m.field(b,!1):!0)||(c?Wm(x=r(m),S,s):s(x=r(m),S)))return m.values[a]=S,0}else x=r(m);return m.values[a]=x,1}}}}function Wm(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function lf(n,e){let t=!1;for(let r of e)Mo(n,r)&1&&(t=!0);return t}function wO(n,e,t){let r=t.map(h=>n[h.id]),s=t.map(h=>h.type),l=r.filter(h=>!(h&1)),a=n[e.id]>>1;function c(h){let d=[];for(let p=0;p<r.length;p++){let m=su(h,r[p]);if(s[p]==2)for(let v of m)d.push(v);else d.push(m)}return e.combine(d)}return{create(h){for(let d of r)Mo(h,d);return h.values[a]=c(h),1},update(h,d){if(!lf(h,l))return 0;let p=c(h);return e.compare(p,h.values[a])?0:(h.values[a]=p,1)},reconfigure(h,d){let p=lf(h,r),m=d.config.facets[e.id],v=d.facet(e);if(m&&!p&&hd(t,m))return h.values[a]=v,0;let x=c(h);return e.compare(x,v)?(h.values[a]=v,0):(h.values[a]=x,1)}}}const ka=ye.define({static:!0});class Mi{constructor(e,t,r,s,l){this.id=e,this.createF=t,this.updateF=r,this.compareF=s,this.spec=l,this.provides=void 0}static define(e){let t=new Mi(cd++,e.create,e.update,e.compare||((r,s)=>r===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(ka).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,s)=>{let l=r.values[t],a=this.updateF(l,s);return this.compareF(l,a)?0:(r.values[t]=a,1)},reconfigure:(r,s)=>{let l=r.facet(ka),a=s.facet(ka),c;return(c=l.find(h=>h.field==this))&&c!=a.find(h=>h.field==this)?(r.values[t]=c.create(r),1):s.config.address[this.id]!=null?(r.values[t]=s.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,ka.of({field:this,create:e})]}get extension(){return this}}const wi={lowest:4,low:3,default:2,high:1,highest:0};function po(n){return e=>new ov(e,n)}const Cu={highest:po(wi.highest),high:po(wi.high),default:po(wi.default),low:po(wi.low),lowest:po(wi.lowest)};class ov{constructor(e,t){this.inner=e,this.prec=t}}class Jo{of(e){return new af(this,e)}reconfigure(e){return Jo.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class af{constructor(e,t){this.compartment=e,this.inner=t}}class iu{constructor(e,t,r,s,l,a){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=s,this.staticValues=l,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let s=[],l=Object.create(null),a=new Map;for(let v of kO(e,t,a))v instanceof Mi?s.push(v):(l[v.facet.id]||(l[v.facet.id]=[])).push(v);let c=Object.create(null),h=[],d=[];for(let v of s)c[v.id]=d.length<<1,d.push(x=>v.slot(x));let p=r==null?void 0:r.config.facets;for(let v in l){let x=l[v],k=x[0].facet,S=p&&p[v]||[];if(x.every(b=>b.type==0))if(c[k.id]=h.length<<1|1,hd(S,x))h.push(r.facet(k));else{let b=k.combine(x.map(E=>E.value));h.push(r&&k.compare(b,r.facet(k))?r.facet(k):b)}else{for(let b of x)b.type==0?(c[b.id]=h.length<<1|1,h.push(b.value)):(c[b.id]=d.length<<1,d.push(E=>b.dynamicSlot(E)));c[k.id]=d.length<<1,d.push(b=>wO(b,k,x))}}let m=d.map(v=>v(c));return new iu(e,a,m,c,h,l)}}function kO(n,e,t){let r=[[],[],[],[],[]],s=new Map;function l(a,c){let h=s.get(a);if(h!=null){if(h<=c)return;let d=r[h].indexOf(a);d>-1&&r[h].splice(d,1),a instanceof af&&t.delete(a.compartment)}if(s.set(a,c),Array.isArray(a))for(let d of a)l(d,c);else if(a instanceof af){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=e.get(a.compartment)||a.inner;t.set(a.compartment,d),l(d,c)}else if(a instanceof ov)l(a.inner,a.prec);else if(a instanceof Mi)r[c].push(a),a.provides&&l(a.provides,c);else if(a instanceof Ha)r[c].push(a),a.facet.extensions&&l(a.facet.extensions,wi.default);else{let d=a.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);l(d,c)}}return l(n,wi.default),r.reduce((a,c)=>a.concat(c))}function Mo(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let s=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|s}function su(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const lv=ye.define(),uf=ye.define({combine:n=>n.some(e=>e),static:!0}),av=ye.define({combine:n=>n.length?n[0]:void 0,static:!0}),uv=ye.define(),cv=ye.define(),hv=ye.define(),fv=ye.define({combine:n=>n.length?n[0]:!1});class bs{constructor(e,t){this.type=e,this.value=t}static define(){return new SO}}class SO{of(e){return new bs(this,e)}}class bO{constructor(e){this.map=e}of(e){return new st(this,e)}}class st{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new st(this.type,t)}is(e){return this.type==e}static define(e={}){return new bO(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let s of e){let l=s.map(t);l&&r.push(l)}return r}}st.reconfigure=st.define();st.appendConfig=st.define();class At{constructor(e,t,r,s,l,a){this.startState=e,this.changes=t,this.selection=r,this.effects=s,this.annotations=l,this.scrollIntoView=a,this._doc=null,this._state=null,r&&sv(r,t.newLength),l.some(c=>c.type==At.time)||(this.annotations=l.concat(At.time.of(Date.now())))}static create(e,t,r,s,l,a){return new At(e,t,r,s,l,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(At.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}At.time=bs.define();At.userEvent=bs.define();At.addToHistory=bs.define();At.remote=bs.define();function OO(n,e){let t=[];for(let r=0,s=0;;){let l,a;if(r<n.length&&(s==e.length||e[s]>=n[r]))l=n[r++],a=n[r++];else if(s<e.length)l=e[s++],a=e[s++];else return t;!t.length||t[t.length-1]<l?t.push(l,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function dv(n,e,t){var r;let s,l,a;return t?(s=e.changes,l=ct.empty(e.changes.length),a=n.changes.compose(e.changes)):(s=e.changes.map(n.changes),l=n.changes.mapDesc(e.changes,!0),a=n.changes.compose(s)),{changes:a,selection:e.selection?e.selection.map(l):(r=n.selection)===null||r===void 0?void 0:r.map(s),effects:st.mapEffects(n.effects,s).concat(st.mapEffects(e.effects,l)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function cf(n,e,t){let r=e.selection,s=as(e.annotations);return e.userEvent&&(s=s.concat(At.userEvent.of(e.userEvent))),{changes:e.changes instanceof ct?e.changes:ct.of(e.changes||[],t,n.facet(av)),selection:r&&(r instanceof G?r:G.single(r.anchor,r.head)),effects:as(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function pv(n,e,t){let r=cf(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let l=1;l<e.length;l++){e[l].filter===!1&&(t=!1);let a=!!e[l].sequential;r=dv(r,cf(n,e[l],a?r.changes.newLength:n.doc.length),a)}let s=At.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return PO(t?CO(s):s)}function CO(n){let e=n.startState,t=!0;for(let s of e.facet(uv)){let l=s(n);if(l===!1){t=!1;break}Array.isArray(l)&&(t=t===!0?l:OO(t,l))}if(t!==!0){let s,l;if(t===!1)l=n.changes.invertedDesc,s=ct.empty(e.doc.length);else{let a=n.changes.filter(t);s=a.changes,l=a.filtered.mapDesc(a.changes).invertedDesc}n=At.create(e,s,n.selection&&n.selection.map(l),st.mapEffects(n.effects,l),n.annotations,n.scrollIntoView)}let r=e.facet(cv);for(let s=r.length-1;s>=0;s--){let l=r[s](n);l instanceof At?n=l:Array.isArray(l)&&l.length==1&&l[0]instanceof At?n=l[0]:n=pv(e,as(l),!1)}return n}function PO(n){let e=n.startState,t=e.facet(hv),r=n;for(let s=t.length-1;s>=0;s--){let l=t[s](n);l&&Object.keys(l).length&&(r=dv(r,cf(e,l,n.changes.newLength),!0))}return r==n?n:At.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const AO=[];function as(n){return n==null?AO:Array.isArray(n)?n:[n]}var gr=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})(gr||(gr={}));const EO=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let hf;try{hf=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function MO(n){if(hf)return hf.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||EO.test(t)))return!0}return!1}function DO(n){return e=>{if(!/\S/.test(e))return gr.Space;if(MO(e))return gr.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return gr.Word;return gr.Other}}class Te{constructor(e,t,r,s,l,a){this.config=e,this.doc=t,this.selection=r,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=l,a&&(a._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)Mo(this,c<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return Mo(this,r),su(this,r)}update(...e){return pv(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:s}=t;for(let c of e.effects)c.is(Jo.reconfigure)?(t&&(s=new Map,t.compartments.forEach((h,d)=>s.set(d,h)),t=null),s.set(c.value.compartment,c.value.extension)):c.is(st.reconfigure)?(t=null,r=c.value):c.is(st.appendConfig)&&(t=null,r=as(r).concat(c.value));let l;t?l=e.startState.values.slice():(t=iu.resolve(r,s,this),l=new Te(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(h,d)=>d.reconfigure(h,this),null).values);let a=e.startState.facet(uf)?e.newSelection:e.newSelection.asSingle();new Te(t,e.newDoc,a,l,(c,h)=>h.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:G.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),s=this.changes(r.changes),l=[r.range],a=as(r.effects);for(let c=1;c<t.ranges.length;c++){let h=e(t.ranges[c]),d=this.changes(h.changes),p=d.map(s);for(let v=0;v<c;v++)l[v]=l[v].map(p);let m=s.mapDesc(d,!0);l.push(h.range.map(m)),s=s.compose(p),a=st.mapEffects(a,p).concat(st.mapEffects(as(h.effects),m))}return{changes:s,selection:G.create(l,t.mainIndex),effects:a}}changes(e=[]){return e instanceof ct?e:ct.of(e,this.doc.length,this.facet(Te.lineSeparator))}toText(e){return Me.of(e.split(this.facet(Te.lineSeparator)||rf))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Mo(this,t),su(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let s=e[r];s instanceof Mi&&this.config.address[s.id]!=null&&(t[r]=s.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(r){for(let l in r)if(Object.prototype.hasOwnProperty.call(e,l)){let a=r[l],c=e[l];s.push(a.init(h=>a.spec.fromJSON(c,h)))}}return Te.create({doc:e.doc,selection:G.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=iu.resolve(e.extensions||[],new Map),r=e.doc instanceof Me?e.doc:Me.of((e.doc||"").split(t.staticFacet(Te.lineSeparator)||rf)),s=e.selection?e.selection instanceof G?e.selection:G.single(e.selection.anchor,e.selection.head):G.single(0);return sv(s,r.length),t.staticFacet(uf)||(s=s.asSingle()),new Te(t,r,s,t.dynamicSlots.map(()=>null),(l,a)=>a.create(l),null)}get tabSize(){return this.facet(Te.tabSize)}get lineBreak(){return this.facet(Te.lineSeparator)||`
`}get readOnly(){return this.facet(fv)}phrase(e,...t){for(let r of this.facet(Te.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,s)=>{if(s=="$")return"$";let l=+(s||1);return!l||l>t.length?r:t[l-1]})),e}languageDataAt(e,t,r=-1){let s=[];for(let l of this.facet(lv))for(let a of l(this,t,r))Object.prototype.hasOwnProperty.call(a,e)&&s.push(a[e]);return s}charCategorizer(e){return DO(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:s}=this.doc.lineAt(e),l=this.charCategorizer(e),a=e-r,c=e-r;for(;a>0;){let h=Nt(t,a,!1);if(l(t.slice(h,a))!=gr.Word)break;a=h}for(;c<s;){let h=Nt(t,c);if(l(t.slice(c,h))!=gr.Word)break;c=h}return a==c?null:G.range(a+r,c+r)}}Te.allowMultipleSelections=uf;Te.tabSize=ye.define({combine:n=>n.length?n[0]:4});Te.lineSeparator=av;Te.readOnly=fv;Te.phrases=ye.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(s=>n[s]==e[s])}});Te.languageData=lv;Te.changeFilter=uv;Te.transactionFilter=cv;Te.transactionExtender=hv;Jo.reconfigure=st.define();function gv(n,e,t={}){let r={};for(let s of n)for(let l of Object.keys(s)){let a=s[l],c=r[l];if(c===void 0)r[l]=a;else if(!(c===a||a===void 0))if(Object.hasOwnProperty.call(t,l))r[l]=t[l](c,a);else throw new Error("Config merge conflict for field "+l)}for(let s in e)r[s]===void 0&&(r[s]=e[s]);return r}class ds{eq(e){return this==e}range(e,t=e){return ff.create(e,t,this)}}ds.prototype.startSide=ds.prototype.endSide=0;ds.prototype.point=!1;ds.prototype.mapMode=nn.TrackDel;let ff=class mv{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new mv(e,t,r)}};function df(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class fd{constructor(e,t,r,s){this.from=e,this.to=t,this.value=r,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,s=0){let l=r?this.to:this.from;for(let a=s,c=l.length;;){if(a==c)return a;let h=a+c>>1,d=l[h]-e||(r?this.value[h].endSide:this.value[h].startSide)-t;if(h==a)return d>=0?a:c;d>=0?c=h:a=h+1}}between(e,t,r,s){for(let l=this.findIndex(t,-1e9,!0),a=this.findIndex(r,1e9,!1,l);l<a;l++)if(s(this.from[l]+e,this.to[l]+e,this.value[l])===!1)return!1}map(e,t){let r=[],s=[],l=[],a=-1,c=-1;for(let h=0;h<this.value.length;h++){let d=this.value[h],p=this.from[h]+e,m=this.to[h]+e,v,x;if(p==m){let k=t.mapPos(p,d.startSide,d.mapMode);if(k==null||(v=x=k,d.startSide!=d.endSide&&(x=t.mapPos(p,d.endSide),x<v)))continue}else if(v=t.mapPos(p,d.startSide),x=t.mapPos(m,d.endSide),v>x||v==x&&d.startSide>0&&d.endSide<=0)continue;(x-v||d.endSide-d.startSide)<0||(a<0&&(a=v),d.point&&(c=Math.max(c,x-v)),r.push(d),s.push(v-a),l.push(x-a))}return{mapped:r.length?new fd(s,l,r,c):null,pos:a}}}class Ne{constructor(e,t,r,s){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=s}static create(e,t,r,s){return new Ne(e,t,r,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:s=0,filterTo:l=this.length}=e,a=e.filter;if(t.length==0&&!a)return this;if(r&&(t=t.slice().sort(df)),this.isEmpty)return t.length?Ne.of(t):this;let c=new yv(this,null,-1).goto(0),h=0,d=[],p=new Fo;for(;c.value||h<t.length;)if(h<t.length&&(c.from-t[h].from||c.startSide-t[h].value.startSide)>=0){let m=t[h++];p.addInner(m.from,m.to,m.value)||d.push(m)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(h==t.length||this.chunkEnd(c.chunkIndex)<t[h].from)&&(!a||s>this.chunkEnd(c.chunkIndex)||l<this.chunkPos[c.chunkIndex])&&p.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!a||s>c.to||l<c.from||a(c.from,c.to,c.value))&&(p.addInner(c.from,c.to,c.value)||d.push(ff.create(c.from,c.to,c.value))),c.next());return p.finishInner(this.nextLayer.isEmpty&&!d.length?Ne.empty:this.nextLayer.update({add:d,filter:a,filterFrom:s,filterTo:l}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],s=-1;for(let a=0;a<this.chunk.length;a++){let c=this.chunkPos[a],h=this.chunk[a],d=e.touchesRange(c,c+h.length);if(d===!1)s=Math.max(s,h.maxPoint),t.push(h),r.push(e.mapPos(c));else if(d===!0){let{mapped:p,pos:m}=h.map(c,e);p&&(s=Math.max(s,p.maxPoint),t.push(p),r.push(m))}}let l=this.nextLayer.map(e);return t.length==0?l:new Ne(r,t,l||Ne.empty,s)}between(e,t,r){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],a=this.chunk[s];if(t>=l&&e<=l+a.length&&a.between(l,e-l,t-l,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return _o.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return _o.from(e).goto(t)}static compare(e,t,r,s,l=-1){let a=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=l),c=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=l),h=Qm(a,c,r),d=new go(a,h,l),p=new go(c,h,l);r.iterGaps((m,v,x)=>$m(d,m,p,v,x,s)),r.empty&&r.length==0&&$m(d,0,p,0,0,s)}static eq(e,t,r=0,s){s==null&&(s=999999999);let l=e.filter(p=>!p.isEmpty&&t.indexOf(p)<0),a=t.filter(p=>!p.isEmpty&&e.indexOf(p)<0);if(l.length!=a.length)return!1;if(!l.length)return!0;let c=Qm(l,a),h=new go(l,c,0).goto(r),d=new go(a,c,0).goto(r);for(;;){if(h.to!=d.to||!pf(h.active,d.active)||h.point&&(!d.point||!h.point.eq(d.point)))return!1;if(h.to>s)return!0;h.next(),d.next()}}static spans(e,t,r,s,l=-1){let a=new go(e,null,l).goto(t),c=t,h=a.openStart;for(;;){let d=Math.min(a.to,r);if(a.point){let p=a.activeForPoint(a.to),m=a.pointFrom<t?p.length+1:a.point.startSide<0?p.length:Math.min(p.length,h);s.point(c,d,a.point,p,m,a.pointRank),h=Math.min(a.openEnd(d),p.length)}else d>c&&(s.span(c,d,a.active,h),h=a.openEnd(d));if(a.to>r)return h+(a.point&&a.to>r?1:0);c=a.to,a.next()}}static of(e,t=!1){let r=new Fo;for(let s of e instanceof ff?[e]:t?RO(e):e)r.add(s.from,s.to,s.value);return r.finish()}static join(e){if(!e.length)return Ne.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let s=e[r];s!=Ne.empty;s=s.nextLayer)t=new Ne(s.chunkPos,s.chunk,t,Math.max(s.maxPoint,t.maxPoint));return t}}Ne.empty=new Ne([],[],null,-1);function RO(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(df(e,r)>0)return n.slice().sort(df);e=r}return n}Ne.empty.nextLayer=Ne.empty;class Fo{finishChunk(e){this.chunks.push(new fd(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Fo)).add(e,t,r)}addInner(e,t,r){let s=e-this.lastTo||r.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Ne.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Ne.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Qm(n,e,t){let r=new Map;for(let l of n)for(let a=0;a<l.chunk.length;a++)l.chunk[a].maxPoint<=0&&r.set(l.chunk[a],l.chunkPos[a]);let s=new Set;for(let l of e)for(let a=0;a<l.chunk.length;a++){let c=r.get(l.chunk[a]);c!=null&&(t?t.mapPos(c):c)==l.chunkPos[a]&&!(t!=null&&t.touchesRange(c,c+l.chunk[a].length))&&s.add(l.chunk[a])}return s}class yv{constructor(e,t,r,s=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class _o{constructor(e){this.heap=e}static from(e,t=null,r=-1){let s=[];for(let l=0;l<e.length;l++)for(let a=e[l];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&s.push(new yv(a,t,r,l));return s.length==1?s[0]:new _o(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)Mh(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)Mh(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Mh(this.heap,0)}}}function Mh(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let s=n[r];if(r+1<n.length&&s.compare(n[r+1])>=0&&(s=n[r+1],r++),t.compare(s)<0)break;n[r]=t,n[e]=s,e=r}}class go{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=_o.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Sa(this.active,e),Sa(this.activeTo,e),Sa(this.activeRank,e),this.minActive=Um(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:s,rank:l}=this.cursor;for(;t<this.activeRank.length&&(l-this.activeRank[t]||s-this.activeTo[t])>0;)t++;ba(this.active,t,r),ba(this.activeTo,t,s),ba(this.activeRank,t,l),e&&ba(e,t,this.cursor.from),this.minActive=Um(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),r&&Sa(r,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let l=this.cursor.value;if(!l.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=l,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=l.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let s=r.length-1;s>=0&&r[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function $m(n,e,t,r,s,l){n.goto(e),t.goto(r);let a=r+s,c=r,h=r-e;for(;;){let d=n.to+h-t.to,p=d||n.endSide-t.endSide,m=p<0?n.to+h:t.to,v=Math.min(m,a);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&pf(n.activeForPoint(n.to),t.activeForPoint(t.to))||l.comparePoint(c,v,n.point,t.point):v>c&&!pf(n.active,t.active)&&l.compareRange(c,v,n.active,t.active),m>a)break;(d||n.openEnd!=t.openEnd)&&l.boundChange&&l.boundChange(m),c=m,p<=0&&n.next(),p>=0&&t.next()}}function pf(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Sa(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function ba(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function Um(n,e){let t=-1,r=1e9;for(let s=0;s<e.length;s++)(e[s]-r||n[s].endSide-n[t].endSide)<0&&(t=s,r=e[s]);return t}function Pu(n,e,t=n.length){let r=0;for(let s=0;s<t&&s<n.length;)n.charCodeAt(s)==9?(r+=e-r%e,s++):(r++,s=Nt(n,s));return r}function TO(n,e,t,r){for(let s=0,l=0;;){if(l>=e)return s;if(s==n.length)break;l+=n.charCodeAt(s)==9?t-l%t:1,s=Nt(n,s)}return n.length}const gf="",Xm=typeof Symbol>"u"?"__"+gf:Symbol.for(gf),mf=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Zr{constructor(e,t){this.rules=[];let{finish:r}=t||{};function s(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function l(a,c,h,d){let p=[],m=/^@(\w+)\b/.exec(a[0]),v=m&&m[1]=="keyframes";if(m&&c==null)return h.push(a[0]+";");for(let x in c){let k=c[x];if(/&/.test(x))l(x.split(/,\s*/).map(S=>a.map(b=>S.replace(/&/,b))).reduce((S,b)=>S.concat(b)),k,h);else if(k&&typeof k=="object"){if(!m)throw new RangeError("The value of a property ("+x+") should be a primitive value.");l(s(x),k,p,v)}else k!=null&&p.push(x.replace(/_.*/,"").replace(/[A-Z]/g,S=>"-"+S.toLowerCase())+": "+k+";")}(p.length||v)&&h.push((r&&!m&&!d?a.map(r):a).join(", ")+" {"+p.join(" ")+"}")}for(let a in e)l(s(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Km[Xm]||1;return Km[Xm]=e+1,gf+e.toString(36)}static mount(e,t,r){let s=e[mf],l=r&&r.nonce;s?l&&s.setNonce(l):s=new NO(e,l),s.mount(Array.isArray(t)?t:[t],e)}}let qm=new Map;class NO{constructor(e,t){let r=e.ownerDocument||e,s=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let l=qm.get(r);if(l)return e[mf]=l;this.sheet=new s.CSSStyleSheet,qm.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[mf]=this}mount(e,t){let r=this.sheet,s=0,l=0;for(let a=0;a<e.length;a++){let c=e[a],h=this.modules.indexOf(c);if(h<l&&h>-1&&(this.modules.splice(h,1),l--,h=-1),h==-1){if(this.modules.splice(l++,0,c),r)for(let d=0;d<c.rules.length;d++)r.insertRule(c.rules[d],s++)}else{for(;l<h;)s+=this.modules[l++].rules.length;s+=c.rules.length,l++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let a="";for(let h=0;h<this.modules.length;h++)a+=this.modules[h].getRules()+`
`;this.styleTag.textContent=a;let c=t.head||t;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Jr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Vo={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},LO=typeof navigator<"u"&&/Mac/.test(navigator.platform),IO=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var gt=0;gt<10;gt++)Jr[48+gt]=Jr[96+gt]=String(gt);for(var gt=1;gt<=24;gt++)Jr[gt+111]="F"+gt;for(var gt=65;gt<=90;gt++)Jr[gt]=String.fromCharCode(gt+32),Vo[gt]=String.fromCharCode(gt);for(var Dh in Jr)Vo.hasOwnProperty(Dh)||(Vo[Dh]=Jr[Dh]);function BO(n){var e=LO&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||IO&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Vo:Jr)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}let Tt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},yf=typeof document<"u"?document:{documentElement:{style:{}}};const vf=/Edge\/(\d+)/.exec(Tt.userAgent),vv=/MSIE \d/.test(Tt.userAgent),xf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Tt.userAgent),Au=!!(vv||xf||vf),Ym=!Au&&/gecko\/(\d+)/i.test(Tt.userAgent),Rh=!Au&&/Chrome\/(\d+)/.exec(Tt.userAgent),zO="webkitFontSmoothing"in yf.documentElement.style,wf=!Au&&/Apple Computer/.test(Tt.vendor),Gm=wf&&(/Mobile\/\w+/.test(Tt.userAgent)||Tt.maxTouchPoints>2);var oe={mac:Gm||/Mac/.test(Tt.platform),windows:/Win/.test(Tt.platform),linux:/Linux|X11/.test(Tt.platform),ie:Au,ie_version:vv?yf.documentMode||6:xf?+xf[1]:vf?+vf[1]:0,gecko:Ym,gecko_version:Ym?+(/Firefox\/(\d+)/.exec(Tt.userAgent)||[0,0])[1]:0,chrome:!!Rh,chrome_version:Rh?+Rh[1]:0,ios:Gm,android:/Android\b/.test(Tt.userAgent),webkit_version:zO?+(/\bAppleWebKit\/(\d+)/.exec(Tt.userAgent)||[0,0])[1]:0,safari:wf,safari_version:wf?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Tt.userAgent)||[0,0])[1]:0,tabSize:yf.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function Ho(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function kf(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Wa(n,e){if(!e.anchorNode)return!1;try{return kf(n,e.anchorNode)}catch{return!1}}function Wo(n){return n.nodeType==3?Pi(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Do(n,e,t,r){return t?Zm(n,e,t,r,-1)||Zm(n,e,t,r,1):!1}function Ci(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function ou(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function Zm(n,e,t,r,s){for(;;){if(n==t&&e==r)return!0;if(e==(s<0?0:Zn(n))){if(n.nodeName=="DIV")return!1;let l=n.parentNode;if(!l||l.nodeType!=1)return!1;e=Ci(n)+(s<0?0:1),n=l}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=s<0?Zn(n):0}else return!1}}function Zn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Eu(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function jO(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function xv(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function FO(n,e,t,r,s,l,a,c){let h=n.ownerDocument,d=h.defaultView||window;for(let p=n,m=!1;p&&!m;)if(p.nodeType==1){let v,x=p==h.body,k=1,S=1;if(x)v=jO(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(m=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let D=p.getBoundingClientRect();({scaleX:k,scaleY:S}=xv(p,D)),v={left:D.left,right:D.left+p.clientWidth*k,top:D.top,bottom:D.top+p.clientHeight*S}}let b=0,E=0;if(s=="nearest")e.top<v.top?(E=e.top-(v.top+a),t>0&&e.bottom>v.bottom+E&&(E=e.bottom-v.bottom+a)):e.bottom>v.bottom&&(E=e.bottom-v.bottom+a,t<0&&e.top-E<v.top&&(E=e.top-(v.top+a)));else{let D=e.bottom-e.top,R=v.bottom-v.top;E=(s=="center"&&D<=R?e.top+D/2-R/2:s=="start"||s=="center"&&t<0?e.top-a:e.bottom-R+a)-v.top}if(r=="nearest"?e.left<v.left?(b=e.left-(v.left+l),t>0&&e.right>v.right+b&&(b=e.right-v.right+l)):e.right>v.right&&(b=e.right-v.right+l,t<0&&e.left<v.left+b&&(b=e.left-(v.left+l))):b=(r=="center"?e.left+(e.right-e.left)/2-(v.right-v.left)/2:r=="start"==c?e.left-l:e.right-(v.right-v.left)+l)-v.left,b||E)if(x)d.scrollBy(b,E);else{let D=0,R=0;if(E){let F=p.scrollTop;p.scrollTop+=E/S,R=(p.scrollTop-F)*S}if(b){let F=p.scrollLeft;p.scrollLeft+=b/k,D=(p.scrollLeft-F)*k}e={left:e.left-D,top:e.top-R,right:e.right-D,bottom:e.bottom-R},D&&Math.abs(D-b)<1&&(r="nearest"),R&&Math.abs(R-E)<1&&(s="nearest")}if(x)break;(e.top<v.top||e.bottom>v.bottom||e.left<v.left||e.right>v.right)&&(e={left:Math.max(e.left,v.left),right:Math.min(e.right,v.right),top:Math.max(e.top,v.top),bottom:Math.min(e.bottom,v.bottom)}),p=p.assignedSlot||p.parentNode}else if(p.nodeType==11)p=p.host;else break}function _O(n){let e=n.ownerDocument,t,r;for(let s=n.parentNode;s&&!(s==e.body||t&&r);)if(s.nodeType==1)!r&&s.scrollHeight>s.clientHeight&&(r=s),!t&&s.scrollWidth>s.clientWidth&&(t=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:t,y:r}}class VO{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?Zn(t):0),r,Math.min(e.focusOffset,r?Zn(r):0))}set(e,t,r,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=s}}let xi=null;oe.safari&&oe.safari_version>=26&&(xi=!1);function wv(n){if(n.setActive)return n.setActive();if(xi)return n.focus(xi);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(xi==null?{get preventScroll(){return xi={preventScroll:!0},!0}}:void 0),!xi){xi=!1;for(let t=0;t<e.length;){let r=e[t++],s=e[t++],l=e[t++];r.scrollTop!=s&&(r.scrollTop=s),r.scrollLeft!=l&&(r.scrollLeft=l)}}}let Jm;function Pi(n,e,t=e){let r=Jm||(Jm=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function us(n,e,t,r){let s={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=r);let l=new KeyboardEvent("keydown",s);l.synthetic=!0,n.dispatchEvent(l);let a=new KeyboardEvent("keyup",s);return a.synthetic=!0,n.dispatchEvent(a),l.defaultPrevented||a.defaultPrevented}function HO(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function kv(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function WO(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,Zn(t));;)if(r){if(t.nodeType!=1)return!1;let s=t.childNodes[r-1];s.contentEditable=="false"?r--:(t=s,r=Zn(t))}else{if(t==n)return!0;r=Ci(t),t=t.parentNode}}function Sv(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function bv(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=Zn(t)}else if(t.parentNode&&!ou(t))r=Ci(t),t=t.parentNode;else return null}}function Ov(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!ou(t))r=Ci(t)+1,t=t.parentNode;else return null}}class Pt{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Pt(e.parentNode,Ci(e),t)}static after(e,t){return new Pt(e.parentNode,Ci(e)+1,t)}}const dd=[];class Ie{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,s=null,l;for(let a of this.children){if(a.flags&7){if(!a.dom&&(l=s?s.nextSibling:r.firstChild)){let c=Ie.get(l);(!c||!c.parent&&c.canReuseDOM(a))&&a.reuseDOM(l)}a.sync(e,t),a.flags&=-8}if(l=s?s.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&l!=a.dom&&(t.written=!0),a.dom.parentNode==r)for(;l&&l!=a.dom;)l=e0(l);else r.insertBefore(a.dom,l);s=a.dom}for(l=s?s.nextSibling:r.firstChild,l&&t&&t.node==r&&(t.written=!0);l;)l=e0(l)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let s=Zn(e)==0?0:t==0?-1:1;for(;;){let l=e.parentNode;if(l==this.dom)break;s==0&&l.firstChild!=l.lastChild&&(e==l.firstChild?s=-1:s=1),e=l}s<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Ie.get(r);)r=r.nextSibling;if(!r)return this.length;for(let s=0,l=0;;s++){let a=this.children[s];if(a.dom==r)return l;l+=a.length+a.breakAfter}}domBoundsAround(e,t,r=0){let s=-1,l=-1,a=-1,c=-1;for(let h=0,d=r,p=r;h<this.children.length;h++){let m=this.children[h],v=d+m.length;if(d<e&&v>t)return m.domBoundsAround(e,t,d);if(v>=e&&s==-1&&(s=h,l=d),d>t&&m.dom.parentNode==this.dom){a=h,c=p;break}p=v,d=v+m.breakAfter}return{from:l,to:c<0?r+this.length:c,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=dd){this.markDirty();for(let s=e;s<t;s++){let l=this.children[s];l.parent==this&&r.indexOf(l)<0&&l.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let s=0;s<r.length;s++)r[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Cv(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,s,l,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Ie.prototype.breakAfter=0;function e0(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Cv{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function Pv(n,e,t,r,s,l,a,c,h){let{children:d}=n,p=d.length?d[e]:null,m=l.length?l[l.length-1]:null,v=m?m.breakAfter:a;if(!(e==r&&p&&!a&&!v&&l.length<2&&p.merge(t,s,l.length?m:null,t==0,c,h))){if(r<d.length){let x=d[r];x&&(s<x.length||x.breakAfter&&(m!=null&&m.breakAfter))?(e==r&&(x=x.split(s),s=0),!v&&m&&x.merge(0,s,m,!0,0,h)?l[l.length-1]=x:((s||x.children.length&&!x.children[0].length)&&x.merge(0,s,null,!1,0,h),l.push(x))):x!=null&&x.breakAfter&&(m?m.breakAfter=1:a=1),r++}for(p&&(p.breakAfter=a,t>0&&(!a&&l.length&&p.merge(t,p.length,l[0],!1,c,0)?p.breakAfter=l.shift().breakAfter:(t<p.length||p.children.length&&p.children[p.children.length-1].length==0)&&p.merge(t,p.length,null,!1,c,0),e++));e<r&&l.length;)if(d[r-1].become(l[l.length-1]))r--,l.pop(),h=l.length?0:c;else if(d[e].become(l[0]))e++,l.shift(),c=l.length?0:h;else break;!l.length&&e&&r<d.length&&!d[e-1].breakAfter&&d[r].merge(0,0,d[e-1],!1,c,h)&&e--,(e<r||l.length)&&n.replaceChildren(e,r,l)}}function Av(n,e,t,r,s,l){let a=n.childCursor(),{i:c,off:h}=a.findPos(t,1),{i:d,off:p}=a.findPos(e,-1),m=e-t;for(let v of r)m+=v.length;n.length+=m,Pv(n,d,p,c,h,r,0,s,l)}const QO=256;class Tn extends Ie{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Tn)||this.length-(t-e)+r.length>QO||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Tn(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Pt(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return $O(this.dom,e,t)}}class vr extends Ie{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let s of t)s.setParent(this)}setAttrs(e){if(kv(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,s,l,a){return r&&(!(r instanceof vr&&r.mark.eq(this.mark))||e&&l<=0||t<this.length&&a<=0)?!1:(Av(this,e,t,r?r.children.slice():[],l-1,a-1),this.markDirty(),!0)}split(e){let t=[],r=0,s=-1,l=0;for(let c of this.children){let h=r+c.length;h>e&&t.push(r<e?c.split(e-r):c),s<0&&r>=e&&(s=l),r=h,l++}let a=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new vr(this.mark,t,a)}domAtPos(e){return Ev(this,e)}coordsAt(e,t){return Dv(this,e,t)}}function $O(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let s=e,l=e,a=0;e==0&&t<0||e==r&&t>=0?oe.chrome||oe.gecko||(e?(s--,a=1):l<r&&(l++,a=-1)):t<0?s--:l<r&&l++;let c=Pi(n,s,l).getClientRects();if(!c.length)return null;let h=c[(a?a<0:t>=0)?0:c.length-1];return oe.safari&&!a&&h.width==0&&(h=Array.prototype.find.call(c,d=>d.width)||h),a?Eu(h,a<0):h||null}class Kr extends Ie{static create(e,t,r){return new Kr(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=Kr.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,s,l,a){return r&&(!(r instanceof Kr)||!this.widget.compare(r.widget)||e>0&&l<=0||t<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Kr&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Me.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,s=this.posAtStart;return r?r.slice(s,s+this.length):Me.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Pt.before(this.dom):Pt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let s=this.dom.getClientRects(),l=null;if(!s.length)return null;let a=this.side?this.side<0:e>0;for(let c=a?s.length-1:0;l=s[c],!(e>0?c==0:c==s.length-1||l.top<l.bottom);c+=a?-1:1);return Eu(l,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ps extends Ie{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ps&&e.side==this.side}split(){return new ps(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Pt.before(this.dom):Pt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Me.empty}get isHidden(){return!0}}Tn.prototype.children=Kr.prototype.children=ps.prototype.children=dd;function Ev(n,e){let t=n.dom,{children:r}=n,s=0;for(let l=0;s<r.length;s++){let a=r[s],c=l+a.length;if(!(c==l&&a.getSide()<=0)){if(e>l&&e<c&&a.dom.parentNode==t)return a.domAtPos(e-l);if(e<=l)break;l=c}}for(let l=s;l>0;l--){let a=r[l-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let l=s;l<r.length;l++){let a=r[l];if(a.dom.parentNode==t)return a.domAtPos(0)}return new Pt(t,0)}function Mv(n,e,t){let r,{children:s}=n;t>0&&e instanceof vr&&s.length&&(r=s[s.length-1])instanceof vr&&r.mark.eq(e.mark)?Mv(r,e.children[0],t-1):(s.push(e),e.setParent(n)),n.length+=e.length}function Dv(n,e,t){let r=null,s=-1,l=null,a=-1;function c(d,p){for(let m=0,v=0;m<d.children.length&&v<=p;m++){let x=d.children[m],k=v+x.length;k>=p&&(x.children.length?c(x,p-v):(!l||l.isHidden&&(t>0||XO(l,x)))&&(k>p||v==k&&x.getSide()>0)?(l=x,a=p-v):(v<p||v==k&&x.getSide()<0&&!x.isHidden)&&(r=x,s=p-v)),v=k}}c(n,e);let h=(t<0?r:l)||r||l;return h?h.coordsAt(Math.max(0,h==r?s:a),t):UO(n)}function UO(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Wo(e);return t[t.length-1]||null}function XO(n,e){let t=n.coordsAt(0,1),r=e.coordsAt(0,1);return t&&r&&r.top<t.bottom}function Sf(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const t0=Object.create(null);function lu(n,e,t){if(n==e)return!0;n||(n=t0),e||(e=t0);let r=Object.keys(n),s=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=s.length-(t&&s.indexOf(t)>-1?1:0))return!1;for(let l of r)if(l!=t&&(s.indexOf(l)==-1||n[l]!==e[l]))return!1;return!0}function bf(n,e,t){let r=!1;if(e)for(let s in e)t&&s in t||(r=!0,s=="style"?n.style.cssText="":n.removeAttribute(s));if(t)for(let s in t)e&&e[s]==t[s]||(r=!0,s=="style"?n.style.cssText=t[s]:n.setAttribute(s,t[s]));return r}function KO(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class el{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Lt=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(Lt||(Lt={}));class Ke extends ds{constructor(e,t,r,s){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=s}get heightRelevant(){return!1}static mark(e){return new tl(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new ei(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,s;if(e.isBlockGap)r=-5e8,s=4e8;else{let{start:l,end:a}=Rv(e,t);r=(l?t?-3e8:-1:5e8)-1,s=(a?t?2e8:1:-6e8)+1}return new ei(e,r,s,t,e.widget||null,!0)}static line(e){return new nl(e)}static set(e,t=!1){return Ne.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ke.none=Ne.empty;class tl extends Ke{constructor(e){let{start:t,end:r}=Rv(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof tl&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&lu(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}tl.prototype.point=!1;class nl extends Ke{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof nl&&this.spec.class==e.spec.class&&lu(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}nl.prototype.mapMode=nn.TrackBefore;nl.prototype.point=!0;class ei extends Ke{constructor(e,t,r,s,l,a){super(t,r,l,e),this.block=s,this.isReplace=a,this.mapMode=s?t<=0?nn.TrackBefore:nn.TrackAfter:nn.TrackDel}get type(){return this.startSide!=this.endSide?Lt.WidgetRange:this.startSide<=0?Lt.WidgetBefore:Lt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ei&&qO(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}ei.prototype.point=!0;function Rv(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function qO(n,e){return n==e||!!(n&&e&&n.compare(e))}function Qa(n,e,t,r=0){let s=t.length-1;s>=0&&t[s]+r>=n?t[s]=Math.max(t[s],e):t.push(n,e)}class et extends Ie{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,s,l,a){if(r){if(!(r instanceof et))return!1;this.dom||r.transferDOM(this)}return s&&this.setDeco(r?r.attrs:null),Av(this,e,t,r?r.children.slice():[],l,a),!0}split(e){let t=new et;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:s}=this.childPos(e);s&&(t.append(this.children[r].split(s),0),this.children[r].merge(s,this.children[r].length,null,!1,0,0),r++);for(let l=r;l<this.children.length;l++)t.append(this.children[l],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){lu(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Mv(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=Sf(t,this.attrs||{})),r&&(this.attrs=Sf({class:r},this.attrs||{}))}domAtPos(e){return Ev(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(kv(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(bf(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let s=this.dom.lastChild;for(;s&&Ie.get(s)instanceof vr;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((r=Ie.get(s))===null||r===void 0?void 0:r.isEditable)==!1&&(!oe.ios||!this.children.some(l=>l instanceof Tn))){let l=document.createElement("BR");l.cmIgnore=!0,this.dom.appendChild(l)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Tn)||/[^ -~]/.test(r.text))return null;let s=Wo(r.dom);if(s.length!=1)return null;e+=s[0].width,t=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=Dv(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:s}=this.parent.view.viewState,l=r.bottom-r.top;if(Math.abs(l-s.lineHeight)<2&&s.textHeight<l){let a=(l-s.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return e instanceof et&&this.children.length==0&&e.children.length==0&&lu(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,s=0;r<e.children.length;r++){let l=e.children[r],a=s+l.length;if(a>=t){if(l instanceof et)return l;if(a>t)break}s=a+l.breakAfter}return null}}class yr extends Ie{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,s,l,a){return r&&(!(r instanceof yr)||!this.widget.compare(r.widget)||e>0&&l<=0||t<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Pt.before(this.dom):Pt.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new yr(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return dd}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Me.empty}domBoundsAround(){return null}become(e){return e instanceof yr&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof Of?null:Eu(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class Of extends el{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Ro{constructor(e,t,r,s){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof yr&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new et),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Oa(new ps(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof yr)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:c,done:h}=this.cursor.next(this.skip);if(this.skip=0,h)throw new Error("Ran out of text content when drawing inline views");if(c){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=a,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e),l=Math.min(s,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(Oa(new Tn(this.text.slice(this.textOff,this.textOff+l)),t),r),this.atCursorPos=!0,this.textOff+=l,e-=l,r=s<=l?0:t.length}}span(e,t,r,s){this.buildText(t-e,r,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,r,s,l,a){if(this.disallowBlockEffectsFor[a]&&r instanceof ei){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=t-e;if(r instanceof ei)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new yr(r.widget||gs.block,c,r));else{let h=Kr.create(r.widget||gs.inline,c,c?0:r.startSide),d=this.atCursorPos&&!h.isEditable&&l<=s.length&&(e<t||r.startSide>0),p=!h.isEditable&&(e<t||l>s.length||r.startSide<=0),m=this.getLine();this.pendingBuffer==2&&!d&&!h.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),d&&(m.append(Oa(new ps(1),s),l),l=s.length+Math.max(0,l-s.length)),m.append(Oa(h,s),l),this.atCursorPos=p,this.pendingBuffer=p?e<t||l>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=l)}static build(e,t,r,s,l){let a=new Ro(e,t,r,l);return a.openEnd=Ne.spans(s,t,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function Oa(n,e){for(let t of e)n=new vr(t,[n],n.length);return n}class gs extends el{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}gs.inline=new gs("span");gs.block=new gs("div");var Xe=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(Xe||(Xe={}));const Ai=Xe.LTR,pd=Xe.RTL;function Tv(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const YO=Tv("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),GO=Tv("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Cf=Object.create(null),Qn=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Cf[e]=t,Cf[t]=-e}function Nv(n){return n<=247?YO[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?GO[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const ZO=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class qr{get dir(){return this.level%2?pd:Ai}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,s){let l=-1;for(let a=0;a<e.length;a++){let c=e[a];if(c.from<=t&&c.to>=t){if(c.level==r)return a;(l<0||(s!=0?s<0?c.from<t:c.to>t:e[l].level>c.level))&&(l=a)}}if(l<0)throw new RangeError("Index out of range");return l}}function Lv(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],s=e[t];if(r.from!=s.from||r.to!=s.to||r.direction!=s.direction||!Lv(r.inner,s.inner))return!1}return!0}const Be=[];function JO(n,e,t,r,s){for(let l=0;l<=r.length;l++){let a=l?r[l-1].to:e,c=l<r.length?r[l].from:t,h=l?256:s;for(let d=a,p=h,m=h;d<c;d++){let v=Nv(n.charCodeAt(d));v==512?v=p:v==8&&m==4&&(v=16),Be[d]=v==4?2:v,v&7&&(m=v),p=v}for(let d=a,p=h,m=h;d<c;d++){let v=Be[d];if(v==128)d<c-1&&p==Be[d+1]&&p&24?v=Be[d]=p:Be[d]=256;else if(v==64){let x=d+1;for(;x<c&&Be[x]==64;)x++;let k=d&&p==8||x<t&&Be[x]==8?m==1?1:8:256;for(let S=d;S<x;S++)Be[S]=k;d=x-1}else v==8&&m==1&&(Be[d]=1);p=v,v&7&&(m=v)}}}function eC(n,e,t,r,s){let l=s==1?2:1;for(let a=0,c=0,h=0;a<=r.length;a++){let d=a?r[a-1].to:e,p=a<r.length?r[a].from:t;for(let m=d,v,x,k;m<p;m++)if(x=Cf[v=n.charCodeAt(m)])if(x<0){for(let S=c-3;S>=0;S-=3)if(Qn[S+1]==-x){let b=Qn[S+2],E=b&2?s:b&4?b&1?l:s:0;E&&(Be[m]=Be[Qn[S]]=E),c=S;break}}else{if(Qn.length==189)break;Qn[c++]=m,Qn[c++]=v,Qn[c++]=h}else if((k=Be[m])==2||k==1){let S=k==s;h=S?0:1;for(let b=c-3;b>=0;b-=3){let E=Qn[b+2];if(E&2)break;if(S)Qn[b+2]|=2;else{if(E&4)break;Qn[b+2]|=4}}}}}function tC(n,e,t,r){for(let s=0,l=r;s<=t.length;s++){let a=s?t[s-1].to:n,c=s<t.length?t[s].from:e;for(let h=a;h<c;){let d=Be[h];if(d==256){let p=h+1;for(;;)if(p==c){if(s==t.length)break;p=t[s++].to,c=s<t.length?t[s].from:e}else if(Be[p]==256)p++;else break;let m=l==1,v=(p<e?Be[p]:r)==1,x=m==v?m?1:2:r;for(let k=p,S=s,b=S?t[S-1].to:n;k>h;)k==b&&(k=t[--S].from,b=S?t[S-1].to:n),Be[--k]=x;h=p}else l=d,h++}}}function Pf(n,e,t,r,s,l,a){let c=r%2?2:1;if(r%2==s%2)for(let h=e,d=0;h<t;){let p=!0,m=!1;if(d==l.length||h<l[d].from){let S=Be[h];S!=c&&(p=!1,m=S==16)}let v=!p&&c==1?[]:null,x=p?r:r+1,k=h;e:for(;;)if(d<l.length&&k==l[d].from){if(m)break e;let S=l[d];if(!p)for(let b=S.to,E=d+1;;){if(b==t)break e;if(E<l.length&&l[E].from==b)b=l[E++].to;else{if(Be[b]==c)break e;break}}if(d++,v)v.push(S);else{S.from>h&&a.push(new qr(h,S.from,x));let b=S.direction==Ai!=!(x%2);Af(n,b?r+1:r,s,S.inner,S.from,S.to,a),h=S.to}k=S.to}else{if(k==t||(p?Be[k]!=c:Be[k]==c))break;k++}v?Pf(n,h,k,r+1,s,v,a):h<k&&a.push(new qr(h,k,x)),h=k}else for(let h=t,d=l.length;h>e;){let p=!0,m=!1;if(!d||h>l[d-1].to){let S=Be[h-1];S!=c&&(p=!1,m=S==16)}let v=!p&&c==1?[]:null,x=p?r:r+1,k=h;e:for(;;)if(d&&k==l[d-1].to){if(m)break e;let S=l[--d];if(!p)for(let b=S.from,E=d;;){if(b==e)break e;if(E&&l[E-1].to==b)b=l[--E].from;else{if(Be[b-1]==c)break e;break}}if(v)v.push(S);else{S.to<h&&a.push(new qr(S.to,h,x));let b=S.direction==Ai!=!(x%2);Af(n,b?r+1:r,s,S.inner,S.from,S.to,a),h=S.from}k=S.from}else{if(k==e||(p?Be[k-1]!=c:Be[k-1]==c))break;k--}v?Pf(n,k,h,r+1,s,v,a):k<h&&a.push(new qr(k,h,x)),h=k}}function Af(n,e,t,r,s,l,a){let c=e%2?2:1;JO(n,s,l,r,c),eC(n,s,l,r,c),tC(s,l,r,c),Pf(n,s,l,e,t,r,a)}function nC(n,e,t){if(!n)return[new qr(0,0,e==pd?1:0)];if(e==Ai&&!t.length&&!ZO.test(n))return Iv(n.length);if(t.length)for(;n.length>Be.length;)Be[Be.length]=256;let r=[],s=e==Ai?0:1;return Af(n,s,s,t,0,n.length,r),r}function Iv(n){return[new qr(0,n,0)]}let Bv="";function rC(n,e,t,r,s){var l;let a=r.head-n.from,c=qr.find(e,a,(l=r.bidiLevel)!==null&&l!==void 0?l:-1,r.assoc),h=e[c],d=h.side(s,t);if(a==d){let v=c+=s?1:-1;if(v<0||v>=e.length)return null;h=e[c=v],a=h.side(!s,t),d=h.side(s,t)}let p=Nt(n.text,a,h.forward(s,t));(p<h.from||p>h.to)&&(p=d),Bv=n.text.slice(Math.min(a,p),Math.max(a,p));let m=c==(s?e.length-1:0)?null:e[c+(s?1:-1)];return m&&p==d&&m.level+(s?0:1)<h.level?G.cursor(m.side(!s,t)+n.from,m.forward(s,t)?1:-1,m.level):G.cursor(p+n.from,h.forward(s,t)?-1:1,h.level)}function iC(n,e,t){for(let r=e;r<t;r++){let s=Nv(n.charCodeAt(r));if(s==1)return Ai;if(s==2||s==4)return pd}return Ai}const zv=ye.define(),jv=ye.define(),Fv=ye.define(),_v=ye.define(),Ef=ye.define(),Vv=ye.define(),Hv=ye.define(),gd=ye.define(),md=ye.define(),Wv=ye.define({combine:n=>n.some(e=>e)}),Qv=ye.define({combine:n=>n.some(e=>e)}),$v=ye.define();class cs{constructor(e,t="nearest",r="nearest",s=5,l=5,a=!1){this.range=e,this.y=t,this.x=r,this.yMargin=s,this.xMargin=l,this.isSnapshot=a}map(e){return e.empty?this:new cs(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new cs(G.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Ca=st.define({map:(n,e)=>n.map(e)}),Uv=st.define();function Yn(n,e,t){let r=n.facet(_v);r.length?r[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const pr=ye.define({combine:n=>n.length?n[0]:!0});let sC=0;const rs=ye.define({combine(n){return n.filter((e,t)=>{for(let r=0;r<t;r++)if(n[r].plugin==e.plugin)return!1;return!0})}});class Nn{constructor(e,t,r,s,l){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=s,this.baseExtensions=l(this),this.extension=this.baseExtensions.concat(rs.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(rs.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:r,eventObservers:s,provide:l,decorations:a}=t||{};return new Nn(sC++,e,r,s,c=>{let h=[];return a&&h.push(Qo.of(d=>{let p=d.plugin(c);return p?a(p):Ke.none})),l&&h.push(l(c)),h})}static fromClass(e,t){return Nn.define((r,s)=>new e(r,s),t)}}class Th{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(Yn(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){Yn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){Yn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Xv=ye.define(),yd=ye.define(),Qo=ye.define(),Kv=ye.define(),rl=ye.define(),qv=ye.define();function n0(n,e){let t=n.state.facet(qv);if(!t.length)return t;let r=t.map(l=>l instanceof Function?l(n):l),s=[];return Ne.spans(r,e.from,e.to,{point(){},span(l,a,c,h){let d=l-e.from,p=a-e.from,m=s;for(let v=c.length-1;v>=0;v--,h--){let x=c[v].spec.bidiIsolate,k;if(x==null&&(x=iC(e.text,d,p)),h>0&&m.length&&(k=m[m.length-1]).to==d&&k.direction==x)k.to=p,m=k.inner;else{let S={from:d,to:p,direction:x,inner:[]};m.push(S),m=S.inner}}}}),s}const Yv=ye.define();function Gv(n){let e=0,t=0,r=0,s=0;for(let l of n.state.facet(Yv)){let a=l(n);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(t=Math.max(t,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(s=Math.max(s,a.bottom)))}return{left:e,right:t,top:r,bottom:s}}const ko=ye.define();class dn{constructor(e,t,r,s){this.fromA=e,this.toA=t,this.fromB=r,this.toB=s}join(e){return new dn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>r.toA)){if(s.toA<r.fromA)break;r=r.join(s),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let s=0,l=0,a=0,c=0;;s++){let h=s==e.length?null:e[s],d=a-c,p=h?h.fromB:1e9;for(;l<t.length&&t[l]<p;){let m=t[l],v=t[l+1],x=Math.max(c,m),k=Math.min(p,v);if(x<=k&&new dn(x+d,k+d,x,k).addToSet(r),v>p)break;l+=2}if(!h)return r;new dn(h.fromA,h.toA,h.fromB,h.toB).addToSet(r),a=h.toA,c=h.toB}}}class au{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=ct.empty(this.startState.doc.length);for(let l of r)this.changes=this.changes.compose(l.changes);let s=[];this.changes.iterChangedRanges((l,a,c,h)=>s.push(new dn(l,a,c,h))),this.changedRanges=s}static create(e,t,r){return new au(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class r0 extends Ie{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Ke.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new et],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new dn(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:d,toA:p})=>p<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?s=this.domChanged.newSel.head:!fC(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let l=s>-1?lC(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:d,to:p}=this.hasComposition;r=new dn(d,p,e.changes.mapPos(d,-1),e.changes.mapPos(p,1)).addToSet(r.slice())}this.hasComposition=l?{from:l.range.fromB,to:l.range.toB}:null,(oe.ie||oe.chrome)&&!l&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,c=this.updateDeco(),h=cC(a,c,e.changes);return r=dn.extendWithRanges(r,h),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,l),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=oe.chrome||oe.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||s.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let l=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof yr&&a.widget instanceof Of&&l.push(a.dom);s.updateGaps(l)}updateChildren(e,t,r){let s=r?r.range.addToSet(e.slice()):e,l=this.childCursor(t);for(let a=s.length-1;;a--){let c=a>=0?s[a]:null;if(!c)break;let{fromA:h,toA:d,fromB:p,toB:m}=c,v,x,k,S;if(r&&r.range.fromB<m&&r.range.toB>p){let F=Ro.build(this.view.state.doc,p,r.range.fromB,this.decorations,this.dynamicDecorationMap),I=Ro.build(this.view.state.doc,r.range.toB,m,this.decorations,this.dynamicDecorationMap);x=F.breakAtStart,k=F.openStart,S=I.openEnd;let j=this.compositionView(r);I.breakAtStart?j.breakAfter=1:I.content.length&&j.merge(j.length,j.length,I.content[0],!1,I.openStart,0)&&(j.breakAfter=I.content[0].breakAfter,I.content.shift()),F.content.length&&j.merge(0,0,F.content[F.content.length-1],!0,0,F.openEnd)&&F.content.pop(),v=F.content.concat(j).concat(I.content)}else({content:v,breakAtStart:x,openStart:k,openEnd:S}=Ro.build(this.view.state.doc,p,m,this.decorations,this.dynamicDecorationMap));let{i:b,off:E}=l.findPos(d,1),{i:D,off:R}=l.findPos(h,-1);Pv(this,D,R,b,E,v,x,k,S)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(Uv)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new Tn(e.text.nodeValue);t.flags|=8;for(let{deco:s}of e.marks)t=new vr(s,[t],t.length);let r=new et;return r.append(t,0),r}fixCompositionDOM(e){let t=(l,a)=>{a.flags|=8|(a.children.some(h=>h.flags&7)?1:0),this.markedForComposition.add(a);let c=Ie.get(l);c&&c!=a&&(c.dom=null),a.setDOM(l)},r=this.childPos(e.range.fromB,1),s=this.children[r.i];t(e.line,s);for(let l=e.marks.length-1;l>=-1;l--)r=s.childPos(r.off,1),s=s.children[r.i],t(l>=0?e.marks[l].node:e.text,s)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,s=r==this.dom,l=!s&&!(this.view.state.facet(pr)||this.dom.tabIndex>-1)&&Wa(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(s||t||l))return;let a=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,h=this.moveToLine(this.domAtPos(c.anchor)),d=c.empty?h:this.moveToLine(this.domAtPos(c.head));if(oe.gecko&&c.empty&&!this.hasComposition&&oC(h)){let m=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(m,h.node.childNodes[h.offset]||null)),h=d=new Pt(m,0),a=!0}let p=this.view.observer.selectionRange;(a||!p.focusNode||(!Do(h.node,h.offset,p.anchorNode,p.anchorOffset)||!Do(d.node,d.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,c))&&(this.view.observer.ignore(()=>{oe.android&&oe.chrome&&this.dom.contains(p.focusNode)&&hC(p.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let m=Ho(this.view.root);if(m)if(c.empty){if(oe.gecko){let v=aC(h.node,h.offset);if(v&&v!=3){let x=(v==1?bv:Ov)(h.node,h.offset);x&&(h=new Pt(x.node,x.offset))}}m.collapse(h.node,h.offset),c.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=c.bidiLevel)}else if(m.extend){m.collapse(h.node,h.offset);try{m.extend(d.node,d.offset)}catch{}}else{let v=document.createRange();c.anchor>c.head&&([h,d]=[d,h]),v.setEnd(d.node,d.offset),v.setStart(h.node,h.offset),m.removeAllRanges(),m.addRange(v)}l&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(h,d)),this.impreciseAnchor=h.precise?null:new Pt(p.anchorNode,p.anchorOffset),this.impreciseHead=d.precise?null:new Pt(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Do(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=Ho(e.root),{anchorNode:s,anchorOffset:l}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let a=et.find(this,t.head);if(!a)return;let c=a.posAtStart;if(t.head==c||t.head==c+a.length)return;let h=this.coordsAt(t.head,-1),d=this.coordsAt(t.head,1);if(!h||!d||h.bottom>d.top)return;let p=this.domAtPos(t.head+t.assoc);r.collapse(p.node,p.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&r.collapse(s,l)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let s=e.offset;!r&&s<t.childNodes.length;s++){let l=Ie.get(t.childNodes[s]);l instanceof et&&(r=l.domAtPos(0))}for(let s=e.offset-1;!r&&s>=0;s--){let l=Ie.get(t.childNodes[s]);l instanceof et&&(r=l.domAtPos(l.length))}return r?new Pt(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=Ie.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let s=this.children[t];if(r<s.length||s instanceof et)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,s=0;for(let l=this.length,a=this.children.length-1;a>=0;a--){let c=this.children[a],h=l-c.breakAfter,d=h-c.length;if(h<e)break;if(d<=e&&(d<e||c.covers(-1))&&(h>e||c.covers(1))&&(!r||c instanceof et&&!(r instanceof et&&t>=0)))r=c,s=d;else if(r&&d==e&&h==e&&c instanceof yr&&Math.abs(t)<2){if(c.deco.startSide<0)break;a&&(r=null)}l=d}return r?r.coordsAt(e-s,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),s=this.children[t];if(!(s instanceof et))return null;for(;s.children.length;){let{i:c,off:h}=s.childPos(r,1);for(;;c++){if(c==s.children.length)return null;if((s=s.children[c]).length)break}r=h}if(!(s instanceof Tn))return null;let l=Nt(s.text,r);if(l==r)return null;let a=Pi(s.dom,r,l).getClientRects();for(let c=0;c<a.length;c++){let h=a[c];if(c==a.length-1||h.top<h.bottom&&h.left<h.right)return h}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:s}=e,l=this.view.contentDOM.clientWidth,a=l>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,h=this.view.textDirection==Xe.LTR;for(let d=0,p=0;p<this.children.length;p++){let m=this.children[p],v=d+m.length;if(v>s)break;if(d>=r){let x=m.dom.getBoundingClientRect();if(t.push(x.height),a){let k=m.dom.lastChild,S=k?Wo(k):[];if(S.length){let b=S[S.length-1],E=h?b.right-x.left:x.right-b.left;E>c&&(c=E,this.minWidth=l,this.minWidthFrom=d,this.minWidthTo=v)}}}d=v+m.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Xe.RTL:Xe.LTR}measureTextSize(){for(let l of this.children)if(l instanceof et){let a=l.measureTextSize();if(a)return a}let e=document.createElement("div"),t,r,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let l=Wo(e.firstChild)[0];t=e.getBoundingClientRect().height,r=l?l.width/27:7,s=l?l.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:s}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Cv(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,s=0;;s++){let l=s==t.viewports.length?null:t.viewports[s],a=l?l.from-1:this.length;if(a>r){let c=(t.lineBlockAt(a).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(Ke.replace({widget:new Of(c),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!l)break;r=l.to+1}return Ke.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Qo).map(l=>(this.dynamicDecorationMap[e++]=typeof l=="function")?l(this.view):l),r=!1,s=this.view.state.facet(Kv).map((l,a)=>{let c=typeof l=="function";return c&&(r=!0),c?l(this.view):l});for(s.length&&(this.dynamicDecorationMap[e++]=r,t.push(Ne.join(s))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let d=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=d.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let d of this.view.state.facet($v))try{if(d(this.view,e.range,e))return!0}catch(p){Yn(this.view.state,p,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!r)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,s.left),top:Math.min(r.top,s.top),right:Math.max(r.right,s.right),bottom:Math.max(r.bottom,s.bottom)});let l=Gv(this.view),a={left:r.left-l.left,top:r.top-l.top,right:r.right+l.right,bottom:r.bottom+l.bottom},{offsetWidth:c,offsetHeight:h}=this.view.scrollDOM;FO(this.view.scrollDOM,a,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,h),-h),this.view.textDirection==Xe.LTR)}lineHasWidget(e){let{i:t}=this.childCursor().findPos(e);if(t==this.children.length)return!1;let r=s=>s instanceof Kr||s.children.some(r);return r(this.children[t])}}function oC(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function Zv(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=bv(t.focusNode,t.focusOffset),s=Ov(t.focusNode,t.focusOffset),l=r||s;if(s&&r&&s.node!=r.node){let c=Ie.get(s.node);if(!c||c instanceof Tn&&c.text!=s.node.nodeValue)l=s;else if(n.docView.lastCompositionAfterCursor){let h=Ie.get(r.node);!h||h instanceof Tn&&h.text!=r.node.nodeValue||(l=s)}}if(n.docView.lastCompositionAfterCursor=l!=r,!l)return null;let a=e-l.offset;return{from:a,to:a+l.node.nodeValue.length,node:l.node}}function lC(n,e,t){let r=Zv(n,t);if(!r)return null;let{node:s,from:l,to:a}=r,c=s.nodeValue;if(/[\n\r]/.test(c)||n.state.doc.sliceString(r.from,r.to)!=c)return null;let h=e.invertedDesc,d=new dn(h.mapPos(l),h.mapPos(a),l,a),p=[];for(let m=s.parentNode;;m=m.parentNode){let v=Ie.get(m);if(v instanceof vr)p.push({node:m,deco:v.mark});else{if(v instanceof et||m.nodeName=="DIV"&&m.parentNode==n.contentDOM)return{range:d,text:s,marks:p,line:m};if(m!=n.contentDOM)p.push({node:m,deco:new tl({inclusive:!0,attributes:KO(m),tagName:m.tagName.toLowerCase()})});else return null}}}function aC(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let uC=class{constructor(){this.changes=[]}compareRange(e,t){Qa(e,t,this.changes)}comparePoint(e,t){Qa(e,t,this.changes)}boundChange(e){Qa(e,e,this.changes)}};function cC(n,e,t){let r=new uC;return Ne.compare(n,e,t,r),r.changes}function hC(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function fC(n,e){let t=!1;return e&&n.iterChangedRanges((r,s)=>{r<e.to&&s>e.from&&(t=!0)}),t}function dC(n,e,t=1){let r=n.charCategorizer(e),s=n.doc.lineAt(e),l=e-s.from;if(s.length==0)return G.cursor(e);l==0?t=1:l==s.length&&(t=-1);let a=l,c=l;t<0?a=Nt(s.text,l,!1):c=Nt(s.text,l);let h=r(s.text.slice(a,c));for(;a>0;){let d=Nt(s.text,a,!1);if(r(s.text.slice(d,a))!=h)break;a=d}for(;c<s.length;){let d=Nt(s.text,c);if(r(s.text.slice(c,d))!=h)break;c=d}return G.range(a+s.from,c+s.from)}function pC(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function gC(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Nh(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function i0(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function s0(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function Mf(n,e,t){let r,s,l,a,c=!1,h,d,p,m;for(let k=n.firstChild;k;k=k.nextSibling){let S=Wo(k);for(let b=0;b<S.length;b++){let E=S[b];s&&Nh(s,E)&&(E=i0(s0(E,s.bottom),s.top));let D=pC(e,E),R=gC(t,E);if(D==0&&R==0)return k.nodeType==3?o0(k,e,t):Mf(k,e,t);(!r||a>R||a==R&&l>D)&&(r=k,s=E,l=D,a=R,c=D?e<E.left?b>0:b<S.length-1:!0),D==0?t>E.bottom&&(!p||p.bottom<E.bottom)?(h=k,p=E):t<E.top&&(!m||m.top>E.top)&&(d=k,m=E):p&&Nh(p,E)?p=s0(p,E.bottom):m&&Nh(m,E)&&(m=i0(m,E.top))}}if(p&&p.bottom>=t?(r=h,s=p):m&&m.top<=t&&(r=d,s=m),!r)return{node:n,offset:0};let v=Math.max(s.left,Math.min(s.right,e));if(r.nodeType==3)return o0(r,v,t);if(c&&r.contentEditable!="false")return Mf(r,v,t);let x=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(s.left+s.right)/2?1:0);return{node:n,offset:x}}function o0(n,e,t){let r=n.nodeValue.length,s=-1,l=1e9,a=0;for(let c=0;c<r;c++){let h=Pi(n,c,c+1).getClientRects();for(let d=0;d<h.length;d++){let p=h[d];if(p.top==p.bottom)continue;a||(a=e-p.left);let m=(p.top>t?p.top-t:t-p.bottom)-1;if(p.left-1<=e&&p.right+1>=e&&m<l){let v=e>=(p.left+p.right)/2,x=v;if(oe.chrome||oe.gecko){let k=Pi(n,c).getBoundingClientRect();Math.abs(k.left-p.right)<.1&&(x=!v)}if(m<=0)return{node:n,offset:c+(x?1:0)};s=c+(x?1:0),l=m}}}return{node:n,offset:s>-1?s:a>0?n.nodeValue.length:0}}function Jv(n,e,t,r=-1){var s,l;let a=n.contentDOM.getBoundingClientRect(),c=a.top+n.viewState.paddingTop,h,{docHeight:d}=n.viewState,{x:p,y:m}=e,v=m-c;if(v<0)return 0;if(v>d)return n.state.doc.length;for(let F=n.viewState.heightOracle.textHeight/2,I=!1;h=n.elementAtHeight(v),h.type!=Lt.Text;)for(;v=r>0?h.bottom+F:h.top-F,!(v>=0&&v<=d);){if(I)return t?null:0;I=!0,r=-r}m=c+v;let x=h.from;if(x<n.viewport.from)return n.viewport.from==0?0:t?null:l0(n,a,h,p,m);if(x>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:l0(n,a,h,p,m);let k=n.dom.ownerDocument,S=n.root.elementFromPoint?n.root:k,b=S.elementFromPoint(p,m);b&&!n.contentDOM.contains(b)&&(b=null),b||(p=Math.max(a.left+1,Math.min(a.right-1,p)),b=S.elementFromPoint(p,m),b&&!n.contentDOM.contains(b)&&(b=null));let E,D=-1;if(b&&((s=n.docView.nearest(b))===null||s===void 0?void 0:s.isEditable)!=!1){if(k.caretPositionFromPoint){let F=k.caretPositionFromPoint(p,m);F&&({offsetNode:E,offset:D}=F)}else if(k.caretRangeFromPoint){let F=k.caretRangeFromPoint(p,m);F&&({startContainer:E,startOffset:D}=F)}E&&(!n.contentDOM.contains(E)||oe.safari&&mC(E,D,p)||oe.chrome&&yC(E,D,p))&&(E=void 0),E&&(D=Math.min(Zn(E),D))}if(!E||!n.docView.dom.contains(E)){let F=et.find(n.docView,x);if(!F)return v>h.top+h.height/2?h.to:h.from;({node:E,offset:D}=Mf(F.dom,p,m))}let R=n.docView.nearest(E);if(!R)return null;if(R.isWidget&&((l=R.dom)===null||l===void 0?void 0:l.nodeType)==1){let F=R.dom.getBoundingClientRect();return e.y<F.top||e.y<=F.bottom&&e.x<=(F.left+F.right)/2?R.posAtStart:R.posAtEnd}else return R.localPosFromDOM(E,D)+R.posAtStart}function l0(n,e,t,r,s){let l=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let c=n.viewState.heightOracle.textHeight,h=Math.floor((s-t.top-(n.defaultLineHeight-c)*.5)/c);l+=h*n.viewState.heightOracle.lineLength}let a=n.state.sliceDoc(t.from,t.to);return t.from+TO(a,l,n.state.tabSize)}function e1(n,e,t){let r,s=n;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(;;){let l=s.nextSibling;if(l){if(l.nodeName=="BR")break;return!1}else{let a=s.parentNode;if(!a||a.nodeName=="DIV")break;s=a}}return Pi(n,r-1,r).getBoundingClientRect().right>t}function mC(n,e,t){return e1(n,e,t)}function yC(n,e,t){if(e!=0)return e1(n,e,t);for(let s=n;;){let l=s.parentNode;if(!l||l.nodeType!=1||l.firstChild!=s)return!1;if(l.classList.contains("cm-line"))break;s=l}let r=n.nodeType==1?n.getBoundingClientRect():Pi(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function Df(n,e,t){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){let s;for(let l of r.type){if(l.from>e)break;if(!(l.to<e)){if(l.from<e&&l.to>e)return l;(!s||l.type==Lt.Text&&(s.type!=l.type||(t<0?l.from<e:l.to>e)))&&(s=l)}}return s||r}return r}function vC(n,e,t,r){let s=Df(n,e.head,e.assoc||-1),l=!r||s.type!=Lt.Text||!(n.lineWrapping||s.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(l){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(s.from),h=n.posAtCoords({x:t==(c==Xe.LTR)?a.right-1:a.left+1,y:(l.top+l.bottom)/2});if(h!=null)return G.cursor(h,t?-1:1)}return G.cursor(t?s.to:s.from,t?-1:1)}function a0(n,e,t,r){let s=n.state.doc.lineAt(e.head),l=n.bidiSpans(s),a=n.textDirectionAt(s.from);for(let c=e,h=null;;){let d=rC(s,l,a,c,t),p=Bv;if(!d){if(s.number==(t?n.state.doc.lines:1))return c;p=`
`,s=n.state.doc.line(s.number+(t?1:-1)),l=n.bidiSpans(s),d=n.visualLineSide(s,!t)}if(h){if(!h(p))return c}else{if(!r)return d;h=r(p)}c=d}}function xC(n,e,t){let r=n.state.charCategorizer(e),s=r(t);return l=>{let a=r(l);return s==gr.Space&&(s=a),s==a}}function wC(n,e,t,r){let s=e.head,l=t?1:-1;if(s==(t?n.state.doc.length:0))return G.cursor(s,e.assoc);let a=e.goalColumn,c,h=n.contentDOM.getBoundingClientRect(),d=n.coordsAtPos(s,e.assoc||-1),p=n.documentTop;if(d)a==null&&(a=d.left-h.left),c=l<0?d.top:d.bottom;else{let x=n.viewState.lineBlockAt(s);a==null&&(a=Math.min(h.right-h.left,n.defaultCharacterWidth*(s-x.from))),c=(l<0?x.top:x.bottom)+p}let m=h.left+a,v=r??n.viewState.heightOracle.textHeight>>1;for(let x=0;;x+=10){let k=c+(v+x)*l,S=Jv(n,{x:m,y:k},!1,l);if(k<h.top||k>h.bottom||(l<0?S<s:S>s)){let b=n.docView.coordsForChar(S),E=!b||k<b.top?-1:1;return G.cursor(S,E,void 0,a)}}}function To(n,e,t){for(;;){let r=0;for(let s of n)s.between(e-1,e+1,(l,a,c)=>{if(e>l&&e<a){let h=r||t||(e-l<a-e?-1:1);e=h<0?l:a,r=h}});if(!r)return e}}function t1(n,e){let t=null;for(let r=0;r<e.ranges.length;r++){let s=e.ranges[r],l=null;if(s.empty){let a=To(n,s.from,0);a!=s.from&&(l=G.cursor(a,-1))}else{let a=To(n,s.from,-1),c=To(n,s.to,1);(a!=s.from||c!=s.to)&&(l=G.range(s.from==s.anchor?a:c,s.from==s.head?a:c))}l&&(t||(t=e.ranges.slice()),t[r]=l)}return t?G.create(t,e.mainIndex):e}function Lh(n,e,t){let r=To(n.state.facet(rl).map(s=>s(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:G.cursor(r,r<t.from?1:-1)}const So="";class kC{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Te.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=So}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let s=e;;){this.findPointBefore(r,s);let l=this.text.length;this.readNode(s);let a=s.nextSibling;if(a==t)break;let c=Ie.get(s),h=Ie.get(a);(c&&h?c.breakAfter:(c?c.breakAfter:ou(s))||ou(a)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>l)&&!bC(a,t)&&this.lineBreak(),s=a}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let l=-1,a=1,c;if(this.lineSeparator?(l=t.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(c=s.exec(t))&&(l=c.index,a=c[0].length),this.append(t.slice(r,l<0?t.length:l)),l<0)break;if(this.lineBreak(),a>1)for(let h of this.points)h.node==e&&h.pos>this.text.length&&(h.pos-=a-1);r=l+a}}readNode(e){if(e.cmIgnore)return;let t=Ie.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let s=r.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(SC(e,r.node,r.offset)?t:0))}}function SC(n,e,t){for(;;){if(!e||t<Zn(e))return!1;if(e==n)return!0;t=Ci(e)+1,e=e.parentNode}}function bC(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let r=Ie.get(n);if(!(r!=null&&r.isWidget||n.cmIgnore))return!1;r&&(t||(t=[])).push(r)}if(t)for(let r of t){let s=r.overrideDOMText;if(s!=null&&s.length)return!1}return!0}class u0{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class OC{constructor(e,t,r,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:l,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let c=l||a?[]:PC(e),h=new kC(c,e.state);h.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=h.text,this.newSel=AC(c,this.bounds.from)}else{let c=e.observer.selectionRange,h=l&&l.node==c.focusNode&&l.offset==c.focusOffset||!kf(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),d=a&&a.node==c.anchorNode&&a.offset==c.anchorOffset||!kf(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),p=e.viewport;if((oe.ios||oe.chrome)&&e.state.selection.main.empty&&h!=d&&(p.from>0||p.to<e.state.doc.length)){let m=Math.min(h,d),v=Math.max(h,d),x=p.from-m,k=p.to-v;(x==0||x==1||m==0)&&(k==0||k==-1||v==e.state.doc.length)&&(h=0,d=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(G.range(d,h)):this.newSel=G.single(d,h)}}}function n1(n,e){let t,{newSel:r}=e,s=n.state.selection.main,l=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:c}=e.bounds,h=s.from,d=null;(l===8||oe.android&&e.text.length<c-a)&&(h=s.to,d="end");let p=r1(n.state.doc.sliceString(a,c,So),e.text,h-a,d);p&&(oe.chrome&&l==13&&p.toB==p.from+2&&e.text.slice(p.from,p.toB)==So+So&&p.toB--,t={from:a+p.from,to:a+p.toA,insert:Me.of(e.text.slice(p.from,p.toB).split(So))})}else r&&(!n.hasFocus&&n.state.facet(pr)||r.main.eq(s))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!s.empty&&r&&r.main.empty?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:(oe.mac||oe.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=G.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:Me.of([t.insert.toString().replace("."," ")])}):t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,s.to))}:n.state.doc.lineAt(s.from).to<s.to&&n.docView.lineHasWidget(s.to)&&n.inputState.insertingTextAt>Date.now()-50?t={from:s.from,to:s.to,insert:n.state.toText(n.inputState.insertingText)}:oe.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=G.single(r.main.anchor-1,r.main.head-1)),t={from:s.from,to:s.to,insert:Me.of([" "])}),t)return vd(n,t,r,l);if(r&&!r.main.eq(s)){let a=!1,c="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(a=!0),c=n.inputState.lastSelectionOrigin,c=="select.pointer"&&(r=t1(n.state.facet(rl).map(h=>h(n)),r))),n.dispatch({selection:r,scrollIntoView:a,userEvent:c}),!0}else return!1}function vd(n,e,t,r=-1){if(oe.ios&&n.inputState.flushIOSKey(e))return!0;let s=n.state.selection.main;if(oe.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&n.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&us(n.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&us(n.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&us(n.contentDOM,"Delete",46)))return!0;let l=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let a,c=()=>a||(a=CC(n,e,t));return n.state.facet(Vv).some(h=>h(n,e.from,e.to,l,c))||n.dispatch(c()),!0}function CC(n,e,t){let r,s=n.state,l=s.selection.main,a=-1;if(e.from==e.to&&e.from<l.from||e.from>l.to){let h=e.from<l.from?-1:1,d=h<0?l.from:l.to,p=To(s.facet(rl).map(m=>m(n)),d,h);e.from==p&&(a=p)}if(a>-1)r={changes:e,selection:G.cursor(e.from+e.insert.length,-1)};else if(e.from>=l.from&&e.to<=l.to&&e.to-e.from>=(l.to-l.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let h=l.from<e.from?s.sliceDoc(l.from,e.from):"",d=l.to>e.to?s.sliceDoc(e.to,l.to):"";r=s.replaceSelection(n.state.toText(h+e.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let h=s.changes(e),d=t&&t.main.to<=h.newLength?t.main:void 0;if(s.selection.ranges.length>1&&(n.inputState.composing>=0||n.inputState.compositionPendingChange)&&e.to<=l.to+10&&e.to>=l.to-10){let p=n.state.sliceDoc(e.from,e.to),m,v=t&&Zv(n,t.main.head);if(v){let k=e.insert.length-(e.to-e.from);m={from:v.from,to:v.to-k}}else m=n.state.doc.lineAt(l.head);let x=l.to-e.to;r=s.changeByRange(k=>{if(k.from==l.from&&k.to==l.to)return{changes:h,range:d||k.map(h)};let S=k.to-x,b=S-p.length;if(n.state.sliceDoc(b,S)!=p||S>=m.from&&b<=m.to)return{range:k};let E=s.changes({from:b,to:S,insert:e.insert}),D=k.to-l.to;return{changes:E,range:d?G.range(Math.max(0,d.anchor+D),Math.max(0,d.head+D)):k.map(E)}})}else r={changes:h,selection:d&&s.selection.replaceRange(d)}}let c="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,c+=".compose",n.inputState.compositionFirstChange&&(c+=".start",n.inputState.compositionFirstChange=!1)),s.update(r,{userEvent:c,scrollIntoView:!0})}function r1(n,e,t,r){let s=Math.min(n.length,e.length),l=0;for(;l<s&&n.charCodeAt(l)==e.charCodeAt(l);)l++;if(l==s&&n.length==e.length)return null;let a=n.length,c=e.length;for(;a>0&&c>0&&n.charCodeAt(a-1)==e.charCodeAt(c-1);)a--,c--;if(r=="end"){let h=Math.max(0,l-Math.min(a,c));t-=a+h-l}if(a<l&&n.length<e.length){let h=t<=l&&t>=a?l-t:0;l-=h,c=l+(c-a),a=l}else if(c<l){let h=t<=l&&t>=c?l-t:0;l-=h,a=l+(a-c),c=l}return{from:l,toA:a,toB:c}}function PC(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:l}=n.observer.selectionRange;return t&&(e.push(new u0(t,r)),(s!=t||l!=r)&&e.push(new u0(s,l))),e}function AC(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?G.single(t+e,r+e):null}class EC{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,oe.safari&&e.contentDOM.addEventListener("input",()=>null),oe.gecko&&QC(e.contentDOM.ownerDocument)}handleEvent(e){!BC(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let s of r.observers)s(this.view,t);for(let s of r.handlers){if(t.defaultPrevented)break;if(s(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=MC(e),r=this.handlers,s=this.view.contentDOM;for(let l in t)if(l!="scroll"){let a=!t[l].handlers.length,c=r[l];c&&a!=!c.handlers.length&&(s.removeEventListener(l,this.handleEvent),c=null),c||s.addEventListener(l,this.handleEvent,{passive:a})}for(let l in r)l!="scroll"&&!t[l]&&s.removeEventListener(l,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&s1.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),oe.android&&oe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return oe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=i1.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||DC.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,us(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:oe.safari&&!oe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function c0(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(s){Yn(t.state,s)}}}function MC(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let s=r.spec,l=s&&s.plugin.domEventHandlers,a=s&&s.plugin.domEventObservers;if(l)for(let c in l){let h=l[c];h&&t(c).handlers.push(c0(r.value,h))}if(a)for(let c in a){let h=a[c];h&&t(c).observers.push(c0(r.value,h))}}for(let r in Ln)t(r).handlers.push(Ln[r]);for(let r in gn)t(r).observers.push(gn[r]);return e}const i1=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],DC="dthko",s1=[16,17,18,20,91,92,224,225],Pa=6;function Aa(n){return Math.max(0,n)*.7+8}function RC(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class TC{constructor(e,t,r,s){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=_O(e.contentDOM),this.atoms=e.state.facet(rl).map(a=>a(e));let l=e.contentDOM.ownerDocument;l.addEventListener("mousemove",this.move=this.move.bind(this)),l.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Te.allowMultipleSelections)&&NC(e,t),this.dragging=IC(e,t)&&a1(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&RC(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,s=0,l=0,a=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:l,bottom:c}=this.scrollParents.y.getBoundingClientRect());let h=Gv(this.view);e.clientX-h.left<=s+Pa?t=-Aa(s-e.clientX):e.clientX+h.right>=a-Pa&&(t=Aa(e.clientX-a)),e.clientY-h.top<=l+Pa?r=-Aa(l-e.clientY):e.clientY+h.bottom>=c-Pa&&(r=Aa(e.clientY-c)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,r=t1(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function NC(n,e){let t=n.state.facet(zv);return t.length?t[0](e):oe.mac?e.metaKey:e.ctrlKey}function LC(n,e){let t=n.state.facet(jv);return t.length?t[0](e):oe.mac?!e.altKey:!e.ctrlKey}function IC(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=Ho(n.root);if(!r||r.rangeCount==0)return!0;let s=r.getRangeAt(0).getClientRects();for(let l=0;l<s.length;l++){let a=s[l];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function BC(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=Ie.get(t))&&r.ignoreEvent(e))return!1;return!0}const Ln=Object.create(null),gn=Object.create(null),o1=oe.ie&&oe.ie_version<15||oe.ios&&oe.webkit_version<604;function zC(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),l1(n,t.value)},50)}function Mu(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function l1(n,e){e=Mu(n.state,gd,e);let{state:t}=n,r,s=1,l=t.toText(e),a=l.lines==t.selection.ranges.length;if(Rf!=null&&t.selection.ranges.every(h=>h.empty)&&Rf==l.toString()){let h=-1;r=t.changeByRange(d=>{let p=t.doc.lineAt(d.from);if(p.from==h)return{range:d};h=p.from;let m=t.toText((a?l.line(s++).text:e)+t.lineBreak);return{changes:{from:p.from,insert:m},range:G.cursor(d.from+m.length)}})}else a?r=t.changeByRange(h=>{let d=l.line(s++);return{changes:{from:h.from,to:h.to,insert:d.text},range:G.cursor(h.from+d.length)}}):r=t.replaceSelection(l);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}gn.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Ln.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);gn.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};gn.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Ln.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(Fv))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=_C(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new TC(n,e,t,r)),r&&n.observer.ignore(()=>{wv(n.contentDOM);let l=n.root.activeElement;l&&!l.contains(n.contentDOM)&&l.blur()});let s=n.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function h0(n,e,t,r){if(r==1)return G.cursor(e,t);if(r==2)return dC(n.state,e,t);{let s=et.find(n.docView,e),l=n.state.doc.lineAt(s?s.posAtEnd:e),a=s?s.posAtStart:l.from,c=s?s.posAtEnd:l.to;return c<n.state.doc.length&&c==l.to&&c++,G.range(a,c)}}let f0=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function jC(n,e,t,r){let s=et.find(n.docView,e);if(!s)return 1;let l=e-s.posAtStart;if(l==0)return 1;if(l==s.length)return-1;let a=s.coordsAt(l,-1);if(a&&f0(t,r,a))return-1;let c=s.coordsAt(l,1);return c&&f0(t,r,c)?1:a&&a.bottom>=r?-1:1}function d0(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:jC(n,t,e.clientX,e.clientY)}}const FC=oe.ie&&oe.ie_version<=11;let p0=null,g0=0,m0=0;function a1(n){if(!FC)return n.detail;let e=p0,t=m0;return p0=n,m0=Date.now(),g0=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(g0+1)%3:1}function _C(n,e){let t=d0(n,e),r=a1(e),s=n.state.selection;return{update(l){l.docChanged&&(t.pos=l.changes.mapPos(t.pos),s=s.map(l.changes))},get(l,a,c){let h=d0(n,l),d,p=h0(n,h.pos,h.bias,r);if(t.pos!=h.pos&&!a){let m=h0(n,t.pos,t.bias,r),v=Math.min(m.from,p.from),x=Math.max(m.to,p.to);p=v<p.from?G.range(v,x):G.range(x,v)}return a?s.replaceRange(s.main.extend(p.from,p.to)):c&&r==1&&s.ranges.length>1&&(d=VC(s,h.pos))?d:c?s.addRange(p):G.create([p])}}}function VC(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:s}=n.ranges[t];if(r<=e&&s>=e)return G.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Ln.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let s=n.docView.nearest(e.target);if(s&&s.isWidget){let l=s.posAtStart,a=l+s.length;(l>=t.to||a<=t.from)&&(t=G.range(l,a))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Mu(n.state,md,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Ln.dragend=n=>(n.inputState.draggedContent=null,!1);function y0(n,e,t,r){if(t=Mu(n.state,gd,t),!t)return;let s=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:l}=n.inputState,a=r&&l&&LC(n,e)?{from:l.from,to:l.to}:null,c={from:s,insert:t},h=n.state.changes(a?[a,c]:c);n.focus(),n.dispatch({changes:h,selection:{anchor:h.mapPos(s,-1),head:h.mapPos(s,1)},userEvent:a?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Ln.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),s=0,l=()=>{++s==t.length&&y0(n,e,r.filter(a=>a!=null).join(n.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let c=new FileReader;c.onerror=l,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(r[a]=c.result),l()},c.readAsText(t[a])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return y0(n,e,r,!0),!0}return!1};Ln.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=o1?null:e.clipboardData;return t?(l1(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(zC(n),!1)};function HC(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function WC(n){let e=[],t=[],r=!1;for(let s of n.selection.ranges)s.empty||(e.push(n.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:l}of n.selection.ranges){let a=n.doc.lineAt(l);a.number>s&&(e.push(a.text),t.push({from:a.from,to:Math.min(n.doc.length,a.to+1)})),s=a.number}r=!0}return{text:Mu(n,md,e.join(n.lineBreak)),ranges:t,linewise:r}}let Rf=null;Ln.copy=Ln.cut=(n,e)=>{let{text:t,ranges:r,linewise:s}=WC(n.state);if(!t&&!s)return!1;Rf=s?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let l=o1?null:e.clipboardData;return l?(l.clearData(),l.setData("text/plain",t),!0):(HC(n,t),!1)};const u1=bs.define();function c1(n,e){let t=[];for(let r of n.facet(Hv)){let s=r(n,e);s&&t.push(s)}return t.length?n.update({effects:t,annotations:u1.of(!0)}):null}function h1(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=c1(n.state,e);t?n.dispatch(t):n.update([])}},10)}gn.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),h1(n)};gn.blur=n=>{n.observer.clearSelectionRange(),h1(n)};gn.compositionstart=gn.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};gn.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,oe.chrome&&oe.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};gn.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Ln.beforeinput=(n,e)=>{var t,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(n.inputState.insertingText=e.data,n.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&n.observer.editContext){let l=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),a=e.getTargetRanges();if(l&&a.length){let c=a[0],h=n.posAtDOM(c.startContainer,c.startOffset),d=n.posAtDOM(c.endContainer,c.endOffset);return vd(n,{from:h,to:d,insert:n.state.toText(l)},null),!0}}let s;if(oe.chrome&&oe.android&&(s=i1.find(l=>l.inputType==e.inputType))&&(n.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let l=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>l+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return oe.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),oe.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>gn.compositionend(n,e),20),!1};const v0=new Set;function QC(n){v0.has(n)||(v0.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const x0=["pre-wrap","normal","pre-line","break-spaces"];let ms=!1;function w0(){ms=!1}class $C{constructor(e){this.lineWrapping=e,this.doc=Me.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return x0.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let s=e[r];s<0?r++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,r,s,l,a){let c=x0.indexOf(e)>-1,h=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=r,this.textHeight=s,this.lineLength=l,h){this.heightSamples={};for(let d=0;d<a.length;d++){let p=a[d];p<0?d++:this.heightSamples[Math.floor(p*10)]=!0}}return h}}class UC{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class qn{constructor(e,t,r,s,l){this.from=e,this.length=t,this.top=r,this.height=s,this._content=l}get type(){return typeof this._content=="number"?Lt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ei?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new qn(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var _e=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})(_e||(_e={}));const $a=.001;class It{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>$a&&(ms=!0),this.height=e)}replace(e,t,r){return It.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,s){let l=this,a=r.doc;for(let c=s.length-1;c>=0;c--){let{fromA:h,toA:d,fromB:p,toB:m}=s[c],v=l.lineAt(h,_e.ByPosNoHeight,r.setDoc(t),0,0),x=v.to>=d?v:l.lineAt(d,_e.ByPosNoHeight,r,0,0);for(m+=x.to-d,d=x.to;c>0&&v.from<=s[c-1].toA;)h=s[c-1].fromA,p=s[c-1].fromB,c--,h<v.from&&(v=l.lineAt(h,_e.ByPosNoHeight,r,0,0));p+=v.from-h,h=v.from;let k=xd.build(r.setDoc(a),e,p,m);l=uu(l,l.replace(h,d,k))}return l.updateHeight(r,0)}static empty(){return new en(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,s=0,l=0;for(;;)if(t==r)if(s>l*2){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),r+=1+c.break,s-=c.size}else if(l>s*2){let c=e[r];c.break?e.splice(r,1,c.left,null,c.right):e.splice(r,1,c.left,c.right),r+=2+c.break,l-=c.size}else break;else if(s<l){let c=e[t++];c&&(s+=c.size)}else{let c=e[--r];c&&(l+=c.size)}let a=0;return e[t-1]==null?(a=1,t--):e[t]==null&&(a=1,r++),new XC(It.of(e.slice(0,t)),a,It.of(e.slice(r)))}}function uu(n,e){return n==e?n:(n.constructor!=e.constructor&&(ms=!0),e)}It.prototype.size=1;class f1 extends It{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,s){return new qn(s,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,s,l){return this.blockAt(0,r,s,l)}forEachLine(e,t,r,s,l,a){e<=l+this.length&&t>=l&&a(this.blockAt(0,r,s,l))}updateHeight(e,t=0,r=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class en extends f1{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,s){return new qn(s,this.length,r,this.height,this.breaks)}replace(e,t,r){let s=r[0];return r.length==1&&(s instanceof en||s instanceof pt&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof pt?s=new en(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):It.of(r)}updateHeight(e,t=0,r=!1,s){return s&&s.from<=t&&s.more?this.setHeight(s.heights[s.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class pt extends It{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,l=s-r+1,a,c=0;if(e.lineWrapping){let h=Math.min(this.height,e.lineHeight*l);a=h/l,this.length>l+1&&(c=(this.height-h)/(this.length-l-1))}else a=this.height/l;return{firstLine:r,lastLine:s,perLine:a,perChar:c}}blockAt(e,t,r,s){let{firstLine:l,lastLine:a,perLine:c,perChar:h}=this.heightMetrics(t,s);if(t.lineWrapping){let d=s+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),p=t.doc.lineAt(d),m=c+p.length*h,v=Math.max(r,e-m/2);return new qn(p.from,p.length,v,m,0)}else{let d=Math.max(0,Math.min(a-l,Math.floor((e-r)/c))),{from:p,length:m}=t.doc.line(l+d);return new qn(p,m,r+c*d,c,0)}}lineAt(e,t,r,s,l){if(t==_e.ByHeight)return this.blockAt(e,r,s,l);if(t==_e.ByPosNoHeight){let{from:x,to:k}=r.doc.lineAt(e);return new qn(x,k-x,0,0,0)}let{firstLine:a,perLine:c,perChar:h}=this.heightMetrics(r,l),d=r.doc.lineAt(e),p=c+d.length*h,m=d.number-a,v=s+c*m+h*(d.from-l-m);return new qn(d.from,d.length,Math.max(s,Math.min(v,s+this.height-p)),p,0)}forEachLine(e,t,r,s,l,a){e=Math.max(e,l),t=Math.min(t,l+this.length);let{firstLine:c,perLine:h,perChar:d}=this.heightMetrics(r,l);for(let p=e,m=s;p<=t;){let v=r.doc.lineAt(p);if(p==e){let k=v.number-c;m+=h*k+d*(e-l-k)}let x=h+d*v.length;a(new qn(v.from,v.length,m,x,0)),m+=x,p=v.to+1}}replace(e,t,r){let s=this.length-t;if(s>0){let l=r[r.length-1];l instanceof pt?r[r.length-1]=new pt(l.length+s):r.push(null,new pt(s-1))}if(e>0){let l=r[0];l instanceof pt?r[0]=new pt(e+l.length):r.unshift(new pt(e-1),null)}return It.of(r)}decomposeLeft(e,t){t.push(new pt(e-1),null)}decomposeRight(e,t){t.push(null,new pt(this.length-e-1))}updateHeight(e,t=0,r=!1,s){let l=t+this.length;if(s&&s.from<=t+this.length&&s.more){let a=[],c=Math.max(t,s.from),h=-1;for(s.from>t&&a.push(new pt(s.from-t-1).updateHeight(e,t));c<=l&&s.more;){let p=e.doc.lineAt(c).length;a.length&&a.push(null);let m=s.heights[s.index++];h==-1?h=m:Math.abs(m-h)>=$a&&(h=-2);let v=new en(p,m);v.outdated=!1,a.push(v),c+=p+1}c<=l&&a.push(null,new pt(l-c).updateHeight(e,c));let d=It.of(a);return(h<0||Math.abs(d.height-this.height)>=$a||Math.abs(h-this.heightMetrics(e,t).perLine)>=$a)&&(ms=!0),uu(this,d)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class XC extends It{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,s){let l=r+this.left.height;return e<l?this.left.blockAt(e,t,r,s):this.right.blockAt(e,t,l,s+this.left.length+this.break)}lineAt(e,t,r,s,l){let a=s+this.left.height,c=l+this.left.length+this.break,h=t==_e.ByHeight?e<a:e<c,d=h?this.left.lineAt(e,t,r,s,l):this.right.lineAt(e,t,r,a,c);if(this.break||(h?d.to<c:d.from>c))return d;let p=t==_e.ByPosNoHeight?_e.ByPosNoHeight:_e.ByPos;return h?d.join(this.right.lineAt(c,p,r,a,c)):this.left.lineAt(c,p,r,s,l).join(d)}forEachLine(e,t,r,s,l,a){let c=s+this.left.height,h=l+this.left.length+this.break;if(this.break)e<h&&this.left.forEachLine(e,t,r,s,l,a),t>=h&&this.right.forEachLine(e,t,r,c,h,a);else{let d=this.lineAt(h,_e.ByPos,r,s,l);e<d.from&&this.left.forEachLine(e,d.from-1,r,s,l,a),d.to>=e&&d.from<=t&&a(d),t>d.to&&this.right.forEachLine(d.to+1,t,r,c,h,a)}}replace(e,t,r){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,r));let l=[];e>0&&this.decomposeLeft(e,l);let a=l.length;for(let c of r)l.push(c);if(e>0&&k0(l,a-1),t<this.length){let c=l.length;this.decomposeRight(t,l),k0(l,c)}return It.of(l)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,s=r+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?It.of(this.break?[e,null,t]:[e,t]):(this.left=uu(this.left,e),this.right=uu(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,s){let{left:l,right:a}=this,c=t+l.length+this.break,h=null;return s&&s.from<=t+l.length&&s.more?h=l=l.updateHeight(e,t,r,s):l.updateHeight(e,t,r),s&&s.from<=c+a.length&&s.more?h=a=a.updateHeight(e,c,r,s):a.updateHeight(e,c,r),h?this.balanced(l,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function k0(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof pt&&(r=n[e+1])instanceof pt&&n.splice(e-1,3,new pt(t.length+1+r.length))}const KC=5;class xd{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof en?s.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new en(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let s=r.widget?r.widget.estimatedHeight:0,l=r.widget?r.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let a=t-e;r.block?this.addBlock(new f1(a,s,r)):(a||l||s>=KC)&&this.addLineDeco(s,l,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new en(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new pt(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof en)return e;let t=new en(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let s=this.ensureLine();s.length+=r,s.collapsed+=r,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof en)&&!this.isCovered?this.nodes.push(new en(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let s of this.nodes)s instanceof en&&s.updateHeight(this.oracle,r),r+=s?s.length:1;return this.nodes}static build(e,t,r,s){let l=new xd(r,e);return Ne.spans(t,r,s,l,0),l.finish(r)}}function qC(n,e,t){let r=new YC;return Ne.compare(n,e,t,r,0),r.changes}class YC{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,s){(e<t||r&&r.heightRelevant||s&&s.heightRelevant)&&Qa(e,t,this.changes,5)}}function GC(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,s=r.defaultView||window,l=Math.max(0,t.left),a=Math.min(s.innerWidth,t.right),c=Math.max(0,t.top),h=Math.min(s.innerHeight,t.bottom);for(let d=n.parentNode;d&&d!=r.body;)if(d.nodeType==1){let p=d,m=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&m.overflow!="visible"){let v=p.getBoundingClientRect();l=Math.max(l,v.left),a=Math.min(a,v.right),c=Math.max(c,v.top),h=Math.min(d==n.parentNode?s.innerHeight:h,v.bottom)}d=m.position=="absolute"||m.position=="fixed"?p.offsetParent:p.parentNode}else if(d.nodeType==11)d=d.host;else break;return{left:l-t.left,right:Math.max(l,a)-t.left,top:c-(t.top+e),bottom:Math.max(c,h)-(t.top+e)}}function ZC(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function JC(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Ih{constructor(e,t,r,s){this.from=e,this.to=t,this.size=r,this.displaySize=s}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],l=t[r];if(s.from!=l.from||s.to!=l.to||s.size!=l.size)return!1}return!0}draw(e,t){return Ke.replace({widget:new e2(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class e2 extends el{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class S0{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=b0,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Xe.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(yd).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new $C(t),this.stateDeco=e.facet(Qo).filter(r=>typeof r!="function"),this.heightMap=It.empty().applyChanges(this.stateDeco,Me.empty,this.heightOracle.setDoc(e.doc),[new dn(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ke.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let s=r?t.head:t.anchor;if(!e.some(({from:l,to:a})=>s>=l&&s<=a)){let{from:l,to:a}=this.lineBlockAt(s);e.push(new Ea(l,a))}}return this.viewports=e.sort((r,s)=>r.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?b0:new wd(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(bo(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Qo).filter(p=>typeof p!="function");let s=e.changedRanges,l=dn.extendWithRanges(s,qC(r,this.stateDeco,e?e.changes:ct.empty(this.state.doc.length))),a=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);w0(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),l),(this.heightMap.height!=a||ms)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let h=l.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<h.from||t.range.head>h.to)||!this.viewportIsAppropriate(h))&&(h=this.getViewport(0,t));let d=h.from!=this.viewport.from||h.to!=this.viewport.to;this.viewport=h,e.flags|=this.updateForViewport(),(d||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Qv)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),s=this.heightOracle,l=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Xe.RTL:Xe.LTR;let a=this.heightOracle.mustRefreshForWrapping(l),c=t.getBoundingClientRect(),h=a||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let d=0,p=0;if(c.width&&c.height){let{scaleX:F,scaleY:I}=xv(t,c);(F>.005&&Math.abs(this.scaleX-F)>.005||I>.005&&Math.abs(this.scaleY-I)>.005)&&(this.scaleX=F,this.scaleY=I,d|=16,a=h=!0)}let m=(parseInt(r.paddingTop)||0)*this.scaleY,v=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=v)&&(this.paddingTop=m,this.paddingBottom=v,d|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(h=!0),this.editorWidth=e.scrollDOM.clientWidth,d|=16);let x=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=Sv(e.scrollDOM);let k=(this.printing?JC:GC)(t,this.paddingTop),S=k.top-this.pixelViewport.top,b=k.bottom-this.pixelViewport.bottom;this.pixelViewport=k;let E=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(E!=this.inView&&(this.inView=E,E&&(h=!0)),!this.inView&&!this.scrollTarget&&!ZC(e.dom))return 0;let D=c.width;if((this.contentDOMWidth!=D||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,d|=16),h){let F=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(F)&&(a=!0),a||s.lineWrapping&&Math.abs(D-this.contentDOMWidth)>s.charWidth){let{lineHeight:I,charWidth:j,textHeight:z}=e.docView.measureTextSize();a=I>0&&s.refresh(l,I,j,z,Math.max(5,D/j),F),a&&(e.docView.minWidth=0,d|=16)}S>0&&b>0?p=Math.max(S,b):S<0&&b<0&&(p=Math.min(S,b)),w0();for(let I of this.viewports){let j=I.from==this.viewport.from?F:e.docView.measureVisibleLineHeights(I);this.heightMap=(a?It.empty().applyChanges(this.stateDeco,Me.empty,this.heightOracle,[new dn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,a,new UC(I.from,j))}ms&&(d|=2)}let R=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return R&&(d&2&&(d|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),d|=this.updateForViewport()),(d&2||R)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,l=this.heightOracle,{visibleTop:a,visibleBottom:c}=this,h=new Ea(s.lineAt(a-r*1e3,_e.ByHeight,l,0,0).from,s.lineAt(c+(1-r)*1e3,_e.ByHeight,l,0,0).to);if(t){let{head:d}=t.range;if(d<h.from||d>h.to){let p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=s.lineAt(d,_e.ByPos,l,0,0),v;t.y=="center"?v=(m.top+m.bottom)/2-p/2:t.y=="start"||t.y=="nearest"&&d<h.from?v=m.top:v=m.bottom-p,h=new Ea(s.lineAt(v-1e3/2,_e.ByHeight,l,0,0).from,s.lineAt(v+p+1e3/2,_e.ByHeight,l,0,0).to)}}return h}mapViewport(e,t){let r=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new Ea(this.heightMap.lineAt(r,_e.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,_e.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,_e.ByPos,this.heightOracle,0,0),{bottom:l}=this.heightMap.lineAt(t,_e.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:c}=this;return(e==0||s<=a-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||l>=c+Math.max(10,Math.min(r,250)))&&s>a-2*1e3&&l<c+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let s of e)t.touchesRange(s.from,s.to)||r.push(new Ih(t.mapPos(s.from),t.mapPos(s.to),s.size,s.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,s=r?1e4:2e3,l=s>>1,a=s<<1;if(this.defaultTextDirection!=Xe.LTR&&!r)return[];let c=[],h=(p,m,v,x)=>{if(m-p<l)return;let k=this.state.selection.main,S=[k.from];k.empty||S.push(k.to);for(let E of S)if(E>p&&E<m){h(p,E-10,v,x),h(E+10,m,v,x);return}let b=n2(e,E=>E.from>=v.from&&E.to<=v.to&&Math.abs(E.from-p)<l&&Math.abs(E.to-m)<l&&!S.some(D=>E.from<D&&E.to>D));if(!b){if(m<v.to&&t&&r&&t.visibleRanges.some(R=>R.from<=m&&R.to>=m)){let R=t.moveToLineBoundary(G.cursor(m),!1,!0).head;R>p&&(m=R)}let E=this.gapSize(v,p,m,x),D=r||E<2e6?E:2e6;b=new Ih(p,m,E,D)}c.push(b)},d=p=>{if(p.length<a||p.type!=Lt.Text)return;let m=t2(p.from,p.to,this.stateDeco);if(m.total<a)return;let v=this.scrollTarget?this.scrollTarget.range.head:null,x,k;if(r){let S=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,b,E;if(v!=null){let D=Da(m,v),R=((this.visibleBottom-this.visibleTop)/2+S)/p.height;b=D-R,E=D+R}else b=(this.visibleTop-p.top-S)/p.height,E=(this.visibleBottom-p.top+S)/p.height;x=Ma(m,b),k=Ma(m,E)}else{let S=m.total*this.heightOracle.charWidth,b=s*this.heightOracle.charWidth,E=0;if(S>2e6)for(let j of e)j.from>=p.from&&j.from<p.to&&j.size!=j.displaySize&&j.from*this.heightOracle.charWidth+E<this.pixelViewport.left&&(E=j.size-j.displaySize);let D=this.pixelViewport.left+E,R=this.pixelViewport.right+E,F,I;if(v!=null){let j=Da(m,v),z=((R-D)/2+b)/S;F=j-z,I=j+z}else F=(D-b)/S,I=(R+b)/S;x=Ma(m,F),k=Ma(m,I)}x>p.from&&h(p.from,x,p,m),k<p.to&&h(k,p.to,p,m)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(d):d(p);return c}gapSize(e,t,r,s){let l=Da(s,r)-Da(s,t);return this.heightOracle.lineWrapping?e.height*l:s.total*this.heightOracle.charWidth*l}updateLineGaps(e){Ih.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ke.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];Ne.spans(t,this.viewport.from,this.viewport.to,{span(l,a){r.push({from:l,to:a})},point(){}},20);let s=0;if(r.length!=this.visibleRanges.length)s=12;else for(let l=0;l<r.length&&!(s&8);l++){let a=this.visibleRanges[l],c=r[l];(a.from!=c.from||a.to!=c.to)&&(s|=4,e&&e.mapPos(a.from,-1)==c.from&&e.mapPos(a.to,1)==c.to||(s|=8))}return this.visibleRanges=r,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||bo(this.heightMap.lineAt(e,_e.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||bo(this.heightMap.lineAt(this.scaler.fromDOM(e),_e.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return bo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ea{constructor(e,t){this.from=e,this.to=t}}function t2(n,e,t){let r=[],s=n,l=0;return Ne.spans(t,n,e,{span(){},point(a,c){a>s&&(r.push({from:s,to:a}),l+=a-s),s=c}},20),s<e&&(r.push({from:s,to:e}),l+=e-s),{total:l,ranges:r}}function Ma({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let s=0;;s++){let{from:l,to:a}=e[s],c=a-l;if(r<=c)return l+r;r-=c}}function Da(n,e){let t=0;for(let{from:r,to:s}of n.ranges){if(e<=s){t+=e-r;break}t+=s-r}return t/n.total}function n2(n,e){for(let t of n)if(e(t))return t}const b0={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class wd{constructor(e,t,r){let s=0,l=0,a=0;this.viewports=r.map(({from:c,to:h})=>{let d=t.lineAt(c,_e.ByPos,e,0,0).top,p=t.lineAt(h,_e.ByPos,e,0,0).bottom;return s+=p-d,{from:c,to:h,top:d,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let c of this.viewports)c.domTop=a+(c.top-l)*this.scale,a=c.domBottom=c.domTop+(c.bottom-c.top),l=c.bottom}toDOM(e){for(let t=0,r=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.top)return s+(e-r)*this.scale;if(e<=l.bottom)return l.domTop+(e-l.top);r=l.bottom,s=l.domBottom}}fromDOM(e){for(let t=0,r=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.domTop)return r+(e-s)/this.scale;if(e<=l.domBottom)return l.top+(e-l.domTop);r=l.bottom,s=l.domBottom}}eq(e){return e instanceof wd?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function bo(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new qn(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(s=>bo(s,e)):n._content)}const Ra=ye.define({combine:n=>n.join(" ")}),Tf=ye.define({combine:n=>n.indexOf(!0)>-1}),Nf=Zr.newName(),d1=Zr.newName(),p1=Zr.newName(),g1={"&light":"."+d1,"&dark":"."+p1};function Lf(n,e,t){return new Zr(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,s=>{if(s=="&")return n;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):n+" "+r}})}const r2=Lf("."+Nf,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},g1),i2={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Bh=oe.ie&&oe.ie_version<=11;class s2{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new VO,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(oe.ie&&oe.ie_version<=11||oe.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&oe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(oe.chrome&&oe.chrome_version<126)&&(this.editContext=new l2(e),e.state.facet(pr)&&(e.contentDOM.editContext=this.editContext.editContext)),Bh&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,s=this.selectionRange;if(r.state.facet(pr)?r.root.activeElement!=this.dom:!Wa(this.dom,s))return;let l=s.anchorNode&&r.docView.nearest(s.anchorNode);if(l&&l.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(oe.ie&&oe.ie_version<=11||oe.android&&oe.chrome)&&!r.state.selection.main.empty&&s.focusNode&&Do(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Ho(e.root);if(!t)return!1;let r=oe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&o2(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let s=Wa(this.dom,r);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&WO(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,i2),Bh&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Bh&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let s=()=>{let l=this.delayedAndroidKey;l&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=l.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&l.force&&us(this.dom,l.key,l.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,s=!1;for(let l of e){let a=this.readMutation(l);a&&(a.typeOver&&(s=!0),t==-1?{from:t,to:r}=a:(t=Math.min(a.from,t),r=Math.max(a.to,r)))}return{from:t,to:r,typeOver:s}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),s=this.selectionChanged&&Wa(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let l=new OC(this.view,e,t,r);return this.view.docView.domChanged={newSel:l.newSel?l.newSel.main:null},l}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,s=n1(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=O0(t,e.previousSibling||e.target.previousSibling,-1),s=O0(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(pr)!=e.state.facet(pr)&&(e.view.contentDOM.editContext=e.state.facet(pr)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function O0(n,e,t){for(;e;){let r=Ie.get(e);if(r&&r.parent==n)return r;let s=e.parentNode;e=s!=n.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function C0(n,e){let t=e.startContainer,r=e.startOffset,s=e.endContainer,l=e.endOffset,a=n.docView.domAtPos(n.state.selection.main.anchor);return Do(a.node,a.offset,s,l)&&([t,r,s,l]=[s,l,t,r]),{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:l}}function o2(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return C0(n,s)}let t=null;function r(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?C0(n,t):null}class l2{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let s=e.state.selection.main,{anchor:l,head:a}=s,c=this.toEditorPos(r.updateRangeStart),h=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:c,drifted:!1});let d=h-c>r.text.length;c==this.from&&l<this.from?c=l:h==this.to&&l>this.to&&(h=l);let p=r1(e.state.sliceDoc(c,h),r.text,(d?s.from:s.to)-c,d?"end":null);if(!p){let v=G.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));v.main.eq(s)||e.dispatch({selection:v,userEvent:"select"});return}let m={from:p.from+c,to:p.toA+c,insert:Me.of(r.text.slice(p.from,p.toB).split(`
`))};if((oe.mac||oe.android)&&m.from==a-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:c,to:h,insert:Me.of([r.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let v=this.to-this.from+(m.to-m.from+m.insert.length);vd(e,m,G.single(this.toEditorPos(r.selectionStart,v),this.toEditorPos(r.selectionEnd,v)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(t.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let s=[],l=null;for(let a=this.toEditorPos(r.rangeStart),c=this.toEditorPos(r.rangeEnd);a<c;a++){let h=e.coordsForChar(a);l=h&&new DOMRect(h.left,h.top,h.right-h.left,h.bottom-h.top)||l||new DOMRect,s.push(l)}t.updateCharacterBounds(r.rangeStart,s)},this.handlers.textformatupdate=r=>{let s=[];for(let l of r.getTextFormats()){let a=l.underlineStyle,c=l.underlineThickness;if(!/none/i.test(a)&&!/none/i.test(c)){let h=this.toEditorPos(l.rangeStart),d=this.toEditorPos(l.rangeEnd);if(h<d){let p=`text-decoration: underline ${/^[a-z]/.test(a)?a+" ":a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${/thin/i.test(c)?1:2}px`;s.push(Ke.mark({attributes:{style:p}}).range(h,d))}}}e.dispatch({effects:Uv.of(Ke.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let s=Ho(r.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,s=this.pendingContextChange;return e.changes.iterChanges((l,a,c,h,d)=>{if(r)return;let p=d.length-(a-l);if(s&&a>=s.to)if(s.from==l&&s.to==a&&s.insert.eq(d)){s=this.pendingContextChange=null,t+=p,this.to+=p;return}else s=null,this.revertPending(e.state);if(l+=t,a+=t,a<=this.from)this.from+=p,this.to+=p;else if(l<this.to){if(l<this.from||a>this.to||this.to-this.from+d.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(l),this.toContextPos(a),d.toString()),this.to+=p}t+=p}),s&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),s=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(r,s)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Se{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(s=>s.forEach(l=>r(l,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||HO(e.parent)||document,this.viewState=new S0(e.state||Te.create(e)),e.scrollTo&&e.scrollTo.is(Ca)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(rs).map(s=>new Th(s));for(let s of this.plugins)s.update(this);this.observer=new s2(this),this.inputState=new EC(this),this.inputState.ensureHandlers(this.plugins),this.docView=new r0(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof At?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,s,l=this.state;for(let v of e){if(v.startState!=l)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");l=v.state}if(this.destroyed){this.viewState.state=l;return}let a=this.hasFocus,c=0,h=null;e.some(v=>v.annotation(u1))?(this.inputState.notifiedFocused=a,c=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,h=c1(l,a),h||(c=1));let d=this.observer.delayedAndroidKey,p=null;if(d?(this.observer.clearDelayedAndroidKey(),p=this.observer.readChange(),(p&&!this.state.doc.eq(l.doc)||!this.state.selection.eq(l.selection))&&(p=null)):this.observer.clear(),l.facet(Te.phrases)!=this.state.facet(Te.phrases))return this.setState(l);s=au.create(this,l,e),s.flags|=c;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let v of e){if(m&&(m=m.map(v.changes)),v.scrollIntoView){let{main:x}=v.state.selection;m=new cs(x.empty?x:G.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of v.effects)x.is(Ca)&&(m=x.value.clip(this.state))}this.viewState.update(s,m),this.bidiCache=cu.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(ko)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(v=>v.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(Ra)!=s.state.facet(Ra)&&(this.viewState.mustMeasureContent=!0),(t||r||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!s.empty)for(let v of this.state.facet(Ef))try{v(s)}catch(x){Yn(this.state,x,"update listener")}(h||p)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),p&&!n1(this,p)&&d.force&&us(this.contentDOM,d.key,d.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new S0(e),this.plugins=e.facet(rs).map(r=>new Th(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new r0(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(rs),r=e.state.facet(rs);if(t!=r){let s=[];for(let l of r){let a=t.indexOf(l);if(a<0)s.push(new Th(l));else{let c=this.plugins[a];c.mustUpdate=e,s.push(c)}}for(let l of this.plugins)l.mustUpdate!=e&&l.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){Yn(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,s=r.scrollTop*this.scaleY,{scrollAnchorPos:l,scrollAnchorHeight:a}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(a<0)if(Sv(r))l=-1,a=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(s);l=x.from,a=x.top}this.updateState=1;let h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];h&4||([this.measureRequests,d]=[d,this.measureRequests]);let p=d.map(x=>{try{return x.read(this)}catch(k){return Yn(this.state,k),P0}}),m=au.create(this,this.state,[]),v=!1;m.flags|=h,t?t.flags|=h:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),v=this.docView.update(m),v&&this.docViewUpdate());for(let x=0;x<d.length;x++)if(p[x]!=P0)try{let k=d[x];k.write&&k.write(p[x],this)}catch(k){Yn(this.state,k)}if(v&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let k=(l<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(l).top)-a;if(k>1||k<-1){s=s+k,r.scrollTop=s/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let c of this.state.facet(Ef))c(t)}get themeClasses(){return Nf+" "+(this.state.facet(Tf)?p1:d1)+" "+this.state.facet(Ra)}updateAttrs(){let e=A0(this,Xv,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(pr)?"true":"false",class:"cm-content",style:`${oe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),A0(this,yd,t);let r=this.observer.ignore(()=>{let s=bf(this.contentDOM,this.contentAttrs,t),l=bf(this.dom,this.editorAttrs,e);return s||l});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let s of r.effects)if(s.is(Se.announce)){t&&(this.announceDOM.textContent=""),t=!1;let l=this.announceDOM.appendChild(document.createElement("div"));l.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(ko);let e=this.state.facet(Se.cspNonce);Zr.mount(this.root,this.styleModules.concat(r2).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return Lh(this,e,a0(this,e,t,r))}moveByGroup(e,t){return Lh(this,e,a0(this,e,t,r=>xC(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),s=this.textDirectionAt(e.from),l=r[t?r.length-1:0];return G.cursor(l.side(t,s)+e.from,l.forward(!t,s)?1:-1)}moveToLineBoundary(e,t,r=!0){return vC(this,e,t,r)}moveVertically(e,t,r){return Lh(this,e,wC(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Jv(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let s=this.state.doc.lineAt(e),l=this.bidiSpans(s),a=l[qr.find(l,e-s.from,-1,t)];return Eu(r,a.dir==Xe.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Wv)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>a2)return Iv(e.length);let t=this.textDirectionAt(e.from),r;for(let l of this.bidiCache)if(l.from==e.from&&l.dir==t&&(l.fresh||Lv(l.isolates,r=n0(this,e))))return l.order;r||(r=n0(this,e));let s=nC(e.text,t,r);return this.bidiCache.push(new cu(e.from,e.to,t,r,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||oe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{wv(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Ca.of(new cs(typeof e=="number"?G.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Ca.of(new cs(G.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Nn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Nn.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=Zr.newName(),s=[Ra.of(r),ko.of(Lf(`.${r}`,e))];return t&&t.dark&&s.push(Tf.of(!0)),s}static baseTheme(e){return Cu.lowest(ko.of(Lf("."+Nf,e,g1)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),s=r&&Ie.get(r)||Ie.get(e);return((t=s==null?void 0:s.rootView)===null||t===void 0?void 0:t.view)||null}}Se.styleModule=ko;Se.inputHandler=Vv;Se.clipboardInputFilter=gd;Se.clipboardOutputFilter=md;Se.scrollHandler=$v;Se.focusChangeEffect=Hv;Se.perLineTextDirection=Wv;Se.exceptionSink=_v;Se.updateListener=Ef;Se.editable=pr;Se.mouseSelectionStyle=Fv;Se.dragMovesSelection=jv;Se.clickAddsSelectionRange=zv;Se.decorations=Qo;Se.outerDecorations=Kv;Se.atomicRanges=rl;Se.bidiIsolatedRanges=qv;Se.scrollMargins=Yv;Se.darkTheme=Tf;Se.cspNonce=ye.define({combine:n=>n.length?n[0]:""});Se.contentAttributes=yd;Se.editorAttributes=Xv;Se.lineWrapping=Se.contentAttributes.of({class:"cm-lineWrapping"});Se.announce=st.define();const a2=4096,P0={};class cu{constructor(e,t,r,s,l,a){this.from=e,this.to=t,this.dir=r,this.isolates=s,this.fresh=l,this.order=a}static update(e,t){if(t.empty&&!e.some(l=>l.fresh))return e;let r=[],s=e.length?e[e.length-1].dir:Xe.LTR;for(let l=Math.max(0,e.length-10);l<e.length;l++){let a=e[l];a.dir==s&&!t.touchesRange(a.from,a.to)&&r.push(new cu(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function A0(n,e,t){for(let r=n.state.facet(e),s=r.length-1;s>=0;s--){let l=r[s],a=typeof l=="function"?l(n):l;a&&Sf(a,t)}return t}const u2=oe.mac?"mac":oe.windows?"win":oe.linux?"linux":"key";function c2(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let s,l,a,c;for(let h=0;h<t.length-1;++h){const d=t[h];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))s=!0;else if(/^(c|ctrl|control)$/i.test(d))l=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))e=="mac"?c=!0:l=!0;else throw new Error("Unrecognized modifier name: "+d)}return s&&(r="Alt-"+r),l&&(r="Ctrl-"+r),c&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function Ta(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const h2=Cu.default(Se.domEventHandlers({keydown(n,e){return g2(f2(e.state),n,e,"editor")}})),kd=ye.define({enables:h2}),E0=new WeakMap;function f2(n){let e=n.facet(kd),t=E0.get(e);return t||E0.set(e,t=p2(e.reduce((r,s)=>r.concat(s),[]))),t}let Ur=null;const d2=4e3;function p2(n,e=u2){let t=Object.create(null),r=Object.create(null),s=(a,c)=>{let h=r[a];if(h==null)r[a]=c;else if(h!=c)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},l=(a,c,h,d,p)=>{var m,v;let x=t[a]||(t[a]=Object.create(null)),k=c.split(/ (?!$)/).map(E=>c2(E,e));for(let E=1;E<k.length;E++){let D=k.slice(0,E).join(" ");s(D,!0),x[D]||(x[D]={preventDefault:!0,stopPropagation:!1,run:[R=>{let F=Ur={view:R,prefix:D,scope:a};return setTimeout(()=>{Ur==F&&(Ur=null)},d2),!0}]})}let S=k.join(" ");s(S,!1);let b=x[S]||(x[S]={preventDefault:!1,stopPropagation:!1,run:((v=(m=x._any)===null||m===void 0?void 0:m.run)===null||v===void 0?void 0:v.slice())||[]});h&&b.run.push(h),d&&(b.preventDefault=!0),p&&(b.stopPropagation=!0)};for(let a of n){let c=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let d of c){let p=t[d]||(t[d]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=a;for(let v in p)p[v].run.push(x=>m(x,If))}let h=a[e]||a.key;if(h)for(let d of c)l(d,h,a.run,a.preventDefault,a.stopPropagation),a.shift&&l(d,"Shift-"+h,a.shift,a.preventDefault,a.stopPropagation)}return t}let If=null;function g2(n,e,t,r){If=e;let s=BO(e),l=vO(s,0),a=xO(l)==s.length&&s!=" ",c="",h=!1,d=!1,p=!1;Ur&&Ur.view==t&&Ur.scope==r&&(c=Ur.prefix+" ",s1.indexOf(e.keyCode)<0&&(d=!0,Ur=null));let m=new Set,v=b=>{if(b){for(let E of b.run)if(!m.has(E)&&(m.add(E),E(t)))return b.stopPropagation&&(p=!0),!0;b.preventDefault&&(b.stopPropagation&&(p=!0),d=!0)}return!1},x=n[r],k,S;return x&&(v(x[c+Ta(s,e,!a)])?h=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(oe.windows&&e.ctrlKey&&e.altKey)&&!(oe.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(k=Jr[e.keyCode])&&k!=s?(v(x[c+Ta(k,e,!0)])||e.shiftKey&&(S=Vo[e.keyCode])!=s&&S!=k&&v(x[c+Ta(S,e,!1)]))&&(h=!0):a&&e.shiftKey&&v(x[c+Ta(s,e,!0)])&&(h=!0),!h&&v(x._any)&&(h=!0)),d&&(h=!0),h&&p&&e.stopPropagation(),If=null,h}class il{constructor(e,t,r,s,l){this.className=e,this.left=t,this.top=r,this.width=s,this.height=l}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let s=e.coordsAtPos(r.head,r.assoc||1);if(!s)return[];let l=m1(e);return[new il(t,s.left-l.left,s.top-l.top,null,s.bottom-s.top)]}else return m2(e,t,r)}}function m1(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Xe.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function M0(n,e,t,r){let s=n.coordsAtPos(e,t*2);if(!s)return r;let l=n.dom.getBoundingClientRect(),a=(s.top+s.bottom)/2,c=n.posAtCoords({x:l.left+1,y:a}),h=n.posAtCoords({x:l.right-1,y:a});return c==null||h==null?r:{from:Math.max(r.from,Math.min(c,h)),to:Math.min(r.to,Math.max(c,h))}}function m2(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),s=Math.min(t.to,n.viewport.to),l=n.textDirection==Xe.LTR,a=n.contentDOM,c=a.getBoundingClientRect(),h=m1(n),d=a.querySelector(".cm-line"),p=d&&window.getComputedStyle(d),m=c.left+(p?parseInt(p.paddingLeft)+Math.min(0,parseInt(p.textIndent)):0),v=c.right-(p?parseInt(p.paddingRight):0),x=Df(n,r,1),k=Df(n,s,-1),S=x.type==Lt.Text?x:null,b=k.type==Lt.Text?k:null;if(S&&(n.lineWrapping||x.widgetLineBreaks)&&(S=M0(n,r,1,S)),b&&(n.lineWrapping||k.widgetLineBreaks)&&(b=M0(n,s,-1,b)),S&&b&&S.from==b.from&&S.to==b.to)return D(R(t.from,t.to,S));{let I=S?R(t.from,null,S):F(x,!1),j=b?R(null,t.to,b):F(k,!0),z=[];return(S||x).to<(b||k).from-(S&&b?1:0)||x.widgetLineBreaks>1&&I.bottom+n.defaultLineHeight/2<j.top?z.push(E(m,I.bottom,v,j.top)):I.bottom<j.top&&n.elementAtHeight((I.bottom+j.top)/2).type==Lt.Text&&(I.bottom=j.top=(I.bottom+j.top)/2),D(I).concat(z).concat(D(j))}function E(I,j,z,Y){return new il(e,I-h.left,j-h.top,z-I,Y-j)}function D({top:I,bottom:j,horizontal:z}){let Y=[];for(let te=0;te<z.length;te+=2)Y.push(E(z[te],I,z[te+1],j));return Y}function R(I,j,z){let Y=1e9,te=-1e9,Z=[];function re(fe,K,de,ge,$){let J=n.coordsAtPos(fe,fe==z.to?-2:2),X=n.coordsAtPos(de,de==z.from?2:-2);!J||!X||(Y=Math.min(J.top,X.top,Y),te=Math.max(J.bottom,X.bottom,te),$==Xe.LTR?Z.push(l&&K?m:J.left,l&&ge?v:X.right):Z.push(!l&&ge?m:X.left,!l&&K?v:J.right))}let ne=I??z.from,he=j??z.to;for(let fe of n.visibleRanges)if(fe.to>ne&&fe.from<he)for(let K=Math.max(fe.from,ne),de=Math.min(fe.to,he);;){let ge=n.state.doc.lineAt(K);for(let $ of n.bidiSpans(ge)){let J=$.from+ge.from,X=$.to+ge.from;if(J>=de)break;X>K&&re(Math.max(J,K),I==null&&J<=ne,Math.min(X,de),j==null&&X>=he,$.dir)}if(K=ge.to+1,K>=de)break}return Z.length==0&&re(ne,I==null,he,j==null,n.textDirection),{top:Y,bottom:te,horizontal:Z}}function F(I,j){let z=c.top+(j?I.top:I.bottom);return{top:z,bottom:z,horizontal:[]}}}function y2(n,e){return n.constructor==e.constructor&&n.eq(e)}class v2{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Ua)!=e.state.facet(Ua)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(Ua);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!y2(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let s of e)s.update&&t&&s.constructor&&this.drawn[r].constructor&&s.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(s.draw(),t);for(;t;){let s=t.nextSibling;t.remove(),t=s}this.drawn=e,oe.safari&&oe.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Ua=ye.define();function y1(n){return[Nn.define(e=>new v2(e,n)),Ua.of(n)]}const $o=ye.define({combine(n){return gv(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function x2(n={}){return[$o.of(n),w2,k2,S2,Qv.of(!0)]}function v1(n){return n.startState.facet($o)!=n.state.facet($o)}const w2=y1({above:!0,markers(n){let{state:e}=n,t=e.facet($o),r=[];for(let s of e.selection.ranges){let l=s==e.selection.main;if(s.empty||t.drawRangeCursor){let a=l?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=s.empty?s:G.cursor(s.head,s.head>s.anchor?-1:1);for(let h of il.forRange(n,a,c))r.push(h)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=v1(n);return t&&D0(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){D0(e.state,n)},class:"cm-cursorLayer"});function D0(n,e){e.style.animationDuration=n.facet($o).cursorBlinkRate+"ms"}const k2=y1({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:il.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||v1(n)},class:"cm-selectionLayer"}),S2=Cu.highest(Se.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}}));function b2(){return C2}const O2=Ke.line({class:"cm-activeLine"}),C2=Nn.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let s=n.lineBlockAt(r.head);s.from>e&&(t.push(O2.range(s.from)),e=s.from)}return Ke.set(t)}},{decorations:n=>n.decorations});class ti extends ds{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ti.prototype.elementClass="";ti.prototype.toDOM=void 0;ti.prototype.mapMode=nn.TrackBefore;ti.prototype.startSide=ti.prototype.endSide=-1;ti.prototype.point=!0;const Xa=ye.define(),P2=ye.define(),Ka=ye.define(),R0=ye.define({combine:n=>n.some(e=>e)});function A2(n){return[E2]}const E2=Nn.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Ka).map(e=>new N0(n,e)),this.fixed=!n.state.facet(R0);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(R0)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Ne.iter(this.view.state.facet(Xa),this.view.viewport.from),r=[],s=this.gutters.map(l=>new M2(l,this.view.viewport,-this.view.documentPadding.top));for(let l of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(l.type)){let a=!0;for(let c of l.type)if(c.type==Lt.Text&&a){Bf(t,r,c.from);for(let h of s)h.line(this.view,c,r);a=!1}else if(c.widget)for(let h of s)h.widget(this.view,c)}else if(l.type==Lt.Text){Bf(t,r,l.from);for(let a of s)a.line(this.view,l,r)}else if(l.widget)for(let a of s)a.widget(this.view,l);for(let l of s)l.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(Ka),t=n.state.facet(Ka),r=n.docChanged||n.heightChanged||n.viewportChanged||!Ne.eq(n.startState.facet(Xa),n.state.facet(Xa),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(n)&&(r=!0);else{r=!0;let s=[];for(let l of t){let a=e.indexOf(l);a<0?s.push(new N0(this.view,l)):(this.gutters[a].update(n),s.push(this.gutters[a]))}for(let l of this.gutters)l.dom.remove(),s.indexOf(l)<0&&l.destroy();for(let l of s)l.config.side=="after"?this.getDOMAfter().appendChild(l.dom):this.dom.appendChild(l.dom);this.gutters=s}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>Se.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let r=t.dom.offsetWidth*e.scaleX,s=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Xe.LTR?{left:r,right:s}:{right:r,left:s}})});function T0(n){return Array.isArray(n)?n:[n]}function Bf(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class M2{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Ne.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:s}=this,l=(t.top-this.height)/e.scaleY,a=t.height/e.scaleY;if(this.i==s.elements.length){let c=new x1(e,a,l,r);s.elements.push(c),s.dom.appendChild(c.dom)}else s.elements[this.i].update(e,a,l,r);this.height=t.bottom,this.i++}line(e,t,r){let s=[];Bf(this.cursor,s,t.from),r.length&&(s=s.concat(r));let l=this.gutter.config.lineMarker(e,t,s);l&&s.unshift(l);let a=this.gutter;s.length==0&&!a.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),s=r?[r]:null;for(let l of e.state.facet(P2)){let a=l(e,t.widget,t);a&&(s||(s=[])).push(a)}s&&this.addElement(e,t,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class N0{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,s=>{let l=s.target,a;if(l!=this.dom&&this.dom.contains(l)){for(;l.parentNode!=this.dom;)l=l.parentNode;let h=l.getBoundingClientRect();a=(h.top+h.bottom)/2}else a=s.clientY;let c=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[r](e,c,s)&&s.preventDefault()});this.markers=T0(t.markers(e)),t.initialSpacer&&(this.spacer=new x1(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=T0(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let r=e.view.viewport;return!Ne.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class x1{constructor(e,t,r,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,s)}update(e,t,r,s){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),D2(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let r="cm-gutterElement",s=this.dom.firstChild;for(let l=0,a=0;;){let c=a,h=l<t.length?t[l++]:null,d=!1;if(h){let p=h.elementClass;p&&(r+=" "+p);for(let m=a;m<this.markers.length;m++)if(this.markers[m].compare(h)){c=m,d=!0;break}}else c=this.markers.length;for(;a<c;){let p=this.markers[a++];if(p.toDOM){p.destroy(s);let m=s.nextSibling;s.remove(),s=m}}if(!h)break;h.toDOM&&(d?s=s.nextSibling:this.dom.insertBefore(h.toDOM(e),s)),d&&a++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function D2(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const R2=ye.define(),T2=ye.define(),is=ye.define({combine(n){return gv(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let s in t){let l=r[s],a=t[s];r[s]=l?(c,h,d)=>l(c,h,d)||a(c,h,d):a}return r}})}});class zh extends ti{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function jh(n,e){return n.state.facet(is).formatNumber(e,n.state)}const N2=Ka.compute([is],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(R2)},lineMarker(e,t,r){return r.some(s=>s.toDOM)?null:new zh(jh(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let s of e.state.facet(T2)){let l=s(e,t,r);if(l)return l}return null},lineMarkerChange:e=>e.startState.facet(is)!=e.state.facet(is),initialSpacer(e){return new zh(jh(e,L0(e.state.doc.lines)))},updateSpacer(e,t){let r=jh(t.view,L0(t.view.state.doc.lines));return r==e.number?e:new zh(r)},domEventHandlers:n.facet(is).domEventHandlers,side:"before"}));function L2(n={}){return[is.of(n),A2(),N2]}function L0(n){let e=9;for(;e<n;)e=e*10+9;return e}const I2=new class extends ti{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},B2=Xa.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let s=n.doc.lineAt(r.head).from;s>t&&(t=s,e.push(I2.range(s)))}return Ne.of(e)});function z2(){return B2}const w1=1024;let j2=0;class Fh{constructor(e,t){this.from=e,this.to=t}}class Ae{constructor(e={}){this.id=j2++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=$t.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Ae.closedBy=new Ae({deserialize:n=>n.split(" ")});Ae.openedBy=new Ae({deserialize:n=>n.split(" ")});Ae.group=new Ae({deserialize:n=>n.split(" ")});Ae.isolate=new Ae({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Ae.contextHash=new Ae({perNode:!0});Ae.lookAhead=new Ae({perNode:!0});Ae.mounted=new Ae({perNode:!0});class hu{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Ae.mounted.id]}}const F2=Object.create(null);class $t{constructor(e,t,r,s=0){this.name=e,this.props=t,this.id=r,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):F2,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new $t(e.name||"",t,e.id,r);if(e.props){for(let l of e.props)if(Array.isArray(l)||(l=l(s)),l){if(l[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[l[0].id]=l[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Ae.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let s of r.split(" "))t[s]=e[r];return r=>{for(let s=r.prop(Ae.group),l=-1;l<(s?s.length:0);l++){let a=t[l<0?r.name:s[l]];if(a)return a}}}}$t.none=new $t("",Object.create(null),0,8);class Sd{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let s=null;for(let l of e){let a=l(r);if(a){s||(s=Object.assign({},r.props));let c=a[1],h=a[0];h.combine&&h.id in s&&(c=h.combine(s[h.id],c)),s[h.id]=c}}t.push(s?new $t(r.name,s,r.id,r.flags):r)}return new Sd(t)}}const Na=new WeakMap,I0=new WeakMap;var ht;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(ht||(ht={}));class tt{constructor(e,t,r,s,l){if(this.type=e,this.children=t,this.positions=r,this.length=s,this.props=null,l&&l.length){this.props=Object.create(null);for(let[a,c]of l)this.props[typeof a=="number"?a:a.id]=c}}toString(){let e=hu.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let s=r.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new jf(this.topNode,e)}cursorAt(e,t=0,r=0){let s=Na.get(this)||this.topNode,l=new jf(s);return l.moveTo(e,t),Na.set(this,l._tree),l}get topNode(){return new pn(this,0,0,null)}resolve(e,t=0){let r=Uo(Na.get(this)||this.topNode,e,t,!1);return Na.set(this,r),r}resolveInner(e,t=0){let r=Uo(I0.get(this)||this.topNode,e,t,!0);return I0.set(this,r),r}resolveStack(e,t=0){return H2(this,e,t)}iterate(e){let{enter:t,leave:r,from:s=0,to:l=this.length}=e,a=e.mode||0,c=(a&ht.IncludeAnonymous)>0;for(let h=this.cursor(a|ht.IncludeAnonymous);;){let d=!1;if(h.from<=l&&h.to>=s&&(!c&&h.type.isAnonymous||t(h)!==!1)){if(h.firstChild())continue;d=!0}for(;d&&r&&(c||!h.type.isAnonymous)&&r(h),!h.nextSibling();){if(!h.parent())return;d=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Cd($t.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,s)=>new tt(this.type,t,r,s,this.propValues),e.makeTree||((t,r,s)=>new tt($t.none,t,r,s)))}static build(e){return W2(e)}}tt.empty=new tt($t.none,[],[],0);class bd{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new bd(this.buffer,this.index)}}class ni{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return $t.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],s=this.set.types[t],l=s.name;if(/\W/.test(l)&&!s.isError&&(l=JSON.stringify(l)),e+=4,r==e)return l;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return l+"("+a.join(",")+")"}findChild(e,t,r,s,l){let{buffer:a}=this,c=-1;for(let h=e;h!=t&&!(k1(l,s,a[h+1],a[h+2])&&(c=h,r>0));h=a[h+3]);return c}slice(e,t,r){let s=this.buffer,l=new Uint16Array(t-e),a=0;for(let c=e,h=0;c<t;){l[h++]=s[c++],l[h++]=s[c++]-r;let d=l[h++]=s[c++]-r;l[h++]=s[c++]-e,a=Math.max(a,d)}return new ni(l,a,this.set)}}function k1(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Uo(n,e,t,r){for(var s;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let a=!r&&n instanceof pn&&n.index<0?null:n.parent;if(!a)return n;n=a}let l=r?0:ht.IgnoreOverlays;if(r)for(let a=n,c=a.parent;c;a=c,c=a.parent)a instanceof pn&&a.index<0&&((s=c.enter(e,t,l))===null||s===void 0?void 0:s.from)!=a.from&&(n=c);for(;;){let a=n.enter(e,t,l);if(!a)return n;n=a}}class S1{cursor(e=0){return new jf(this,e)}getChild(e,t=null,r=null){let s=B0(this,e,t,r);return s.length?s[0]:null}getChildren(e,t=null,r=null){return B0(this,e,t,r)}resolve(e,t=0){return Uo(this,e,t,!1)}resolveInner(e,t=0){return Uo(this,e,t,!0)}matchContext(e){return zf(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let s=t.lastChild;if(!s||s.to!=t.to)break;s.type.isError&&s.from==s.to?(r=t,t=s.prevSibling):t=s}return r}get node(){return this}get next(){return this.parent}}class pn extends S1{constructor(e,t,r,s){super(),this._tree=e,this.from=t,this.index=r,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,s,l=0){for(let a=this;;){for(let{children:c,positions:h}=a._tree,d=t>0?c.length:-1;e!=d;e+=t){let p=c[e],m=h[e]+a.from;if(k1(s,r,m,m+p.length)){if(p instanceof ni){if(l&ht.ExcludeBuffers)continue;let v=p.findChild(0,p.buffer.length,t,r-m,s);if(v>-1)return new Yr(new _2(a,p,e,m),null,v)}else if(l&ht.IncludeAnonymous||!p.type.isAnonymous||Od(p)){let v;if(!(l&ht.IgnoreMounts)&&(v=hu.get(p))&&!v.overlay)return new pn(v.tree,m,e,a);let x=new pn(p,m,e,a);return l&ht.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(t<0?p.children.length-1:0,t,r,s)}}}if(l&ht.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+t:e=t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let s;if(!(r&ht.IgnoreOverlays)&&(s=hu.get(this._tree))&&s.overlay){let l=e-this.from;for(let{from:a,to:c}of s.overlay)if((t>0?a<=l:a<l)&&(t<0?c>=l:c>l))return new pn(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function B0(n,e,t,r){let s=n.cursor(),l=[];if(!s.firstChild())return l;if(t!=null){for(let a=!1;!a;)if(a=s.type.is(t),!s.nextSibling())return l}for(;;){if(r!=null&&s.type.is(r))return l;if(s.type.is(e)&&l.push(s.node),!s.nextSibling())return r==null?l:[]}}function zf(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class _2{constructor(e,t,r,s){this.parent=e,this.buffer=t,this.index=r,this.start=s}}class Yr extends S1{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,r);return l<0?null:new Yr(this.context,this,l)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&ht.ExcludeBuffers)return null;let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return l<0?null:new Yr(this.context,this,l)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Yr(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Yr(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,s=this.index+4,l=r.buffer[this.index+3];if(l>s){let a=r.buffer[this.index+1];e.push(r.slice(s,l,a)),t.push(0)}return new tt(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function b1(n){if(!n.length)return null;let e=0,t=n[0];for(let l=1;l<n.length;l++){let a=n[l];(a.from>t.from||a.to<t.to)&&(t=a,e=l)}let r=t instanceof pn&&t.index<0?null:t.parent,s=n.slice();return r?s[e]=r:s.splice(e,1),new V2(s,t)}class V2{constructor(e,t){this.heads=e,this.node=t}get next(){return b1(this.heads)}}function H2(n,e,t){let r=n.resolveInner(e,t),s=null;for(let l=r instanceof pn?r:r.context.parent;l;l=l.parent)if(l.index<0){let a=l.parent;(s||(s=[r])).push(a.resolve(e,t)),l=a}else{let a=hu.get(l.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let c=new pn(a.tree,a.overlay[0].from+l.from,-1,l);(s||(s=[r])).push(Uo(c,e,t,!1))}}return s?b1(s):r}class jf{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof pn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=r+s.buffer[e+1],this.to=r+s.buffer[e+2],!0}yield(e){return e?e instanceof pn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:s}=this.buffer,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,r);return l<0?!1:(this.stack.push(this.index),this.yieldBuf(l))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&ht.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ht.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ht.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let s=r<0?0:this.stack[r]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(s)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let l=0;l<this.index;l++)if(s.buffer.buffer[l+3]<this.index)return!1;({index:t,parent:r}=s)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let l=t+e,a=e<0?-1:r._tree.children.length;l!=a;l+=e){let c=r._tree.children[l];if(this.mode&ht.IncludeAnonymous||c instanceof ni||!c.type.isAnonymous||Od(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let s=this.index,l=this.stack.length;l>=0;){for(let a=e;a;a=a._parent)if(a.index==s){if(s==this.index)return a;t=a,r=l+1;break e}s=this.stack[--l]}for(let s=r;s<this.stack.length;s++)t=new Yr(this.buffer,t,this.stack[s]);return this.bufferNode=new Yr(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&t&&t(this),s=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,s=!0}}}matchContext(e){if(!this.buffer)return zf(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let s=e.length-1,l=this.stack.length-1;s>=0;l--){if(l<0)return zf(this._tree,e,s);let a=r[t.buffer[this.stack[l]]];if(!a.isAnonymous){if(e[s]&&e[s]!=a.name)return!1;s--}}return!0}}function Od(n){return n.children.some(e=>e instanceof ni||!e.type.isAnonymous||Od(e))}function W2(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:s=w1,reused:l=[],minRepeatType:a=r.types.length}=n,c=Array.isArray(t)?new bd(t,t.length):t,h=r.types,d=0,p=0;function m(I,j,z,Y,te,Z){let{id:re,start:ne,end:he,size:fe}=c,K=p,de=d;if(fe<0)if(c.next(),fe==-1){let C=l[re];z.push(C),Y.push(ne-I);return}else if(fe==-3){d=re;return}else if(fe==-4){p=re;return}else throw new RangeError(`Unrecognized record size: ${fe}`);let ge=h[re],$,J,X=ne-I;if(he-ne<=s&&(J=b(c.pos-j,te))){let C=new Uint16Array(J.size-J.skip),L=c.pos-J.size,se=C.length;for(;c.pos>L;)se=E(J.start,C,se);$=new ni(C,he-J.start,r),X=J.start-I}else{let C=c.pos-fe;c.next();let L=[],se=[],ee=re>=a?re:-1,V=0,ue=he;for(;c.pos>C;)ee>=0&&c.id==ee&&c.size>=0?(c.end<=ue-s&&(k(L,se,ne,V,c.end,ue,ee,K,de),V=L.length,ue=c.end),c.next()):Z>2500?v(ne,C,L,se):m(ne,C,L,se,ee,Z+1);if(ee>=0&&V>0&&V<L.length&&k(L,se,ne,V,ne,ue,ee,K,de),L.reverse(),se.reverse(),ee>-1&&V>0){let we=x(ge,de);$=Cd(ge,L,se,0,L.length,0,he-ne,we,we)}else $=S(ge,L,se,he-ne,K-he,de)}z.push($),Y.push(X)}function v(I,j,z,Y){let te=[],Z=0,re=-1;for(;c.pos>j;){let{id:ne,start:he,end:fe,size:K}=c;if(K>4)c.next();else{if(re>-1&&he<re)break;re<0&&(re=fe-s),te.push(ne,he,fe),Z++,c.next()}}if(Z){let ne=new Uint16Array(Z*4),he=te[te.length-2];for(let fe=te.length-3,K=0;fe>=0;fe-=3)ne[K++]=te[fe],ne[K++]=te[fe+1]-he,ne[K++]=te[fe+2]-he,ne[K++]=K;z.push(new ni(ne,te[2]-he,r)),Y.push(he-I)}}function x(I,j){return(z,Y,te)=>{let Z=0,re=z.length-1,ne,he;if(re>=0&&(ne=z[re])instanceof tt){if(!re&&ne.type==I&&ne.length==te)return ne;(he=ne.prop(Ae.lookAhead))&&(Z=Y[re]+ne.length+he)}return S(I,z,Y,te,Z,j)}}function k(I,j,z,Y,te,Z,re,ne,he){let fe=[],K=[];for(;I.length>Y;)fe.push(I.pop()),K.push(j.pop()+z-te);I.push(S(r.types[re],fe,K,Z-te,ne-Z,he)),j.push(te-z)}function S(I,j,z,Y,te,Z,re){if(Z){let ne=[Ae.contextHash,Z];re=re?[ne].concat(re):[ne]}if(te>25){let ne=[Ae.lookAhead,te];re=re?[ne].concat(re):[ne]}return new tt(I,j,z,Y,re)}function b(I,j){let z=c.fork(),Y=0,te=0,Z=0,re=z.end-s,ne={size:0,start:0,skip:0};e:for(let he=z.pos-I;z.pos>he;){let fe=z.size;if(z.id==j&&fe>=0){ne.size=Y,ne.start=te,ne.skip=Z,Z+=4,Y+=4,z.next();continue}let K=z.pos-fe;if(fe<0||K<he||z.start<re)break;let de=z.id>=a?4:0,ge=z.start;for(z.next();z.pos>K;){if(z.size<0)if(z.size==-3)de+=4;else break e;else z.id>=a&&(de+=4);z.next()}te=ge,Y+=fe,Z+=de}return(j<0||Y==I)&&(ne.size=Y,ne.start=te,ne.skip=Z),ne.size>4?ne:void 0}function E(I,j,z){let{id:Y,start:te,end:Z,size:re}=c;if(c.next(),re>=0&&Y<a){let ne=z;if(re>4){let he=c.pos-(re-4);for(;c.pos>he;)z=E(I,j,z)}j[--z]=ne,j[--z]=Z-I,j[--z]=te-I,j[--z]=Y}else re==-3?d=Y:re==-4&&(p=Y);return z}let D=[],R=[];for(;c.pos>0;)m(n.start||0,n.bufferStart||0,D,R,-1,0);let F=(e=n.length)!==null&&e!==void 0?e:D.length?R[0]+D[0].length:0;return new tt(h[n.topID],D.reverse(),R.reverse(),F)}const z0=new WeakMap;function qa(n,e){if(!n.isAnonymous||e instanceof ni||e.type!=n)return 1;let t=z0.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof tt)){t=1;break}t+=qa(n,r)}z0.set(e,t)}return t}function Cd(n,e,t,r,s,l,a,c,h){let d=0;for(let k=r;k<s;k++)d+=qa(n,e[k]);let p=Math.ceil(d*1.5/8),m=[],v=[];function x(k,S,b,E,D){for(let R=b;R<E;){let F=R,I=S[R],j=qa(n,k[R]);for(R++;R<E;R++){let z=qa(n,k[R]);if(j+z>=p)break;j+=z}if(R==F+1){if(j>p){let z=k[F];x(z.children,z.positions,0,z.children.length,S[F]+D);continue}m.push(k[F])}else{let z=S[R-1]+k[R-1].length-I;m.push(Cd(n,k,S,F,R,I,z,null,h))}v.push(I+D-l)}}return x(e,t,r,s,0),(c||h)(m,v,a)}class Oi{constructor(e,t,r,s,l=!1,a=!1){this.from=e,this.to=t,this.tree=r,this.offset=s,this.open=(l?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let s=[new Oi(0,e.length,e,0,!1,r)];for(let l of t)l.to>e.length&&s.push(l);return s}static applyChanges(e,t,r=128){if(!t.length)return e;let s=[],l=1,a=e.length?e[0]:null;for(let c=0,h=0,d=0;;c++){let p=c<t.length?t[c]:null,m=p?p.fromA:1e9;if(m-h>=r)for(;a&&a.from<m;){let v=a;if(h>=v.from||m<=v.to||d){let x=Math.max(v.from,h)-d,k=Math.min(v.to,m)-d;v=x>=k?null:new Oi(x,k,v.tree,v.offset+d,c>0,!!p)}if(v&&s.push(v),a.to>m)break;a=l<e.length?e[l++]:null}if(!p)break;h=p.toA,d=p.toA-p.toB}return s}}let O1=class{startParse(e,t,r){return typeof e=="string"&&(e=new Q2(e)),r=r?r.length?r.map(s=>new Fh(s.from,s.to)):[new Fh(0,0)]:[new Fh(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let s=this.startParse(e,t,r);for(;;){let l=s.advance();if(l)return l}}};class Q2{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Ae({perNode:!0});var j0={};class fu{constructor(e,t,r,s,l,a,c,h,d,p=0,m){this.p=e,this.stack=t,this.state=r,this.reducePos=s,this.pos=l,this.score=a,this.buffer=c,this.bufferBase=h,this.curContext=d,this.lookAhead=p,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let s=e.parser.context;return new fu(e,[],t,r,r,0,[],0,s?new F0(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,s=e&65535,{parser:l}=this.p,a=this.reducePos<this.pos-25;a&&this.setLookAhead(this.pos);let c=l.dynamicPrecedence(s);if(c&&(this.score+=c),r==0){this.pushState(l.getGoto(this.state,s,!0),this.reducePos),s<l.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(s,this.reducePos);return}let h=this.stack.length-(r-1)*3-(e&262144?6:0),d=h?this.stack[h-2]:this.p.ranges[0].from,p=this.reducePos-d;p>=2e3&&!(!((t=this.p.parser.nodeSet.types[s])===null||t===void 0)&&t.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=p));let m=h?this.stack[h-1]:0,v=this.bufferBase+this.buffer.length-m;if(s<l.minRepeatTerm||e&131072){let x=l.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,d,x,v+4,!0)}if(e&262144)this.state=this.stack[h];else{let x=this.stack[h-3];this.state=l.getGoto(x,s,!0)}for(;this.stack.length>h;)this.stack.pop();this.reduceContext(s,d)}storeNode(e,t,r,s=4,l=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,c=this.buffer.length;if(c==0&&a.parent&&(c=a.bufferBase-a.parent.bufferBase,a=a.parent),c>0&&a.buffer[c-4]==0&&a.buffer[c-1]>-1){if(t==r)return;if(a.buffer[c-2]>=t){a.buffer[c-2]=r;return}}}if(!l||this.pos==r)this.buffer.push(e,t,r,s);else{let a=this.buffer.length;if(a>0&&(this.buffer[a-4]!=0||this.buffer[a-1]<0)){let c=!1;for(let h=a;h>0&&this.buffer[h-2]>r;h-=4)if(this.buffer[h-1]>=0){c=!0;break}if(c)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,s>4&&(s-=4)}this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=r,this.buffer[a+3]=s}}shift(e,t,r,s){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let l=e,{parser:a}=this.p;(s>this.pos||t<=a.maxNode)&&(this.pos=s,a.stateFlag(l,1)||(this.reducePos=s)),this.pushState(l,r),this.shiftContext(t,r),t<=a.maxNode&&this.buffer.push(t,r,s,4)}else this.pos=s,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,s,4)}apply(e,t,r,s){e&65536?this.reduce(e):this.shift(e,t,r,s)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(r,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new fu(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new $2(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if((r&65536)==0)return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let s=[];for(let l=0,a;l<t.length;l+=2)(a=t[l+1])!=this.state&&this.p.parser.hasAction(a,e)&&s.push(t[l],a);if(this.stack.length<120)for(let l=0;s.length<8&&l<t.length;l+=2){let a=t[l+1];s.some((c,h)=>h&1&&c==a)||s.push(t[l],a)}t=s}let r=[];for(let s=0;s<t.length&&r.length<4;s+=2){let l=t[s+1];if(l==this.state)continue;let a=this.split();a.pushState(l,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[s],this.pos),a.reducePos=this.pos,a.score-=200,r.push(a)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let r=t>>19,s=t&65535,l=this.stack.length-r*3;if(l<0||e.getGoto(this.stack[l],s,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;t=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(s,l)=>{if(!t.includes(s))return t.push(s),e.allActions(s,a=>{if(!(a&393216))if(a&65536){let c=(a>>19)-l;if(c>1){let h=a&65535,d=this.stack.length-c*3;if(d>=0&&e.getGoto(this.stack[d],h,!1)>=0)return c<<19|65536|h}}else{let c=r(a,l+1);if(c!=null)return c}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new F0(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class F0{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class $2{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class du{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new du(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new du(this.stack,this.pos,this.index)}}function La(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,s=0;r<n.length;){let l=0;for(;;){let a=n.charCodeAt(r++),c=!1;if(a==126){l=65535;break}a>=92&&a--,a>=34&&a--;let h=a-32;if(h>=46&&(h-=46,c=!0),l+=h,c)break;l*=46}t?t[s++]=l:t=new e(l)}return t}class Ya{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const _0=new Ya;class U2{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=_0,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,s=this.rangeIndex,l=this.pos+e;for(;l<r.from;){if(!s)return null;let a=this.ranges[--s];l-=r.from-a.to,r=a}for(;t<0?l>r.to:l>=r.to;){if(s==this.ranges.length-1)return null;let a=this.ranges[++s];l+=a.from-r.to,r=a}return l}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,s;if(t>=0&&t<this.chunk.length)r=this.pos+e,s=this.chunk.charCodeAt(t);else{let l=this.resolveOffset(e,1);if(l==null)return-1;if(r=l,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,c=this.range;for(;c.to<=r;)c=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-r)),s=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),s}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=_0,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(r+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return r}}class hs{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;X2(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}hs.prototype.contextual=hs.prototype.fallback=hs.prototype.extend=!1;hs.prototype.fallback=hs.prototype.extend=!1;class Du{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function X2(n,e,t,r,s,l){let a=0,c=1<<r,{dialect:h}=t.p.parser;e:for(;(c&n[a])!=0;){let d=n[a+1];for(let x=a+3;x<d;x+=2)if((n[x+1]&c)>0){let k=n[x];if(h.allows(k)&&(e.token.value==-1||e.token.value==k||K2(k,e.token.value,s,l))){e.acceptToken(k);break}}let p=e.next,m=0,v=n[a+2];if(e.next<0&&v>m&&n[d+v*3-3]==65535){a=n[d+v*3-1];continue e}for(;m<v;){let x=m+v>>1,k=d+x+(x<<1),S=n[k],b=n[k+1]||65536;if(p<S)v=x;else if(p>=b)m=x+1;else{a=n[k+2],e.advance();continue e}}break}}function V0(n,e,t){for(let r=e,s;(s=n[r])!=65535;r++)if(s==t)return r-e;return-1}function K2(n,e,t,r){let s=V0(t,r,e);return s<0||V0(t,r,n)<s}const Jt=typeof process<"u"&&j0&&/\bparse\b/.test(j0.LOG);let _h=null;function H0(n,e,t){let r=n.cursor(ht.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class q2{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?H0(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?H0(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],s=this.index[t];if(s==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let l=r.children[s],a=this.start[t]+r.positions[s];if(a>e)return this.nextStart=a,null;if(l instanceof tt){if(a==e){if(a<this.safeFrom)return null;let c=a+l.length;if(c<=this.safeTo){let h=l.prop(Ae.lookAhead);if(!h||c+h<this.fragment.to)return l}}this.index[t]++,a+l.length>=Math.max(this.safeFrom,e)&&(this.trees.push(l),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+l.length}}}class Y2{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Ya)}getActions(e){let t=0,r=null,{parser:s}=e.p,{tokenizers:l}=s,a=s.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,h=0;for(let d=0;d<l.length;d++){if((1<<d&a)==0)continue;let p=l[d],m=this.tokens[d];if(!(r&&!p.fallback)&&((p.contextual||m.start!=e.pos||m.mask!=a||m.context!=c)&&(this.updateCachedToken(m,p,e),m.mask=a,m.context=c),m.lookAhead>m.end+25&&(h=Math.max(m.lookAhead,h)),m.value!=0)){let v=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!p.extend&&(r=m,t>v))break}}for(;this.actions.length>t;)this.actions.pop();return h&&e.setLookAhead(h),!r&&e.pos==this.stream.end&&(r=new Ya,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Ya,{pos:r,p:s}=e;return t.start=r,t.end=Math.min(r+1,s.stream.end),t.value=r==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,r){let s=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(s,e),r),e.value>-1){let{parser:l}=r.p;for(let a=0;a<l.specialized.length;a++)if(l.specialized[a]==e.value){let c=l.specializers[a](this.stream.read(e.start,e.end),r);if(c>=0&&r.p.parser.dialect.allows(c>>1)){(c&1)==0?e.value=c>>1:e.extended=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,r,s){for(let l=0;l<s;l+=3)if(this.actions[l]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=r,s}addActions(e,t,r,s){let{state:l}=e,{parser:a}=e.p,{data:c}=a;for(let h=0;h<2;h++)for(let d=a.stateSlot(l,h?2:1);;d+=3){if(c[d]==65535)if(c[d+1]==1)d=fr(c,d+2);else{s==0&&c[d+1]==2&&(s=this.putAction(fr(c,d+2),t,r,s));break}c[d]==t&&(s=this.putAction(fr(c,d+1),t,r,s))}return s}}class G2{constructor(e,t,r,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new U2(t,s),this.tokens=new Y2(e,this.stream),this.topTerm=e.top[1];let{from:l}=s[0];this.stacks=[fu.start(this,e.top[0],l)],this.fragments=r.length&&this.stream.end-l>e.bufferLength*4?new q2(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],s,l;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let c=e[a];for(;;){if(this.tokens.mainToken=null,c.pos>t)r.push(c);else{if(this.advanceStack(c,r,e))continue;{s||(s=[],l=[]),s.push(c);let h=this.tokens.getMainToken(c);l.push(h.value,h.end)}}break}}if(!r.length){let a=s&&eP(s);if(a)return Jt&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw Jt&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let a=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,l,r);if(a)return Jt&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((c,h)=>h.score-c.score);r.length>a;)r.pop();r.some(c=>c.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let c=r[a];for(let h=a+1;h<r.length;h++){let d=r[h];if(c.sameState(d)||c.buffer.length>500&&d.buffer.length>500)if((c.score-d.score||c.buffer.length-d.buffer.length)>0)r.splice(h--,1);else{r.splice(a--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let s=e.pos,{parser:l}=this,a=Jt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let d=e.curContext&&e.curContext.tracker.strict,p=d?e.curContext.hash:0;for(let m=this.fragments.nodeAt(s);m;){let v=this.parser.nodeSet.types[m.type.id]==m.type?l.getGoto(e.state,m.type.id):-1;if(v>-1&&m.length&&(!d||(m.prop(Ae.contextHash)||0)==p))return e.useNode(m,v),Jt&&console.log(a+this.stackID(e)+` (via reuse of ${l.getName(m.type.id)})`),!0;if(!(m instanceof tt)||m.children.length==0||m.positions[0]>0)break;let x=m.children[0];if(x instanceof tt&&m.positions[0]==0)m=x;else break}}let c=l.stateSlot(e.state,4);if(c>0)return e.reduce(c),Jt&&console.log(a+this.stackID(e)+` (via always-reduce ${l.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let h=this.tokens.getActions(e);for(let d=0;d<h.length;){let p=h[d++],m=h[d++],v=h[d++],x=d==h.length||!r,k=x?e:e.split(),S=this.tokens.mainToken;if(k.apply(p,m,S?S.start:k.pos,v),Jt&&console.log(a+this.stackID(k)+` (via ${(p&65536)==0?"shift":`reduce of ${l.getName(p&65535)}`} for ${l.getName(m)} @ ${s}${k==e?"":", split"})`),x)return!0;k.pos>s?t.push(k):r.push(k)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return W0(e,t),!0}}runRecovery(e,t,r){let s=null,l=!1;for(let a=0;a<e.length;a++){let c=e[a],h=t[a<<1],d=t[(a<<1)+1],p=Jt?this.stackID(c)+" -> ":"";if(c.deadEnd&&(l||(l=!0,c.restart(),Jt&&console.log(p+this.stackID(c)+" (restarted)"),this.advanceFully(c,r))))continue;let m=c.split(),v=p;for(let x=0;x<10&&m.forceReduce()&&(Jt&&console.log(v+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,r));x++)Jt&&(v=this.stackID(m)+" -> ");for(let x of c.recoverByInsert(h))Jt&&console.log(p+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,r);this.stream.end>c.pos?(d==c.pos&&(d++,h=0),c.recoverByDelete(h,d),Jt&&console.log(p+this.stackID(c)+` (via recover-delete ${this.parser.getName(h)})`),W0(c,r)):(!s||s.score<c.score)&&(s=c)}return s}stackToTree(e){return e.close(),tt.build({buffer:du.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(_h||(_h=new WeakMap)).get(e);return t||_h.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function W0(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class Z2{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const Vh=n=>n;class J2{constructor(e){this.start=e.start,this.shift=e.shift||Vh,this.reduce=e.reduce||Vh,this.reuse=e.reuse||Vh,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class pu extends O1{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let r=Object.keys(e.topRules).map(c=>e.topRules[c][1]),s=[];for(let c=0;c<t.length;c++)s.push([]);function l(c,h,d){s[c].push([h,h.deserialize(String(d))])}if(e.nodeProps)for(let c of e.nodeProps){let h=c[0];typeof h=="string"&&(h=Ae[h]);for(let d=1;d<c.length;){let p=c[d++];if(p>=0)l(p,h,c[d++]);else{let m=c[d+-p];for(let v=-p;v>0;v--)l(c[d++],h,m);d++}}}this.nodeSet=new Sd(t.map((c,h)=>$t.define({name:h>=this.minRepeatTerm?void 0:c,id:h,props:s[h],top:r.indexOf(h)>-1,error:h==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(h)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=w1;let a=La(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(Q0),this.states=La(e.states,Uint32Array),this.data=La(e.stateData),this.goto=La(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new hs(a,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let s=new G2(this,e,t,r);for(let l of this.wrappers)s=l(s,e,t,r);return s}getGoto(e,t,r=!1){let s=this.goto;if(t>=s[0])return-1;for(let l=s[t+1];;){let a=s[l++],c=a&1,h=s[l++];if(c&&r)return h;for(let d=l+(a>>1);l<d;l++)if(s[l]==e)return h;if(c)return-1}}hasAction(e,t){let r=this.data;for(let s=0;s<2;s++)for(let l=this.stateSlot(e,s?2:1),a;;l+=3){if((a=r[l])==65535)if(r[l+1]==1)a=r[l=fr(r,l+2)];else{if(r[l+1]==2)return fr(r,l+2);break}if(a==t||a==0)return fr(r,l+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),s=r?t(r):void 0;for(let l=this.stateSlot(e,1);s==null;l+=3){if(this.data[l]==65535)if(this.data[l+1]==1)l=fr(this.data,l+2);else break;s=t(fr(this.data,l+1))}return s}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=fr(this.data,r+2);else break;if((this.data[r+2]&1)==0){let s=this.data[r+1];t.some((l,a)=>a&1&&l==s)||t.push(this.data[r],s)}}return t}configure(e){let t=Object.assign(Object.create(pu.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let s=e.tokenizers.find(l=>l.from==r);return s?s.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,s)=>{let l=e.specializers.find(c=>c.from==r.external);if(!l)return r;let a=Object.assign(Object.assign({},r),{external:l.to});return t.specializers[s]=Q0(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let l of e.split(" ")){let a=t.indexOf(l);a>=0&&(r[a]=!0)}let s=null;for(let l=0;l<t.length;l++)if(!r[l])for(let a=this.dialects[t[l]],c;(c=this.data[a++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[c]=1;return new Z2(e,r,s)}static deserialize(e){return new pu(e)}}function fr(n,e){return n[e]|n[e+1]<<16}function eP(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function Q0(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}let tP=0,dr=class Ff{constructor(e,t,r,s){this.name=e,this.set=t,this.base=r,this.modified=s,this.id=tP++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof Ff&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let s=new Ff(r,[],null,[]);if(s.set.push(s),t)for(let l of t.set)s.set.push(l);return s}static defineModifier(e){let t=new gu(e);return r=>r.modified.indexOf(t)>-1?r:gu.get(r.base||r,r.modified.concat(t).sort((s,l)=>s.id-l.id))}},nP=0;class gu{constructor(e){this.name=e,this.instances=[],this.id=nP++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(c=>c.base==e&&rP(t,c.modified));if(r)return r;let s=[],l=new dr(e.name,s,e,t);for(let c of t)c.instances.push(l);let a=iP(t);for(let c of e.set)if(!c.modified.length)for(let h of a)s.push(gu.get(c,h));return l}}function rP(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function iP(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,s=e.length;r<s;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function C1(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let s of t.split(" "))if(s){let l=[],a=2,c=s;for(let m=0;;){if(c=="..."&&m>0&&m+3==s.length){a=1;break}let v=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!v)throw new RangeError("Invalid path: "+s);if(l.push(v[0]=="*"?"":v[0][0]=='"'?JSON.parse(v[0]):v[0]),m+=v[0].length,m==s.length)break;let x=s[m++];if(m==s.length&&x=="!"){a=0;break}if(x!="/")throw new RangeError("Invalid path: "+s);c=s.slice(m)}let h=l.length-1,d=l[h];if(!d)throw new RangeError("Invalid path: "+s);let p=new Xo(r,a,h>0?l.slice(0,h):null);e[d]=p.sort(e[d])}}return P1.add(e)}const P1=new Ae({combine(n,e){let t,r,s;for(;n||e;){if(!n||e&&n.depth>=e.depth?(s=e,e=e.next):(s=n,n=n.next),t&&t.mode==s.mode&&!s.context&&!t.context)continue;let l=new Xo(s.tags,s.mode,s.context);t?t.next=l:r=l,t=l}return r}});class Xo{constructor(e,t,r,s){this.tags=e,this.mode=t,this.context=r,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Xo.empty=new Xo([],2,null);function A1(n,e){let t=Object.create(null);for(let l of n)if(!Array.isArray(l.tag))t[l.tag.id]=l.class;else for(let a of l.tag)t[a.id]=l.class;let{scope:r,all:s=null}=e||{};return{style:l=>{let a=s;for(let c of l)for(let h of c.set){let d=t[h.id];if(d){a=a?a+" "+d:d;break}}return a},scope:r}}function sP(n,e){let t=null;for(let r of n){let s=r.style(e);s&&(t=t?t+" "+s:s)}return t}function oP(n,e,t,r=0,s=n.length){let l=new lP(r,Array.isArray(e)?e:[e],t);l.highlightRange(n.cursor(),r,s,"",l.highlighters),l.flush(s)}class lP{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,s,l){let{type:a,from:c,to:h}=e;if(c>=r||h<=t)return;a.isTop&&(l=this.highlighters.filter(x=>!x.scope||x.scope(a)));let d=s,p=aP(e)||Xo.empty,m=sP(l,p.tags);if(m&&(d&&(d+=" "),d+=m,p.mode==1&&(s+=(s?" ":"")+m)),this.startSpan(Math.max(t,c),d),p.opaque)return;let v=e.tree&&e.tree.prop(Ae.mounted);if(v&&v.overlay){let x=e.node.enter(v.overlay[0].from+c,1),k=this.highlighters.filter(b=>!b.scope||b.scope(v.tree.type)),S=e.firstChild();for(let b=0,E=c;;b++){let D=b<v.overlay.length?v.overlay[b]:null,R=D?D.from+c:h,F=Math.max(t,E),I=Math.min(r,R);if(F<I&&S)for(;e.from<I&&(this.highlightRange(e,F,I,s,l),this.startSpan(Math.min(I,e.to),d),!(e.to>=R||!e.nextSibling())););if(!D||R>r)break;E=D.to+c,E>t&&(this.highlightRange(x.cursor(),Math.max(t,D.from+c),Math.min(r,E),"",k),this.startSpan(Math.min(r,E),d))}S&&e.parent()}else if(e.firstChild()){v&&(s="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,s,l),this.startSpan(Math.min(r,e.to),d)}while(e.nextSibling());e.parent()}}}function aP(n){let e=n.type.prop(P1);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const ie=dr.define,Ia=ie(),Qr=ie(),$0=ie(Qr),U0=ie(Qr),$r=ie(),Ba=ie($r),Hh=ie($r),Xn=ie(),vi=ie(Xn),$n=ie(),Un=ie(),_f=ie(),mo=ie(_f),za=ie(),H={comment:Ia,lineComment:ie(Ia),blockComment:ie(Ia),docComment:ie(Ia),name:Qr,variableName:ie(Qr),typeName:$0,tagName:ie($0),propertyName:U0,attributeName:ie(U0),className:ie(Qr),labelName:ie(Qr),namespace:ie(Qr),macroName:ie(Qr),literal:$r,string:Ba,docString:ie(Ba),character:ie(Ba),attributeValue:ie(Ba),number:Hh,integer:ie(Hh),float:ie(Hh),bool:ie($r),regexp:ie($r),escape:ie($r),color:ie($r),url:ie($r),keyword:$n,self:ie($n),null:ie($n),atom:ie($n),unit:ie($n),modifier:ie($n),operatorKeyword:ie($n),controlKeyword:ie($n),definitionKeyword:ie($n),moduleKeyword:ie($n),operator:Un,derefOperator:ie(Un),arithmeticOperator:ie(Un),logicOperator:ie(Un),bitwiseOperator:ie(Un),compareOperator:ie(Un),updateOperator:ie(Un),definitionOperator:ie(Un),typeOperator:ie(Un),controlOperator:ie(Un),punctuation:_f,separator:ie(_f),bracket:mo,angleBracket:ie(mo),squareBracket:ie(mo),paren:ie(mo),brace:ie(mo),content:Xn,heading:vi,heading1:ie(vi),heading2:ie(vi),heading3:ie(vi),heading4:ie(vi),heading5:ie(vi),heading6:ie(vi),contentSeparator:ie(Xn),list:ie(Xn),quote:ie(Xn),emphasis:ie(Xn),strong:ie(Xn),link:ie(Xn),monospace:ie(Xn),strikethrough:ie(Xn),inserted:ie(),deleted:ie(),changed:ie(),invalid:ie(),meta:za,documentMeta:ie(za),annotation:ie(za),processingInstruction:ie(za),definition:dr.defineModifier("definition"),constant:dr.defineModifier("constant"),function:dr.defineModifier("function"),standard:dr.defineModifier("standard"),local:dr.defineModifier("local"),special:dr.defineModifier("special")};for(let n in H){let e=H[n];e instanceof dr&&(e.name=n)}A1([{tag:H.link,class:"tok-link"},{tag:H.heading,class:"tok-heading"},{tag:H.emphasis,class:"tok-emphasis"},{tag:H.strong,class:"tok-strong"},{tag:H.keyword,class:"tok-keyword"},{tag:H.atom,class:"tok-atom"},{tag:H.bool,class:"tok-bool"},{tag:H.url,class:"tok-url"},{tag:H.labelName,class:"tok-labelName"},{tag:H.inserted,class:"tok-inserted"},{tag:H.deleted,class:"tok-deleted"},{tag:H.literal,class:"tok-literal"},{tag:H.string,class:"tok-string"},{tag:H.number,class:"tok-number"},{tag:[H.regexp,H.escape,H.special(H.string)],class:"tok-string2"},{tag:H.variableName,class:"tok-variableName"},{tag:H.local(H.variableName),class:"tok-variableName tok-local"},{tag:H.definition(H.variableName),class:"tok-variableName tok-definition"},{tag:H.special(H.variableName),class:"tok-variableName2"},{tag:H.definition(H.propertyName),class:"tok-propertyName tok-definition"},{tag:H.typeName,class:"tok-typeName"},{tag:H.namespace,class:"tok-namespace"},{tag:H.className,class:"tok-className"},{tag:H.macroName,class:"tok-macroName"},{tag:H.propertyName,class:"tok-propertyName"},{tag:H.operator,class:"tok-operator"},{tag:H.comment,class:"tok-comment"},{tag:H.meta,class:"tok-meta"},{tag:H.invalid,class:"tok-invalid"},{tag:H.punctuation,class:"tok-punctuation"}]);const ts=63,X0=64,uP=1,cP=2,E1=3,hP=4,M1=5,fP=6,dP=7,D1=65,pP=66,gP=8,mP=9,yP=10,vP=11,xP=12,R1=13,wP=19,kP=20,SP=29,bP=33,OP=34,CP=47,PP=0,Pd=1,Vf=2,Ko=3,Hf=4;class ki{constructor(e,t,r){this.parent=e,this.depth=t,this.type=r,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)+r}}ki.top=new ki(null,-1,PP);function No(n,e){for(let t=0,r=e-n.pos-1;;r--,t++){let s=n.peek(r);if(xr(s)||s==-1)return t}}function Wf(n){return n==32||n==9}function xr(n){return n==10||n==13}function T1(n){return Wf(n)||xr(n)}function bi(n){return n<0||T1(n)}const AP=new J2({start:ki.top,reduce(n,e){return n.type==Ko&&(e==kP||e==OP)?n.parent:n},shift(n,e,t,r){if(e==E1)return new ki(n,No(r,r.pos),Pd);if(e==D1||e==M1)return new ki(n,No(r,r.pos),Vf);if(e==ts)return n.parent;if(e==wP||e==bP)return new ki(n,0,Ko);if(e==R1&&n.type==Hf)return n.parent;if(e==CP){let s=/[1-9]/.exec(r.read(r.pos,t.pos));if(s)return new ki(n,n.depth+ +s[0],Hf)}return n},hash(n){return n.hash}});function ys(n,e,t=0){return n.peek(t)==e&&n.peek(t+1)==e&&n.peek(t+2)==e&&bi(n.peek(t+3))}const EP=new Du((n,e)=>{if(n.next==-1&&e.canShift(X0))return n.acceptToken(X0);let t=n.peek(-1);if((xr(t)||t<0)&&e.context.type!=Ko){if(ys(n,45))if(e.canShift(ts))n.acceptToken(ts);else return n.acceptToken(uP,3);if(ys(n,46))if(e.canShift(ts))n.acceptToken(ts);else return n.acceptToken(cP,3);let r=0;for(;n.next==32;)r++,n.advance();(r<e.context.depth||r==e.context.depth&&e.context.type==Pd&&(n.next!=45||!bi(n.peek(1))))&&n.next!=-1&&!xr(n.next)&&n.next!=35&&n.acceptToken(ts,-r)}},{contextual:!0}),MP=new Du((n,e)=>{if(e.context.type==Ko){n.next==63&&(n.advance(),bi(n.next)&&n.acceptToken(dP));return}if(n.next==45)n.advance(),bi(n.next)&&n.acceptToken(e.context.type==Pd&&e.context.depth==No(n,n.pos-1)?hP:E1);else if(n.next==63)n.advance(),bi(n.next)&&n.acceptToken(e.context.type==Vf&&e.context.depth==No(n,n.pos-1)?fP:M1);else{let t=n.pos;for(;;)if(Wf(n.next)){if(n.pos==t)return;n.advance()}else if(n.next==33)N1(n);else if(n.next==38)Qf(n);else if(n.next==42){Qf(n);break}else if(n.next==39||n.next==34){if(Ad(n,!0))break;return}else if(n.next==91||n.next==123){if(!RP(n))return;break}else{L1(n,!0,!1,0);break}for(;Wf(n.next);)n.advance();if(n.next==58){if(n.pos==t&&e.canShift(SP))return;let r=n.peek(1);bi(r)&&n.acceptTokenTo(e.context.type==Vf&&e.context.depth==No(n,t)?pP:D1,t)}}},{contextual:!0});function DP(n){return n>32&&n<127&&n!=34&&n!=37&&n!=44&&n!=60&&n!=62&&n!=92&&n!=94&&n!=96&&n!=123&&n!=124&&n!=125}function K0(n){return n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70}function q0(n,e){return n.next==37?(n.advance(),K0(n.next)&&n.advance(),K0(n.next)&&n.advance(),!0):DP(n.next)||e&&n.next==44?(n.advance(),!0):!1}function N1(n){if(n.advance(),n.next==60){for(n.advance();;)if(!q0(n,!0)){n.next==62&&n.advance();break}}else for(;q0(n,!1););}function Qf(n){for(n.advance();!bi(n.next)&&mu(n.tag)!="f";)n.advance()}function Ad(n,e){let t=n.next,r=!1,s=n.pos;for(n.advance();;){let l=n.next;if(l<0)break;if(n.advance(),l==t)if(l==39)if(n.next==39)n.advance();else break;else break;else if(l==92&&t==34)n.next>=0&&n.advance();else if(xr(l)){if(e)return!1;r=!0}else if(e&&n.pos>=s+1024)return!1}return!r}function RP(n){for(let e=[],t=n.pos+1024;;)if(n.next==91||n.next==123)e.push(n.next),n.advance();else if(n.next==39||n.next==34){if(!Ad(n,!0))return!1}else if(n.next==93||n.next==125){if(e[e.length-1]!=n.next-2)return!1;if(e.pop(),n.advance(),!e.length)return!0}else{if(n.next<0||n.pos>t||xr(n.next))return!1;n.advance()}}const TP="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function mu(n){return n<33?"u":n>125?"s":TP[n-33]}function Wh(n,e){let t=mu(n);return t!="u"&&!(e&&t=="f")}function L1(n,e,t,r){if(mu(n.next)=="s"||(n.next==63||n.next==58||n.next==45)&&Wh(n.peek(1),t))n.advance();else return!1;let s=n.pos;for(;;){let l=n.next,a=0,c=r+1;for(;T1(l);){if(xr(l)){if(e)return!1;c=0}else c++;l=n.peek(++a)}if(!(l>=0&&(l==58?Wh(n.peek(a+1),t):l==35?n.peek(a-1)!=32:Wh(l,t)))||!t&&c<=r||c==0&&!t&&(ys(n,45,a)||ys(n,46,a)))break;if(e&&mu(l)=="f")return!1;for(let d=a;d>=0;d--)n.advance();if(e&&n.pos>s+1024)return!1}return!0}const NP=new Du((n,e)=>{if(n.next==33)N1(n),n.acceptToken(xP);else if(n.next==38||n.next==42){let t=n.next==38?yP:vP;Qf(n),n.acceptToken(t)}else n.next==39||n.next==34?(Ad(n,!1),n.acceptToken(mP)):L1(n,!1,e.context.type==Ko,e.context.depth)&&n.acceptToken(gP)}),LP=new Du((n,e)=>{let t=e.context.type==Hf?e.context.depth:-1,r=n.pos;e:for(;;){let s=0,l=n.next;for(;l==32;)l=n.peek(++s);if(!s&&(ys(n,45,s)||ys(n,46,s))||!xr(l)&&(t<0&&(t=Math.max(e.context.depth+1,s)),s<t))break;for(;;){if(n.next<0)break e;let a=xr(n.next);if(n.advance(),a)continue e;r=n.pos}}n.acceptTokenTo(R1,r)}),IP=C1({DirectiveName:H.keyword,DirectiveContent:H.attributeValue,"DirectiveEnd DocEnd":H.meta,QuotedLiteral:H.string,BlockLiteralHeader:H.special(H.string),BlockLiteralContent:H.content,Literal:H.content,"Key/Literal Key/QuotedLiteral":H.definition(H.propertyName),"Anchor Alias":H.labelName,Tag:H.typeName,Comment:H.lineComment,": , -":H.separator,"?":H.punctuation,"[ ]":H.squareBracket,"{ }":H.brace}),BP=pu.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:AP,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[IP],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[EP,MP,NP,LP,0,1],topRules:{Stream:[0,15]},tokenPrec:0});var Qh;const ss=new Ae;function zP(n){return ye.define({combine:n?e=>e.concat(n):void 0})}const jP=new Ae;class Dn{constructor(e,t,r=[],s=""){this.data=e,this.name=s,Te.prototype.hasOwnProperty("tree")||Object.defineProperty(Te.prototype,"tree",{get(){return Jn(this)}}),this.parser=t,this.extension=[xs.of(this),Te.languageData.of((l,a,c)=>{let h=Y0(l,a,c),d=h.type.prop(ss);if(!d)return[];let p=l.facet(d),m=h.type.prop(jP);if(m){let v=h.resolve(a-h.from,c);for(let x of m)if(x.test(v,l)){let k=l.facet(x.facet);return x.type=="replace"?k:k.concat(p)}}return p})].concat(r)}isActiveAt(e,t,r=-1){return Y0(e,t,r).type.prop(ss)==this.data}findRegions(e){let t=e.facet(xs);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],s=(l,a)=>{if(l.prop(ss)==this.data){r.push({from:a,to:a+l.length});return}let c=l.prop(Ae.mounted);if(c){if(c.tree.prop(ss)==this.data){if(c.overlay)for(let h of c.overlay)r.push({from:h.from+a,to:h.to+a});else r.push({from:a,to:a+l.length});return}else if(c.overlay){let h=r.length;if(s(c.tree,c.overlay[0].from+a),r.length>h)return}}for(let h=0;h<l.children.length;h++){let d=l.children[h];d instanceof tt&&s(d,l.positions[h]+a)}};return s(Jn(e),0),r}get allowsNesting(){return!0}}Dn.setState=st.define();function Y0(n,e,t){let r=n.facet(xs),s=Jn(n).topNode;if(!r||r.allowsNesting)for(let l=s;l;l=l.enter(e,t,ht.ExcludeBuffers))l.type.isTop&&(s=l);return s}class yu extends Dn{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=zP(e.languageData);return new yu(t,e.parser.configure({props:[ss.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new yu(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Jn(n){let e=n.field(Dn.state,!1);return e?e.tree:tt.empty}class FP{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let yo=null;class vu{constructor(e,t,r=[],s,l,a,c,h){this.parser=e,this.state=t,this.fragments=r,this.tree=s,this.treeLen=l,this.viewport=a,this.skipped=c,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new vu(e,t,[],tt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new FP(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=tt.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(Oi.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Oi.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=yo;yo=this;try{return e()}finally{yo=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=G0(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:s,treeLen:l,viewport:a,skipped:c}=this;if(this.takeTree(),!e.empty){let h=[];if(e.iterChangedRanges((d,p,m,v)=>h.push({fromA:d,toA:p,fromB:m,toB:v})),r=Oi.applyChanges(r,h),s=tt.empty,l=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){c=[];for(let d of this.skipped){let p=e.mapPos(d.from,1),m=e.mapPos(d.to,-1);p<m&&c.push({from:p,to:m})}}}return new vu(this.parser,t,r,s,l,a,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:s,to:l}=this.skipped[r];s<e.to&&l>e.from&&(this.fragments=G0(this.fragments,s,l),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends O1{createParse(t,r,s){let l=s[0].from,a=s[s.length-1].to;return{parsedPos:l,advance(){let h=yo;if(h){for(let d of s)h.tempSkipped.push(d);e&&(h.scheduleOn=h.scheduleOn?Promise.all([h.scheduleOn,e]):e)}return this.parsedPos=a,new tt($t.none,[],[],a-l)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return yo}}function G0(n,e,t){return Oi.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class vs{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new vs(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=vu.create(e.facet(xs).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new vs(r)}}Dn.state=Mi.define({create:vs.init,update(n,e){for(let t of e.effects)if(t.is(Dn.setState))return t.value;return e.startState.facet(xs)!=e.state.facet(xs)?vs.init(e.state):n.apply(e)}});let I1=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(I1=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const $h=typeof navigator<"u"&&(!((Qh=navigator.scheduling)===null||Qh===void 0)&&Qh.isInputPending)?()=>navigator.scheduling.isInputPending():null,_P=Nn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Dn.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Dn.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=I1(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:s}}=this.view,l=r.field(Dn.state);if(l.tree==l.context.tree&&l.context.isDone(s+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!$h?Math.max(25,e.timeRemaining()-5):1e9),c=l.context.treeLen<s&&r.doc.length>s+1e3,h=l.context.work(()=>$h&&$h()||Date.now()>a,s+(c?0:1e5));this.chunkBudget-=Date.now()-t,(h||this.chunkBudget<=0)&&(l.context.takeTree(),this.view.dispatch({effects:Dn.setState.of(new vs(l.context))})),this.chunkBudget>0&&!(h&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(l.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Yn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),xs=ye.define({combine(n){return n.length?n[0]:null},enables:n=>[Dn.state,_P,Se.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class VP{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const HP=ye.define(),Ed=ye.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function xu(n){let e=n.facet(Ed);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function wu(n,e){let t="",r=n.tabSize,s=n.facet(Ed)[0];if(s=="	"){for(;e>=r;)t+="	",e-=r;s=" "}for(let l=0;l<e;l++)t+=s;return t}function B1(n,e){n instanceof Te&&(n=new Ru(n));for(let r of n.state.facet(HP)){let s=r(n,e);if(s!==void 0)return s}let t=Jn(n.state);return t.length>=e?WP(n,t,e):null}class Ru{constructor(e,t={}){this.state=e,this.options=t,this.unit=xu(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:l}=this.options;return s!=null&&s>=r.from&&s<=r.to?l&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:r.text.slice(s-r.from),from:s}:{text:r.text.slice(0,s-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:s}=this.lineAt(e,t);return r.slice(e-s,Math.min(r.length,e+100-s))}column(e,t=1){let{text:r,from:s}=this.lineAt(e,t),l=this.countColumn(r,e-s),a=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return a>-1&&(l+=a-this.countColumn(r,r.search(/\S|$/))),l}countColumn(e,t=e.length){return Pu(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:s}=this.lineAt(e,t),l=this.options.overrideIndentation;if(l){let a=l(s);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const z1=new Ae;function WP(n,e,t){let r=e.resolveStack(t),s=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(s!=r.node){let l=[];for(let a=s;a&&!(a.from<r.node.from||a.to>r.node.to||a.from==r.node.from&&a.type==r.node.type);a=a.parent)l.push(a);for(let a=l.length-1;a>=0;a--)r={node:l[a],next:r}}return j1(r,n,t)}function j1(n,e,t){for(let r=n;r;r=r.next){let s=$P(r.node);if(s)return s(Md.create(e,t,r))}return 0}function QP(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function $P(n){let e=n.type.prop(z1);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(Ae.closedBy))){let s=n.lastChild,l=s&&r.indexOf(s.name)>-1;return a=>F1(a,!0,1,void 0,l&&!QP(a)?s.from:void 0)}return n.parent==null?UP:null}function UP(){return 0}class Md extends Ru{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new Md(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(XP(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return j1(this.context.next,this.base,this.pos)}}function XP(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function KP(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let s=n.options.simulateBreak,l=n.state.doc.lineAt(t.from),a=s==null||s<=l.from?l.to:Math.min(l.to,s);for(let c=t.to;;){let h=e.childAfter(c);if(!h||h==r)return null;if(!h.type.isSkipped){if(h.from>=a)return null;let d=/^ */.exec(l.text.slice(t.to-l.from))[0].length;return{from:t.from,to:t.to+d}}c=h.to}}function Z0({closing:n,align:e=!0,units:t=1}){return r=>F1(r,e,t,n)}function F1(n,e,t,r,s){let l=n.textAfter,a=l.match(/^\s*/)[0].length,c=r&&l.slice(a,a+r.length)==r||s==n.pos+a,h=e?KP(n):null;return h?c?n.column(h.from):n.column(h.to):n.baseIndent+(c?0:n.unit*t)}const qP=new Ae;function YP(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}class Tu{constructor(e,t){this.specs=e;let r;function s(c){let h=Zr.newName();return(r||(r=Object.create(null)))["."+h]=c,h}const l=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,a=t.scope;this.scope=a instanceof Dn?c=>c.prop(ss)==a.data:a?c=>c==a:void 0,this.style=A1(e.map(c=>({tag:c.tag,class:c.class||s(Object.assign({},c,{tag:null}))})),{all:l}).style,this.module=r?new Zr(r):null,this.themeType=t.themeType}static define(e,t){return new Tu(e,t||{})}}const $f=ye.define(),GP=ye.define({combine(n){return n.length?[n[0]]:null}});function Uh(n){let e=n.facet($f);return e.length?e:n.facet(GP)}function ZP(n,e){let t=[eA],r;return n instanceof Tu&&(n.module&&t.push(Se.styleModule.of(n.module)),r=n.themeType),r?t.push($f.computeN([Se.darkTheme],s=>s.facet(Se.darkTheme)==(r=="dark")?[n]:[])):t.push($f.of(n)),t}class JP{constructor(e){this.markCache=Object.create(null),this.tree=Jn(e.state),this.decorations=this.buildDeco(e,Uh(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Jn(e.state),r=Uh(e.state),s=r!=Uh(e.startState),{viewport:l}=e.view,a=e.changes.mapPos(this.decoratedTo,1);t.length<l.to&&!s&&t.type==this.tree.type&&a>=l.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=l.to)}buildDeco(e,t){if(!t||!this.tree.length)return Ke.none;let r=new Fo;for(let{from:s,to:l}of e.visibleRanges)oP(this.tree,t,(a,c,h)=>{r.add(a,c,this.markCache[h]||(this.markCache[h]=Ke.mark({class:h})))},s,l);return r.finish()}}const eA=Cu.high(Nn.fromClass(JP,{decorations:n=>n.decorations})),tA=1e4,nA="()[]{}",rA=new Ae;function Uf(n,e,t){let r=n.prop(e<0?Ae.openedBy:Ae.closedBy);if(r)return r;if(n.name.length==1){let s=t.indexOf(n.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function Xf(n){let e=n.type.prop(rA);return e?e(n.node):n}function os(n,e,t,r={}){let s=r.maxScanDistance||tA,l=r.brackets||nA,a=Jn(n),c=a.resolveInner(e,t);for(let h=c;h;h=h.parent){let d=Uf(h.type,t,l);if(d&&h.from<h.to){let p=Xf(h);if(p&&(t>0?e>=p.from&&e<p.to:e>p.from&&e<=p.to))return iA(n,e,t,h,p,d,l)}}return sA(n,e,t,a,c.type,s,l)}function iA(n,e,t,r,s,l,a){let c=r.parent,h={from:s.from,to:s.to},d=0,p=c==null?void 0:c.cursor();if(p&&(t<0?p.childBefore(r.from):p.childAfter(r.to)))do if(t<0?p.to<=r.from:p.from>=r.to){if(d==0&&l.indexOf(p.type.name)>-1&&p.from<p.to){let m=Xf(p);return{start:h,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(Uf(p.type,t,a))d++;else if(Uf(p.type,-t,a)){if(d==0){let m=Xf(p);return{start:h,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}d--}}while(t<0?p.prevSibling():p.nextSibling());return{start:h,matched:!1}}function sA(n,e,t,r,s,l,a){let c=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),h=a.indexOf(c);if(h<0||h%2==0!=t>0)return null;let d={from:t<0?e-1:e,to:t>0?e+1:e},p=n.doc.iterRange(e,t>0?n.doc.length:0),m=0;for(let v=0;!p.next().done&&v<=l;){let x=p.value;t<0&&(v+=x.length);let k=e+v*t;for(let S=t>0?0:x.length-1,b=t>0?x.length:-1;S!=b;S+=t){let E=a.indexOf(x[S]);if(!(E<0||r.resolveInner(k+S,1).type!=s))if(E%2==0==t>0)m++;else{if(m==1)return{start:d,end:{from:k+S,to:k+S+1},matched:E>>1==h>>1};m--}}t>0&&(v+=x.length)}return p.done?{start:d,matched:!1}:null}const oA=Object.create(null),J0=[$t.none],ey=[],ty=Object.create(null),lA=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])lA[n]=aA(oA,e);function Xh(n,e){ey.indexOf(n)>-1||(ey.push(n),console.warn(e))}function aA(n,e){let t=[];for(let c of e.split(" ")){let h=[];for(let d of c.split(".")){let p=n[d]||H[d];p?typeof p=="function"?h.length?h=h.map(p):Xh(d,`Modifier ${d} used at start of tag`):h.length?Xh(d,`Tag ${d} used as modifier`):h=Array.isArray(p)?p:[p]:Xh(d,`Unknown highlighting tag ${d}`)}for(let d of h)t.push(d)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),s=r+" "+t.map(c=>c.id),l=ty[s];if(l)return l.id;let a=ty[s]=$t.define({id:J0.length,name:r,props:[C1({[r]:t})]});return J0.push(a),a.id}Xe.RTL,Xe.LTR;const uA=yu.define({name:"yaml",parser:BP.configure({props:[z1.add({Stream:n=>{for(let e=n.node.resolve(n.pos,-1);e&&e.to>=n.pos;e=e.parent){if(e.name=="BlockLiteralContent"&&e.from<e.to)return n.baseIndentFor(e);if(e.name=="BlockLiteral")return n.baseIndentFor(e)+n.unit;if(e.name=="BlockSequence"||e.name=="BlockMapping")return n.column(e.from,1);if(e.name=="QuotedLiteral")return null;if(e.name=="Literal"){let t=n.column(e.from,1);if(t==n.lineIndent(e.from,1))return t;if(e.to>n.pos)return null}}return null},FlowMapping:Z0({closing:"}"}),FlowSequence:Z0({closing:"]"})}),qP.add({"FlowMapping FlowSequence":YP,"Item Pair BlockLiteral":(n,e)=>({from:e.doc.lineAt(n.from).to,to:n.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});function cA(){return new VP(uA)}const hA="#e5c07b",ny="#e06c75",fA="#56b6c2",dA="#ffffff",Ga="#abb2bf",Kf="#7d8799",pA="#61afef",gA="#98c379",ry="#d19a66",mA="#c678dd",yA="#21252b",iy="#2c313a",sy="#282c34",Kh="#353a42",vA="#3E4451",oy="#528bff",xA=Se.theme({"&":{color:Ga,backgroundColor:sy},".cm-content":{caretColor:oy},".cm-cursor, .cm-dropCursor":{borderLeftColor:oy},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:vA},".cm-panels":{backgroundColor:yA,color:Ga},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:sy,color:Kf,border:"none"},".cm-activeLineGutter":{backgroundColor:iy},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Kh},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Kh,borderBottomColor:Kh},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:iy,color:Ga}}},{dark:!0}),wA=Tu.define([{tag:H.keyword,color:mA},{tag:[H.name,H.deleted,H.character,H.propertyName,H.macroName],color:ny},{tag:[H.function(H.variableName),H.labelName],color:pA},{tag:[H.color,H.constant(H.name),H.standard(H.name)],color:ry},{tag:[H.definition(H.name),H.separator],color:Ga},{tag:[H.typeName,H.className,H.number,H.changed,H.annotation,H.modifier,H.self,H.namespace],color:hA},{tag:[H.operator,H.operatorKeyword,H.url,H.escape,H.regexp,H.link,H.special(H.string)],color:fA},{tag:[H.meta,H.comment],color:Kf},{tag:H.strong,fontWeight:"bold"},{tag:H.emphasis,fontStyle:"italic"},{tag:H.strikethrough,textDecoration:"line-through"},{tag:H.link,color:Kf,textDecoration:"underline"},{tag:H.heading,fontWeight:"bold",color:ny},{tag:[H.atom,H.bool,H.special(H.variableName)],color:ry},{tag:[H.processingInstruction,H.string,H.inserted],color:gA},{tag:H.invalid,color:dA}]),kA=[xA,ZP(wA)],SA=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=Rd(n.state,t.from);return r.line?bA(n):r.block?CA(n):!1};function Dd(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let s=n(e,t);return s?(r(t.update(s)),!0):!1}}const bA=Dd(EA,0),OA=Dd(_1,0),CA=Dd((n,e)=>_1(n,e,AA(e)),0);function Rd(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const vo=50;function PA(n,{open:e,close:t},r,s){let l=n.sliceDoc(r-vo,r),a=n.sliceDoc(s,s+vo),c=/\s*$/.exec(l)[0].length,h=/^\s*/.exec(a)[0].length,d=l.length-c;if(l.slice(d-e.length,d)==e&&a.slice(h,h+t.length)==t)return{open:{pos:r-c,margin:c&&1},close:{pos:s+h,margin:h&&1}};let p,m;s-r<=2*vo?p=m=n.sliceDoc(r,s):(p=n.sliceDoc(r,r+vo),m=n.sliceDoc(s-vo,s));let v=/^\s*/.exec(p)[0].length,x=/\s*$/.exec(m)[0].length,k=m.length-x-t.length;return p.slice(v,v+e.length)==e&&m.slice(k,k+t.length)==t?{open:{pos:r+v+e.length,margin:/\s/.test(p.charAt(v+e.length))?1:0},close:{pos:s-x-t.length,margin:/\s/.test(m.charAt(k-1))?1:0}}:null}function AA(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),s=t.to<=r.to?r:n.doc.lineAt(t.to);s.from>r.from&&s.from==t.to&&(s=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let l=e.length-1;l>=0&&e[l].to>r.from?e[l].to=s.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:s.to})}return e}function _1(n,e,t=e.selection.ranges){let r=t.map(l=>Rd(e,l.from).block);if(!r.every(l=>l))return null;let s=t.map((l,a)=>PA(e,r[a],l.from,l.to));if(n!=2&&!s.every(l=>l))return{changes:e.changes(t.map((l,a)=>s[a]?[]:[{from:l.from,insert:r[a].open+" "},{from:l.to,insert:" "+r[a].close}]))};if(n!=1&&s.some(l=>l)){let l=[];for(let a=0,c;a<s.length;a++)if(c=s[a]){let h=r[a],{open:d,close:p}=c;l.push({from:d.pos-h.open.length,to:d.pos+d.margin},{from:p.pos-p.margin,to:p.pos+h.close.length})}return{changes:l}}return null}function EA(n,e,t=e.selection.ranges){let r=[],s=-1;for(let{from:l,to:a}of t){let c=r.length,h=1e9,d=Rd(e,l).line;if(d){for(let p=l;p<=a;){let m=e.doc.lineAt(p);if(m.from>s&&(l==a||a>m.from)){s=m.from;let v=/^\s*/.exec(m.text)[0].length,x=v==m.length,k=m.text.slice(v,v+d.length)==d?v:-1;v<m.text.length&&v<h&&(h=v),r.push({line:m,comment:k,token:d,indent:v,empty:x,single:!1})}p=m.to+1}if(h<1e9)for(let p=c;p<r.length;p++)r[p].indent<r[p].line.text.length&&(r[p].indent=h);r.length==c+1&&(r[c].single=!0)}}if(n!=2&&r.some(l=>l.comment<0&&(!l.empty||l.single))){let l=[];for(let{line:c,token:h,indent:d,empty:p,single:m}of r)(m||!p)&&l.push({from:c.from+d,insert:h+" "});let a=e.changes(l);return{changes:a,selection:e.selection.map(a,1)}}else if(n!=1&&r.some(l=>l.comment>=0)){let l=[];for(let{line:a,comment:c,token:h}of r)if(c>=0){let d=a.from+c,p=d+h.length;a.text[p-a.from]==" "&&p++,l.push({from:d,to:p})}return{changes:l}}return null}function Os(n,e){return G.create(n.ranges.map(e),n.mainIndex)}function In(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Bn({state:n,dispatch:e},t){let r=Os(n.selection,t);return r.eq(n.selection,!0)?!1:(e(In(n,r)),!0)}function Nu(n,e){return G.cursor(e?n.to:n.from)}function V1(n,e){return Bn(n,t=>t.empty?n.moveByChar(t,e):Nu(t,e))}function Et(n){return n.textDirectionAt(n.state.selection.main.head)==Xe.LTR}const H1=n=>V1(n,!Et(n)),W1=n=>V1(n,Et(n));function Q1(n,e){return Bn(n,t=>t.empty?n.moveByGroup(t,e):Nu(t,e))}const MA=n=>Q1(n,!Et(n)),DA=n=>Q1(n,Et(n));function RA(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Lu(n,e,t){let r=Jn(n).resolveInner(e.head),s=t?Ae.closedBy:Ae.openedBy;for(let h=e.head;;){let d=t?r.childAfter(h):r.childBefore(h);if(!d)break;RA(n,d,s)?r=d:h=t?d.to:d.from}let l=r.type.prop(s),a,c;return l&&(a=t?os(n,r.from,1):os(n,r.to,-1))&&a.matched?c=t?a.end.to:a.end.from:c=t?r.to:r.from,G.cursor(c,t?-1:1)}const TA=n=>Bn(n,e=>Lu(n.state,e,!Et(n))),NA=n=>Bn(n,e=>Lu(n.state,e,Et(n)));function $1(n,e){return Bn(n,t=>{if(!t.empty)return Nu(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const U1=n=>$1(n,!1),X1=n=>$1(n,!0);function K1(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,s;if(e){for(let l of n.state.facet(Se.scrollMargins)){let a=l(n);a!=null&&a.top&&(t=Math.max(a==null?void 0:a.top,t)),a!=null&&a.bottom&&(r=Math.max(a==null?void 0:a.bottom,r))}s=n.scrollDOM.clientHeight-t-r}else s=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,s-5)}}function q1(n,e){let t=K1(n),{state:r}=n,s=Os(r.selection,a=>a.empty?n.moveVertically(a,e,t.height):Nu(a,e));if(s.eq(r.selection))return!1;let l;if(t.selfScroll){let a=n.coordsAtPos(r.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),h=c.top+t.marginTop,d=c.bottom-t.marginBottom;a&&a.top>h&&a.bottom<d&&(l=Se.scrollIntoView(s.main.head,{y:"start",yMargin:a.top-h}))}return n.dispatch(In(r,s),{effects:l}),!0}const ly=n=>q1(n,!1),qf=n=>q1(n,!0);function ri(n,e,t){let r=n.lineBlockAt(e.head),s=n.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?r.to:r.from)&&(s=n.moveToLineBoundary(e,t,!1)),!t&&s.head==r.from&&r.length){let l=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;l&&e.head!=r.from+l&&(s=G.cursor(r.from+l))}return s}const LA=n=>Bn(n,e=>ri(n,e,!0)),IA=n=>Bn(n,e=>ri(n,e,!1)),BA=n=>Bn(n,e=>ri(n,e,!Et(n))),zA=n=>Bn(n,e=>ri(n,e,Et(n))),jA=n=>Bn(n,e=>G.cursor(n.lineBlockAt(e.head).from,1)),FA=n=>Bn(n,e=>G.cursor(n.lineBlockAt(e.head).to,-1));function _A(n,e,t){let r=!1,s=Os(n.selection,l=>{let a=os(n,l.head,-1)||os(n,l.head,1)||l.head>0&&os(n,l.head-1,1)||l.head<n.doc.length&&os(n,l.head+1,-1);if(!a||!a.end)return l;r=!0;let c=a.start.from==l.head?a.end.to:a.end.from;return G.cursor(c)});return r?(e(In(n,s)),!0):!1}const VA=({state:n,dispatch:e})=>_A(n,e);function mn(n,e){let t=Os(n.state.selection,r=>{let s=e(r);return G.range(r.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(In(n.state,t)),!0)}function Y1(n,e){return mn(n,t=>n.moveByChar(t,e))}const G1=n=>Y1(n,!Et(n)),Z1=n=>Y1(n,Et(n));function J1(n,e){return mn(n,t=>n.moveByGroup(t,e))}const HA=n=>J1(n,!Et(n)),WA=n=>J1(n,Et(n)),QA=n=>mn(n,e=>Lu(n.state,e,!Et(n))),$A=n=>mn(n,e=>Lu(n.state,e,Et(n)));function ex(n,e){return mn(n,t=>n.moveVertically(t,e))}const tx=n=>ex(n,!1),nx=n=>ex(n,!0);function rx(n,e){return mn(n,t=>n.moveVertically(t,e,K1(n).height))}const ay=n=>rx(n,!1),uy=n=>rx(n,!0),UA=n=>mn(n,e=>ri(n,e,!0)),XA=n=>mn(n,e=>ri(n,e,!1)),KA=n=>mn(n,e=>ri(n,e,!Et(n))),qA=n=>mn(n,e=>ri(n,e,Et(n))),YA=n=>mn(n,e=>G.cursor(n.lineBlockAt(e.head).from)),GA=n=>mn(n,e=>G.cursor(n.lineBlockAt(e.head).to)),cy=({state:n,dispatch:e})=>(e(In(n,{anchor:0})),!0),hy=({state:n,dispatch:e})=>(e(In(n,{anchor:n.doc.length})),!0),fy=({state:n,dispatch:e})=>(e(In(n,{anchor:n.selection.main.anchor,head:0})),!0),dy=({state:n,dispatch:e})=>(e(In(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),ZA=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),JA=({state:n,dispatch:e})=>{let t=Iu(n).map(({from:r,to:s})=>G.range(r,Math.min(s+1,n.doc.length)));return e(n.update({selection:G.create(t),userEvent:"select"})),!0},eE=({state:n,dispatch:e})=>{let t=Os(n.selection,r=>{let s=Jn(n),l=s.resolveStack(r.from,1);if(r.empty){let a=s.resolveStack(r.from,-1);a.node.from>=l.node.from&&a.node.to<=l.node.to&&(l=a)}for(let a=l;a;a=a.next){let{node:c}=a;if((c.from<r.from&&c.to>=r.to||c.to>r.to&&c.from<=r.from)&&a.next)return G.range(c.to,c.from)}return r});return t.eq(n.selection)?!1:(e(In(n,t)),!0)};function ix(n,e){let{state:t}=n,r=t.selection,s=t.selection.ranges.slice();for(let l of t.selection.ranges){let a=t.doc.lineAt(l.head);if(e?a.to<n.state.doc.length:a.from>0)for(let c=l;;){let h=n.moveVertically(c,e);if(h.head<a.from||h.head>a.to){s.some(d=>d.head==h.head)||s.push(h);break}else{if(h.head==c.head)break;c=h}}}return s.length==r.ranges.length?!1:(n.dispatch(In(t,G.create(s,s.length-1))),!0)}const tE=n=>ix(n,!1),nE=n=>ix(n,!0),rE=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=G.create([t.main]):t.main.empty||(r=G.create([G.cursor(t.main.head)])),r?(e(In(n,r)),!0):!1};function sl(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,s=r.changeByRange(l=>{let{from:a,to:c}=l;if(a==c){let h=e(l);h<a?(t="delete.backward",h=ja(n,h,!1)):h>a&&(t="delete.forward",h=ja(n,h,!0)),a=Math.min(a,h),c=Math.max(c,h)}else a=ja(n,a,!1),c=ja(n,c,!0);return a==c?{range:l}:{changes:{from:a,to:c},range:G.cursor(a,a<l.head?-1:1)}});return s.changes.empty?!1:(n.dispatch(r.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Se.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function ja(n,e,t){if(n instanceof Se)for(let r of n.state.facet(Se.atomicRanges).map(s=>s(n)))r.between(e,e,(s,l)=>{s<e&&l>e&&(e=t?l:s)});return e}const sx=(n,e,t)=>sl(n,r=>{let s=r.from,{state:l}=n,a=l.doc.lineAt(s),c,h;if(t&&!e&&s>a.from&&s<a.from+200&&!/[^ \t]/.test(c=a.text.slice(0,s-a.from))){if(c[c.length-1]=="	")return s-1;let d=Pu(c,l.tabSize),p=d%xu(l)||xu(l);for(let m=0;m<p&&c[c.length-1-m]==" ";m++)s--;h=s}else h=Nt(a.text,s-a.from,e,e)+a.from,h==s&&a.number!=(e?l.doc.lines:1)?h+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(h-a.from,s-a.from))&&(h=Nt(a.text,h-a.from,!1,!1)+a.from);return h}),Yf=n=>sx(n,!1,!0),ox=n=>sx(n,!0,!1),lx=(n,e)=>sl(n,t=>{let r=t.head,{state:s}=n,l=s.doc.lineAt(r),a=s.charCategorizer(r);for(let c=null;;){if(r==(e?l.to:l.from)){r==t.head&&l.number!=(e?s.doc.lines:1)&&(r+=e?1:-1);break}let h=Nt(l.text,r-l.from,e)+l.from,d=l.text.slice(Math.min(r,h)-l.from,Math.max(r,h)-l.from),p=a(d);if(c!=null&&p!=c)break;(d!=" "||r!=t.head)&&(c=p),r=h}return r}),ax=n=>lx(n,!1),iE=n=>lx(n,!0),sE=n=>sl(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),oE=n=>sl(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),lE=n=>sl(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),aE=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Me.of(["",""])},range:G.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},uE=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let s=r.from,l=n.doc.lineAt(s),a=s==l.from?s-1:Nt(l.text,s-l.from,!1)+l.from,c=s==l.to?s+1:Nt(l.text,s-l.from,!0)+l.from;return{changes:{from:a,to:c,insert:n.doc.slice(s,c).append(n.doc.slice(a,s))},range:G.cursor(c)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Iu(n){let e=[],t=-1;for(let r of n.selection.ranges){let s=n.doc.lineAt(r.from),l=n.doc.lineAt(r.to);if(!r.empty&&r.to==l.from&&(l=n.doc.lineAt(r.to-1)),t>=s.number){let a=e[e.length-1];a.to=l.to,a.ranges.push(r)}else e.push({from:s.from,to:l.to,ranges:[r]});t=l.number+1}return e}function ux(n,e,t){if(n.readOnly)return!1;let r=[],s=[];for(let l of Iu(n)){if(t?l.to==n.doc.length:l.from==0)continue;let a=n.doc.lineAt(t?l.to+1:l.from-1),c=a.length+1;if(t){r.push({from:l.to,to:a.to},{from:l.from,insert:a.text+n.lineBreak});for(let h of l.ranges)s.push(G.range(Math.min(n.doc.length,h.anchor+c),Math.min(n.doc.length,h.head+c)))}else{r.push({from:a.from,to:l.from},{from:l.to,insert:n.lineBreak+a.text});for(let h of l.ranges)s.push(G.range(h.anchor-c,h.head-c))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:G.create(s,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const cE=({state:n,dispatch:e})=>ux(n,e,!1),hE=({state:n,dispatch:e})=>ux(n,e,!0);function cx(n,e,t){if(n.readOnly)return!1;let r=[];for(let s of Iu(n))t?r.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):r.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const fE=({state:n,dispatch:e})=>cx(n,e,!1),dE=({state:n,dispatch:e})=>cx(n,e,!0),pE=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Iu(e).map(({from:s,to:l})=>(s>0?s--:l<e.doc.length&&l++,{from:s,to:l}))),r=Os(e.selection,s=>{let l;if(n.lineWrapping){let a=n.lineBlockAt(s.head),c=n.coordsAtPos(s.head,s.assoc||1);c&&(l=a.bottom+n.documentTop-c.bottom+n.defaultLineHeight/2)}return n.moveVertically(s,!0,l)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function gE(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Jn(n).resolveInner(e),r=t.childBefore(e),s=t.childAfter(e),l;return r&&s&&r.to<=e&&s.from>=e&&(l=r.type.prop(Ae.closedBy))&&l.indexOf(s.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(s.from).from&&!/\S/.test(n.sliceDoc(r.to,s.from))?{from:r.to,to:s.from}:null}const py=hx(!1),mE=hx(!0);function hx(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(s=>{let{from:l,to:a}=s,c=e.doc.lineAt(l),h=!n&&l==a&&gE(e,l);n&&(l=a=(a<=c.to?c:e.doc.lineAt(a)).to);let d=new Ru(e,{simulateBreak:l,simulateDoubleBreak:!!h}),p=B1(d,l);for(p==null&&(p=Pu(/^\s*/.exec(e.doc.lineAt(l).text)[0],e.tabSize));a<c.to&&/\s/.test(c.text[a-c.from]);)a++;h?{from:l,to:a}=h:l>c.from&&l<c.from+100&&!/\S/.test(c.text.slice(0,l))&&(l=c.from);let m=["",wu(e,p)];return h&&m.push(wu(e,d.lineIndent(c.from,-1))),{changes:{from:l,to:a,insert:Me.of(m)},range:G.cursor(l+1+m[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Td(n,e){let t=-1;return n.changeByRange(r=>{let s=[];for(let a=r.from;a<=r.to;){let c=n.doc.lineAt(a);c.number>t&&(r.empty||r.to>c.from)&&(e(c,s,r),t=c.number),a=c.to+1}let l=n.changes(s);return{changes:s,range:G.range(l.mapPos(r.anchor,1),l.mapPos(r.head,1))}})}const yE=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new Ru(n,{overrideIndentation:l=>{let a=t[l];return a??-1}}),s=Td(n,(l,a,c)=>{let h=B1(r,l.from);if(h==null)return;/\S/.test(l.text)||(h=0);let d=/^\s*/.exec(l.text)[0],p=wu(n,h);(d!=p||c.from<l.from+d.length)&&(t[l.from]=h,a.push({from:l.from,to:l.from+d.length,insert:p}))});return s.changes.empty||e(n.update(s,{userEvent:"indent"})),!0},vE=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Td(n,(t,r)=>{r.push({from:t.from,insert:n.facet(Ed)})}),{userEvent:"input.indent"})),!0),xE=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Td(n,(t,r)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let l=Pu(s,n.tabSize),a=0,c=wu(n,Math.max(0,l-xu(n)));for(;a<s.length&&a<c.length&&s.charCodeAt(a)==c.charCodeAt(a);)a++;r.push({from:t.from+a,to:t.from+s.length,insert:c.slice(a)})}),{userEvent:"delete.dedent"})),!0),wE=n=>(n.setTabFocusMode(),!0),kE=[{key:"Ctrl-b",run:H1,shift:G1,preventDefault:!0},{key:"Ctrl-f",run:W1,shift:Z1},{key:"Ctrl-p",run:U1,shift:tx},{key:"Ctrl-n",run:X1,shift:nx},{key:"Ctrl-a",run:jA,shift:YA},{key:"Ctrl-e",run:FA,shift:GA},{key:"Ctrl-d",run:ox},{key:"Ctrl-h",run:Yf},{key:"Ctrl-k",run:sE},{key:"Ctrl-Alt-h",run:ax},{key:"Ctrl-o",run:aE},{key:"Ctrl-t",run:uE},{key:"Ctrl-v",run:qf}],SE=[{key:"ArrowLeft",run:H1,shift:G1,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:MA,shift:HA,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:BA,shift:KA,preventDefault:!0},{key:"ArrowRight",run:W1,shift:Z1,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:DA,shift:WA,preventDefault:!0},{mac:"Cmd-ArrowRight",run:zA,shift:qA,preventDefault:!0},{key:"ArrowUp",run:U1,shift:tx,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cy,shift:fy},{mac:"Ctrl-ArrowUp",run:ly,shift:ay},{key:"ArrowDown",run:X1,shift:nx,preventDefault:!0},{mac:"Cmd-ArrowDown",run:hy,shift:dy},{mac:"Ctrl-ArrowDown",run:qf,shift:uy},{key:"PageUp",run:ly,shift:ay},{key:"PageDown",run:qf,shift:uy},{key:"Home",run:IA,shift:XA,preventDefault:!0},{key:"Mod-Home",run:cy,shift:fy},{key:"End",run:LA,shift:UA,preventDefault:!0},{key:"Mod-End",run:hy,shift:dy},{key:"Enter",run:py,shift:py},{key:"Mod-a",run:ZA},{key:"Backspace",run:Yf,shift:Yf,preventDefault:!0},{key:"Delete",run:ox,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:ax,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:iE,preventDefault:!0},{mac:"Mod-Backspace",run:oE,preventDefault:!0},{mac:"Mod-Delete",run:lE,preventDefault:!0}].concat(kE.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),bE=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:TA,shift:QA},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:NA,shift:$A},{key:"Alt-ArrowUp",run:cE},{key:"Shift-Alt-ArrowUp",run:fE},{key:"Alt-ArrowDown",run:hE},{key:"Shift-Alt-ArrowDown",run:dE},{key:"Mod-Alt-ArrowUp",run:tE},{key:"Mod-Alt-ArrowDown",run:nE},{key:"Escape",run:rE},{key:"Mod-Enter",run:mE},{key:"Alt-l",mac:"Ctrl-l",run:JA},{key:"Mod-i",run:eE,preventDefault:!0},{key:"Mod-[",run:xE},{key:"Mod-]",run:vE},{key:"Mod-Alt-\\",run:yE},{key:"Shift-Mod-k",run:pE},{key:"Shift-Mod-\\",run:VA},{key:"Mod-/",run:SA},{key:"Alt-A",run:OA},{key:"Ctrl-m",mac:"Shift-Alt-m",run:wE}].concat(SE),OE=n=>{const{state:e}=n,t=e.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:"	"},range:G.cursor(r.from+1)}));return n.dispatch(t),!0},CE=kd.of([{key:"Tab",run:OE}]);class PE extends el{toDOM(){const e=document.createElement("span");return e.className="cm-space-dot",e.textContent="",e}}class AE extends el{toDOM(){const e=document.createElement("span");return e.className="cm-tab-arrow",e.textContent="",e}}const EE=Nn.fromClass(class{constructor(n){cm(this,"decorations");this.decorations=this.buildDecorations(n)}update(n){(n.docChanged||n.viewportChanged)&&(this.decorations=this.buildDecorations(n.view))}buildDecorations(n){const e=[];for(const{from:t,to:r}of n.visibleRanges){const s=n.state.doc.sliceString(t,r);for(let l=0;l<s.length;l++){const a=s[l],c=t+l;a===" "?e.push({from:c,to:c+1,decoration:Ke.replace({widget:new PE})}):a==="	"&&e.push({from:c,to:c+1,decoration:Ke.replace({widget:new AE})})}}return Ke.set(e.map(t=>t.decoration.range(t.from,t.to)))}},{decorations:n=>n.decorations}),ME=Se.theme({"&":{backgroundColor:"#ffffff",color:"#000000"},".cm-content":{caretColor:"#000000"},".cm-gutters":{backgroundColor:"#f5f5f5",color:"#999999",border:"none"},".cm-activeLineGutter":{backgroundColor:"#e8e8e8"},".cm-activeLine":{backgroundColor:"#f0f0f0"},".cm-space-dot":{color:"#999999"},".cm-tab-arrow":{color:"#999999",display:"inline-block",width:"calc(4ch)",textAlign:"left"}}),DE=Se.theme({"&":{backgroundColor:"#000000",color:"#ffffff"},".cm-content":{caretColor:"#ffffff"},".cm-gutters":{backgroundColor:"#000000",color:"#ffffff",border:"none"},".cm-activeLineGutter":{backgroundColor:"#333333"},".cm-activeLine":{backgroundColor:"#222222"},".cm-space-dot":{color:"#ffff00"},".cm-tab-arrow":{color:"#ffff00",display:"inline-block",width:"calc(4ch)",textAlign:"left"}}),RE=Se.theme({".cm-space-dot":{color:"#666666"},".cm-tab-arrow":{color:"#666666",display:"inline-block",width:"calc(4ch)",textAlign:"left"}});function gy(n){switch(n){case"light":return[ME];case"high-contrast":return[DE];case"dark":default:return[kA,RE]}}const TE=P.forwardRef(function({value:e,onChange:t,colorScheme:r},s){const l=P.useRef(null),a=P.useRef(null),c=P.useRef(new Jo);P.useImperativeHandle(s,()=>({focus:()=>{var d;(d=a.current)==null||d.focus()},blur:()=>{var d;(d=a.current)==null||d.contentDOM.blur()}}),[]),P.useEffect(()=>{if(!l.current||a.current)return;const d=Te.create({doc:e,extensions:[L2(),z2(),b2(),x2(),cA(),CE,kd.of(bE),Te.tabSize.of(4),EE,Se.updateListener.of(p=>{p.docChanged&&t(p.state.doc.toString())}),c.current.of(gy(r)),Se.lineWrapping]});return a.current=new Se({state:d,parent:l.current}),()=>{var p;(p=a.current)==null||p.destroy(),a.current=null}},[]);const h=P.useCallback(d=>{const p=a.current;if(!p)return;const m=p.state.doc.toString();m!==d&&p.dispatch({changes:{from:0,to:m.length,insert:d}})},[]);return P.useEffect(()=>{h(e)},[e,h]),P.useEffect(()=>{const d=a.current;d&&d.dispatch({effects:c.current.reconfigure(gy(r))})},[r]),_.jsx("div",{ref:l,className:"h-full w-full overflow-auto [&_.cm-editor]:h-full [&_.cm-scroller]:overflow-auto",style:{fontSize:"14px"}})}),NE={dark:"vs-dark",light:"light","high-contrast":"hc-black"},Za=`# Try editing this YAML
name: YAML Parser Playground
version: 1.0
features:
- Compare parser outputs
- Visual whitespace
- Drag & drop panes
`,my=200,yy=800,LE=P.forwardRef(function({value:e,onChange:t,width:r,onWidthChange:s,colorScheme:l,editorType:a,showBorder:c=!0,heightMode:h="full"},d){const p=P.useRef(!1),m=P.useRef(0),v=P.useRef(0),x=P.useRef(null),k=P.useRef(null);P.useImperativeHandle(d,()=>({focus:()=>{var R,F;a==="codemirror"?(R=k.current)==null||R.focus():(F=x.current)==null||F.focus()},blur:()=>{var R,F,I;a==="codemirror"?(R=k.current)==null||R.blur():(F=x.current)!=null&&F.getDomNode()&&((I=document.activeElement)==null||I.blur())}}),[a]);const S=P.useCallback(R=>{x.current=R;const F=R.getModel();F&&F.updateOptions({tabSize:4,insertSpaces:!1})},[]),b=P.useCallback(R=>{p.current=!0,m.current=R.clientX,v.current=r,document.body.style.cursor="col-resize",document.body.style.userSelect="none";const F=j=>{if(!p.current)return;const z=j.clientX-m.current,Y=Math.min(yy,Math.max(my,v.current+z));s(Y)},I=()=>{p.current=!1,document.body.style.cursor="",document.body.style.userSelect="",document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",I)};document.addEventListener("mousemove",F),document.addEventListener("mouseup",I)},[r,s]),E=h==="full"?"h-full":"h-full overflow-hidden",D=c?"border-r border-gray-700":"";return _.jsxs("div",{className:`flex flex-col ${E} ${D} relative`,style:{width:`${r}px`,minWidth:`${my}px`,maxWidth:`${yy}px`},children:[_.jsx("div",{className:"bg-gray-800 px-4 py-2 border-b border-gray-700",children:_.jsx("h2",{className:"text-white font-semibold",children:"YAML Input"})}),_.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:a==="codemirror"?_.jsx(TE,{ref:k,value:e,onChange:t,colorScheme:l}):_.jsx(cO,{height:"100%",defaultLanguage:"yaml",defaultValue:Za,value:e,onChange:R=>t(R||""),theme:NE[l],onMount:S,options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",renderWhitespace:"all",tabSize:4,insertSpaces:!1,detectIndentation:!1,useTabStops:!1,scrollBeyondLastLine:!1,wordWrap:"on",automaticLayout:!0}})}),_.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize hover:bg-blue-500 transition-colors",onMouseDown:b})]})});function IE({parser:n,matches:e,loading:t,onClose:r,isDraggable:s=!0}){const{attributes:l,listeners:a,setNodeRef:c,transform:h,transition:d,isDragging:p}=eb({id:n.id,disabled:!s}),m={transform:Io.Transform.toString(h),transition:d,opacity:p?.5:1},v=t||e===void 0?"bg-gray-700":e?"bg-green-700":"bg-red-700",x=`${n.name} v${n.version} (${n.language})`;return _.jsxs("div",{ref:c,style:m,className:`${v} px-3 py-2 flex items-center justify-between cursor-grab active:cursor-grabbing select-none`,...l,...a,children:[n.repo?_.jsx("a",{href:n.repo,target:"_blank",rel:"noopener noreferrer",className:"text-white font-semibold hover:underline",onClick:k=>k.stopPropagation(),title:x,children:n.id}):_.jsx("span",{className:"text-white font-semibold",title:x,children:n.id}),_.jsxs("div",{className:"flex items-center gap-2",children:[t&&_.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),r&&_.jsx("button",{onClick:k=>{k.stopPropagation(),r()},className:"text-white hover:text-gray-300 text-lg leading-none px-1",title:"Close pane",children:""})]})]})}function BE(n){return["Failed to fetch","NetworkError","network error","ERR_CONNECTION_REFUSED","ECONNREFUSED","fetch failed","Load failed","HTTP 500","HTTP 502","HTTP 503","HTTP 504","Internal Server Error"].some(t=>n.toLowerCase().includes(t.toLowerCase()))}function vy({parser:n,result:e,onClose:t,isDraggable:r=!0}){const l=n.id!=="refparse"&&(e==null?void 0:e.status)===-1&&(e==null?void 0:e.output)&&BE(e.output);return _.jsxs("div",{className:"flex flex-col h-full min-h-[200px] bg-gray-900",children:[_.jsx(IE,{parser:n,matches:e==null?void 0:e.matches,loading:e==null?void 0:e.loading,onClose:t,isDraggable:r}),_.jsx("div",{className:"flex-1 bg-gray-900 overflow-auto",children:e!=null&&e.error?_.jsxs("pre",{className:"p-3 text-red-400 text-sm font-mono whitespace-pre-wrap",children:["Error: ",e.error]}):l?_.jsxs("div",{className:"p-3 text-sm",children:[_.jsx("p",{className:"text-gray-300 mb-2",children:"Can't connect to a local YAML parser sandbox server."}),_.jsxs("p",{className:"text-gray-400",children:['Click the "',_.jsx("span",{className:"text-white font-medium",children:"Setup"}),'" button for instructions.']})]}):e!=null&&e.loading?_.jsx("div",{className:"p-3 text-gray-500 text-sm",children:"Running parser..."}):_.jsx("pre",{className:"p-3 text-gray-200 text-sm font-mono whitespace-pre-wrap",children:(e==null?void 0:e.output)||"No output yet"})})]})}function zE({total:n,disagreeing:e,disagreeingNames:t,loading:r,sandboxAvailable:s=!0}){if(!s)return null;if(r)return _.jsx("div",{className:"bg-gray-800 border-t border-gray-700 px-4 py-2",children:_.jsx("span",{className:"text-gray-400 font-semibold",children:"Running parsers..."})});const l=e===0;return _.jsx("div",{className:"bg-gray-800 border-t border-gray-700 px-4 py-2",children:l?_.jsxs("span",{className:"text-green-400 font-semibold",children:["All ",n," parsers agree with reference"]}):_.jsxs("span",{className:"text-red-400 font-semibold",children:[e,"/",n," parsers disagree with reference: ",t.join(", ")]})})}const Ei=[{id:"refparse",name:"Reference Parser",version:"f003194",repo:"https://github.com/yaml/yaml-reference-parser",language:"JavaScript",isJavaScript:!0},{id:"npmyaml",name:"eemeli/yaml",version:"2.8.1",repo:"https://github.com/eemeli/yaml",language:"JavaScript",isJavaScript:!0},{id:"libyaml",name:"libyaml",version:"0.2.5",repo:"https://github.com/yaml/libyaml",language:"C"},{id:"pyyaml",name:"PyYAML",version:"6.0.3",language:"Python"},{id:"ruamel",name:"ruamel.yaml",version:"0.18.16",language:"Python"},{id:"goyaml",name:"go-yaml",version:"94c6e9d",repo:"https://github.com/pantoniou/yaml",language:"Go"},{id:"libfyaml",name:"libfyaml",version:"0.9",repo:"https://github.com/pantoniou/libfyaml",language:"C"},{id:"rapid",name:"rapidyaml",version:"0.10.0",repo:"https://github.com/biojppm/rapidyaml",language:"C++"},{id:"rustyaml",name:"serde-yaml",version:"0.9.34",repo:"https://github.com/dtolnay/serde-yaml",language:"Rust"},{id:"snake",name:"SnakeYAML",version:"2.5",repo:"https://bitbucket.org/snakeyaml/snakeyaml",language:"Java"},{id:"snakeeng",name:"SnakeYAML Engine",version:"3.0.1",repo:"https://bitbucket.org/snakeyaml/snakeyaml-engine",language:"Java"},{id:"dotnet",name:"YamlDotNet",version:"11.2.1",repo:"https://github.com/aaubry/YamlDotNet",language:"C#"},{id:"luayaml",name:"lyaml",version:"6.2.8",repo:"https://github.com/gvvaughan/lyaml",language:"Lua"},{id:"nimyaml",name:"NimYAML",version:"1.0.0",repo:"https://github.com/flyx/NimYAML",language:"Nim"},{id:"ppyaml",name:"YAML::PP",version:"0.039",language:"Perl"},{id:"hsyaml",name:"HsYAML",version:"0.2.1.1",repo:"https://github.com/haskell-hvr/HsYAML",language:"Haskell"},{id:"refhs",name:"yamlreference",version:"bf471f8",repo:"https://github.com/orenbenkiki/yamlreference",language:"Haskell"}],Gf=n=>Ei.find(e=>e.id===n),jE=()=>["refparse","pyyaml","libyaml","goyaml"],FE=[{id:"dark",label:"Dark"},{id:"light",label:"Light"},{id:"high-contrast",label:"High Contrast"}],_E=[{id:"monaco",label:"Monaco"},{id:"codemirror",label:"CodeMirror"}];function VE({isOpen:n,onClose:e,paneStates:t,onToggleVisibility:r,onReset:s,colorScheme:l,onColorSchemeChange:a,editorType:c,onEditorTypeChange:h}){if(P.useEffect(()=>{if(!n)return;const m=v=>{v.key==="Escape"&&e()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n,e]),!n)return null;const d=new Map(t.map(m=>[m.id,m])),p=[...Ei].filter(m=>m.id!=="refparse").sort((m,v)=>m.id.localeCompare(v.id));return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-sm w-full mx-4 max-h-[80vh] overflow-hidden",onClick:m=>m.stopPropagation(),children:[_.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[_.jsx("h2",{className:"text-lg font-semibold text-white",children:"Preferences"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),_.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"Editor"}),_.jsx("div",{className:"flex gap-2 mb-4",children:_E.map(m=>_.jsx("button",{onClick:()=>h(m.id),className:`flex-1 py-2 px-3 rounded text-sm transition-colors ${c===m.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:m.label},m.id))}),_.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"Color Scheme"}),_.jsx("div",{className:"flex gap-2 mb-4",children:FE.map(m=>_.jsx("button",{onClick:()=>a(m.id),className:`flex-1 py-2 px-3 rounded text-sm transition-colors ${l===m.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:m.label},m.id))}),_.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"Options"}),_.jsx("button",{onClick:s,className:"w-full text-left py-2 px-2 rounded text-red-500 hover:bg-gray-700 transition-colors",children:"Click here to clear all settings"}),_.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 mt-4 uppercase",children:"Parser Panes"}),p.map(m=>{const v=d.get(m.id),x=(v==null?void 0:v.visible)??!1;return _.jsxs("label",{className:"flex items-center gap-3 py-2 px-2 rounded cursor-pointer hover:bg-gray-700",children:[_.jsx("input",{type:"checkbox",checked:x,onChange:k=>r(m.id,k.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),_.jsx("span",{className:"text-white font-medium",children:m.id}),_.jsx("span",{className:"text-xs text-gray-400",children:m.language})]},m.id)})]})]})})}function HE({isOpen:n,onClose:e}){return P.useEffect(()=>{if(!n)return;const t=r=>{r.key==="Escape"&&e()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[n,e]),n?_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[80vh] overflow-hidden",onClick:t=>t.stopPropagation(),children:[_.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[_.jsx("h2",{className:"text-lg font-semibold text-white",children:"Help"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),_.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh] space-y-6",children:[_.jsxs("section",{children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"Keyboard Shortcuts"}),_.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-x-4 gap-y-2 text-sm",children:[_.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"Esc"}),_.jsx("span",{className:"text-gray-300 self-center",children:"Unfocus input pane / Close modal"}),_.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"I"}),_.jsx("span",{className:"text-gray-300 self-center",children:"Focus input pane"}),_.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"A"}),_.jsx("span",{className:"text-gray-300 self-center",children:"Show all panes"}),_.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"N"}),_.jsx("span",{className:"text-gray-300 self-center",children:"Hide all panes"}),_.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"S"}),_.jsx("span",{className:"text-gray-300 self-center",children:"Show selected panes"}),_.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"E"}),_.jsx("span",{className:"text-gray-300 self-center",children:"Show error panes"}),_.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"P"}),_.jsx("span",{className:"text-gray-300 self-center",children:"Open Preferences"}),_.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"H"}),_.jsx("span",{className:"text-gray-300 self-center",children:"Open Help"})]})]}),_.jsxs("section",{children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"About"}),_.jsx("p",{className:"text-gray-300 text-sm",children:"YAML Parser Playground compares output from multiple YAML parser implementations. The reference parser (refparse) is used as the baseline  green headers indicate matching output, red indicates differences."})]})]})]})}):null}const qh="docker run --rm -d -p 7481:7481 yamlio/yaml-play-sandbox:0.1.33 7481";function WE({isOpen:n,onClose:e}){const[t,r]=P.useState(!1),s=async()=>{try{await navigator.clipboard.writeText(qh),r(!0),setTimeout(()=>r(!1),2e3)}catch{const l=document.createElement("textarea");l.value=qh,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),r(!0),setTimeout(()=>r(!1),2e3)}};return P.useEffect(()=>{if(!n)return;const l=a=>{a.key==="Escape"&&e()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[n,e]),n?_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[80vh] overflow-hidden",onClick:l=>l.stopPropagation(),children:[_.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[_.jsx("h2",{className:"text-lg font-semibold text-white",children:"Sandbox Setup"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),_.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh] space-y-6",children:[_.jsxs("section",{children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"Running the Sandbox Server"}),_.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Most parsers run in a Docker container. If you see connection errors, start the sandbox with:"}),_.jsxs("div",{className:"relative",children:[_.jsx("pre",{className:"bg-gray-900 p-3 pr-16 rounded text-sm text-green-400 font-mono overflow-x-auto",children:qh}),_.jsx("button",{onClick:s,className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded transition-colors",children:t?"Copied!":"Copy"})]})]}),_.jsxs("section",{children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"HTTPS Certificate (if needed)"}),_.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"If accessing via HTTPS with a self-signed certificate, you may need to accept the certificate first:"}),_.jsxs("ol",{className:"text-gray-300 text-sm list-decimal list-inside space-y-1",children:[_.jsxs("li",{children:["Open"," ",_.jsx("a",{href:"https://localhost:7481",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"https://localhost:7481"})," ","in a new tab"]}),_.jsx("li",{children:"Accept the security warning / proceed anyway"}),_.jsx("li",{children:"Return to this page and refresh"})]})]})]})]})}):null}const Yh="yaml-play-layout";function xy(){const n=jE();return{panes:Ei.map(t=>{const r=n.indexOf(t.id);return{id:t.id,visible:r>=0,order:r>=0?r:1e3+Ei.findIndex(s=>s.id===t.id)}}),selectedPaneIds:n}}function QE(){const[n,e]=P.useState(()=>{try{const x=localStorage.getItem(Yh);if(x){const k=JSON.parse(x),S=new Set(k.panes.map(E=>E.id)),b=Ei.filter(E=>!S.has(E.id)).map((E,D)=>({id:E.id,visible:!1,order:k.panes.length+D}));return{...k,panes:[...k.panes,...b]}}}catch{}return xy()});P.useEffect(()=>{localStorage.setItem(Yh,JSON.stringify(n))},[n]);const t=P.useCallback((x,k)=>{e(S=>{let b;if(k){const D=Math.max(...S.panes.map(R=>R.order));b=S.panes.map(R=>R.id===x?{...R,visible:k,order:D+1}:R)}else b=S.panes.map(D=>D.id===x?{...D,visible:k}:D);const E=b.filter(D=>D.visible).map(D=>D.id);return{...S,panes:b,selectedPaneIds:E}})},[]),r=P.useCallback((x,k)=>{e(S=>{const b=[...S.panes],E=b.findIndex(F=>F.id===x),D=b.findIndex(F=>F.id===k);if(E===-1||D===-1)return S;const[R]=b.splice(E,1);return b.splice(D,0,R),{panes:b.map((F,I)=>({...F,order:I}))}})},[]),s=P.useCallback(()=>{localStorage.removeItem(Yh),e(xy())},[]),l=P.useCallback(()=>{e(x=>{const k=x.panes.filter(D=>D.visible),S=k.length>0?Math.max(...k.map(D=>D.order)):-1,b=x.panes.filter(D=>!D.visible&&D.id!=="refparse").sort((D,R)=>D.id.localeCompare(R.id)),E=new Map;return b.forEach((D,R)=>{E.set(D.id,S+1+R)}),{...x,panes:x.panes.map(D=>({...D,visible:!0,order:E.has(D.id)?E.get(D.id):D.order}))}})},[]),a=P.useCallback(()=>{e(x=>({...x,panes:x.panes.map(k=>k.id==="refparse"?k:{...k,visible:!1})}))},[]),c=P.useCallback(()=>{e(x=>{const k=new Set(x.selectedPaneIds??[]);return k.size===0?x:{...x,panes:x.panes.map(S=>({...S,visible:k.has(S.id)}))}})},[]),h=P.useCallback(x=>{e(k=>{const S=new Set(x);if(k.panes.filter(R=>!R.visible&&S.has(R.id)).length===0)return k;let D=Math.max(...k.panes.filter(R=>R.visible).map(R=>R.order),-1)+1;return{...k,panes:k.panes.map(R=>!R.visible&&S.has(R.id)?{...R,visible:!0,order:D++}:R)}})},[]),d=P.useCallback(x=>{e(k=>({...k,inputPaneWidth:x}))},[]),p=P.useCallback(x=>{e(k=>({...k,colorScheme:x}))},[]),m=P.useCallback(x=>{e(k=>({...k,editorType:x}))},[]),v=P.useCallback(()=>n.panes.filter(x=>x.visible).sort((x,k)=>x.order-k.order),[n.panes]);return{layout:n,updatePaneVisibility:t,reorderPanes:r,resetLayout:s,showAllPanes:l,hideAllPanes:a,showSelectedPanes:c,showErrorPanes:h,getVisiblePanes:v,inputPaneWidth:n.inputPaneWidth??400,setInputPaneWidth:d,colorScheme:n.colorScheme??"dark",setColorScheme:p,editorType:n.editorType??"monaco",setEditorType:m}}const fx="https://localhost:7481",$E="0.1.33";async function UE(){try{return(await fetch(`${fx}/`,{method:"HEAD"})).ok}catch{return!1}}async function XE(n,e,t){const r=`${fx}/?version=${encodeURIComponent($E)}&parser=yaml-test-parse-${n}`;try{const s=new URLSearchParams;s.append("text",e);const l=await fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const a=await l.json();return{status:a.status,output:a.output}}catch(s){return{status:-1,output:s instanceof Error?s.message:"Unknown error"}}}let Zf=null,Jf=null,wy=!1;async function KE(){if(wy)return;const[n,e,t,r,s]=await Promise.all([fetch("/refparse/prelude.js").then(a=>a.text()),fetch("/refparse/grammar.js").then(a=>a.text()),fetch("/refparse/parser.js").then(a=>a.text()),fetch("/refparse/receiver.js").then(a=>a.text()),fetch("/refparse/test-receiver.js").then(a=>a.text())]),l=eval;window.global=window,l(n),l(e),l(t),l(r),l(s),Zf=window.Parser,Jf=window.TestReceiver,wy=!0}async function qE(n){try{if(await KE(),!Jf)return{status:1,output:"TestReceiverClass not loaded"};if(!Zf)return{status:1,output:"Parser not loaded"};const e=new Jf,t=new Zf(e);return t.parse(n),{status:0,output:t.receiver.output().replace(/\n$/,"")||"(empty output)"}}catch(e){return{status:1,output:e instanceof Error?e.message:String(e)}}}function ky(n){return n.replace(/\s+(\{\}|\[\])$/mg,"").replace(/^=COMMENT .*\n?/mg,"").replace(/^[^+\-=].*\n?/gm,"").trim()}function YE(n,e,t){let r=ky(n),s=ky(e);if(t==="rustyaml"&&(s=s.replace(/<Tag\("!!", "(.*?)"\)>/g,"<tag:yaml.org,2002:$1>").replace(/<Tag\("!", "(.*?)"\)>/g,"<!$1>").replace(/<Tag\("", "!"\)>/g,"<!>").replace(/<Tag\("", "(tag:.*?)"\)>/g,"<$1>").replace(/<Tag\("", "(!.*?)"\)>/g,"<$1>"),r=r.replace(/^\+DOC ---/gm,"+DOC").replace(/^-DOC \.\.\./gm,"-DOC").replace(/^=VAL :$/gm,"=VAL :~").replace(/^\+MAP \{\}( ?)/gm,"+MAP$1").replace(/^\+SEQ \[\]( ?)/gm,"+SEQ$1"),s.match(/&1/))){let l=1,a;for(;a=r.match(/&([a-zA-Z]\S*)/);){const c=a[1];r=r.replace(new RegExp(`([&*])${c}`,"g"),`$1${l}`),l++}}return t==="goyaml"&&r.match(/^\+DOC$/m)&&(s=s.replace(/^\+DOC ---/m,"+DOC")),r===s}const Fa=Ei.filter(n=>n.id!=="refparse").map(n=>n.id);function GE(){const[n,e]=P.useState(new Map),[t,r]=P.useState(""),s=P.useRef(null),l=P.useCallback(async(h,d)=>{s.current&&s.current.abort(),s.current=new AbortController,e(x=>{const k=new Map(x);return k.set("refparse",{parserId:"refparse",output:"",status:0,loading:!0}),Fa.forEach(S=>{k.set(S,{parserId:S,output:"",status:0,loading:!0})}),k});const p=await qE(h),m=p.output,v=p.status;r(m),e(x=>{const k=new Map(x);return k.set("refparse",{parserId:"refparse",output:p.output,status:p.status,loading:!1,matches:p.status===0,agrees:!0}),k}),await Promise.all(Fa.map(async x=>{const k=Ei.find(D=>D.id===x);if(!k)return;const S=await XE(x,h,k.version);let b,E;if(S.status===-1)b=!1,E=!1;else if(x==="refhs"){const D=v===0,R=S.status===0;b=D===R,E=v===0&&b}else v!==0?(b=S.status!==0,E=!1):(b=S.status===0&&YE(m,S.output,x),E=b);e(D=>{const R=new Map(D);return R.set(x,{parserId:x,output:S.output,status:S.status,loading:!1,matches:E,agrees:b}),R})}))},[]),a=P.useCallback(h=>n.get(h),[n]),c=P.useCallback(()=>{const h=[];let d=0;return Fa.forEach(p=>{const m=n.get(p);if(!m||m.loading)d++;else if(!m.agrees){const v=Gf(p);h.push((v==null?void 0:v.name)||p)}}),{total:Fa.length,disagreeing:h.length,disagreeingNames:h,loading:d>0}},[n]);return{results:n,refOutput:t,runAllParsers:l,getResult:a,getAgreementCount:c}}function ZE(){const n=window.location.hash.slice(1);if(!n)return null;try{return atob(n)}catch{return null}}function JE(n){const e=btoa(n);window.history.replaceState(null,"",`#${e}`)}function eM(){const[n,e]=P.useState(()=>ZE()||Za),[t,r]=P.useState(!1),[s,l]=P.useState(!1),[a,c]=P.useState(!1),[h,d]=P.useState(!0),p=P.useRef(null),m=P.useRef(""),{layout:v,updatePaneVisibility:x,reorderPanes:k,resetLayout:S,showAllPanes:b,hideAllPanes:E,showSelectedPanes:D,showErrorPanes:R,getVisiblePanes:F,inputPaneWidth:I,setInputPaneWidth:j,colorScheme:z,setColorScheme:Y,editorType:te,setEditorType:Z}=QE(),{results:re,runAllParsers:ne,getResult:he,getAgreementCount:fe}=GE(),K=F(),{total:de,disagreeing:ge,disagreeingNames:$,loading:J}=fe(),X=K.map(ee=>ee.id).join(","),C=P.useRef({input:"",panes:""});P.useEffect(()=>{const ee=async()=>{const ue=await UE();d(ue)};ee();const V=setInterval(ee,1e4);return()=>clearInterval(V)},[]),P.useEffect(()=>{const ee=v.panes.find(V=>V.id==="refparse");ee&&!ee.visible&&x("refparse",!0)},[v.panes,x]),P.useEffect(()=>{const ee=setTimeout(()=>{JE(n)},1e3);return()=>clearTimeout(ee)},[n]),P.useEffect(()=>{if(C.current.input===n&&C.current.panes===X)return;const ee=setTimeout(()=>{const V=X.split(",").filter(Boolean);V.length>0&&(C.current={input:n,panes:X},ne(n,V))},500);return()=>clearTimeout(ee)},[n,X,ne]),P.useEffect(()=>{const ee=V=>{var Oe,Ce;const ue=V.target,we=ue.tagName==="INPUT"||ue.tagName==="TEXTAREA"||ue.closest(".monaco-editor")||ue.closest(".cm-editor");if(V.key==="Escape"&&we){V.preventDefault(),(Oe=p.current)==null||Oe.blur();return}if(!we){if(V.key==="I"&&!V.ctrlKey&&!V.metaKey&&!V.altKey&&(V.preventDefault(),(Ce=p.current)==null||Ce.focus()),V.key==="H"&&!V.ctrlKey&&!V.metaKey&&!V.altKey&&(V.preventDefault(),l(!0)),V.key==="P"&&!V.ctrlKey&&!V.metaKey&&!V.altKey&&(V.preventDefault(),r(!0)),V.key==="A"&&!V.ctrlKey&&!V.metaKey&&!V.altKey&&(V.preventDefault(),b()),V.key==="N"&&!V.ctrlKey&&!V.metaKey&&!V.altKey&&(V.preventDefault(),E()),V.key==="S"&&!V.ctrlKey&&!V.metaKey&&!V.altKey&&(V.preventDefault(),D()),V.key==="E"&&!V.ctrlKey&&!V.metaKey&&!V.altKey){V.preventDefault();const be=[];re.forEach((rn,mt)=>{mt!=="refparse"&&rn.agrees===!1&&be.push(mt)}),be.length>0&&R(be)}V.key==="X"&&!V.ctrlKey&&!V.metaKey&&!V.altKey?(m.current+="X",m.current==="XXX"&&(V.preventDefault(),S(),e(Za),m.current="")):m.current=""}};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[b,E,D,R,re,S]);const L=Dk(km(ud,{activationConstraint:{distance:8}}),km(ld)),se=P.useCallback(ee=>{const{active:V,over:ue}=ee;if(ue&&V.id!==ue.id){if(V.id==="refparse")return;k(V.id,ue.id)}},[k]);return _.jsxs("div",{className:"h-screen flex flex-col bg-gray-900",children:[_.jsxs("header",{className:"bg-gray-800 px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[_.jsx("h1",{className:"text-xl font-bold text-white",children:"YAML Parser Playground"}),_.jsxs("div",{className:"flex items-center gap-2",children:[!h&&_.jsx("button",{onClick:()=>c(!0),className:"px-3 py-1.5 bg-yellow-500 text-black font-semibold rounded hover:bg-yellow-400 transition-colors text-sm",children:"Setup"}),_.jsx("button",{onClick:()=>r(!0),className:"px-3 py-1.5 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors text-sm",children:"Preferences"}),_.jsx("button",{onClick:()=>l(!0),className:"px-3 py-1.5 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors text-sm",children:"Help"})]})]}),_.jsx("div",{className:"flex-1 flex overflow-hidden",children:(()=>{const ee=K.length>8,V=Gf("refparse"),ue=ee?K.filter(we=>we.id!=="refparse"):K;return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:`${ee?"grid grid-rows-2":"flex flex-col"} h-full border-r border-gray-700`,style:{width:`${I}px`,minWidth:"200px",maxWidth:"800px"},children:[_.jsx(LE,{ref:p,value:n,onChange:e,width:I,onWidthChange:j,colorScheme:z,editorType:te,showBorder:!1,heightMode:ee?"half":"full"}),ee&&V&&_.jsx("div",{className:"h-full overflow-hidden border-t border-gray-700",children:_.jsx(vy,{parser:V,result:he("refparse"),isDraggable:!1},"refparse-sidebar")})]},ee?"left-col-split":"left-col-full"),_.jsx("div",{className:"flex-1 grid grid-cols-4 overflow-y-auto pane-container gap-px bg-gray-700 auto-rows-fr",children:_.jsx(LS,{sensors:L,collisionDetection:Ik,onDragEnd:se,children:_.jsx(XS,{items:ue.map(we=>we.id),strategy:$S,children:ue.map(we=>{const Oe=Gf(we.id);if(!Oe)return null;const Ce=we.id==="refparse";return _.jsx(vy,{parser:Oe,result:he(we.id),onClose:Ce?void 0:()=>x(we.id,!1),isDraggable:!Ce},we.id)})})})})]})})()}),_.jsx(zE,{total:de,disagreeing:ge,disagreeingNames:$,loading:J,sandboxAvailable:h}),_.jsx(VE,{isOpen:t,onClose:()=>r(!1),paneStates:v.panes,onToggleVisibility:x,onReset:()=>{S(),e(Za)},colorScheme:z,onColorSchemeChange:Y,editorType:te,onEditorTypeChange:Z}),_.jsx(HE,{isOpen:s,onClose:()=>l(!1)}),_.jsx(WE,{isOpen:a,onClose:()=>{c(!1);const ee=X.split(",").filter(Boolean);ee.length>0&&ne(n,ee)}})]})}gk.createRoot(document.getElementById("root")).render(_.jsx(Ze.StrictMode,{children:_.jsx(eM,{})}));
//# sourceMappingURL=index-Cyi4UrpH.js.map
