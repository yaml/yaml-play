var bk=Object.defineProperty;var Ok=(n,e,t)=>e in n?bk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ym=(n,e,t)=>Ok(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Ny(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kh={exports:{}},yo={},Sh={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function Ck(){if(vm)return Ee;vm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=m&&A[m]||A["@@iterator"],typeof A=="function"?A:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,b={};function C(A,I,ie){this.props=A,this.context=I,this.refs=b,this.updater=ie||x}C.prototype.isReactComponent={},C.prototype.setState=function(A,I){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,I,"setState")},C.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function E(){}E.prototype=C.prototype;function R(A,I,ie){this.props=A,this.context=I,this.refs=b,this.updater=ie||x}var N=R.prototype=new E;N.constructor=R,k(N,C.prototype),N.isPureReactComponent=!0;var _=Array.isArray,T=Object.prototype.hasOwnProperty,F={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function U(A,I,ie){var he,ve={},ne=null,ae=null;if(I!=null)for(he in I.ref!==void 0&&(ae=I.ref),I.key!==void 0&&(ne=""+I.key),I)T.call(I,he)&&!B.hasOwnProperty(he)&&(ve[he]=I[he]);var be=arguments.length-2;if(be===1)ve.children=ie;else if(1<be){for(var Pe=Array(be),xe=0;xe<be;xe++)Pe[xe]=arguments[xe+2];ve.children=Pe}if(A&&A.defaultProps)for(he in be=A.defaultProps,be)ve[he]===void 0&&(ve[he]=be[he]);return{$$typeof:n,type:A,key:ne,ref:ae,props:ve,_owner:F.current}}function q(A,I){return{$$typeof:n,type:A.type,key:I,ref:A.ref,props:A.props,_owner:A._owner}}function V(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function W(A){var I={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ie){return I[ie]})}var H=/\/+/g;function re(A,I){return typeof A=="object"&&A!==null&&A.key!=null?W(""+A.key):I.toString(36)}function ue(A,I,ie,he,ve){var ne=typeof A;(ne==="undefined"||ne==="boolean")&&(A=null);var ae=!1;if(A===null)ae=!0;else switch(ne){case"string":case"number":ae=!0;break;case"object":switch(A.$$typeof){case n:case e:ae=!0}}if(ae)return ae=A,ve=ve(ae),A=he===""?"."+re(ae,0):he,_(ve)?(ie="",A!=null&&(ie=A.replace(H,"$&/")+"/"),ue(ve,I,ie,"",function(xe){return xe})):ve!=null&&(V(ve)&&(ve=q(ve,ie+(!ve.key||ae&&ae.key===ve.key?"":(""+ve.key).replace(H,"$&/")+"/")+A)),I.push(ve)),1;if(ae=0,he=he===""?".":he+":",_(A))for(var be=0;be<A.length;be++){ne=A[be];var Pe=he+re(ne,be);ae+=ue(ne,I,ie,Pe,ve)}else if(Pe=v(A),typeof Pe=="function")for(A=Pe.call(A),be=0;!(ne=A.next()).done;)ne=ne.value,Pe=he+re(ne,be++),ae+=ue(ne,I,ie,Pe,ve);else if(ne==="object")throw I=String(A),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return ae}function G(A,I,ie){if(A==null)return A;var he=[],ve=0;return ue(A,he,"","",function(ne){return I.call(ie,ne,ve++)}),he}function ce(A){if(A._status===-1){var I=A._result;I=I(),I.then(function(ie){(A._status===0||A._status===-1)&&(A._status=1,A._result=ie)},function(ie){(A._status===0||A._status===-1)&&(A._status=2,A._result=ie)}),A._status===-1&&(A._status=0,A._result=I)}if(A._status===1)return A._result.default;throw A._result}var pe={current:null},K={transition:null},Z={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:K,ReactCurrentOwner:F};function J(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:G,forEach:function(A,I,ie){G(A,function(){I.apply(this,arguments)},ie)},count:function(A){var I=0;return G(A,function(){I++}),I},toArray:function(A){return G(A,function(I){return I})||[]},only:function(A){if(!V(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ee.Component=C,Ee.Fragment=t,Ee.Profiler=s,Ee.PureComponent=R,Ee.StrictMode=r,Ee.Suspense=h,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ee.act=J,Ee.cloneElement=function(A,I,ie){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var he=k({},A.props),ve=A.key,ne=A.ref,ae=A._owner;if(I!=null){if(I.ref!==void 0&&(ne=I.ref,ae=F.current),I.key!==void 0&&(ve=""+I.key),A.type&&A.type.defaultProps)var be=A.type.defaultProps;for(Pe in I)T.call(I,Pe)&&!B.hasOwnProperty(Pe)&&(he[Pe]=I[Pe]===void 0&&be!==void 0?be[Pe]:I[Pe])}var Pe=arguments.length-2;if(Pe===1)he.children=ie;else if(1<Pe){be=Array(Pe);for(var xe=0;xe<Pe;xe++)be[xe]=arguments[xe+2];he.children=be}return{$$typeof:n,type:A.type,key:ve,ref:ne,props:he,_owner:ae}},Ee.createContext=function(A){return A={$$typeof:a,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:l,_context:A},A.Consumer=A},Ee.createElement=U,Ee.createFactory=function(A){var I=U.bind(null,A);return I.type=A,I},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(A){return{$$typeof:c,render:A}},Ee.isValidElement=V,Ee.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:ce}},Ee.memo=function(A,I){return{$$typeof:d,type:A,compare:I===void 0?null:I}},Ee.startTransition=function(A){var I=K.transition;K.transition={};try{A()}finally{K.transition=I}},Ee.unstable_act=J,Ee.useCallback=function(A,I){return pe.current.useCallback(A,I)},Ee.useContext=function(A){return pe.current.useContext(A)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(A){return pe.current.useDeferredValue(A)},Ee.useEffect=function(A,I){return pe.current.useEffect(A,I)},Ee.useId=function(){return pe.current.useId()},Ee.useImperativeHandle=function(A,I,ie){return pe.current.useImperativeHandle(A,I,ie)},Ee.useInsertionEffect=function(A,I){return pe.current.useInsertionEffect(A,I)},Ee.useLayoutEffect=function(A,I){return pe.current.useLayoutEffect(A,I)},Ee.useMemo=function(A,I){return pe.current.useMemo(A,I)},Ee.useReducer=function(A,I,ie){return pe.current.useReducer(A,I,ie)},Ee.useRef=function(A){return pe.current.useRef(A)},Ee.useState=function(A){return pe.current.useState(A)},Ee.useSyncExternalStore=function(A,I,ie){return pe.current.useSyncExternalStore(A,I,ie)},Ee.useTransition=function(){return pe.current.useTransition()},Ee.version="18.3.1",Ee}var xm;function ld(){return xm||(xm=1,Sh.exports=Ck()),Sh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function Pk(){if(wm)return yo;wm=1;var n=ld(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(c,h,d){var p,m={},v=null,x=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(x=h.ref);for(p in h)r.call(h,p)&&!l.hasOwnProperty(p)&&(m[p]=h[p]);if(c&&c.defaultProps)for(p in h=c.defaultProps,h)m[p]===void 0&&(m[p]=h[p]);return{$$typeof:e,type:c,key:v,ref:x,props:m,_owner:s.current}}return yo.Fragment=t,yo.jsx=a,yo.jsxs=a,yo}var km;function Ek(){return km||(km=1,kh.exports=Pk()),kh.exports}var S=Ek(),O=ld();const ot=Ny(O);var wa={},bh={exports:{}},Jt={},Oh={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function Ak(){return Sm||(Sm=1,(function(n){function e(K,Z){var J=K.length;K.push(Z);e:for(;0<J;){var A=J-1>>>1,I=K[A];if(0<s(I,Z))K[A]=Z,K[J]=I,J=A;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Z=K[0],J=K.pop();if(J!==Z){K[0]=J;e:for(var A=0,I=K.length,ie=I>>>1;A<ie;){var he=2*(A+1)-1,ve=K[he],ne=he+1,ae=K[ne];if(0>s(ve,J))ne<I&&0>s(ae,ve)?(K[A]=ae,K[ne]=J,A=ne):(K[A]=ve,K[he]=J,A=he);else if(ne<I&&0>s(ae,J))K[A]=ae,K[ne]=J,A=ne;else break e}}return Z}function s(K,Z){var J=K.sortIndex-Z.sortIndex;return J!==0?J:K.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var h=[],d=[],p=1,m=null,v=3,x=!1,k=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(K){for(var Z=t(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=K)r(d),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=t(d)}}function _(K){if(b=!1,N(K),!k)if(t(h)!==null)k=!0,ce(T);else{var Z=t(d);Z!==null&&pe(_,Z.startTime-K)}}function T(K,Z){k=!1,b&&(b=!1,E(U),U=-1),x=!0;var J=v;try{for(N(Z),m=t(h);m!==null&&(!(m.expirationTime>Z)||K&&!W());){var A=m.callback;if(typeof A=="function"){m.callback=null,v=m.priorityLevel;var I=A(m.expirationTime<=Z);Z=n.unstable_now(),typeof I=="function"?m.callback=I:m===t(h)&&r(h),N(Z)}else r(h);m=t(h)}if(m!==null)var ie=!0;else{var he=t(d);he!==null&&pe(_,he.startTime-Z),ie=!1}return ie}finally{m=null,v=J,x=!1}}var F=!1,B=null,U=-1,q=5,V=-1;function W(){return!(n.unstable_now()-V<q)}function H(){if(B!==null){var K=n.unstable_now();V=K;var Z=!0;try{Z=B(!0,K)}finally{Z?re():(F=!1,B=null)}}else F=!1}var re;if(typeof R=="function")re=function(){R(H)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,G=ue.port2;ue.port1.onmessage=H,re=function(){G.postMessage(null)}}else re=function(){C(H,0)};function ce(K){B=K,F||(F=!0,re())}function pe(K,Z){U=C(function(){K(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){k||x||(k=!0,ce(T))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(K){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var J=v;v=Z;try{return K()}finally{v=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var J=v;v=K;try{return Z()}finally{v=J}},n.unstable_scheduleCallback=function(K,Z,J){var A=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?A+J:A):J=A,K){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=J+I,K={id:p++,callback:Z,priorityLevel:K,startTime:J,expirationTime:I,sortIndex:-1},J>A?(K.sortIndex=J,e(d,K),t(h)===null&&K===t(d)&&(b?(E(U),U=-1):b=!0,pe(_,J-A))):(K.sortIndex=I,e(h,K),k||x||(k=!0,ce(T))),K},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(K){var Z=v;return function(){var J=v;v=Z;try{return K.apply(this,arguments)}finally{v=J}}}})(Ch)),Ch}var bm;function Mk(){return bm||(bm=1,Oh.exports=Ak()),Oh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function Rk(){if(Om)return Jt;Om=1;var n=ld(),e=Mk();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function l(i,o){a(i,o),a(i+"Capture",o)}function a(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(i){return h.call(m,i)?!0:h.call(p,i)?!1:d.test(i)?m[i]=!0:(p[i]=!0,!1)}function x(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,u,f){if(o===null||typeof o>"u"||x(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(i,o,u,f,g,y,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=w}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new b(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(E,R);C[o]=new b(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(E,R);C[o]=new b(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(E,R);C[o]=new b(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function N(i,o,u,f){var g=C.hasOwnProperty(o)?C[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,g,f)&&(u=null),f||g===null?v(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,f=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var _=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),F=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),W=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),K=Symbol.iterator;function Z(i){return i===null||typeof i!="object"?null:(i=K&&i[K]||i["@@iterator"],typeof i=="function"?i:null)}var J=Object.assign,A;function I(i){if(A===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);A=o&&o[1]||""}return`
`+A+i}var ie=!1;function he(i,o){if(!i||ie)return"";ie=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(z){var f=z}Reflect.construct(i,[],o)}else{try{o.call()}catch(z){f=z}i.call(o.prototype)}else{try{throw Error()}catch(z){f=z}i()}}catch(z){if(z&&f&&typeof z.stack=="string"){for(var g=z.stack.split(`
`),y=f.stack.split(`
`),w=g.length-1,P=y.length-1;1<=w&&0<=P&&g[w]!==y[P];)P--;for(;1<=w&&0<=P;w--,P--)if(g[w]!==y[P]){if(w!==1||P!==1)do if(w--,P--,0>P||g[w]!==y[P]){var M=`
`+g[w].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=w&&0<=P);break}}}finally{ie=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?I(i):""}function ve(i){switch(i.tag){case 5:return I(i.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return i=he(i.type,!1),i;case 11:return i=he(i.type.render,!1),i;case 1:return i=he(i.type,!0),i;default:return""}}function ne(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case F:return"Portal";case q:return"Profiler";case U:return"StrictMode";case re:return"Suspense";case ue:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case W:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case H:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return o=i.displayName||null,o!==null?o:ne(i.type)||"Memo";case ce:o=i._payload,i=i._init;try{return ne(i(o))}catch{}}return null}function ae(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(o);case 8:return o===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Pe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function xe(i){var o=Pe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(w){f=""+w,y.call(this,w)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Re(i){i._valueTracker||(i._valueTracker=xe(i))}function ze(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Pe(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function Ge(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Je(i,o){var u=o.checked;return J({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Ct(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=be(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function On(i,o){o=o.checked,o!=null&&N(i,"checked",o,!1)}function Cn(i,o){On(i,o);var u=be(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?fe(i,o.type,u):o.hasOwnProperty("defaultValue")&&fe(i,o.type,be(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Me(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function fe(i,o,u){(o!=="number"||Ge(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var De=Array.isArray;function wt(i,o,u,f){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&f&&(i[u].defaultSelected=!0)}else{for(u=""+be(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function Ze(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return J({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Or(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(De(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:be(u)}}function Cr(i,o){var u=be(o.value),f=be(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Pr(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ji(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tn(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ji(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Pn,Er=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Pn=Pn||document.createElement("div"),Pn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Pn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Ar(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var $t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fl=["Webkit","ms","Moz","O"];Object.keys($t).forEach(function(i){fl.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),$t[o]=$t[i]})});function dl(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||$t.hasOwnProperty(i)&&$t[i]?(""+o).trim():o+"px"}function pl(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=dl(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,g):i[u]=g}}var Ns=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bi(i,o){if(o){if(Ns[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ts(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zi=null;function Ls(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Is=null,Mr=null,Xe=null;function Pt(i){if(i=to(i)){if(typeof Is!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Il(o),Is(i.stateNode,i.type,o))}}function Et(i){Mr?Xe?Xe.push(i):Xe=[i]:Mr=i}function En(){if(Mr){var i=Mr,o=Xe;if(Xe=Mr=null,Pt(i),o)for(i=0;i<o.length;i++)Pt(o[i])}}function zt(i,o){return i(o)}function At(){}var Ut=!1;function or(i,o,u){if(Ut)return i(o,u);Ut=!0;try{return zt(i,o,u)}finally{Ut=!1,(Mr!==null||Xe!==null)&&(At(),En())}}function Ke(i,o){var u=i.stateNode;if(u===null)return null;var f=Il(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var fn=!1;if(c)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){fn=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{fn=!1}function An(i,o,u,f,g,y,w,P,M){var z=Array.prototype.slice.call(arguments,3);try{o.apply(u,z)}catch(X){this.onError(X)}}var Mn=!1,Qn=null,nn=!1,lr=null,js={onError:function(i){Mn=!0,Qn=i}};function D1(i,o,u,f,g,y,w,P,M){Mn=!1,Qn=null,An.apply(js,arguments)}function N1(i,o,u,f,g,y,w,P,M){if(D1.apply(this,arguments),Mn){if(Mn){var z=Qn;Mn=!1,Qn=null}else throw Error(t(198));nn||(nn=!0,lr=z)}}function hi(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function _d(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Vd(i){if(hi(i)!==i)throw Error(t(188))}function T1(i){var o=i.alternate;if(!o){if(o=hi(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,f=o;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return Vd(g),i;if(y===f)return Vd(g),o;y=y.sibling}throw Error(t(188))}if(u.return!==f.return)u=g,f=y;else{for(var w=!1,P=g.child;P;){if(P===u){w=!0,u=g,f=y;break}if(P===f){w=!0,f=g,u=y;break}P=P.sibling}if(!w){for(P=y.child;P;){if(P===u){w=!0,u=y,f=g;break}if(P===f){w=!0,f=y,u=g;break}P=P.sibling}if(!w)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Hd(i){return i=T1(i),i!==null?Wd(i):null}function Wd(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Wd(i);if(o!==null)return o;i=i.sibling}return null}var Qd=e.unstable_scheduleCallback,$d=e.unstable_cancelCallback,L1=e.unstable_shouldYield,I1=e.unstable_requestPaint,rt=e.unstable_now,j1=e.unstable_getCurrentPriorityLevel,Vu=e.unstable_ImmediatePriority,Ud=e.unstable_UserBlockingPriority,gl=e.unstable_NormalPriority,B1=e.unstable_LowPriority,Xd=e.unstable_IdlePriority,ml=null,$n=null;function z1(i){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(ml,i,void 0,(i.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:V1,F1=Math.log,_1=Math.LN2;function V1(i){return i>>>=0,i===0?32:31-(F1(i)/_1|0)|0}var yl=64,vl=4194304;function Bs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function xl(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,y=i.pingedLanes,w=u&268435455;if(w!==0){var P=w&~g;P!==0?f=Bs(P):(y&=w,y!==0&&(f=Bs(y)))}else w=u&~g,w!==0?f=Bs(w):y!==0&&(f=Bs(y));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,y=o&-o,g>=y||g===16&&(y&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-Rn(o),g=1<<u,f|=i[u],o&=~g;return f}function H1(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W1(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes;0<y;){var w=31-Rn(y),P=1<<w,M=g[w];M===-1?((P&u)===0||(P&f)!==0)&&(g[w]=H1(P,o)):M<=o&&(i.expiredLanes|=P),y&=~P}}function Hu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Kd(){var i=yl;return yl<<=1,(yl&4194240)===0&&(yl=64),i}function Wu(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function zs(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Rn(o),i[o]=u}function Q1(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-Rn(u),y=1<<g;o[g]=0,f[g]=-1,i[g]=-1,u&=~y}}function Qu(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-Rn(u),g=1<<f;g&o|i[f]&o&&(i[f]|=o),u&=~g}}var Fe=0;function qd(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Yd,$u,Gd,Jd,Zd,Uu=!1,wl=[],Rr=null,Dr=null,Nr=null,Fs=new Map,_s=new Map,Tr=[],$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ep(i,o){switch(i){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Fs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(o.pointerId)}}function Vs(i,o,u,f,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},o!==null&&(o=to(o),o!==null&&$u(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function U1(i,o,u,f,g){switch(o){case"focusin":return Rr=Vs(Rr,i,o,u,f,g),!0;case"dragenter":return Dr=Vs(Dr,i,o,u,f,g),!0;case"mouseover":return Nr=Vs(Nr,i,o,u,f,g),!0;case"pointerover":var y=g.pointerId;return Fs.set(y,Vs(Fs.get(y)||null,i,o,u,f,g)),!0;case"gotpointercapture":return y=g.pointerId,_s.set(y,Vs(_s.get(y)||null,i,o,u,f,g)),!0}return!1}function tp(i){var o=fi(i.target);if(o!==null){var u=hi(o);if(u!==null){if(o=u.tag,o===13){if(o=_d(u),o!==null){i.blockedOn=o,Zd(i.priority,function(){Gd(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kl(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Ku(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);zi=f,u.target.dispatchEvent(f),zi=null}else return o=to(u),o!==null&&$u(o),i.blockedOn=u,!1;o.shift()}return!0}function np(i,o,u){kl(i)&&u.delete(o)}function X1(){Uu=!1,Rr!==null&&kl(Rr)&&(Rr=null),Dr!==null&&kl(Dr)&&(Dr=null),Nr!==null&&kl(Nr)&&(Nr=null),Fs.forEach(np),_s.forEach(np)}function Hs(i,o){i.blockedOn===o&&(i.blockedOn=null,Uu||(Uu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,X1)))}function Ws(i){function o(g){return Hs(g,i)}if(0<wl.length){Hs(wl[0],i);for(var u=1;u<wl.length;u++){var f=wl[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Rr!==null&&Hs(Rr,i),Dr!==null&&Hs(Dr,i),Nr!==null&&Hs(Nr,i),Fs.forEach(o),_s.forEach(o),u=0;u<Tr.length;u++)f=Tr[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<Tr.length&&(u=Tr[0],u.blockedOn===null);)tp(u),u.blockedOn===null&&Tr.shift()}var Fi=_.ReactCurrentBatchConfig,Sl=!0;function K1(i,o,u,f){var g=Fe,y=Fi.transition;Fi.transition=null;try{Fe=1,Xu(i,o,u,f)}finally{Fe=g,Fi.transition=y}}function q1(i,o,u,f){var g=Fe,y=Fi.transition;Fi.transition=null;try{Fe=4,Xu(i,o,u,f)}finally{Fe=g,Fi.transition=y}}function Xu(i,o,u,f){if(Sl){var g=Ku(i,o,u,f);if(g===null)hc(i,o,f,bl,u),ep(i,f);else if(U1(g,i,o,u,f))f.stopPropagation();else if(ep(i,f),o&4&&-1<$1.indexOf(i)){for(;g!==null;){var y=to(g);if(y!==null&&Yd(y),y=Ku(i,o,u,f),y===null&&hc(i,o,f,bl,u),y===g)break;g=y}g!==null&&f.stopPropagation()}else hc(i,o,f,null,u)}}var bl=null;function Ku(i,o,u,f){if(bl=null,i=Ls(f),i=fi(i),i!==null)if(o=hi(i),o===null)i=null;else if(u=o.tag,u===13){if(i=_d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return bl=i,null}function rp(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j1()){case Vu:return 1;case Ud:return 4;case gl:case B1:return 16;case Xd:return 536870912;default:return 16}default:return 16}}var Lr=null,qu=null,Ol=null;function ip(){if(Ol)return Ol;var i,o=qu,u=o.length,f,g="value"in Lr?Lr.value:Lr.textContent,y=g.length;for(i=0;i<u&&o[i]===g[i];i++);var w=u-i;for(f=1;f<=w&&o[u-f]===g[y-f];f++);return Ol=g.slice(i,1<f?1-f:void 0)}function Cl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Pl(){return!0}function sp(){return!1}function rn(i){function o(u,f,g,y,w){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(u=i[P],this[P]=u?u(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Pl:sp,this.isPropagationStopped=sp,this}return J(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),o}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yu=rn(_i),Qs=J({},_i,{view:0,detail:0}),Y1=rn(Qs),Gu,Ju,$s,El=J({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$s&&($s&&i.type==="mousemove"?(Gu=i.screenX-$s.screenX,Ju=i.screenY-$s.screenY):Ju=Gu=0,$s=i),Gu)},movementY:function(i){return"movementY"in i?i.movementY:Ju}}),op=rn(El),G1=J({},El,{dataTransfer:0}),J1=rn(G1),Z1=J({},Qs,{relatedTarget:0}),Zu=rn(Z1),ew=J({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),tw=rn(ew),nw=J({},_i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),rw=rn(nw),iw=J({},_i,{data:0}),lp=rn(iw),sw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ow={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aw(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=lw[i])?!!o[i]:!1}function ec(){return aw}var uw=J({},Qs,{key:function(i){if(i.key){var o=sw[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Cl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ow[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(i){return i.type==="keypress"?Cl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Cl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),cw=rn(uw),hw=J({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ap=rn(hw),fw=J({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),dw=rn(fw),pw=J({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),gw=rn(pw),mw=J({},El,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),yw=rn(mw),vw=[9,13,27,32],tc=c&&"CompositionEvent"in window,Us=null;c&&"documentMode"in document&&(Us=document.documentMode);var xw=c&&"TextEvent"in window&&!Us,up=c&&(!tc||Us&&8<Us&&11>=Us),cp=" ",hp=!1;function fp(i,o){switch(i){case"keyup":return vw.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vi=!1;function ww(i,o){switch(i){case"compositionend":return dp(o);case"keypress":return o.which!==32?null:(hp=!0,cp);case"textInput":return i=o.data,i===cp&&hp?null:i;default:return null}}function kw(i,o){if(Vi)return i==="compositionend"||!tc&&fp(i,o)?(i=ip(),Ol=qu=Lr=null,Vi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return up&&o.locale!=="ko"?null:o.data;default:return null}}var Sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Sw[i.type]:o==="textarea"}function gp(i,o,u,f){Et(f),o=Nl(o,"onChange"),0<o.length&&(u=new Yu("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var Xs=null,Ks=null;function bw(i){Tp(i,0)}function Al(i){var o=Ui(i);if(ze(o))return i}function Ow(i,o){if(i==="change")return o}var mp=!1;if(c){var nc;if(c){var rc="oninput"in document;if(!rc){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),rc=typeof yp.oninput=="function"}nc=rc}else nc=!1;mp=nc&&(!document.documentMode||9<document.documentMode)}function vp(){Xs&&(Xs.detachEvent("onpropertychange",xp),Ks=Xs=null)}function xp(i){if(i.propertyName==="value"&&Al(Ks)){var o=[];gp(o,Ks,i,Ls(i)),or(bw,o)}}function Cw(i,o,u){i==="focusin"?(vp(),Xs=o,Ks=u,Xs.attachEvent("onpropertychange",xp)):i==="focusout"&&vp()}function Pw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Al(Ks)}function Ew(i,o){if(i==="click")return Al(o)}function Aw(i,o){if(i==="input"||i==="change")return Al(o)}function Mw(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Dn=typeof Object.is=="function"?Object.is:Mw;function qs(i,o){if(Dn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!h.call(o,g)||!Dn(i[g],o[g]))return!1}return!0}function wp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function kp(i,o){var u=wp(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=wp(u)}}function Sp(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Sp(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function bp(){for(var i=window,o=Ge();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Ge(i.document)}return o}function ic(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Rw(i){var o=bp(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Sp(u.ownerDocument.documentElement,u)){if(f!==null&&ic(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,y=Math.min(f.start,g);f=f.end===void 0?y:Math.min(f.end,g),!i.extend&&y>f&&(g=f,f=y,y=g),g=kp(u,y);var w=kp(u,f);g&&w&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),y>f?(i.addRange(o),i.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Dw=c&&"documentMode"in document&&11>=document.documentMode,Hi=null,sc=null,Ys=null,oc=!1;function Op(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;oc||Hi==null||Hi!==Ge(f)||(f=Hi,"selectionStart"in f&&ic(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ys&&qs(Ys,f)||(Ys=f,f=Nl(sc,"onSelect"),0<f.length&&(o=new Yu("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Hi)))}function Ml(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Wi={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},lc={},Cp={};c&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function Rl(i){if(lc[i])return lc[i];if(!Wi[i])return i;var o=Wi[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Cp)return lc[i]=o[u];return i}var Pp=Rl("animationend"),Ep=Rl("animationiteration"),Ap=Rl("animationstart"),Mp=Rl("transitionend"),Rp=new Map,Dp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(i,o){Rp.set(i,o),l(o,[i])}for(var ac=0;ac<Dp.length;ac++){var uc=Dp[ac],Nw=uc.toLowerCase(),Tw=uc[0].toUpperCase()+uc.slice(1);Ir(Nw,"on"+Tw)}Ir(Pp,"onAnimationEnd"),Ir(Ep,"onAnimationIteration"),Ir(Ap,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Mp,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gs));function Np(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,N1(f,o,void 0,i),i.currentTarget=null}function Tp(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],g=f.event;f=f.listeners;e:{var y=void 0;if(o)for(var w=f.length-1;0<=w;w--){var P=f[w],M=P.instance,z=P.currentTarget;if(P=P.listener,M!==y&&g.isPropagationStopped())break e;Np(g,P,z),y=M}else for(w=0;w<f.length;w++){if(P=f[w],M=P.instance,z=P.currentTarget,P=P.listener,M!==y&&g.isPropagationStopped())break e;Np(g,P,z),y=M}}}if(nn)throw i=lr,nn=!1,lr=null,i}function We(i,o){var u=o[yc];u===void 0&&(u=o[yc]=new Set);var f=i+"__bubble";u.has(f)||(Lp(o,i,2,!1),u.add(f))}function cc(i,o,u){var f=0;o&&(f|=4),Lp(u,i,f,o)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function Js(i){if(!i[Dl]){i[Dl]=!0,r.forEach(function(u){u!=="selectionchange"&&(Lw.has(u)||cc(u,!1,i),cc(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Dl]||(o[Dl]=!0,cc("selectionchange",!1,o))}}function Lp(i,o,u,f){switch(rp(o)){case 1:var g=K1;break;case 4:g=q1;break;default:g=Xu}u=g.bind(null,o,u,i),g=void 0,!fn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function hc(i,o,u,f,g){var y=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var P=f.stateNode.containerInfo;if(P===g||P.nodeType===8&&P.parentNode===g)break;if(w===4)for(w=f.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===g||M.nodeType===8&&M.parentNode===g))return;w=w.return}for(;P!==null;){if(w=fi(P),w===null)return;if(M=w.tag,M===5||M===6){f=y=w;continue e}P=P.parentNode}}f=f.return}or(function(){var z=y,X=Ls(u),Y=[];e:{var $=Rp.get(i);if($!==void 0){var le=Yu,ge=i;switch(i){case"keypress":if(Cl(u)===0)break e;case"keydown":case"keyup":le=cw;break;case"focusin":ge="focus",le=Zu;break;case"focusout":ge="blur",le=Zu;break;case"beforeblur":case"afterblur":le=Zu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=J1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=dw;break;case Pp:case Ep:case Ap:le=tw;break;case Mp:le=gw;break;case"scroll":le=Y1;break;case"wheel":le=yw;break;case"copy":case"cut":case"paste":le=rw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=ap}var me=(o&4)!==0,it=!me&&i==="scroll",L=me?$!==null?$+"Capture":null:$;me=[];for(var D=z,j;D!==null;){j=D;var ee=j.stateNode;if(j.tag===5&&ee!==null&&(j=ee,L!==null&&(ee=Ke(D,L),ee!=null&&me.push(Zs(D,ee,j)))),it)break;D=D.return}0<me.length&&($=new le($,ge,null,u,X),Y.push({event:$,listeners:me}))}}if((o&7)===0){e:{if($=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",$&&u!==zi&&(ge=u.relatedTarget||u.fromElement)&&(fi(ge)||ge[ar]))break e;if((le||$)&&($=X.window===X?X:($=X.ownerDocument)?$.defaultView||$.parentWindow:window,le?(ge=u.relatedTarget||u.toElement,le=z,ge=ge?fi(ge):null,ge!==null&&(it=hi(ge),ge!==it||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(le=null,ge=z),le!==ge)){if(me=op,ee="onMouseLeave",L="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(me=ap,ee="onPointerLeave",L="onPointerEnter",D="pointer"),it=le==null?$:Ui(le),j=ge==null?$:Ui(ge),$=new me(ee,D+"leave",le,u,X),$.target=it,$.relatedTarget=j,ee=null,fi(X)===z&&(me=new me(L,D+"enter",ge,u,X),me.target=j,me.relatedTarget=it,ee=me),it=ee,le&&ge)t:{for(me=le,L=ge,D=0,j=me;j;j=Qi(j))D++;for(j=0,ee=L;ee;ee=Qi(ee))j++;for(;0<D-j;)me=Qi(me),D--;for(;0<j-D;)L=Qi(L),j--;for(;D--;){if(me===L||L!==null&&me===L.alternate)break t;me=Qi(me),L=Qi(L)}me=null}else me=null;le!==null&&Ip(Y,$,le,me,!1),ge!==null&&it!==null&&Ip(Y,it,ge,me,!0)}}e:{if($=z?Ui(z):window,le=$.nodeName&&$.nodeName.toLowerCase(),le==="select"||le==="input"&&$.type==="file")var ye=Ow;else if(pp($))if(mp)ye=Aw;else{ye=Pw;var ke=Cw}else(le=$.nodeName)&&le.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ye=Ew);if(ye&&(ye=ye(i,z))){gp(Y,ye,u,X);break e}ke&&ke(i,$,z),i==="focusout"&&(ke=$._wrapperState)&&ke.controlled&&$.type==="number"&&fe($,"number",$.value)}switch(ke=z?Ui(z):window,i){case"focusin":(pp(ke)||ke.contentEditable==="true")&&(Hi=ke,sc=z,Ys=null);break;case"focusout":Ys=sc=Hi=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,Op(Y,u,X);break;case"selectionchange":if(Dw)break;case"keydown":case"keyup":Op(Y,u,X)}var Se;if(tc)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Vi?fp(i,u)&&(Oe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(up&&u.locale!=="ko"&&(Vi||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Vi&&(Se=ip()):(Lr=X,qu="value"in Lr?Lr.value:Lr.textContent,Vi=!0)),ke=Nl(z,Oe),0<ke.length&&(Oe=new lp(Oe,i,null,u,X),Y.push({event:Oe,listeners:ke}),Se?Oe.data=Se:(Se=dp(u),Se!==null&&(Oe.data=Se)))),(Se=xw?ww(i,u):kw(i,u))&&(z=Nl(z,"onBeforeInput"),0<z.length&&(X=new lp("onBeforeInput","beforeinput",null,u,X),Y.push({event:X,listeners:z}),X.data=Se))}Tp(Y,o)})}function Zs(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Nl(i,o){for(var u=o+"Capture",f=[];i!==null;){var g=i,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=Ke(i,u),y!=null&&f.unshift(Zs(i,y,g)),y=Ke(i,o),y!=null&&f.push(Zs(i,y,g))),i=i.return}return f}function Qi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ip(i,o,u,f,g){for(var y=o._reactName,w=[];u!==null&&u!==f;){var P=u,M=P.alternate,z=P.stateNode;if(M!==null&&M===f)break;P.tag===5&&z!==null&&(P=z,g?(M=Ke(u,y),M!=null&&w.unshift(Zs(u,M,P))):g||(M=Ke(u,y),M!=null&&w.push(Zs(u,M,P)))),u=u.return}w.length!==0&&i.push({event:o,listeners:w})}var Iw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function jp(i){return(typeof i=="string"?i:""+i).replace(Iw,`
`).replace(jw,"")}function Tl(i,o,u){if(o=jp(o),jp(i)!==o&&u)throw Error(t(425))}function Ll(){}var fc=null,dc=null;function pc(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gc=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,zw=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(i){return Bp.resolve(null).then(i).catch(Fw)}:gc;function Fw(i){setTimeout(function(){throw i})}function mc(i,o){var u=o,f=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){i.removeChild(g),Ws(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);Ws(o)}function jr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function zp(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var $i=Math.random().toString(36).slice(2),Un="__reactFiber$"+$i,eo="__reactProps$"+$i,ar="__reactContainer$"+$i,yc="__reactEvents$"+$i,_w="__reactListeners$"+$i,Vw="__reactHandles$"+$i;function fi(i){var o=i[Un];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ar]||u[Un]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=zp(i);i!==null;){if(u=i[Un])return u;i=zp(i)}return o}i=u,u=i.parentNode}return null}function to(i){return i=i[Un]||i[ar],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ui(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Il(i){return i[eo]||null}var vc=[],Xi=-1;function Br(i){return{current:i}}function Qe(i){0>Xi||(i.current=vc[Xi],vc[Xi]=null,Xi--)}function He(i,o){Xi++,vc[Xi]=i.current,i.current=o}var zr={},Rt=Br(zr),Xt=Br(!1),di=zr;function Ki(i,o){var u=i.type.contextTypes;if(!u)return zr;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in u)g[y]=o[y];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function Kt(i){return i=i.childContextTypes,i!=null}function jl(){Qe(Xt),Qe(Rt)}function Fp(i,o,u){if(Rt.current!==zr)throw Error(t(168));He(Rt,o),He(Xt,u)}function _p(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(t(108,ae(i)||"Unknown",g));return J({},u,f)}function Bl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||zr,di=Rt.current,He(Rt,i),He(Xt,Xt.current),!0}function Vp(i,o,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=_p(i,o,di),f.__reactInternalMemoizedMergedChildContext=i,Qe(Xt),Qe(Rt),He(Rt,i)):Qe(Xt),He(Xt,u)}var ur=null,zl=!1,xc=!1;function Hp(i){ur===null?ur=[i]:ur.push(i)}function Hw(i){zl=!0,Hp(i)}function Fr(){if(!xc&&ur!==null){xc=!0;var i=0,o=Fe;try{var u=ur;for(Fe=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}ur=null,zl=!1}catch(g){throw ur!==null&&(ur=ur.slice(i+1)),Qd(Vu,Fr),g}finally{Fe=o,xc=!1}}return null}var qi=[],Yi=0,Fl=null,_l=0,dn=[],pn=0,pi=null,cr=1,hr="";function gi(i,o){qi[Yi++]=_l,qi[Yi++]=Fl,Fl=i,_l=o}function Wp(i,o,u){dn[pn++]=cr,dn[pn++]=hr,dn[pn++]=pi,pi=i;var f=cr;i=hr;var g=32-Rn(f)-1;f&=~(1<<g),u+=1;var y=32-Rn(o)+g;if(30<y){var w=g-g%5;y=(f&(1<<w)-1).toString(32),f>>=w,g-=w,cr=1<<32-Rn(o)+g|u<<g|f,hr=y+i}else cr=1<<y|u<<g|f,hr=i}function wc(i){i.return!==null&&(gi(i,1),Wp(i,1,0))}function kc(i){for(;i===Fl;)Fl=qi[--Yi],qi[Yi]=null,_l=qi[--Yi],qi[Yi]=null;for(;i===pi;)pi=dn[--pn],dn[pn]=null,hr=dn[--pn],dn[pn]=null,cr=dn[--pn],dn[pn]=null}var sn=null,on=null,Ue=!1,Nn=null;function Qp(i,o){var u=vn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function $p(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,sn=i,on=jr(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,sn=i,on=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=pi!==null?{id:cr,overflow:hr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=vn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,sn=i,on=null,!0):!1;default:return!1}}function Sc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function bc(i){if(Ue){var o=on;if(o){var u=o;if(!$p(i,o)){if(Sc(i))throw Error(t(418));o=jr(u.nextSibling);var f=sn;o&&$p(i,o)?Qp(f,u):(i.flags=i.flags&-4097|2,Ue=!1,sn=i)}}else{if(Sc(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ue=!1,sn=i}}}function Up(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;sn=i}function Vl(i){if(i!==sn)return!1;if(!Ue)return Up(i),Ue=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!pc(i.type,i.memoizedProps)),o&&(o=on)){if(Sc(i))throw Xp(),Error(t(418));for(;o;)Qp(i,o),o=jr(o.nextSibling)}if(Up(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){on=jr(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}on=null}}else on=sn?jr(i.stateNode.nextSibling):null;return!0}function Xp(){for(var i=on;i;)i=jr(i.nextSibling)}function Gi(){on=sn=null,Ue=!1}function Oc(i){Nn===null?Nn=[i]:Nn.push(i)}var Ww=_.ReactCurrentBatchConfig;function no(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var g=f,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(w){var P=g.refs;w===null?delete P[y]:P[y]=w},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Hl(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Kp(i){var o=i._init;return o(i._payload)}function qp(i){function o(L,D){if(i){var j=L.deletions;j===null?(L.deletions=[D],L.flags|=16):j.push(D)}}function u(L,D){if(!i)return null;for(;D!==null;)o(L,D),D=D.sibling;return null}function f(L,D){for(L=new Map;D!==null;)D.key!==null?L.set(D.key,D):L.set(D.index,D),D=D.sibling;return L}function g(L,D){return L=Xr(L,D),L.index=0,L.sibling=null,L}function y(L,D,j){return L.index=j,i?(j=L.alternate,j!==null?(j=j.index,j<D?(L.flags|=2,D):j):(L.flags|=2,D)):(L.flags|=1048576,D)}function w(L){return i&&L.alternate===null&&(L.flags|=2),L}function P(L,D,j,ee){return D===null||D.tag!==6?(D=gh(j,L.mode,ee),D.return=L,D):(D=g(D,j),D.return=L,D)}function M(L,D,j,ee){var ye=j.type;return ye===B?X(L,D,j.props.children,ee,j.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ce&&Kp(ye)===D.type)?(ee=g(D,j.props),ee.ref=no(L,D,j),ee.return=L,ee):(ee=fa(j.type,j.key,j.props,null,L.mode,ee),ee.ref=no(L,D,j),ee.return=L,ee)}function z(L,D,j,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=mh(j,L.mode,ee),D.return=L,D):(D=g(D,j.children||[]),D.return=L,D)}function X(L,D,j,ee,ye){return D===null||D.tag!==7?(D=bi(j,L.mode,ee,ye),D.return=L,D):(D=g(D,j),D.return=L,D)}function Y(L,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return D=gh(""+D,L.mode,j),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case T:return j=fa(D.type,D.key,D.props,null,L.mode,j),j.ref=no(L,null,D),j.return=L,j;case F:return D=mh(D,L.mode,j),D.return=L,D;case ce:var ee=D._init;return Y(L,ee(D._payload),j)}if(De(D)||Z(D))return D=bi(D,L.mode,j,null),D.return=L,D;Hl(L,D)}return null}function $(L,D,j,ee){var ye=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ye!==null?null:P(L,D,""+j,ee);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return j.key===ye?M(L,D,j,ee):null;case F:return j.key===ye?z(L,D,j,ee):null;case ce:return ye=j._init,$(L,D,ye(j._payload),ee)}if(De(j)||Z(j))return ye!==null?null:X(L,D,j,ee,null);Hl(L,j)}return null}function le(L,D,j,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return L=L.get(j)||null,P(D,L,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case T:return L=L.get(ee.key===null?j:ee.key)||null,M(D,L,ee,ye);case F:return L=L.get(ee.key===null?j:ee.key)||null,z(D,L,ee,ye);case ce:var ke=ee._init;return le(L,D,j,ke(ee._payload),ye)}if(De(ee)||Z(ee))return L=L.get(j)||null,X(D,L,ee,ye,null);Hl(D,ee)}return null}function ge(L,D,j,ee){for(var ye=null,ke=null,Se=D,Oe=D=0,mt=null;Se!==null&&Oe<j.length;Oe++){Se.index>Oe?(mt=Se,Se=null):mt=Se.sibling;var Le=$(L,Se,j[Oe],ee);if(Le===null){Se===null&&(Se=mt);break}i&&Se&&Le.alternate===null&&o(L,Se),D=y(Le,D,Oe),ke===null?ye=Le:ke.sibling=Le,ke=Le,Se=mt}if(Oe===j.length)return u(L,Se),Ue&&gi(L,Oe),ye;if(Se===null){for(;Oe<j.length;Oe++)Se=Y(L,j[Oe],ee),Se!==null&&(D=y(Se,D,Oe),ke===null?ye=Se:ke.sibling=Se,ke=Se);return Ue&&gi(L,Oe),ye}for(Se=f(L,Se);Oe<j.length;Oe++)mt=le(Se,L,Oe,j[Oe],ee),mt!==null&&(i&&mt.alternate!==null&&Se.delete(mt.key===null?Oe:mt.key),D=y(mt,D,Oe),ke===null?ye=mt:ke.sibling=mt,ke=mt);return i&&Se.forEach(function(Kr){return o(L,Kr)}),Ue&&gi(L,Oe),ye}function me(L,D,j,ee){var ye=Z(j);if(typeof ye!="function")throw Error(t(150));if(j=ye.call(j),j==null)throw Error(t(151));for(var ke=ye=null,Se=D,Oe=D=0,mt=null,Le=j.next();Se!==null&&!Le.done;Oe++,Le=j.next()){Se.index>Oe?(mt=Se,Se=null):mt=Se.sibling;var Kr=$(L,Se,Le.value,ee);if(Kr===null){Se===null&&(Se=mt);break}i&&Se&&Kr.alternate===null&&o(L,Se),D=y(Kr,D,Oe),ke===null?ye=Kr:ke.sibling=Kr,ke=Kr,Se=mt}if(Le.done)return u(L,Se),Ue&&gi(L,Oe),ye;if(Se===null){for(;!Le.done;Oe++,Le=j.next())Le=Y(L,Le.value,ee),Le!==null&&(D=y(Le,D,Oe),ke===null?ye=Le:ke.sibling=Le,ke=Le);return Ue&&gi(L,Oe),ye}for(Se=f(L,Se);!Le.done;Oe++,Le=j.next())Le=le(Se,L,Oe,Le.value,ee),Le!==null&&(i&&Le.alternate!==null&&Se.delete(Le.key===null?Oe:Le.key),D=y(Le,D,Oe),ke===null?ye=Le:ke.sibling=Le,ke=Le);return i&&Se.forEach(function(Sk){return o(L,Sk)}),Ue&&gi(L,Oe),ye}function it(L,D,j,ee){if(typeof j=="object"&&j!==null&&j.type===B&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case T:e:{for(var ye=j.key,ke=D;ke!==null;){if(ke.key===ye){if(ye=j.type,ye===B){if(ke.tag===7){u(L,ke.sibling),D=g(ke,j.props.children),D.return=L,L=D;break e}}else if(ke.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ce&&Kp(ye)===ke.type){u(L,ke.sibling),D=g(ke,j.props),D.ref=no(L,ke,j),D.return=L,L=D;break e}u(L,ke);break}else o(L,ke);ke=ke.sibling}j.type===B?(D=bi(j.props.children,L.mode,ee,j.key),D.return=L,L=D):(ee=fa(j.type,j.key,j.props,null,L.mode,ee),ee.ref=no(L,D,j),ee.return=L,L=ee)}return w(L);case F:e:{for(ke=j.key;D!==null;){if(D.key===ke)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){u(L,D.sibling),D=g(D,j.children||[]),D.return=L,L=D;break e}else{u(L,D);break}else o(L,D);D=D.sibling}D=mh(j,L.mode,ee),D.return=L,L=D}return w(L);case ce:return ke=j._init,it(L,D,ke(j._payload),ee)}if(De(j))return ge(L,D,j,ee);if(Z(j))return me(L,D,j,ee);Hl(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,D!==null&&D.tag===6?(u(L,D.sibling),D=g(D,j),D.return=L,L=D):(u(L,D),D=gh(j,L.mode,ee),D.return=L,L=D),w(L)):u(L,D)}return it}var Ji=qp(!0),Yp=qp(!1),Wl=Br(null),Ql=null,Zi=null,Cc=null;function Pc(){Cc=Zi=Ql=null}function Ec(i){var o=Wl.current;Qe(Wl),i._currentValue=o}function Ac(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function es(i,o){Ql=i,Cc=Zi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(qt=!0),i.firstContext=null)}function gn(i){var o=i._currentValue;if(Cc!==i)if(i={context:i,memoizedValue:o,next:null},Zi===null){if(Ql===null)throw Error(t(308));Zi=i,Ql.dependencies={lanes:0,firstContext:i}}else Zi=Zi.next=i;return o}var mi=null;function Mc(i){mi===null?mi=[i]:mi.push(i)}function Gp(i,o,u,f){var g=o.interleaved;return g===null?(u.next=u,Mc(o)):(u.next=g.next,g.next=u),o.interleaved=u,fr(i,f)}function fr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var _r=!1;function Rc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jp(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function dr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Vr(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ne&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,fr(i,u)}return g=f.interleaved,g===null?(o.next=o,Mc(f)):(o.next=g.next,g.next=o),f.interleaved=o,fr(i,u)}function $l(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Qu(i,u)}}function Zp(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var w={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?g=y=w:y=y.next=w,u=u.next}while(u!==null);y===null?g=y=o:y=y.next=o}else g=y=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Ul(i,o,u,f){var g=i.updateQueue;_r=!1;var y=g.firstBaseUpdate,w=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var M=P,z=M.next;M.next=null,w===null?y=z:w.next=z,w=M;var X=i.alternate;X!==null&&(X=X.updateQueue,P=X.lastBaseUpdate,P!==w&&(P===null?X.firstBaseUpdate=z:P.next=z,X.lastBaseUpdate=M))}if(y!==null){var Y=g.baseState;w=0,X=z=M=null,P=y;do{var $=P.lane,le=P.eventTime;if((f&$)===$){X!==null&&(X=X.next={eventTime:le,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ge=i,me=P;switch($=o,le=u,me.tag){case 1:if(ge=me.payload,typeof ge=="function"){Y=ge.call(le,Y,$);break e}Y=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=me.payload,$=typeof ge=="function"?ge.call(le,Y,$):ge,$==null)break e;Y=J({},Y,$);break e;case 2:_r=!0}}P.callback!==null&&P.lane!==0&&(i.flags|=64,$=g.effects,$===null?g.effects=[P]:$.push(P))}else le={eventTime:le,lane:$,tag:P.tag,payload:P.payload,callback:P.callback,next:null},X===null?(z=X=le,M=Y):X=X.next=le,w|=$;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;$=P,P=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);if(X===null&&(M=Y),g.baseState=M,g.firstBaseUpdate=z,g.lastBaseUpdate=X,o=g.shared.interleaved,o!==null){g=o;do w|=g.lane,g=g.next;while(g!==o)}else y===null&&(g.shared.lanes=0);xi|=w,i.lanes=w,i.memoizedState=Y}}function eg(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var ro={},Xn=Br(ro),io=Br(ro),so=Br(ro);function yi(i){if(i===ro)throw Error(t(174));return i}function Dc(i,o){switch(He(so,o),He(io,i),He(Xn,ro),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:tn(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=tn(o,i)}Qe(Xn),He(Xn,o)}function ts(){Qe(Xn),Qe(io),Qe(so)}function tg(i){yi(so.current);var o=yi(Xn.current),u=tn(o,i.type);o!==u&&(He(io,i),He(Xn,u))}function Nc(i){io.current===i&&(Qe(Xn),Qe(io))}var qe=Br(0);function Xl(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Tc=[];function Lc(){for(var i=0;i<Tc.length;i++)Tc[i]._workInProgressVersionPrimary=null;Tc.length=0}var Kl=_.ReactCurrentDispatcher,Ic=_.ReactCurrentBatchConfig,vi=0,Ye=null,ct=null,pt=null,ql=!1,oo=!1,lo=0,Qw=0;function Dt(){throw Error(t(321))}function jc(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Dn(i[u],o[u]))return!1;return!0}function Bc(i,o,u,f,g,y){if(vi=y,Ye=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Kl.current=i===null||i.memoizedState===null?Kw:qw,i=u(f,g),oo){y=0;do{if(oo=!1,lo=0,25<=y)throw Error(t(301));y+=1,pt=ct=null,o.updateQueue=null,Kl.current=Yw,i=u(f,g)}while(oo)}if(Kl.current=Jl,o=ct!==null&&ct.next!==null,vi=0,pt=ct=Ye=null,ql=!1,o)throw Error(t(300));return i}function zc(){var i=lo!==0;return lo=0,i}function Kn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ye.memoizedState=pt=i:pt=pt.next=i,pt}function mn(){if(ct===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=ct.next;var o=pt===null?Ye.memoizedState:pt.next;if(o!==null)pt=o,ct=i;else{if(i===null)throw Error(t(310));ct=i,i={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},pt===null?Ye.memoizedState=pt=i:pt=pt.next=i}return pt}function ao(i,o){return typeof o=="function"?o(i):o}function Fc(i){var o=mn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=ct,g=f.baseQueue,y=u.pending;if(y!==null){if(g!==null){var w=g.next;g.next=y.next,y.next=w}f.baseQueue=g=y,u.pending=null}if(g!==null){y=g.next,f=f.baseState;var P=w=null,M=null,z=y;do{var X=z.lane;if((vi&X)===X)M!==null&&(M=M.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),f=z.hasEagerState?z.eagerState:i(f,z.action);else{var Y={lane:X,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};M===null?(P=M=Y,w=f):M=M.next=Y,Ye.lanes|=X,xi|=X}z=z.next}while(z!==null&&z!==y);M===null?w=f:M.next=P,Dn(f,o.memoizedState)||(qt=!0),o.memoizedState=f,o.baseState=w,o.baseQueue=M,u.lastRenderedState=f}if(i=u.interleaved,i!==null){g=i;do y=g.lane,Ye.lanes|=y,xi|=y,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function _c(i){var o=mn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,g=u.pending,y=o.memoizedState;if(g!==null){u.pending=null;var w=g=g.next;do y=i(y,w.action),w=w.next;while(w!==g);Dn(y,o.memoizedState)||(qt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,f]}function ng(){}function rg(i,o){var u=Ye,f=mn(),g=o(),y=!Dn(f.memoizedState,g);if(y&&(f.memoizedState=g,qt=!0),f=f.queue,Vc(og.bind(null,u,f,i),[i]),f.getSnapshot!==o||y||pt!==null&&pt.memoizedState.tag&1){if(u.flags|=2048,uo(9,sg.bind(null,u,f,g,o),void 0,null),gt===null)throw Error(t(349));(vi&30)!==0||ig(u,o,g)}return g}function ig(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Ye.updateQueue,o===null?(o={lastEffect:null,stores:null},Ye.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function sg(i,o,u,f){o.value=u,o.getSnapshot=f,lg(o)&&ag(i)}function og(i,o,u){return u(function(){lg(o)&&ag(i)})}function lg(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Dn(i,u)}catch{return!0}}function ag(i){var o=fr(i,1);o!==null&&jn(o,i,1,-1)}function ug(i){var o=Kn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:i},o.queue=i,i=i.dispatch=Xw.bind(null,Ye,i),[o.memoizedState,i]}function uo(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=Ye.updateQueue,o===null?(o={lastEffect:null,stores:null},Ye.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function cg(){return mn().memoizedState}function Yl(i,o,u,f){var g=Kn();Ye.flags|=i,g.memoizedState=uo(1|o,u,void 0,f===void 0?null:f)}function Gl(i,o,u,f){var g=mn();f=f===void 0?null:f;var y=void 0;if(ct!==null){var w=ct.memoizedState;if(y=w.destroy,f!==null&&jc(f,w.deps)){g.memoizedState=uo(o,u,y,f);return}}Ye.flags|=i,g.memoizedState=uo(1|o,u,y,f)}function hg(i,o){return Yl(8390656,8,i,o)}function Vc(i,o){return Gl(2048,8,i,o)}function fg(i,o){return Gl(4,2,i,o)}function dg(i,o){return Gl(4,4,i,o)}function pg(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function gg(i,o,u){return u=u!=null?u.concat([i]):null,Gl(4,4,pg.bind(null,o,i),u)}function Hc(){}function mg(i,o){var u=mn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&jc(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function yg(i,o){var u=mn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&jc(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function vg(i,o,u){return(vi&21)===0?(i.baseState&&(i.baseState=!1,qt=!0),i.memoizedState=u):(Dn(u,o)||(u=Kd(),Ye.lanes|=u,xi|=u,i.baseState=!0),o)}function $w(i,o){var u=Fe;Fe=u!==0&&4>u?u:4,i(!0);var f=Ic.transition;Ic.transition={};try{i(!1),o()}finally{Fe=u,Ic.transition=f}}function xg(){return mn().memoizedState}function Uw(i,o,u){var f=$r(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},wg(i))kg(o,u);else if(u=Gp(i,o,u,f),u!==null){var g=_t();jn(u,i,f,g),Sg(u,o,f)}}function Xw(i,o,u){var f=$r(i),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(wg(i))kg(o,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var w=o.lastRenderedState,P=y(w,u);if(g.hasEagerState=!0,g.eagerState=P,Dn(P,w)){var M=o.interleaved;M===null?(g.next=g,Mc(o)):(g.next=M.next,M.next=g),o.interleaved=g;return}}catch{}finally{}u=Gp(i,o,g,f),u!==null&&(g=_t(),jn(u,i,f,g),Sg(u,o,f))}}function wg(i){var o=i.alternate;return i===Ye||o!==null&&o===Ye}function kg(i,o){oo=ql=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Sg(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Qu(i,u)}}var Jl={readContext:gn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Kw={readContext:gn,useCallback:function(i,o){return Kn().memoizedState=[i,o===void 0?null:o],i},useContext:gn,useEffect:hg,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Yl(4194308,4,pg.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Yl(4194308,4,i,o)},useInsertionEffect:function(i,o){return Yl(4,2,i,o)},useMemo:function(i,o){var u=Kn();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Kn();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=Uw.bind(null,Ye,i),[f.memoizedState,i]},useRef:function(i){var o=Kn();return i={current:i},o.memoizedState=i},useState:ug,useDebugValue:Hc,useDeferredValue:function(i){return Kn().memoizedState=i},useTransition:function(){var i=ug(!1),o=i[0];return i=$w.bind(null,i[1]),Kn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=Ye,g=Kn();if(Ue){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),gt===null)throw Error(t(349));(vi&30)!==0||ig(f,o,u)}g.memoizedState=u;var y={value:u,getSnapshot:o};return g.queue=y,hg(og.bind(null,f,y,i),[i]),f.flags|=2048,uo(9,sg.bind(null,f,y,u,o),void 0,null),u},useId:function(){var i=Kn(),o=gt.identifierPrefix;if(Ue){var u=hr,f=cr;u=(f&~(1<<32-Rn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=lo++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Qw++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},qw={readContext:gn,useCallback:mg,useContext:gn,useEffect:Vc,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:Fc,useRef:cg,useState:function(){return Fc(ao)},useDebugValue:Hc,useDeferredValue:function(i){var o=mn();return vg(o,ct.memoizedState,i)},useTransition:function(){var i=Fc(ao)[0],o=mn().memoizedState;return[i,o]},useMutableSource:ng,useSyncExternalStore:rg,useId:xg,unstable_isNewReconciler:!1},Yw={readContext:gn,useCallback:mg,useContext:gn,useEffect:Vc,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:_c,useRef:cg,useState:function(){return _c(ao)},useDebugValue:Hc,useDeferredValue:function(i){var o=mn();return ct===null?o.memoizedState=i:vg(o,ct.memoizedState,i)},useTransition:function(){var i=_c(ao)[0],o=mn().memoizedState;return[i,o]},useMutableSource:ng,useSyncExternalStore:rg,useId:xg,unstable_isNewReconciler:!1};function Tn(i,o){if(i&&i.defaultProps){o=J({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Wc(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:J({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Zl={isMounted:function(i){return(i=i._reactInternals)?hi(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=_t(),g=$r(i),y=dr(f,g);y.payload=o,u!=null&&(y.callback=u),o=Vr(i,y,g),o!==null&&(jn(o,i,g,f),$l(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=_t(),g=$r(i),y=dr(f,g);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Vr(i,y,g),o!==null&&(jn(o,i,g,f),$l(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=_t(),f=$r(i),g=dr(u,f);g.tag=2,o!=null&&(g.callback=o),o=Vr(i,g,f),o!==null&&(jn(o,i,f,u),$l(o,i,f))}};function bg(i,o,u,f,g,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,w):o.prototype&&o.prototype.isPureReactComponent?!qs(u,f)||!qs(g,y):!0}function Og(i,o,u){var f=!1,g=zr,y=o.contextType;return typeof y=="object"&&y!==null?y=gn(y):(g=Kt(o)?di:Rt.current,f=o.contextTypes,y=(f=f!=null)?Ki(i,g):zr),o=new o(u,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Zl,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=y),o}function Cg(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Zl.enqueueReplaceState(o,o.state,null)}function Qc(i,o,u,f){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},Rc(i);var y=o.contextType;typeof y=="object"&&y!==null?g.context=gn(y):(y=Kt(o)?di:Rt.current,g.context=Ki(i,y)),g.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Wc(i,o,y,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Zl.enqueueReplaceState(g,g.state,null),Ul(i,u,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function ns(i,o){try{var u="",f=o;do u+=ve(f),f=f.return;while(f);var g=u}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:g,digest:null}}function $c(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Uc(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Gw=typeof WeakMap=="function"?WeakMap:Map;function Pg(i,o,u){u=dr(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){oa||(oa=!0,lh=f),Uc(i,o)},u}function Eg(i,o,u){u=dr(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;u.payload=function(){return f(g)},u.callback=function(){Uc(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Uc(i,o),typeof f!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),u}function Ag(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new Gw;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(g.add(u),i=hk.bind(null,i,o,u),o.then(i,i))}function Mg(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Rg(i,o,u,f,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=dr(-1,1),o.tag=2,Vr(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var Jw=_.ReactCurrentOwner,qt=!1;function Ft(i,o,u,f){o.child=i===null?Yp(o,null,u,f):Ji(o,i.child,u,f)}function Dg(i,o,u,f,g){u=u.render;var y=o.ref;return es(o,g),f=Bc(i,o,u,f,y,g),u=zc(),i!==null&&!qt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,pr(i,o,g)):(Ue&&u&&wc(o),o.flags|=1,Ft(i,o,f,g),o.child)}function Ng(i,o,u,f,g){if(i===null){var y=u.type;return typeof y=="function"&&!ph(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,Tg(i,o,y,f,g)):(i=fa(u.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&g)===0){var w=y.memoizedProps;if(u=u.compare,u=u!==null?u:qs,u(w,f)&&i.ref===o.ref)return pr(i,o,g)}return o.flags|=1,i=Xr(y,f),i.ref=o.ref,i.return=o,o.child=i}function Tg(i,o,u,f,g){if(i!==null){var y=i.memoizedProps;if(qs(y,f)&&i.ref===o.ref)if(qt=!1,o.pendingProps=f=y,(i.lanes&g)!==0)(i.flags&131072)!==0&&(qt=!0);else return o.lanes=i.lanes,pr(i,o,g)}return Xc(i,o,u,f,g)}function Lg(i,o,u){var f=o.pendingProps,g=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(is,ln),ln|=u;else{if((u&1073741824)===0)return i=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,He(is,ln),ln|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:u,He(is,ln),ln|=f}else y!==null?(f=y.baseLanes|u,o.memoizedState=null):f=u,He(is,ln),ln|=f;return Ft(i,o,g,u),o.child}function Ig(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Xc(i,o,u,f,g){var y=Kt(u)?di:Rt.current;return y=Ki(o,y),es(o,g),u=Bc(i,o,u,f,y,g),f=zc(),i!==null&&!qt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,pr(i,o,g)):(Ue&&f&&wc(o),o.flags|=1,Ft(i,o,u,g),o.child)}function jg(i,o,u,f,g){if(Kt(u)){var y=!0;Bl(o)}else y=!1;if(es(o,g),o.stateNode===null)ta(i,o),Og(o,u,f),Qc(o,u,f,g),f=!0;else if(i===null){var w=o.stateNode,P=o.memoizedProps;w.props=P;var M=w.context,z=u.contextType;typeof z=="object"&&z!==null?z=gn(z):(z=Kt(u)?di:Rt.current,z=Ki(o,z));var X=u.getDerivedStateFromProps,Y=typeof X=="function"||typeof w.getSnapshotBeforeUpdate=="function";Y||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==f||M!==z)&&Cg(o,w,f,z),_r=!1;var $=o.memoizedState;w.state=$,Ul(o,f,w,g),M=o.memoizedState,P!==f||$!==M||Xt.current||_r?(typeof X=="function"&&(Wc(o,u,X,f),M=o.memoizedState),(P=_r||bg(o,u,P,f,$,M,z))?(Y||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=M),w.props=f,w.state=M,w.context=z,f=P):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{w=o.stateNode,Jp(i,o),P=o.memoizedProps,z=o.type===o.elementType?P:Tn(o.type,P),w.props=z,Y=o.pendingProps,$=w.context,M=u.contextType,typeof M=="object"&&M!==null?M=gn(M):(M=Kt(u)?di:Rt.current,M=Ki(o,M));var le=u.getDerivedStateFromProps;(X=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==Y||$!==M)&&Cg(o,w,f,M),_r=!1,$=o.memoizedState,w.state=$,Ul(o,f,w,g);var ge=o.memoizedState;P!==Y||$!==ge||Xt.current||_r?(typeof le=="function"&&(Wc(o,u,le,f),ge=o.memoizedState),(z=_r||bg(o,u,z,f,$,ge,M)||!1)?(X||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,ge,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,ge,M)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===i.memoizedProps&&$===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&$===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ge),w.props=f,w.state=ge,w.context=M,f=z):(typeof w.componentDidUpdate!="function"||P===i.memoizedProps&&$===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&$===i.memoizedState||(o.flags|=1024),f=!1)}return Kc(i,o,u,f,y,g)}function Kc(i,o,u,f,g,y){Ig(i,o);var w=(o.flags&128)!==0;if(!f&&!w)return g&&Vp(o,u,!1),pr(i,o,y);f=o.stateNode,Jw.current=o;var P=w&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&w?(o.child=Ji(o,i.child,null,y),o.child=Ji(o,null,P,y)):Ft(i,o,P,y),o.memoizedState=f.state,g&&Vp(o,u,!0),o.child}function Bg(i){var o=i.stateNode;o.pendingContext?Fp(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Fp(i,o.context,!1),Dc(i,o.containerInfo)}function zg(i,o,u,f,g){return Gi(),Oc(g),o.flags|=256,Ft(i,o,u,f),o.child}var qc={dehydrated:null,treeContext:null,retryLane:0};function Yc(i){return{baseLanes:i,cachePool:null,transitions:null}}function Fg(i,o,u){var f=o.pendingProps,g=qe.current,y=!1,w=(o.flags&128)!==0,P;if((P=w)||(P=i!==null&&i.memoizedState===null?!1:(g&2)!==0),P?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),He(qe,g&1),i===null)return bc(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(w=f.children,i=f.fallback,y?(f=o.mode,y=o.child,w={mode:"hidden",children:w},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=da(w,f,0,null),i=bi(i,f,u,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=Yc(u),o.memoizedState=qc,i):Gc(o,w));if(g=i.memoizedState,g!==null&&(P=g.dehydrated,P!==null))return Zw(i,o,w,f,P,g,u);if(y){y=f.fallback,w=o.mode,g=i.child,P=g.sibling;var M={mode:"hidden",children:f.children};return(w&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=M,o.deletions=null):(f=Xr(g,M),f.subtreeFlags=g.subtreeFlags&14680064),P!==null?y=Xr(P,y):(y=bi(y,w,u,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,w=i.child.memoizedState,w=w===null?Yc(u):{baseLanes:w.baseLanes|u,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=i.childLanes&~u,o.memoizedState=qc,f}return y=i.child,i=y.sibling,f=Xr(y,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Gc(i,o){return o=da({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function ea(i,o,u,f){return f!==null&&Oc(f),Ji(o,i.child,null,u),i=Gc(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Zw(i,o,u,f,g,y,w){if(u)return o.flags&256?(o.flags&=-257,f=$c(Error(t(422))),ea(i,o,w,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=f.fallback,g=o.mode,f=da({mode:"visible",children:f.children},g,0,null),y=bi(y,g,w,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,(o.mode&1)!==0&&Ji(o,i.child,null,w),o.child.memoizedState=Yc(w),o.memoizedState=qc,y);if((o.mode&1)===0)return ea(i,o,w,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var P=f.dgst;return f=P,y=Error(t(419)),f=$c(y,f,void 0),ea(i,o,w,f)}if(P=(w&i.childLanes)!==0,qt||P){if(f=gt,f!==null){switch(w&-w){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|w))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,fr(i,g),jn(f,i,g,-1))}return dh(),f=$c(Error(t(421))),ea(i,o,w,f)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=fk.bind(null,i),g._reactRetry=o,null):(i=y.treeContext,on=jr(g.nextSibling),sn=o,Ue=!0,Nn=null,i!==null&&(dn[pn++]=cr,dn[pn++]=hr,dn[pn++]=pi,cr=i.id,hr=i.overflow,pi=o),o=Gc(o,f.children),o.flags|=4096,o)}function _g(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Ac(i.return,o,u)}function Jc(i,o,u,f,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=g)}function Vg(i,o,u){var f=o.pendingProps,g=f.revealOrder,y=f.tail;if(Ft(i,o,f.children,u),f=qe.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_g(i,u,o);else if(i.tag===19)_g(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(He(qe,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&Xl(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Jc(o,!1,g,u,y);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Xl(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}Jc(o,!0,u,null,y);break;case"together":Jc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ta(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function pr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),xi|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=Xr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Xr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function ek(i,o,u){switch(o.tag){case 3:Bg(o),Gi();break;case 5:tg(o);break;case 1:Kt(o.type)&&Bl(o);break;case 4:Dc(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;He(Wl,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(He(qe,qe.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Fg(i,o,u):(He(qe,qe.current&1),i=pr(i,o,u),i!==null?i.sibling:null);He(qe,qe.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return Vg(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),He(qe,qe.current),f)break;return null;case 22:case 23:return o.lanes=0,Lg(i,o,u)}return pr(i,o,u)}var Hg,Zc,Wg,Qg;Hg=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Zc=function(){},Wg=function(i,o,u,f){var g=i.memoizedProps;if(g!==f){i=o.stateNode,yi(Xn.current);var y=null;switch(u){case"input":g=Je(i,g),f=Je(i,f),y=[];break;case"select":g=J({},g,{value:void 0}),f=J({},f,{value:void 0}),y=[];break;case"textarea":g=Ze(i,g),f=Ze(i,f),y=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Ll)}Bi(u,f);var w;u=null;for(z in g)if(!f.hasOwnProperty(z)&&g.hasOwnProperty(z)&&g[z]!=null)if(z==="style"){var P=g[z];for(w in P)P.hasOwnProperty(w)&&(u||(u={}),u[w]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(s.hasOwnProperty(z)?y||(y=[]):(y=y||[]).push(z,null));for(z in f){var M=f[z];if(P=g!=null?g[z]:void 0,f.hasOwnProperty(z)&&M!==P&&(M!=null||P!=null))if(z==="style")if(P){for(w in P)!P.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(u||(u={}),u[w]="");for(w in M)M.hasOwnProperty(w)&&P[w]!==M[w]&&(u||(u={}),u[w]=M[w])}else u||(y||(y=[]),y.push(z,u)),u=M;else z==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,P=P?P.__html:void 0,M!=null&&P!==M&&(y=y||[]).push(z,M)):z==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(z,""+M):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(s.hasOwnProperty(z)?(M!=null&&z==="onScroll"&&We("scroll",i),y||P===M||(y=[])):(y=y||[]).push(z,M))}u&&(y=y||[]).push("style",u);var z=y;(o.updateQueue=z)&&(o.flags|=4)}},Qg=function(i,o,u,f){u!==f&&(o.flags|=4)};function co(i,o){if(!Ue)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Nt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function tk(i,o,u){var f=o.pendingProps;switch(kc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(o),null;case 1:return Kt(o.type)&&jl(),Nt(o),null;case 3:return f=o.stateNode,ts(),Qe(Xt),Qe(Rt),Lc(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Vl(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Nn!==null&&(ch(Nn),Nn=null))),Zc(i,o),Nt(o),null;case 5:Nc(o);var g=yi(so.current);if(u=o.type,i!==null&&o.stateNode!=null)Wg(i,o,u,f,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Nt(o),null}if(i=yi(Xn.current),Vl(o)){f=o.stateNode,u=o.type;var y=o.memoizedProps;switch(f[Un]=o,f[eo]=y,i=(o.mode&1)!==0,u){case"dialog":We("cancel",f),We("close",f);break;case"iframe":case"object":case"embed":We("load",f);break;case"video":case"audio":for(g=0;g<Gs.length;g++)We(Gs[g],f);break;case"source":We("error",f);break;case"img":case"image":case"link":We("error",f),We("load",f);break;case"details":We("toggle",f);break;case"input":Ct(f,y),We("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},We("invalid",f);break;case"textarea":Or(f,y),We("invalid",f)}Bi(u,y),g=null;for(var w in y)if(y.hasOwnProperty(w)){var P=y[w];w==="children"?typeof P=="string"?f.textContent!==P&&(y.suppressHydrationWarning!==!0&&Tl(f.textContent,P,i),g=["children",P]):typeof P=="number"&&f.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&Tl(f.textContent,P,i),g=["children",""+P]):s.hasOwnProperty(w)&&P!=null&&w==="onScroll"&&We("scroll",f)}switch(u){case"input":Re(f),Me(f,y,!0);break;case"textarea":Re(f),Pr(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Ll)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{w=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ji(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=w.createElement(u,{is:f.is}):(i=w.createElement(u),u==="select"&&(w=i,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):i=w.createElementNS(i,u),i[Un]=o,i[eo]=f,Hg(i,o,!1,!1),o.stateNode=i;e:{switch(w=Ts(u,f),u){case"dialog":We("cancel",i),We("close",i),g=f;break;case"iframe":case"object":case"embed":We("load",i),g=f;break;case"video":case"audio":for(g=0;g<Gs.length;g++)We(Gs[g],i);g=f;break;case"source":We("error",i),g=f;break;case"img":case"image":case"link":We("error",i),We("load",i),g=f;break;case"details":We("toggle",i),g=f;break;case"input":Ct(i,f),g=Je(i,f),We("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=J({},f,{value:void 0}),We("invalid",i);break;case"textarea":Or(i,f),g=Ze(i,f),We("invalid",i);break;default:g=f}Bi(u,g),P=g;for(y in P)if(P.hasOwnProperty(y)){var M=P[y];y==="style"?pl(i,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Er(i,M)):y==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&Ar(i,M):typeof M=="number"&&Ar(i,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?M!=null&&y==="onScroll"&&We("scroll",i):M!=null&&N(i,y,M,w))}switch(u){case"input":Re(i),Me(i,f,!1);break;case"textarea":Re(i),Pr(i);break;case"option":f.value!=null&&i.setAttribute("value",""+be(f.value));break;case"select":i.multiple=!!f.multiple,y=f.value,y!=null?wt(i,!!f.multiple,y,!1):f.defaultValue!=null&&wt(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Ll)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Nt(o),null;case 6:if(i&&o.stateNode!=null)Qg(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=yi(so.current),yi(Xn.current),Vl(o)){if(f=o.stateNode,u=o.memoizedProps,f[Un]=o,(y=f.nodeValue!==u)&&(i=sn,i!==null))switch(i.tag){case 3:Tl(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Tl(f.nodeValue,u,(i.mode&1)!==0)}y&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Un]=o,o.stateNode=f}return Nt(o),null;case 13:if(Qe(qe),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ue&&on!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Xp(),Gi(),o.flags|=98560,y=!1;else if(y=Vl(o),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Un]=o}else Gi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Nt(o),y=!1}else Nn!==null&&(ch(Nn),Nn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(qe.current&1)!==0?ht===0&&(ht=3):dh())),o.updateQueue!==null&&(o.flags|=4),Nt(o),null);case 4:return ts(),Zc(i,o),i===null&&Js(o.stateNode.containerInfo),Nt(o),null;case 10:return Ec(o.type._context),Nt(o),null;case 17:return Kt(o.type)&&jl(),Nt(o),null;case 19:if(Qe(qe),y=o.memoizedState,y===null)return Nt(o),null;if(f=(o.flags&128)!==0,w=y.rendering,w===null)if(f)co(y,!1);else{if(ht!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=Xl(i),w!==null){for(o.flags|=128,co(y,!1),f=w.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)y=u,i=f,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,i=w.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return He(qe,qe.current&1|2),o.child}i=i.sibling}y.tail!==null&&rt()>ss&&(o.flags|=128,f=!0,co(y,!1),o.lanes=4194304)}else{if(!f)if(i=Xl(w),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),co(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Ue)return Nt(o),null}else 2*rt()-y.renderingStartTime>ss&&u!==1073741824&&(o.flags|=128,f=!0,co(y,!1),o.lanes=4194304);y.isBackwards?(w.sibling=o.child,o.child=w):(u=y.last,u!==null?u.sibling=w:o.child=w,y.last=w)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=rt(),o.sibling=null,u=qe.current,He(qe,f?u&1|2:u&1),o):(Nt(o),null);case 22:case 23:return fh(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(ln&1073741824)!==0&&(Nt(o),o.subtreeFlags&6&&(o.flags|=8192)):Nt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function nk(i,o){switch(kc(o),o.tag){case 1:return Kt(o.type)&&jl(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ts(),Qe(Xt),Qe(Rt),Lc(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Nc(o),null;case 13:if(Qe(qe),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Gi()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Qe(qe),null;case 4:return ts(),null;case 10:return Ec(o.type._context),null;case 22:case 23:return fh(),null;case 24:return null;default:return null}}var na=!1,Tt=!1,rk=typeof WeakSet=="function"?WeakSet:Set,de=null;function rs(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){et(i,o,f)}else u.current=null}function eh(i,o,u){try{u()}catch(f){et(i,o,f)}}var $g=!1;function ik(i,o){if(fc=Sl,i=bp(),ic(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var w=0,P=-1,M=-1,z=0,X=0,Y=i,$=null;t:for(;;){for(var le;Y!==u||g!==0&&Y.nodeType!==3||(P=w+g),Y!==y||f!==0&&Y.nodeType!==3||(M=w+f),Y.nodeType===3&&(w+=Y.nodeValue.length),(le=Y.firstChild)!==null;)$=Y,Y=le;for(;;){if(Y===i)break t;if($===u&&++z===g&&(P=w),$===y&&++X===f&&(M=w),(le=Y.nextSibling)!==null)break;Y=$,$=Y.parentNode}Y=le}u=P===-1||M===-1?null:{start:P,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(dc={focusedElem:i,selectionRange:u},Sl=!1,de=o;de!==null;)if(o=de,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,de=i;else for(;de!==null;){o=de;try{var ge=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var me=ge.memoizedProps,it=ge.memoizedState,L=o.stateNode,D=L.getSnapshotBeforeUpdate(o.elementType===o.type?me:Tn(o.type,me),it);L.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var j=o.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){et(o,o.return,ee)}if(i=o.sibling,i!==null){i.return=o.return,de=i;break}de=o.return}return ge=$g,$g=!1,ge}function ho(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var y=g.destroy;g.destroy=void 0,y!==void 0&&eh(o,u,y)}g=g.next}while(g!==f)}}function ra(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function th(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Ug(i){var o=i.alternate;o!==null&&(i.alternate=null,Ug(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Un],delete o[eo],delete o[yc],delete o[_w],delete o[Vw])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Xg(i){return i.tag===5||i.tag===3||i.tag===4}function Kg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Xg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function nh(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ll));else if(f!==4&&(i=i.child,i!==null))for(nh(i,o,u),i=i.sibling;i!==null;)nh(i,o,u),i=i.sibling}function rh(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(rh(i,o,u),i=i.sibling;i!==null;)rh(i,o,u),i=i.sibling}var kt=null,Ln=!1;function Hr(i,o,u){for(u=u.child;u!==null;)qg(i,o,u),u=u.sibling}function qg(i,o,u){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(ml,u)}catch{}switch(u.tag){case 5:Tt||rs(u,o);case 6:var f=kt,g=Ln;kt=null,Hr(i,o,u),kt=f,Ln=g,kt!==null&&(Ln?(i=kt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):kt.removeChild(u.stateNode));break;case 18:kt!==null&&(Ln?(i=kt,u=u.stateNode,i.nodeType===8?mc(i.parentNode,u):i.nodeType===1&&mc(i,u),Ws(i)):mc(kt,u.stateNode));break;case 4:f=kt,g=Ln,kt=u.stateNode.containerInfo,Ln=!0,Hr(i,o,u),kt=f,Ln=g;break;case 0:case 11:case 14:case 15:if(!Tt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var y=g,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&eh(u,o,w),g=g.next}while(g!==f)}Hr(i,o,u);break;case 1:if(!Tt&&(rs(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(P){et(u,o,P)}Hr(i,o,u);break;case 21:Hr(i,o,u);break;case 22:u.mode&1?(Tt=(f=Tt)||u.memoizedState!==null,Hr(i,o,u),Tt=f):Hr(i,o,u);break;default:Hr(i,o,u)}}function Yg(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new rk),o.forEach(function(f){var g=dk.bind(null,i,f);u.has(f)||(u.add(f),f.then(g,g))})}}function In(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var y=i,w=o,P=w;e:for(;P!==null;){switch(P.tag){case 5:kt=P.stateNode,Ln=!1;break e;case 3:kt=P.stateNode.containerInfo,Ln=!0;break e;case 4:kt=P.stateNode.containerInfo,Ln=!0;break e}P=P.return}if(kt===null)throw Error(t(160));qg(y,w,g),kt=null,Ln=!1;var M=g.alternate;M!==null&&(M.return=null),g.return=null}catch(z){et(g,o,z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Gg(o,i),o=o.sibling}function Gg(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(In(o,i),qn(i),f&4){try{ho(3,i,i.return),ra(3,i)}catch(me){et(i,i.return,me)}try{ho(5,i,i.return)}catch(me){et(i,i.return,me)}}break;case 1:In(o,i),qn(i),f&512&&u!==null&&rs(u,u.return);break;case 5:if(In(o,i),qn(i),f&512&&u!==null&&rs(u,u.return),i.flags&32){var g=i.stateNode;try{Ar(g,"")}catch(me){et(i,i.return,me)}}if(f&4&&(g=i.stateNode,g!=null)){var y=i.memoizedProps,w=u!==null?u.memoizedProps:y,P=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&On(g,y),Ts(P,w);var z=Ts(P,y);for(w=0;w<M.length;w+=2){var X=M[w],Y=M[w+1];X==="style"?pl(g,Y):X==="dangerouslySetInnerHTML"?Er(g,Y):X==="children"?Ar(g,Y):N(g,X,Y,z)}switch(P){case"input":Cn(g,y);break;case"textarea":Cr(g,y);break;case"select":var $=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var le=y.value;le!=null?wt(g,!!y.multiple,le,!1):$!==!!y.multiple&&(y.defaultValue!=null?wt(g,!!y.multiple,y.defaultValue,!0):wt(g,!!y.multiple,y.multiple?[]:"",!1))}g[eo]=y}catch(me){et(i,i.return,me)}}break;case 6:if(In(o,i),qn(i),f&4){if(i.stateNode===null)throw Error(t(162));g=i.stateNode,y=i.memoizedProps;try{g.nodeValue=y}catch(me){et(i,i.return,me)}}break;case 3:if(In(o,i),qn(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ws(o.containerInfo)}catch(me){et(i,i.return,me)}break;case 4:In(o,i),qn(i);break;case 13:In(o,i),qn(i),g=i.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(oh=rt())),f&4&&Yg(i);break;case 22:if(X=u!==null&&u.memoizedState!==null,i.mode&1?(Tt=(z=Tt)||X,In(o,i),Tt=z):In(o,i),qn(i),f&8192){if(z=i.memoizedState!==null,(i.stateNode.isHidden=z)&&!X&&(i.mode&1)!==0)for(de=i,X=i.child;X!==null;){for(Y=de=X;de!==null;){switch($=de,le=$.child,$.tag){case 0:case 11:case 14:case 15:ho(4,$,$.return);break;case 1:rs($,$.return);var ge=$.stateNode;if(typeof ge.componentWillUnmount=="function"){f=$,u=$.return;try{o=f,ge.props=o.memoizedProps,ge.state=o.memoizedState,ge.componentWillUnmount()}catch(me){et(f,u,me)}}break;case 5:rs($,$.return);break;case 22:if($.memoizedState!==null){em(Y);continue}}le!==null?(le.return=$,de=le):em(Y)}X=X.sibling}e:for(X=null,Y=i;;){if(Y.tag===5){if(X===null){X=Y;try{g=Y.stateNode,z?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=Y.stateNode,M=Y.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,P.style.display=dl("display",w))}catch(me){et(i,i.return,me)}}}else if(Y.tag===6){if(X===null)try{Y.stateNode.nodeValue=z?"":Y.memoizedProps}catch(me){et(i,i.return,me)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===i)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===i)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===i)break e;X===Y&&(X=null),Y=Y.return}X===Y&&(X=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:In(o,i),qn(i),f&4&&Yg(i);break;case 21:break;default:In(o,i),qn(i)}}function qn(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Xg(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Ar(g,""),f.flags&=-33);var y=Kg(i);rh(i,y,g);break;case 3:case 4:var w=f.stateNode.containerInfo,P=Kg(i);nh(i,P,w);break;default:throw Error(t(161))}}catch(M){et(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function sk(i,o,u){de=i,Jg(i)}function Jg(i,o,u){for(var f=(i.mode&1)!==0;de!==null;){var g=de,y=g.child;if(g.tag===22&&f){var w=g.memoizedState!==null||na;if(!w){var P=g.alternate,M=P!==null&&P.memoizedState!==null||Tt;P=na;var z=Tt;if(na=w,(Tt=M)&&!z)for(de=g;de!==null;)w=de,M=w.child,w.tag===22&&w.memoizedState!==null?tm(g):M!==null?(M.return=w,de=M):tm(g);for(;y!==null;)de=y,Jg(y),y=y.sibling;de=g,na=P,Tt=z}Zg(i)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,de=y):Zg(i)}}function Zg(i){for(;de!==null;){var o=de;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Tt||ra(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Tt)if(u===null)f.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:Tn(o.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&eg(o,y,f);break;case 3:var w=o.updateQueue;if(w!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}eg(o,w,u)}break;case 5:var P=o.stateNode;if(u===null&&o.flags&4){u=P;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var z=o.alternate;if(z!==null){var X=z.memoizedState;if(X!==null){var Y=X.dehydrated;Y!==null&&Ws(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Tt||o.flags&512&&th(o)}catch($){et(o,o.return,$)}}if(o===i){de=null;break}if(u=o.sibling,u!==null){u.return=o.return,de=u;break}de=o.return}}function em(i){for(;de!==null;){var o=de;if(o===i){de=null;break}var u=o.sibling;if(u!==null){u.return=o.return,de=u;break}de=o.return}}function tm(i){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{ra(4,o)}catch(M){et(o,u,M)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(M){et(o,g,M)}}var y=o.return;try{th(o)}catch(M){et(o,y,M)}break;case 5:var w=o.return;try{th(o)}catch(M){et(o,w,M)}}}catch(M){et(o,o.return,M)}if(o===i){de=null;break}var P=o.sibling;if(P!==null){P.return=o.return,de=P;break}de=o.return}}var ok=Math.ceil,ia=_.ReactCurrentDispatcher,ih=_.ReactCurrentOwner,yn=_.ReactCurrentBatchConfig,Ne=0,gt=null,lt=null,St=0,ln=0,is=Br(0),ht=0,fo=null,xi=0,sa=0,sh=0,po=null,Yt=null,oh=0,ss=1/0,gr=null,oa=!1,lh=null,Wr=null,la=!1,Qr=null,aa=0,go=0,ah=null,ua=-1,ca=0;function _t(){return(Ne&6)!==0?rt():ua!==-1?ua:ua=rt()}function $r(i){return(i.mode&1)===0?1:(Ne&2)!==0&&St!==0?St&-St:Ww.transition!==null?(ca===0&&(ca=Kd()),ca):(i=Fe,i!==0||(i=window.event,i=i===void 0?16:rp(i.type)),i)}function jn(i,o,u,f){if(50<go)throw go=0,ah=null,Error(t(185));zs(i,u,f),((Ne&2)===0||i!==gt)&&(i===gt&&((Ne&2)===0&&(sa|=u),ht===4&&Ur(i,St)),Gt(i,f),u===1&&Ne===0&&(o.mode&1)===0&&(ss=rt()+500,zl&&Fr()))}function Gt(i,o){var u=i.callbackNode;W1(i,o);var f=xl(i,i===gt?St:0);if(f===0)u!==null&&$d(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&$d(u),o===1)i.tag===0?Hw(rm.bind(null,i)):Hp(rm.bind(null,i)),zw(function(){(Ne&6)===0&&Fr()}),u=null;else{switch(qd(f)){case 1:u=Vu;break;case 4:u=Ud;break;case 16:u=gl;break;case 536870912:u=Xd;break;default:u=gl}u=hm(u,nm.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function nm(i,o){if(ua=-1,ca=0,(Ne&6)!==0)throw Error(t(327));var u=i.callbackNode;if(os()&&i.callbackNode!==u)return null;var f=xl(i,i===gt?St:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=ha(i,f);else{o=f;var g=Ne;Ne|=2;var y=sm();(gt!==i||St!==o)&&(gr=null,ss=rt()+500,ki(i,o));do try{uk();break}catch(P){im(i,P)}while(!0);Pc(),ia.current=y,Ne=g,lt!==null?o=0:(gt=null,St=0,o=ht)}if(o!==0){if(o===2&&(g=Hu(i),g!==0&&(f=g,o=uh(i,g))),o===1)throw u=fo,ki(i,0),Ur(i,f),Gt(i,rt()),u;if(o===6)Ur(i,f);else{if(g=i.current.alternate,(f&30)===0&&!lk(g)&&(o=ha(i,f),o===2&&(y=Hu(i),y!==0&&(f=y,o=uh(i,y))),o===1))throw u=fo,ki(i,0),Ur(i,f),Gt(i,rt()),u;switch(i.finishedWork=g,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Si(i,Yt,gr);break;case 3:if(Ur(i,f),(f&130023424)===f&&(o=oh+500-rt(),10<o)){if(xl(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){_t(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=gc(Si.bind(null,i,Yt,gr),o);break}Si(i,Yt,gr);break;case 4:if(Ur(i,f),(f&4194240)===f)break;for(o=i.eventTimes,g=-1;0<f;){var w=31-Rn(f);y=1<<w,w=o[w],w>g&&(g=w),f&=~y}if(f=g,f=rt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*ok(f/1960))-f,10<f){i.timeoutHandle=gc(Si.bind(null,i,Yt,gr),f);break}Si(i,Yt,gr);break;case 5:Si(i,Yt,gr);break;default:throw Error(t(329))}}}return Gt(i,rt()),i.callbackNode===u?nm.bind(null,i):null}function uh(i,o){var u=po;return i.current.memoizedState.isDehydrated&&(ki(i,o).flags|=256),i=ha(i,o),i!==2&&(o=Yt,Yt=u,o!==null&&ch(o)),i}function ch(i){Yt===null?Yt=i:Yt.push.apply(Yt,i)}function lk(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],y=g.getSnapshot;g=g.value;try{if(!Dn(y(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ur(i,o){for(o&=~sh,o&=~sa,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Rn(o),f=1<<u;i[u]=-1,o&=~f}}function rm(i){if((Ne&6)!==0)throw Error(t(327));os();var o=xl(i,0);if((o&1)===0)return Gt(i,rt()),null;var u=ha(i,o);if(i.tag!==0&&u===2){var f=Hu(i);f!==0&&(o=f,u=uh(i,f))}if(u===1)throw u=fo,ki(i,0),Ur(i,o),Gt(i,rt()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Si(i,Yt,gr),Gt(i,rt()),null}function hh(i,o){var u=Ne;Ne|=1;try{return i(o)}finally{Ne=u,Ne===0&&(ss=rt()+500,zl&&Fr())}}function wi(i){Qr!==null&&Qr.tag===0&&(Ne&6)===0&&os();var o=Ne;Ne|=1;var u=yn.transition,f=Fe;try{if(yn.transition=null,Fe=1,i)return i()}finally{Fe=f,yn.transition=u,Ne=o,(Ne&6)===0&&Fr()}}function fh(){ln=is.current,Qe(is)}function ki(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Bw(u)),lt!==null)for(u=lt.return;u!==null;){var f=u;switch(kc(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&jl();break;case 3:ts(),Qe(Xt),Qe(Rt),Lc();break;case 5:Nc(f);break;case 4:ts();break;case 13:Qe(qe);break;case 19:Qe(qe);break;case 10:Ec(f.type._context);break;case 22:case 23:fh()}u=u.return}if(gt=i,lt=i=Xr(i.current,null),St=ln=o,ht=0,fo=null,sh=sa=xi=0,Yt=po=null,mi!==null){for(o=0;o<mi.length;o++)if(u=mi[o],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,y=u.pending;if(y!==null){var w=y.next;y.next=g,f.next=w}u.pending=f}mi=null}return i}function im(i,o){do{var u=lt;try{if(Pc(),Kl.current=Jl,ql){for(var f=Ye.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}ql=!1}if(vi=0,pt=ct=Ye=null,oo=!1,lo=0,ih.current=null,u===null||u.return===null){ht=1,fo=o,lt=null;break}e:{var y=i,w=u.return,P=u,M=o;if(o=St,P.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var z=M,X=P,Y=X.tag;if((X.mode&1)===0&&(Y===0||Y===11||Y===15)){var $=X.alternate;$?(X.updateQueue=$.updateQueue,X.memoizedState=$.memoizedState,X.lanes=$.lanes):(X.updateQueue=null,X.memoizedState=null)}var le=Mg(w);if(le!==null){le.flags&=-257,Rg(le,w,P,y,o),le.mode&1&&Ag(y,z,o),o=le,M=z;var ge=o.updateQueue;if(ge===null){var me=new Set;me.add(M),o.updateQueue=me}else ge.add(M);break e}else{if((o&1)===0){Ag(y,z,o),dh();break e}M=Error(t(426))}}else if(Ue&&P.mode&1){var it=Mg(w);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),Rg(it,w,P,y,o),Oc(ns(M,P));break e}}y=M=ns(M,P),ht!==4&&(ht=2),po===null?po=[y]:po.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var L=Pg(y,M,o);Zp(y,L);break e;case 1:P=M;var D=y.type,j=y.stateNode;if((y.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Wr===null||!Wr.has(j)))){y.flags|=65536,o&=-o,y.lanes|=o;var ee=Eg(y,P,o);Zp(y,ee);break e}}y=y.return}while(y!==null)}lm(u)}catch(ye){o=ye,lt===u&&u!==null&&(lt=u=u.return);continue}break}while(!0)}function sm(){var i=ia.current;return ia.current=Jl,i===null?Jl:i}function dh(){(ht===0||ht===3||ht===2)&&(ht=4),gt===null||(xi&268435455)===0&&(sa&268435455)===0||Ur(gt,St)}function ha(i,o){var u=Ne;Ne|=2;var f=sm();(gt!==i||St!==o)&&(gr=null,ki(i,o));do try{ak();break}catch(g){im(i,g)}while(!0);if(Pc(),Ne=u,ia.current=f,lt!==null)throw Error(t(261));return gt=null,St=0,ht}function ak(){for(;lt!==null;)om(lt)}function uk(){for(;lt!==null&&!L1();)om(lt)}function om(i){var o=cm(i.alternate,i,ln);i.memoizedProps=i.pendingProps,o===null?lm(i):lt=o,ih.current=null}function lm(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=tk(u,o,ln),u!==null){lt=u;return}}else{if(u=nk(u,o),u!==null){u.flags&=32767,lt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{ht=6,lt=null;return}}if(o=o.sibling,o!==null){lt=o;return}lt=o=i}while(o!==null);ht===0&&(ht=5)}function Si(i,o,u){var f=Fe,g=yn.transition;try{yn.transition=null,Fe=1,ck(i,o,u,f)}finally{yn.transition=g,Fe=f}return null}function ck(i,o,u,f){do os();while(Qr!==null);if((Ne&6)!==0)throw Error(t(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=u.lanes|u.childLanes;if(Q1(i,y),i===gt&&(lt=gt=null,St=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||la||(la=!0,hm(gl,function(){return os(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=yn.transition,yn.transition=null;var w=Fe;Fe=1;var P=Ne;Ne|=4,ih.current=null,ik(i,u),Gg(u,i),Rw(dc),Sl=!!fc,dc=fc=null,i.current=u,sk(u),I1(),Ne=P,Fe=w,yn.transition=y}else i.current=u;if(la&&(la=!1,Qr=i,aa=g),y=i.pendingLanes,y===0&&(Wr=null),z1(u.stateNode),Gt(i,rt()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(oa)throw oa=!1,i=lh,lh=null,i;return(aa&1)!==0&&i.tag!==0&&os(),y=i.pendingLanes,(y&1)!==0?i===ah?go++:(go=0,ah=i):go=0,Fr(),null}function os(){if(Qr!==null){var i=qd(aa),o=yn.transition,u=Fe;try{if(yn.transition=null,Fe=16>i?16:i,Qr===null)var f=!1;else{if(i=Qr,Qr=null,aa=0,(Ne&6)!==0)throw Error(t(331));var g=Ne;for(Ne|=4,de=i.current;de!==null;){var y=de,w=y.child;if((de.flags&16)!==0){var P=y.deletions;if(P!==null){for(var M=0;M<P.length;M++){var z=P[M];for(de=z;de!==null;){var X=de;switch(X.tag){case 0:case 11:case 15:ho(8,X,y)}var Y=X.child;if(Y!==null)Y.return=X,de=Y;else for(;de!==null;){X=de;var $=X.sibling,le=X.return;if(Ug(X),X===z){de=null;break}if($!==null){$.return=le,de=$;break}de=le}}}var ge=y.alternate;if(ge!==null){var me=ge.child;if(me!==null){ge.child=null;do{var it=me.sibling;me.sibling=null,me=it}while(me!==null)}}de=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,de=w;else e:for(;de!==null;){if(y=de,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ho(9,y,y.return)}var L=y.sibling;if(L!==null){L.return=y.return,de=L;break e}de=y.return}}var D=i.current;for(de=D;de!==null;){w=de;var j=w.child;if((w.subtreeFlags&2064)!==0&&j!==null)j.return=w,de=j;else e:for(w=D;de!==null;){if(P=de,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:ra(9,P)}}catch(ye){et(P,P.return,ye)}if(P===w){de=null;break e}var ee=P.sibling;if(ee!==null){ee.return=P.return,de=ee;break e}de=P.return}}if(Ne=g,Fr(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(ml,i)}catch{}f=!0}return f}finally{Fe=u,yn.transition=o}}return!1}function am(i,o,u){o=ns(u,o),o=Pg(i,o,1),i=Vr(i,o,1),o=_t(),i!==null&&(zs(i,1,o),Gt(i,o))}function et(i,o,u){if(i.tag===3)am(i,i,u);else for(;o!==null;){if(o.tag===3){am(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Wr===null||!Wr.has(f))){i=ns(u,i),i=Eg(o,i,1),o=Vr(o,i,1),i=_t(),o!==null&&(zs(o,1,i),Gt(o,i));break}}o=o.return}}function hk(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=_t(),i.pingedLanes|=i.suspendedLanes&u,gt===i&&(St&u)===u&&(ht===4||ht===3&&(St&130023424)===St&&500>rt()-oh?ki(i,0):sh|=u),Gt(i,o)}function um(i,o){o===0&&((i.mode&1)===0?o=1:(o=vl,vl<<=1,(vl&130023424)===0&&(vl=4194304)));var u=_t();i=fr(i,o),i!==null&&(zs(i,o,u),Gt(i,u))}function fk(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),um(i,u)}function dk(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),um(i,u)}var cm;cm=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Xt.current)qt=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return qt=!1,ek(i,o,u);qt=(i.flags&131072)!==0}else qt=!1,Ue&&(o.flags&1048576)!==0&&Wp(o,_l,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;ta(i,o),i=o.pendingProps;var g=Ki(o,Rt.current);es(o,u),g=Bc(null,o,f,i,g,u);var y=zc();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Kt(f)?(y=!0,Bl(o)):y=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Rc(o),g.updater=Zl,o.stateNode=g,g._reactInternals=o,Qc(o,f,i,u),o=Kc(null,o,f,!0,y,u)):(o.tag=0,Ue&&y&&wc(o),Ft(null,o,g,u),o=o.child),o;case 16:f=o.elementType;e:{switch(ta(i,o),i=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=gk(f),i=Tn(f,i),g){case 0:o=Xc(null,o,f,i,u);break e;case 1:o=jg(null,o,f,i,u);break e;case 11:o=Dg(null,o,f,i,u);break e;case 14:o=Ng(null,o,f,Tn(f.type,i),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Tn(f,g),Xc(i,o,f,g,u);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Tn(f,g),jg(i,o,f,g,u);case 3:e:{if(Bg(o),i===null)throw Error(t(387));f=o.pendingProps,y=o.memoizedState,g=y.element,Jp(i,o),Ul(o,f,null,u);var w=o.memoizedState;if(f=w.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){g=ns(Error(t(423)),o),o=zg(i,o,f,u,g);break e}else if(f!==g){g=ns(Error(t(424)),o),o=zg(i,o,f,u,g);break e}else for(on=jr(o.stateNode.containerInfo.firstChild),sn=o,Ue=!0,Nn=null,u=Yp(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Gi(),f===g){o=pr(i,o,u);break e}Ft(i,o,f,u)}o=o.child}return o;case 5:return tg(o),i===null&&bc(o),f=o.type,g=o.pendingProps,y=i!==null?i.memoizedProps:null,w=g.children,pc(f,g)?w=null:y!==null&&pc(f,y)&&(o.flags|=32),Ig(i,o),Ft(i,o,w,u),o.child;case 6:return i===null&&bc(o),null;case 13:return Fg(i,o,u);case 4:return Dc(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Ji(o,null,f,u):Ft(i,o,f,u),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Tn(f,g),Dg(i,o,f,g,u);case 7:return Ft(i,o,o.pendingProps,u),o.child;case 8:return Ft(i,o,o.pendingProps.children,u),o.child;case 12:return Ft(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,y=o.memoizedProps,w=g.value,He(Wl,f._currentValue),f._currentValue=w,y!==null)if(Dn(y.value,w)){if(y.children===g.children&&!Xt.current){o=pr(i,o,u);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var P=y.dependencies;if(P!==null){w=y.child;for(var M=P.firstContext;M!==null;){if(M.context===f){if(y.tag===1){M=dr(-1,u&-u),M.tag=2;var z=y.updateQueue;if(z!==null){z=z.shared;var X=z.pending;X===null?M.next=M:(M.next=X.next,X.next=M),z.pending=M}}y.lanes|=u,M=y.alternate,M!==null&&(M.lanes|=u),Ac(y.return,u,o),P.lanes|=u;break}M=M.next}}else if(y.tag===10)w=y.type===o.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=u,P=w.alternate,P!==null&&(P.lanes|=u),Ac(w,u,o),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===o){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Ft(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,es(o,u),g=gn(g),f=f(g),o.flags|=1,Ft(i,o,f,u),o.child;case 14:return f=o.type,g=Tn(f,o.pendingProps),g=Tn(f.type,g),Ng(i,o,f,g,u);case 15:return Tg(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Tn(f,g),ta(i,o),o.tag=1,Kt(f)?(i=!0,Bl(o)):i=!1,es(o,u),Og(o,f,g),Qc(o,f,g,u),Kc(null,o,f,!0,i,u);case 19:return Vg(i,o,u);case 22:return Lg(i,o,u)}throw Error(t(156,o.tag))};function hm(i,o){return Qd(i,o)}function pk(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(i,o,u,f){return new pk(i,o,u,f)}function ph(i){return i=i.prototype,!(!i||!i.isReactComponent)}function gk(i){if(typeof i=="function")return ph(i)?1:0;if(i!=null){if(i=i.$$typeof,i===H)return 11;if(i===G)return 14}return 2}function Xr(i,o){var u=i.alternate;return u===null?(u=vn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function fa(i,o,u,f,g,y){var w=2;if(f=i,typeof i=="function")ph(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case B:return bi(u.children,g,y,o);case U:w=8,g|=8;break;case q:return i=vn(12,u,o,g|2),i.elementType=q,i.lanes=y,i;case re:return i=vn(13,u,o,g),i.elementType=re,i.lanes=y,i;case ue:return i=vn(19,u,o,g),i.elementType=ue,i.lanes=y,i;case pe:return da(u,g,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:w=10;break e;case W:w=9;break e;case H:w=11;break e;case G:w=14;break e;case ce:w=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=vn(w,u,o,g),o.elementType=i,o.type=f,o.lanes=y,o}function bi(i,o,u,f){return i=vn(7,i,f,o),i.lanes=u,i}function da(i,o,u,f){return i=vn(22,i,f,o),i.elementType=pe,i.lanes=u,i.stateNode={isHidden:!1},i}function gh(i,o,u){return i=vn(6,i,null,o),i.lanes=u,i}function mh(i,o,u){return o=vn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function mk(i,o,u,f,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wu(0),this.expirationTimes=Wu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wu(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function yh(i,o,u,f,g,y,w,P,M){return i=new mk(i,o,u,P,M),o===1?(o=1,y===!0&&(o|=8)):o=0,y=vn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(y),i}function yk(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function fm(i){if(!i)return zr;i=i._reactInternals;e:{if(hi(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Kt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(Kt(u))return _p(i,u,o)}return o}function dm(i,o,u,f,g,y,w,P,M){return i=yh(u,f,!0,i,g,y,w,P,M),i.context=fm(null),u=i.current,f=_t(),g=$r(u),y=dr(f,g),y.callback=o??null,Vr(u,y,g),i.current.lanes=g,zs(i,g,f),Gt(i,f),i}function pa(i,o,u,f){var g=o.current,y=_t(),w=$r(g);return u=fm(u),o.context===null?o.context=u:o.pendingContext=u,o=dr(y,w),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Vr(g,o,w),i!==null&&(jn(i,g,w,y),$l(i,g,w)),w}function ga(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function pm(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function vh(i,o){pm(i,o),(i=i.alternate)&&pm(i,o)}function vk(){return null}var gm=typeof reportError=="function"?reportError:function(i){console.error(i)};function xh(i){this._internalRoot=i}ma.prototype.render=xh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));pa(i,o,null,null)},ma.prototype.unmount=xh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;wi(function(){pa(null,i,null,null)}),o[ar]=null}};function ma(i){this._internalRoot=i}ma.prototype.unstable_scheduleHydration=function(i){if(i){var o=Jd();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Tr.length&&o!==0&&o<Tr[u].priority;u++);Tr.splice(u,0,i),u===0&&tp(i)}};function wh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ya(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function mm(){}function xk(i,o,u,f,g){if(g){if(typeof f=="function"){var y=f;f=function(){var z=ga(w);y.call(z)}}var w=dm(o,f,i,0,null,!1,!1,"",mm);return i._reactRootContainer=w,i[ar]=w.current,Js(i.nodeType===8?i.parentNode:i),wi(),w}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var P=f;f=function(){var z=ga(M);P.call(z)}}var M=yh(i,0,!1,null,null,!1,!1,"",mm);return i._reactRootContainer=M,i[ar]=M.current,Js(i.nodeType===8?i.parentNode:i),wi(function(){pa(o,M,u,f)}),M}function va(i,o,u,f,g){var y=u._reactRootContainer;if(y){var w=y;if(typeof g=="function"){var P=g;g=function(){var M=ga(w);P.call(M)}}pa(o,w,i,g)}else w=xk(u,o,i,g,f);return ga(w)}Yd=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Bs(o.pendingLanes);u!==0&&(Qu(o,u|1),Gt(o,rt()),(Ne&6)===0&&(ss=rt()+500,Fr()))}break;case 13:wi(function(){var f=fr(i,1);if(f!==null){var g=_t();jn(f,i,1,g)}}),vh(i,1)}},$u=function(i){if(i.tag===13){var o=fr(i,134217728);if(o!==null){var u=_t();jn(o,i,134217728,u)}vh(i,134217728)}},Gd=function(i){if(i.tag===13){var o=$r(i),u=fr(i,o);if(u!==null){var f=_t();jn(u,i,o,f)}vh(i,o)}},Jd=function(){return Fe},Zd=function(i,o){var u=Fe;try{return Fe=i,o()}finally{Fe=u}},Is=function(i,o,u){switch(o){case"input":if(Cn(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var g=Il(f);if(!g)throw Error(t(90));ze(f),Cn(f,g)}}}break;case"textarea":Cr(i,u);break;case"select":o=u.value,o!=null&&wt(i,!!u.multiple,o,!1)}},zt=hh,At=wi;var wk={usingClientEntryPoint:!1,Events:[to,Ui,Il,Et,En,hh]},mo={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kk={bundleType:mo.bundleType,version:mo.version,rendererPackageName:mo.rendererPackageName,rendererConfig:mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Hd(i),i===null?null:i.stateNode},findFiberByHostInstance:mo.findFiberByHostInstance||vk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{ml=xa.inject(kk),$n=xa}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wk,Jt.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wh(o))throw Error(t(200));return yk(i,o,null,u)},Jt.createRoot=function(i,o){if(!wh(i))throw Error(t(299));var u=!1,f="",g=gm;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=yh(i,1,!1,null,null,u,!1,f,g),i[ar]=o.current,Js(i.nodeType===8?i.parentNode:i),new xh(o)},Jt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Hd(o),i=i===null?null:i.stateNode,i},Jt.flushSync=function(i){return wi(i)},Jt.hydrate=function(i,o,u){if(!ya(o))throw Error(t(200));return va(null,i,o,!0,u)},Jt.hydrateRoot=function(i,o,u){if(!wh(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,g=!1,y="",w=gm;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),o=dm(o,null,i,1,u??null,g,!1,y,w),i[ar]=o.current,Js(i),f)for(i=0;i<f.length;i++)u=f[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new ma(o)},Jt.render=function(i,o,u){if(!ya(o))throw Error(t(200));return va(null,i,o,!1,u)},Jt.unmountComponentAtNode=function(i){if(!ya(i))throw Error(t(40));return i._reactRootContainer?(wi(function(){va(null,null,i,!1,function(){i._reactRootContainer=null,i[ar]=null})}),!0):!1},Jt.unstable_batchedUpdates=hh,Jt.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!ya(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return va(i,o,u,!1,f)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var Cm;function Ty(){if(Cm)return bh.exports;Cm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bh.exports=Rk(),bh.exports}var Pm;function Dk(){if(Pm)return wa;Pm=1;var n=Ty();return wa.createRoot=n.createRoot,wa.hydrateRoot=n.hydrateRoot,wa}var Nk=Dk();const Tk=Ny(Nk);var bo=Ty();function Lk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return O.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Pu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Es(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function ad(n){return"nodeType"in n}function en(n){var e,t;return n?Es(n)?n:ad(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function ud(n){const{Document:e}=en(n);return n instanceof e}function tl(n){return Es(n)?!1:n instanceof en(n).HTMLElement}function Ly(n){return n instanceof en(n).SVGElement}function As(n){return n?Es(n)?n.document:ad(n)?ud(n)?n:tl(n)||Ly(n)?n.ownerDocument:document:document:document}const rr=Pu?O.useLayoutEffect:O.useEffect;function cd(n){const e=O.useRef(n);return rr(()=>{e.current=n}),O.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function Ik(){const n=O.useRef(null),e=O.useCallback((r,s)=>{n.current=setInterval(r,s)},[]),t=O.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function _o(n,e){e===void 0&&(e=[n]);const t=O.useRef(n);return rr(()=>{t.current!==n&&(t.current=n)},e),t}function nl(n,e){const t=O.useRef();return O.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function iu(n){const e=cd(n),t=O.useRef(null),r=O.useCallback(s=>{s!==t.current&&(e==null||e(s,t.current)),t.current=s},[]);return[t,r]}function sf(n){const e=O.useRef();return O.useEffect(()=>{e.current=n},[n]),e.current}let Ph={};function rl(n,e){return O.useMemo(()=>{if(e)return e;const t=Ph[n]==null?0:Ph[n]+1;return Ph[n]=t,n+"-"+t},[n,e])}function Iy(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.reduce((l,a)=>{const c=Object.entries(a);for(const[h,d]of c){const p=l[h];p!=null&&(l[h]=p+n*d)}return l},{...e})}}const ds=Iy(1),su=Iy(-1);function jk(n){return"clientX"in n&&"clientY"in n}function hd(n){if(!n)return!1;const{KeyboardEvent:e}=en(n.target);return e&&n instanceof e}function Bk(n){if(!n)return!1;const{TouchEvent:e}=en(n.target);return e&&n instanceof e}function of(n){if(Bk(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return jk(n)?{x:n.clientX,y:n.clientY}:null}const Vo=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Vo.Translate.toString(n),Vo.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),Em="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function zk(n){return n.matches(Em)?n:n.querySelector(Em)}const Fk={display:"none"};function _k(n){let{id:e,value:t}=n;return ot.createElement("div",{id:e,style:Fk},t)}function Vk(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ot.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},t)}function Hk(){const[n,e]=O.useState("");return{announce:O.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const jy=O.createContext(null);function Wk(n){const e=O.useContext(jy);O.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function Qk(){const[n]=O.useState(()=>new Set),e=O.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[O.useCallback(r=>{let{type:s,event:l}=r;n.forEach(a=>{var c;return(c=a[s])==null?void 0:c.call(a,l)})},[n]),e]}const $k={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Uk={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Xk(n){let{announcements:e=Uk,container:t,hiddenTextDescribedById:r,screenReaderInstructions:s=$k}=n;const{announce:l,announcement:a}=Hk(),c=rl("DndLiveRegion"),[h,d]=O.useState(!1);if(O.useEffect(()=>{d(!0)},[]),Wk(O.useMemo(()=>({onDragStart(m){let{active:v}=m;l(e.onDragStart({active:v}))},onDragMove(m){let{active:v,over:x}=m;e.onDragMove&&l(e.onDragMove({active:v,over:x}))},onDragOver(m){let{active:v,over:x}=m;l(e.onDragOver({active:v,over:x}))},onDragEnd(m){let{active:v,over:x}=m;l(e.onDragEnd({active:v,over:x}))},onDragCancel(m){let{active:v,over:x}=m;l(e.onDragCancel({active:v,over:x}))}}),[l,e])),!h)return null;const p=ot.createElement(ot.Fragment,null,ot.createElement(_k,{id:r,value:s.draggable}),ot.createElement(Vk,{id:c,announcement:a}));return t?bo.createPortal(p,t):p}var ft;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(ft||(ft={}));function ou(){}function Am(n,e){return O.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Kk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return O.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const zn=Object.freeze({x:0,y:0});function qk(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Yk(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function Gk(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function Jk(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function Mm(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const Zk=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=Mm(e,e.left,e.top),l=[];for(const a of r){const{id:c}=a,h=t.get(c);if(h){const d=qk(Mm(h),s);l.push({id:c,data:{droppableContainer:a,value:d}})}}return l.sort(Yk)};function eS(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),s=Math.min(e.left+e.width,n.left+n.width),l=Math.min(e.top+e.height,n.top+n.height),a=s-r,c=l-t;if(r<s&&t<l){const h=e.width*e.height,d=n.width*n.height,p=a*c,m=p/(h+d-p);return Number(m.toFixed(4))}return 0}const tS=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=[];for(const l of r){const{id:a}=l,c=t.get(a);if(c){const h=eS(c,e);h>0&&s.push({id:a,data:{droppableContainer:l,value:h}})}}return s.sort(Gk)};function nS(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function By(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:zn}function rS(n){return function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return s.reduce((a,c)=>({...a,top:a.top+n*c.y,bottom:a.bottom+n*c.y,left:a.left+n*c.x,right:a.right+n*c.x}),{...t})}}const iS=rS(1);function sS(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function oS(n,e,t){const r=sS(e);if(!r)return n;const{scaleX:s,scaleY:l,x:a,y:c}=r,h=n.left-a-(1-s)*parseFloat(t),d=n.top-c-(1-l)*parseFloat(t.slice(t.indexOf(" ")+1)),p=s?n.width/s:n.width,m=l?n.height/l:n.height;return{width:p,height:m,top:d,right:h+p,bottom:d+m,left:h}}const lS={ignoreTransform:!1};function Ms(n,e){e===void 0&&(e=lS);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:p}=en(n).getComputedStyle(n);d&&(t=oS(t,d,p))}const{top:r,left:s,width:l,height:a,bottom:c,right:h}=t;return{top:r,left:s,width:l,height:a,bottom:c,right:h}}function Rm(n){return Ms(n,{ignoreTransform:!0})}function aS(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function uS(n,e){return e===void 0&&(e=en(n).getComputedStyle(n)),e.position==="fixed"}function cS(n,e){e===void 0&&(e=en(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const l=e[s];return typeof l=="string"?t.test(l):!1})}function fd(n,e){const t=[];function r(s){if(e!=null&&t.length>=e||!s)return t;if(ud(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!tl(s)||Ly(s)||t.includes(s))return t;const l=en(n).getComputedStyle(s);return s!==n&&cS(s,l)&&t.push(s),uS(s,l)?t:r(s.parentNode)}return n?r(n):t}function zy(n){const[e]=fd(n,1);return e??null}function Eh(n){return!Pu||!n?null:Es(n)?n:ad(n)?ud(n)||n===As(n).scrollingElement?window:tl(n)?n:null:null}function Fy(n){return Es(n)?n.scrollX:n.scrollLeft}function _y(n){return Es(n)?n.scrollY:n.scrollTop}function lf(n){return{x:Fy(n),y:_y(n)}}var yt;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(yt||(yt={}));function Vy(n){return!Pu||!n?!1:n===document.scrollingElement}function Hy(n){const e={x:0,y:0},t=Vy(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},s=n.scrollTop<=e.y,l=n.scrollLeft<=e.x,a=n.scrollTop>=r.y,c=n.scrollLeft>=r.x;return{isTop:s,isLeft:l,isBottom:a,isRight:c,maxScroll:r,minScroll:e}}const hS={x:.2,y:.2};function fS(n,e,t,r,s){let{top:l,left:a,right:c,bottom:h}=t;r===void 0&&(r=10),s===void 0&&(s=hS);const{isTop:d,isBottom:p,isLeft:m,isRight:v}=Hy(n),x={x:0,y:0},k={x:0,y:0},b={height:e.height*s.y,width:e.width*s.x};return!d&&l<=e.top+b.height?(x.y=yt.Backward,k.y=r*Math.abs((e.top+b.height-l)/b.height)):!p&&h>=e.bottom-b.height&&(x.y=yt.Forward,k.y=r*Math.abs((e.bottom-b.height-h)/b.height)),!v&&c>=e.right-b.width?(x.x=yt.Forward,k.x=r*Math.abs((e.right-b.width-c)/b.width)):!m&&a<=e.left+b.width&&(x.x=yt.Backward,k.x=r*Math.abs((e.left+b.width-a)/b.width)),{direction:x,speed:k}}function dS(n){if(n===document.scrollingElement){const{innerWidth:l,innerHeight:a}=window;return{top:0,left:0,right:l,bottom:a,width:l,height:a}}const{top:e,left:t,right:r,bottom:s}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:s,width:n.clientWidth,height:n.clientHeight}}function Wy(n){return n.reduce((e,t)=>ds(e,lf(t)),zn)}function pS(n){return n.reduce((e,t)=>e+Fy(t),0)}function gS(n){return n.reduce((e,t)=>e+_y(t),0)}function mS(n,e){if(e===void 0&&(e=Ms),!n)return;const{top:t,left:r,bottom:s,right:l}=e(n);zy(n)&&(s<=0||l<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const yS=[["x",["left","right"],pS],["y",["top","bottom"],gS]];class dd{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=fd(t),s=Wy(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,a,c]of yS)for(const h of a)Object.defineProperty(this,h,{get:()=>{const d=c(r),p=s[l]-d;return this.rect[h]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Mo{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var s;(s=this.target)==null||s.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function vS(n){const{EventTarget:e}=en(n);return n instanceof e?n:As(n)}function Ah(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var xn;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(xn||(xn={}));function Dm(n){n.preventDefault()}function xS(n){n.stopPropagation()}var Ie;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Ie||(Ie={}));const Qy={start:[Ie.Space,Ie.Enter],cancel:[Ie.Esc],end:[Ie.Space,Ie.Enter,Ie.Tab]},wS=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Ie.Right:return{...t,x:t.x+25};case Ie.Left:return{...t,x:t.x-25};case Ie.Down:return{...t,y:t.y+25};case Ie.Up:return{...t,y:t.y-25}}};class pd{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Mo(As(t)),this.windowListeners=new Mo(en(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(xn.Resize,this.handleCancel),this.windowListeners.add(xn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(xn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&mS(r),t(zn)}handleKeyDown(e){if(hd(e)){const{active:t,context:r,options:s}=this.props,{keyboardCodes:l=Qy,coordinateGetter:a=wS,scrollBehavior:c="smooth"}=s,{code:h}=e;if(l.end.includes(h)){this.handleEnd(e);return}if(l.cancel.includes(h)){this.handleCancel(e);return}const{collisionRect:d}=r.current,p=d?{x:d.left,y:d.top}:zn;this.referenceCoordinates||(this.referenceCoordinates=p);const m=a(e,{active:t,context:r.current,currentCoordinates:p});if(m){const v=su(m,p),x={x:0,y:0},{scrollableAncestors:k}=r.current;for(const b of k){const C=e.code,{isTop:E,isRight:R,isLeft:N,isBottom:_,maxScroll:T,minScroll:F}=Hy(b),B=dS(b),U={x:Math.min(C===Ie.Right?B.right-B.width/2:B.right,Math.max(C===Ie.Right?B.left:B.left+B.width/2,m.x)),y:Math.min(C===Ie.Down?B.bottom-B.height/2:B.bottom,Math.max(C===Ie.Down?B.top:B.top+B.height/2,m.y))},q=C===Ie.Right&&!R||C===Ie.Left&&!N,V=C===Ie.Down&&!_||C===Ie.Up&&!E;if(q&&U.x!==m.x){const W=b.scrollLeft+v.x,H=C===Ie.Right&&W<=T.x||C===Ie.Left&&W>=F.x;if(H&&!v.y){b.scrollTo({left:W,behavior:c});return}H?x.x=b.scrollLeft-W:x.x=C===Ie.Right?b.scrollLeft-T.x:b.scrollLeft-F.x,x.x&&b.scrollBy({left:-x.x,behavior:c});break}else if(V&&U.y!==m.y){const W=b.scrollTop+v.y,H=C===Ie.Down&&W<=T.y||C===Ie.Up&&W>=F.y;if(H&&!v.x){b.scrollTo({top:W,behavior:c});return}H?x.y=b.scrollTop-W:x.y=C===Ie.Down?b.scrollTop-T.y:b.scrollTop-F.y,x.y&&b.scrollBy({top:-x.y,behavior:c});break}}this.handleMove(e,ds(su(m,this.referenceCoordinates),x))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}pd.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=Qy,onActivation:s}=e,{active:l}=t;const{code:a}=n.nativeEvent;if(r.start.includes(a)){const c=l.activatorNode.current;return c&&n.target!==c?!1:(n.preventDefault(),s==null||s({event:n.nativeEvent}),!0)}return!1}}];function Nm(n){return!!(n&&"distance"in n)}function Tm(n){return!!(n&&"delay"in n)}class gd{constructor(e,t,r){var s;r===void 0&&(r=vS(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:l}=e,{target:a}=l;this.props=e,this.events=t,this.document=As(a),this.documentListeners=new Mo(this.document),this.listeners=new Mo(r),this.windowListeners=new Mo(en(a)),this.initialCoordinates=(s=of(l))!=null?s:zn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(xn.Resize,this.handleCancel),this.windowListeners.add(xn.DragStart,Dm),this.windowListeners.add(xn.VisibilityChange,this.handleCancel),this.windowListeners.add(xn.ContextMenu,Dm),this.documentListeners.add(xn.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Tm(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Nm(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(xn.Click,xS,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(xn.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:s,props:l}=this,{onMove:a,options:{activationConstraint:c}}=l;if(!s)return;const h=(t=of(e))!=null?t:zn,d=su(s,h);if(!r&&c){if(Nm(c)){if(c.tolerance!=null&&Ah(d,c.tolerance))return this.handleCancel();if(Ah(d,c.distance))return this.handleStart()}if(Tm(c)&&Ah(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),a(h)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Ie.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const kS={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class md extends gd{constructor(e){const{event:t}=e,r=As(t.target);super(e,kS,r)}}md.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const SS={move:{name:"mousemove"},end:{name:"mouseup"}};var af;(function(n){n[n.RightClick=2]="RightClick"})(af||(af={}));class bS extends gd{constructor(e){super(e,SS,As(e.event.target))}}bS.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===af.RightClick?!1:(r==null||r({event:t}),!0)}}];const Mh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class OS extends gd{constructor(e){super(e,Mh)}static setup(){return window.addEventListener(Mh.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Mh.move.name,e)};function e(){}}}OS.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:s}=t;return s.length>1?!1:(r==null||r({event:t}),!0)}}];var Ro;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Ro||(Ro={}));var lu;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(lu||(lu={}));function CS(n){let{acceleration:e,activator:t=Ro.Pointer,canScroll:r,draggingRect:s,enabled:l,interval:a=5,order:c=lu.TreeOrder,pointerCoordinates:h,scrollableAncestors:d,scrollableAncestorRects:p,delta:m,threshold:v}=n;const x=ES({delta:m,disabled:!l}),[k,b]=Ik(),C=O.useRef({x:0,y:0}),E=O.useRef({x:0,y:0}),R=O.useMemo(()=>{switch(t){case Ro.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Ro.DraggableRect:return s}},[t,s,h]),N=O.useRef(null),_=O.useCallback(()=>{const F=N.current;if(!F)return;const B=C.current.x*E.current.x,U=C.current.y*E.current.y;F.scrollBy(B,U)},[]),T=O.useMemo(()=>c===lu.TreeOrder?[...d].reverse():d,[c,d]);O.useEffect(()=>{if(!l||!d.length||!R){b();return}for(const F of T){if((r==null?void 0:r(F))===!1)continue;const B=d.indexOf(F),U=p[B];if(!U)continue;const{direction:q,speed:V}=fS(F,U,R,e,v);for(const W of["x","y"])x[W][q[W]]||(V[W]=0,q[W]=0);if(V.x>0||V.y>0){b(),N.current=F,k(_,a),C.current=V,E.current=q;return}}C.current={x:0,y:0},E.current={x:0,y:0},b()},[e,_,r,b,l,a,JSON.stringify(R),JSON.stringify(x),k,d,T,p,JSON.stringify(v)])}const PS={x:{[yt.Backward]:!1,[yt.Forward]:!1},y:{[yt.Backward]:!1,[yt.Forward]:!1}};function ES(n){let{delta:e,disabled:t}=n;const r=sf(e);return nl(s=>{if(t||!r||!s)return PS;const l={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[yt.Backward]:s.x[yt.Backward]||l.x===-1,[yt.Forward]:s.x[yt.Forward]||l.x===1},y:{[yt.Backward]:s.y[yt.Backward]||l.y===-1,[yt.Forward]:s.y[yt.Forward]||l.y===1}}},[t,e,r])}function AS(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return nl(s=>{var l;return e==null?null:(l=r??s)!=null?l:null},[r,e])}function MS(n,e){return O.useMemo(()=>n.reduce((t,r)=>{const{sensor:s}=r,l=s.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...t,...l]},[]),[n,e])}var Ho;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Ho||(Ho={}));var uf;(function(n){n.Optimized="optimized"})(uf||(uf={}));const Lm=new Map;function RS(n,e){let{dragging:t,dependencies:r,config:s}=e;const[l,a]=O.useState(null),{frequency:c,measure:h,strategy:d}=s,p=O.useRef(n),m=C(),v=_o(m),x=O.useCallback(function(E){E===void 0&&(E=[]),!v.current&&a(R=>R===null?E:R.concat(E.filter(N=>!R.includes(N))))},[v]),k=O.useRef(null),b=nl(E=>{if(m&&!t)return Lm;if(!E||E===Lm||p.current!==n||l!=null){const R=new Map;for(let N of n){if(!N)continue;if(l&&l.length>0&&!l.includes(N.id)&&N.rect.current){R.set(N.id,N.rect.current);continue}const _=N.node.current,T=_?new dd(h(_),_):null;N.rect.current=T,T&&R.set(N.id,T)}return R}return E},[n,l,t,m,h]);return O.useEffect(()=>{p.current=n},[n]),O.useEffect(()=>{m||x()},[t,m]),O.useEffect(()=>{l&&l.length>0&&a(null)},[JSON.stringify(l)]),O.useEffect(()=>{m||typeof c!="number"||k.current!==null||(k.current=setTimeout(()=>{x(),k.current=null},c))},[c,m,x,...r]),{droppableRects:b,measureDroppableContainers:x,measuringScheduled:l!=null};function C(){switch(d){case Ho.Always:return!1;case Ho.BeforeDragging:return t;default:return!t}}}function $y(n,e){return nl(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function DS(n,e){return $y(n,e)}function NS(n){let{callback:e,disabled:t}=n;const r=cd(e),s=O.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,t]);return O.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Eu(n){let{callback:e,disabled:t}=n;const r=cd(e),s=O.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[t]);return O.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function TS(n){return new dd(Ms(n),n)}function Im(n,e,t){e===void 0&&(e=TS);const[r,s]=O.useState(null);function l(){s(h=>{if(!n)return null;if(n.isConnected===!1){var d;return(d=h??t)!=null?d:null}const p=e(n);return JSON.stringify(h)===JSON.stringify(p)?h:p})}const a=NS({callback(h){if(n)for(const d of h){const{type:p,target:m}=d;if(p==="childList"&&m instanceof HTMLElement&&m.contains(n)){l();break}}}}),c=Eu({callback:l});return rr(()=>{l(),n?(c==null||c.observe(n),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(c==null||c.disconnect(),a==null||a.disconnect())},[n]),r}function LS(n){const e=$y(n);return By(n,e)}const jm=[];function IS(n){const e=O.useRef(n),t=nl(r=>n?r&&r!==jm&&n&&e.current&&n.parentNode===e.current.parentNode?r:fd(n):jm,[n]);return O.useEffect(()=>{e.current=n},[n]),t}function jS(n){const[e,t]=O.useState(null),r=O.useRef(n),s=O.useCallback(l=>{const a=Eh(l.target);a&&t(c=>c?(c.set(a,lf(a)),new Map(c)):null)},[]);return O.useEffect(()=>{const l=r.current;if(n!==l){a(l);const c=n.map(h=>{const d=Eh(h);return d?(d.addEventListener("scroll",s,{passive:!0}),[d,lf(d)]):null}).filter(h=>h!=null);t(c.length?new Map(c):null),r.current=n}return()=>{a(n),a(l)};function a(c){c.forEach(h=>{const d=Eh(h);d==null||d.removeEventListener("scroll",s)})}},[s,n]),O.useMemo(()=>n.length?e?Array.from(e.values()).reduce((l,a)=>ds(l,a),zn):Wy(n):zn,[n,e])}function Bm(n,e){e===void 0&&(e=[]);const t=O.useRef(null);return O.useEffect(()=>{t.current=null},e),O.useEffect(()=>{const r=n!==zn;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?su(n,t.current):zn}function BS(n){O.useEffect(()=>{if(!Pu)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function zS(n,e){return O.useMemo(()=>n.reduce((t,r)=>{let{eventName:s,handler:l}=r;return t[s]=a=>{l(a,e)},t},{}),[n,e])}function Uy(n){return O.useMemo(()=>n?aS(n):null,[n])}const zm=[];function FS(n,e){e===void 0&&(e=Ms);const[t]=n,r=Uy(t?en(t):null),[s,l]=O.useState(zm);function a(){l(()=>n.length?n.map(h=>Vy(h)?r:new dd(e(h),h)):zm)}const c=Eu({callback:a});return rr(()=>{c==null||c.disconnect(),a(),n.forEach(h=>c==null?void 0:c.observe(h))},[n]),s}function _S(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return tl(e)?e:n}function VS(n){let{measure:e}=n;const[t,r]=O.useState(null),s=O.useCallback(d=>{for(const{target:p}of d)if(tl(p)){r(m=>{const v=e(p);return m?{...m,width:v.width,height:v.height}:v});break}},[e]),l=Eu({callback:s}),a=O.useCallback(d=>{const p=_S(d);l==null||l.disconnect(),p&&(l==null||l.observe(p)),r(p?e(p):null)},[e,l]),[c,h]=iu(a);return O.useMemo(()=>({nodeRef:c,rect:t,setRef:h}),[t,c,h])}const HS=[{sensor:md,options:{}},{sensor:pd,options:{}}],WS={current:{}},$a={draggable:{measure:Rm},droppable:{measure:Rm,strategy:Ho.WhileDragging,frequency:uf.Optimized},dragOverlay:{measure:Ms}};class Do extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const QS={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Do,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ou},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$a,measureDroppableContainers:ou,windowRect:null,measuringScheduled:!1},$S={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ou,draggableNodes:new Map,over:null,measureDroppableContainers:ou},Au=O.createContext($S),Xy=O.createContext(QS);function US(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Do}}}function XS(n,e){switch(e.type){case ft.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ft.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case ft.DragEnd:case ft.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ft.RegisterDroppable:{const{element:t}=e,{id:r}=t,s=new Do(n.droppable.containers);return s.set(r,t),{...n,droppable:{...n.droppable,containers:s}}}case ft.SetDroppableDisabled:{const{id:t,key:r,disabled:s}=e,l=n.droppable.containers.get(t);if(!l||r!==l.key)return n;const a=new Do(n.droppable.containers);return a.set(t,{...l,disabled:s}),{...n,droppable:{...n.droppable,containers:a}}}case ft.UnregisterDroppable:{const{id:t,key:r}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const l=new Do(n.droppable.containers);return l.delete(t),{...n,droppable:{...n.droppable,containers:l}}}default:return n}}function KS(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:s}=O.useContext(Au),l=sf(r),a=sf(t==null?void 0:t.id);return O.useEffect(()=>{if(!e&&!r&&l&&a!=null){if(!hd(l)||document.activeElement===l.target)return;const c=s.get(a);if(!c)return;const{activatorNode:h,node:d}=c;if(!h.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[h.current,d.current]){if(!p)continue;const m=zk(p);if(m){m.focus();break}}})}},[r,e,s,a,l]),null}function qS(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((s,l)=>l({transform:s,...r}),t):t}function YS(n){return O.useMemo(()=>({draggable:{...$a.draggable,...n==null?void 0:n.draggable},droppable:{...$a.droppable,...n==null?void 0:n.droppable},dragOverlay:{...$a.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function GS(n){let{activeNode:e,measure:t,initialRect:r,config:s=!0}=n;const l=O.useRef(!1),{x:a,y:c}=typeof s=="boolean"?{x:s,y:s}:s;rr(()=>{if(!a&&!c||!e){l.current=!1;return}if(l.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const p=t(d),m=By(p,r);if(a||(m.x=0),c||(m.y=0),l.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const v=zy(d);v&&v.scrollBy({top:m.y,left:m.x})}},[e,a,c,r,t])}const Ky=O.createContext({...zn,scaleX:1,scaleY:1});var qr;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(qr||(qr={}));const JS=O.memo(function(e){var t,r,s,l;let{id:a,accessibility:c,autoScroll:h=!0,children:d,sensors:p=HS,collisionDetection:m=tS,measuring:v,modifiers:x,...k}=e;const b=O.useReducer(XS,void 0,US),[C,E]=b,[R,N]=Qk(),[_,T]=O.useState(qr.Uninitialized),F=_===qr.Initialized,{draggable:{active:B,nodes:U,translate:q},droppable:{containers:V}}=C,W=B!=null?U.get(B):null,H=O.useRef({initial:null,translated:null}),re=O.useMemo(()=>{var Xe;return B!=null?{id:B,data:(Xe=W==null?void 0:W.data)!=null?Xe:WS,rect:H}:null},[B,W]),ue=O.useRef(null),[G,ce]=O.useState(null),[pe,K]=O.useState(null),Z=_o(k,Object.values(k)),J=rl("DndDescribedBy",a),A=O.useMemo(()=>V.getEnabled(),[V]),I=YS(v),{droppableRects:ie,measureDroppableContainers:he,measuringScheduled:ve}=RS(A,{dragging:F,dependencies:[q.x,q.y],config:I.droppable}),ne=AS(U,B),ae=O.useMemo(()=>pe?of(pe):null,[pe]),be=Mr(),Pe=DS(ne,I.draggable.measure);GS({activeNode:B!=null?U.get(B):null,config:be.layoutShiftCompensation,initialRect:Pe,measure:I.draggable.measure});const xe=Im(ne,I.draggable.measure,Pe),Re=Im(ne?ne.parentElement:null),ze=O.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:ie,draggableNodes:U,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ge=V.getNodeFor((t=ze.current.over)==null?void 0:t.id),Je=VS({measure:I.dragOverlay.measure}),Ct=(r=Je.nodeRef.current)!=null?r:ne,On=F?(s=Je.rect)!=null?s:xe:null,Cn=!!(Je.nodeRef.current&&Je.rect),Me=LS(Cn?null:xe),fe=Uy(Ct?en(Ct):null),De=IS(F?Ge??ne:null),wt=FS(De),Ze=qS(x,{transform:{x:q.x-Me.x,y:q.y-Me.y,scaleX:1,scaleY:1},activatorEvent:pe,active:re,activeNodeRect:xe,containerNodeRect:Re,draggingNodeRect:On,over:ze.current.over,overlayNodeRect:Je.rect,scrollableAncestors:De,scrollableAncestorRects:wt,windowRect:fe}),Or=ae?ds(ae,q):null,Cr=jS(De),Pr=Bm(Cr),ji=Bm(Cr,[xe]),tn=ds(Ze,Pr),Pn=On?iS(On,Ze):null,Er=re&&Pn?m({active:re,collisionRect:Pn,droppableRects:ie,droppableContainers:A,pointerCoordinates:Or}):null,Ar=Jk(Er,"id"),[$t,fl]=O.useState(null),dl=Cn?Ze:ds(Ze,ji),pl=nS(dl,(l=$t==null?void 0:$t.rect)!=null?l:null,xe),Ns=O.useRef(null),Bi=O.useCallback((Xe,Pt)=>{let{sensor:Et,options:En}=Pt;if(ue.current==null)return;const zt=U.get(ue.current);if(!zt)return;const At=Xe.nativeEvent,Ut=new Et({active:ue.current,activeNode:zt,event:At,options:En,context:ze,onAbort(Ke){if(!U.get(Ke))return;const{onDragAbort:Mt}=Z.current,An={id:Ke};Mt==null||Mt(An),R({type:"onDragAbort",event:An})},onPending(Ke,fn,Mt,An){if(!U.get(Ke))return;const{onDragPending:Qn}=Z.current,nn={id:Ke,constraint:fn,initialCoordinates:Mt,offset:An};Qn==null||Qn(nn),R({type:"onDragPending",event:nn})},onStart(Ke){const fn=ue.current;if(fn==null)return;const Mt=U.get(fn);if(!Mt)return;const{onDragStart:An}=Z.current,Mn={activatorEvent:At,active:{id:fn,data:Mt.data,rect:H}};bo.unstable_batchedUpdates(()=>{An==null||An(Mn),T(qr.Initializing),E({type:ft.DragStart,initialCoordinates:Ke,active:fn}),R({type:"onDragStart",event:Mn}),ce(Ns.current),K(At)})},onMove(Ke){E({type:ft.DragMove,coordinates:Ke})},onEnd:or(ft.DragEnd),onCancel:or(ft.DragCancel)});Ns.current=Ut;function or(Ke){return async function(){const{active:Mt,collisions:An,over:Mn,scrollAdjustedTranslate:Qn}=ze.current;let nn=null;if(Mt&&Qn){const{cancelDrop:lr}=Z.current;nn={activatorEvent:At,active:Mt,collisions:An,delta:Qn,over:Mn},Ke===ft.DragEnd&&typeof lr=="function"&&await Promise.resolve(lr(nn))&&(Ke=ft.DragCancel)}ue.current=null,bo.unstable_batchedUpdates(()=>{E({type:Ke}),T(qr.Uninitialized),fl(null),ce(null),K(null),Ns.current=null;const lr=Ke===ft.DragEnd?"onDragEnd":"onDragCancel";if(nn){const js=Z.current[lr];js==null||js(nn),R({type:lr,event:nn})}})}}},[U]),Ts=O.useCallback((Xe,Pt)=>(Et,En)=>{const zt=Et.nativeEvent,At=U.get(En);if(ue.current!==null||!At||zt.dndKit||zt.defaultPrevented)return;const Ut={active:At};Xe(Et,Pt.options,Ut)===!0&&(zt.dndKit={capturedBy:Pt.sensor},ue.current=En,Bi(Et,Pt))},[U,Bi]),zi=MS(p,Ts);BS(p),rr(()=>{xe&&_===qr.Initializing&&T(qr.Initialized)},[xe,_]),O.useEffect(()=>{const{onDragMove:Xe}=Z.current,{active:Pt,activatorEvent:Et,collisions:En,over:zt}=ze.current;if(!Pt||!Et)return;const At={active:Pt,activatorEvent:Et,collisions:En,delta:{x:tn.x,y:tn.y},over:zt};bo.unstable_batchedUpdates(()=>{Xe==null||Xe(At),R({type:"onDragMove",event:At})})},[tn.x,tn.y]),O.useEffect(()=>{const{active:Xe,activatorEvent:Pt,collisions:Et,droppableContainers:En,scrollAdjustedTranslate:zt}=ze.current;if(!Xe||ue.current==null||!Pt||!zt)return;const{onDragOver:At}=Z.current,Ut=En.get(Ar),or=Ut&&Ut.rect.current?{id:Ut.id,rect:Ut.rect.current,data:Ut.data,disabled:Ut.disabled}:null,Ke={active:Xe,activatorEvent:Pt,collisions:Et,delta:{x:zt.x,y:zt.y},over:or};bo.unstable_batchedUpdates(()=>{fl(or),At==null||At(Ke),R({type:"onDragOver",event:Ke})})},[Ar]),rr(()=>{ze.current={activatorEvent:pe,active:re,activeNode:ne,collisionRect:Pn,collisions:Er,droppableRects:ie,draggableNodes:U,draggingNode:Ct,draggingNodeRect:On,droppableContainers:V,over:$t,scrollableAncestors:De,scrollAdjustedTranslate:tn},H.current={initial:On,translated:Pn}},[re,ne,Er,Pn,U,Ct,On,ie,V,$t,De,tn]),CS({...be,delta:q,draggingRect:Pn,pointerCoordinates:Or,scrollableAncestors:De,scrollableAncestorRects:wt});const Ls=O.useMemo(()=>({active:re,activeNode:ne,activeNodeRect:xe,activatorEvent:pe,collisions:Er,containerNodeRect:Re,dragOverlay:Je,draggableNodes:U,droppableContainers:V,droppableRects:ie,over:$t,measureDroppableContainers:he,scrollableAncestors:De,scrollableAncestorRects:wt,measuringConfiguration:I,measuringScheduled:ve,windowRect:fe}),[re,ne,xe,pe,Er,Re,Je,U,V,ie,$t,he,De,wt,I,ve,fe]),Is=O.useMemo(()=>({activatorEvent:pe,activators:zi,active:re,activeNodeRect:xe,ariaDescribedById:{draggable:J},dispatch:E,draggableNodes:U,over:$t,measureDroppableContainers:he}),[pe,zi,re,xe,E,J,U,$t,he]);return ot.createElement(jy.Provider,{value:N},ot.createElement(Au.Provider,{value:Is},ot.createElement(Xy.Provider,{value:Ls},ot.createElement(Ky.Provider,{value:pl},d)),ot.createElement(KS,{disabled:(c==null?void 0:c.restoreFocus)===!1})),ot.createElement(Xk,{...c,hiddenTextDescribedById:J}));function Mr(){const Xe=(G==null?void 0:G.autoScrollEnabled)===!1,Pt=typeof h=="object"?h.enabled===!1:h===!1,Et=F&&!Xe&&!Pt;return typeof h=="object"?{...h,enabled:Et}:{enabled:Et}}}),ZS=O.createContext(null),Fm="button",eb="Draggable";function tb(n){let{id:e,data:t,disabled:r=!1,attributes:s}=n;const l=rl(eb),{activators:a,activatorEvent:c,active:h,activeNodeRect:d,ariaDescribedById:p,draggableNodes:m,over:v}=O.useContext(Au),{role:x=Fm,roleDescription:k="draggable",tabIndex:b=0}=s??{},C=(h==null?void 0:h.id)===e,E=O.useContext(C?Ky:ZS),[R,N]=iu(),[_,T]=iu(),F=zS(a,e),B=_o(t);rr(()=>(m.set(e,{id:e,key:l,node:R,activatorNode:_,data:B}),()=>{const q=m.get(e);q&&q.key===l&&m.delete(e)}),[m,e]);const U=O.useMemo(()=>({role:x,tabIndex:b,"aria-disabled":r,"aria-pressed":C&&x===Fm?!0:void 0,"aria-roledescription":k,"aria-describedby":p.draggable}),[r,x,b,C,k,p.draggable]);return{active:h,activatorEvent:c,activeNodeRect:d,attributes:U,isDragging:C,listeners:r?void 0:F,node:R,over:v,setNodeRef:N,setActivatorNodeRef:T,transform:E}}function nb(){return O.useContext(Xy)}const rb="Droppable",ib={timeout:25};function sb(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:s}=n;const l=rl(rb),{active:a,dispatch:c,over:h,measureDroppableContainers:d}=O.useContext(Au),p=O.useRef({disabled:t}),m=O.useRef(!1),v=O.useRef(null),x=O.useRef(null),{disabled:k,updateMeasurementsFor:b,timeout:C}={...ib,...s},E=_o(b??r),R=O.useCallback(()=>{if(!m.current){m.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{d(Array.isArray(E.current)?E.current:[E.current]),x.current=null},C)},[C]),N=Eu({callback:R,disabled:k||!a}),_=O.useCallback((U,q)=>{N&&(q&&(N.unobserve(q),m.current=!1),U&&N.observe(U))},[N]),[T,F]=iu(_),B=_o(e);return O.useEffect(()=>{!N||!T.current||(N.disconnect(),m.current=!1,N.observe(T.current))},[T,N]),O.useEffect(()=>(c({type:ft.RegisterDroppable,element:{id:r,key:l,disabled:t,node:T,rect:v,data:B}}),()=>c({type:ft.UnregisterDroppable,key:l,id:r})),[r]),O.useEffect(()=>{t!==p.current.disabled&&(c({type:ft.SetDroppableDisabled,id:r,key:l,disabled:t}),p.current.disabled=t)},[r,l,t,c]),{active:a,rect:v,isOver:(h==null?void 0:h.id)===r,node:T,over:h,setNodeRef:F}}function qy(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function ob(n,e){return n.reduce((t,r,s)=>{const l=e.get(r);return l&&(t[s]=l),t},Array(n.length))}function ka(n){return n!==null&&n>=0}function lb(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function ab(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const Sa={scaleX:1,scaleY:1},ub=n=>{var e;let{rects:t,activeNodeRect:r,activeIndex:s,overIndex:l,index:a}=n;const c=(e=t[s])!=null?e:r;if(!c)return null;const h=cb(t,a,s);if(a===s){const d=t[l];return d?{x:s<l?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...Sa}:null}return a>s&&a<=l?{x:-c.width-h,y:0,...Sa}:a<s&&a>=l?{x:c.width+h,y:0,...Sa}:{x:0,y:0,...Sa}};function cb(n,e,t){const r=n[e],s=n[e-1],l=n[e+1];return!r||!s&&!l?0:t<e?s?r.left-(s.left+s.width):l.left-(r.left+r.width):l?l.left-(r.left+r.width):r.left-(s.left+s.width)}const Yy=n=>{let{rects:e,activeIndex:t,overIndex:r,index:s}=n;const l=qy(e,r,t),a=e[s],c=l[s];return!c||!a?null:{x:c.left-a.left,y:c.top-a.top,scaleX:c.width/a.width,scaleY:c.height/a.height}},Gy="Sortable",Jy=ot.createContext({activeIndex:-1,containerId:Gy,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Yy,disabled:{draggable:!1,droppable:!1}});function hb(n){let{children:e,id:t,items:r,strategy:s=Yy,disabled:l=!1}=n;const{active:a,dragOverlay:c,droppableRects:h,over:d,measureDroppableContainers:p}=nb(),m=rl(Gy,t),v=c.rect!==null,x=O.useMemo(()=>r.map(F=>typeof F=="object"&&"id"in F?F.id:F),[r]),k=a!=null,b=a?x.indexOf(a.id):-1,C=d?x.indexOf(d.id):-1,E=O.useRef(x),R=!lb(x,E.current),N=C!==-1&&b===-1||R,_=ab(l);rr(()=>{R&&k&&p(x)},[R,x,k,p]),O.useEffect(()=>{E.current=x},[x]);const T=O.useMemo(()=>({activeIndex:b,containerId:m,disabled:_,disableTransforms:N,items:x,overIndex:C,useDragOverlay:v,sortedRects:ob(x,h),strategy:s}),[b,m,_.draggable,_.droppable,N,x,C,h,v,s]);return ot.createElement(Jy.Provider,{value:T},e)}const fb=n=>{let{id:e,items:t,activeIndex:r,overIndex:s}=n;return qy(t,r,s).indexOf(e)},db=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:s,items:l,newIndex:a,previousItems:c,previousContainerId:h,transition:d}=n;return!d||!r||c!==l&&s===a?!1:t?!0:a!==s&&e===h},pb={duration:200,easing:"ease"},Zy="transform",gb=Vo.Transition.toString({property:Zy,duration:0,easing:"linear"}),mb={roleDescription:"sortable"};function yb(n){let{disabled:e,index:t,node:r,rect:s}=n;const[l,a]=O.useState(null),c=O.useRef(t);return rr(()=>{if(!e&&t!==c.current&&r.current){const h=s.current;if(h){const d=Ms(r.current,{ignoreTransform:!0}),p={x:h.left-d.left,y:h.top-d.top,scaleX:h.width/d.width,scaleY:h.height/d.height};(p.x||p.y)&&a(p)}}t!==c.current&&(c.current=t)},[e,t,r,s]),O.useEffect(()=>{l&&a(null)},[l]),l}function vb(n){let{animateLayoutChanges:e=db,attributes:t,disabled:r,data:s,getNewIndex:l=fb,id:a,strategy:c,resizeObserverConfig:h,transition:d=pb}=n;const{items:p,containerId:m,activeIndex:v,disabled:x,disableTransforms:k,sortedRects:b,overIndex:C,useDragOverlay:E,strategy:R}=O.useContext(Jy),N=xb(r,x),_=p.indexOf(a),T=O.useMemo(()=>({sortable:{containerId:m,index:_,items:p},...s}),[m,s,_,p]),F=O.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:B,node:U,isOver:q,setNodeRef:V}=sb({id:a,data:T,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:F,...h}}),{active:W,activatorEvent:H,activeNodeRect:re,attributes:ue,setNodeRef:G,listeners:ce,isDragging:pe,over:K,setActivatorNodeRef:Z,transform:J}=tb({id:a,data:T,attributes:{...mb,...t},disabled:N.draggable}),A=Lk(V,G),I=!!W,ie=I&&!k&&ka(v)&&ka(C),he=!E&&pe,ve=he&&ie?J:null,ae=ie?ve??(c??R)({rects:b,activeNodeRect:re,activeIndex:v,overIndex:C,index:_}):null,be=ka(v)&&ka(C)?l({id:a,items:p,activeIndex:v,overIndex:C}):_,Pe=W==null?void 0:W.id,xe=O.useRef({activeId:Pe,items:p,newIndex:be,containerId:m}),Re=p!==xe.current.items,ze=e({active:W,containerId:m,isDragging:pe,isSorting:I,id:a,index:_,items:p,newIndex:xe.current.newIndex,previousItems:xe.current.items,previousContainerId:xe.current.containerId,transition:d,wasDragging:xe.current.activeId!=null}),Ge=yb({disabled:!ze,index:_,node:U,rect:B});return O.useEffect(()=>{I&&xe.current.newIndex!==be&&(xe.current.newIndex=be),m!==xe.current.containerId&&(xe.current.containerId=m),p!==xe.current.items&&(xe.current.items=p)},[I,be,m,p]),O.useEffect(()=>{if(Pe===xe.current.activeId)return;if(Pe!=null&&xe.current.activeId==null){xe.current.activeId=Pe;return}const Ct=setTimeout(()=>{xe.current.activeId=Pe},50);return()=>clearTimeout(Ct)},[Pe]),{active:W,activeIndex:v,attributes:ue,data:T,rect:B,index:_,newIndex:be,items:p,isOver:q,isSorting:I,isDragging:pe,listeners:ce,node:U,overIndex:C,over:K,setNodeRef:A,setActivatorNodeRef:Z,setDroppableNodeRef:V,setDraggableNodeRef:G,transform:Ge??ae,transition:Je()};function Je(){if(Ge||Re&&xe.current.newIndex===_)return gb;if(!(he&&!hd(H)||!d)&&(I||ze))return Vo.Transition.toString({...d,property:Zy})}}function xb(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}Ie.Down,Ie.Right,Ie.Up,Ie.Left;function _m(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function wb(n){if(Array.isArray(n))return n}function kb(n,e,t){return(e=Ab(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Sb(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,l,a,c=[],h=!0,d=!1;try{if(l=(t=t.call(n)).next,e!==0)for(;!(h=(r=l.call(t)).done)&&(c.push(r.value),c.length!==e);h=!0);}catch(p){d=!0,s=p}finally{try{if(!h&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(d)throw s}}return c}}function bb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vm(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Hm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vm(Object(t),!0).forEach(function(r){kb(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vm(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ob(n,e){if(n==null)return{};var t,r,s=Cb(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(r=0;r<l.length;r++)t=l[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}function Cb(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Pb(n,e){return wb(n)||Sb(n,e)||Mb(n,e)||bb()}function Eb(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ab(n){var e=Eb(n,"string");return typeof e=="symbol"?e:e+""}function Mb(n,e){if(n){if(typeof n=="string")return _m(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_m(n,e):void 0}}function Rb(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Wm(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Qm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wm(Object(t),!0).forEach(function(r){Rb(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wm(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Db(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduceRight(function(s,l){return l(s)},r)}}function Oo(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return s.length>=n.length?n.apply(this,s):function(){for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return e.apply(t,[].concat(s,c))}}}function au(n){return{}.toString.call(n).includes("Object")}function Nb(n){return!Object.keys(n).length}function Wo(n){return typeof n=="function"}function Tb(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Lb(n,e){return au(e)||ii("changeType"),Object.keys(e).some(function(t){return!Tb(n,t)})&&ii("changeField"),e}function Ib(n){Wo(n)||ii("selectorType")}function jb(n){Wo(n)||au(n)||ii("handlerType"),au(n)&&Object.values(n).some(function(e){return!Wo(e)})&&ii("handlersType")}function Bb(n){n||ii("initialIsRequired"),au(n)||ii("initialType"),Nb(n)&&ii("initialContent")}function zb(n,e){throw new Error(n[e]||n.default)}var Fb={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ii=Oo(zb)(Fb),ba={changes:Lb,selector:Ib,handler:jb,initial:Bb};function _b(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ba.initial(n),ba.handler(e);var t={current:n},r=Oo(Wb)(t,e),s=Oo(Hb)(t),l=Oo(ba.changes)(n),a=Oo(Vb)(t);function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(p){return p};return ba.selector(d),d(t.current)}function h(d){Db(r,s,l,a)(d)}return[c,h]}function Vb(n,e){return Wo(e)?e(n.current):e}function Hb(n,e){return n.current=Qm(Qm({},n.current),e),e}function Wb(n,e,t){return Wo(e)?e(n.current):Object.keys(t).forEach(function(r){var s;return(s=e[r])===null||s===void 0?void 0:s.call(e,n.current[r])}),t}var Qb={create:_b},$b={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Ub(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return s.length>=n.length?n.apply(this,s):function(){for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return e.apply(t,[].concat(s,c))}}}function Xb(n){return{}.toString.call(n).includes("Object")}function Kb(n){return n||$m("configIsRequired"),Xb(n)||$m("configType"),n.urls?(qb(),{paths:{vs:n.urls.monacoBase}}):n}function qb(){console.warn(ev.deprecation)}function Yb(n,e){throw new Error(n[e]||n.default)}var ev={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},$m=Ub(Yb)(ev),Gb={config:Kb},Jb=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduceRight(function(l,a){return a(l)},s)}};function tv(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],tv(n[t],e[t]))}),Hm(Hm({},n),e)}var Zb={type:"cancelation",msg:"operation is manually canceled"};function Rh(n){var e=!1,t=new Promise(function(r,s){n.then(function(l){return e?s(Zb):r(l)}),n.catch(s)});return t.cancel=function(){return e=!0},t}var eO=["monaco"],tO=Qb.create({config:$b,isInitialized:!1,resolve:null,reject:null,monaco:null}),nv=Pb(tO,2),il=nv[0],Mu=nv[1];function nO(n){var e=Gb.config(n),t=e.monaco,r=Ob(e,eO);Mu(function(s){return{config:tv(s.config,r),monaco:t}})}function rO(){var n=il(function(e){var t=e.monaco,r=e.isInitialized,s=e.resolve;return{monaco:t,isInitialized:r,resolve:s}});if(!n.isInitialized){if(Mu({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),Rh(Dh);if(window.monaco&&window.monaco.editor)return rv(window.monaco),n.resolve(window.monaco),Rh(Dh);Jb(iO,oO)(lO)}return Rh(Dh)}function iO(n){return document.body.appendChild(n)}function sO(n){var e=document.createElement("script");return n&&(e.src=n),e}function oO(n){var e=il(function(r){var s=r.config,l=r.reject;return{config:s,reject:l}}),t=sO("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function lO(){var n=il(function(t){var r=t.config,s=t.resolve,l=t.reject;return{config:r,resolve:s,reject:l}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){var r=t.m||t;rv(r),n.resolve(r)},function(t){n.reject(t)})}function rv(n){il().monaco||Mu({monaco:n})}function aO(){return il(function(n){var e=n.monaco;return e})}var Dh=new Promise(function(n,e){return Mu({resolve:n,reject:e})}),iv={config:nO,init:rO,__getMonacoInstance:aO},uO={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Nh=uO,cO={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},hO=cO;function fO({children:n}){return ot.createElement("div",{style:hO.container},n)}var dO=fO,pO=dO;function gO({width:n,height:e,isEditorReady:t,loading:r,_ref:s,className:l,wrapperProps:a}){return ot.createElement("section",{style:{...Nh.wrapper,width:n,height:e},...a},!t&&ot.createElement(pO,null,r),ot.createElement("div",{ref:s,style:{...Nh.fullWidth,...!t&&Nh.hide},className:l}))}var mO=gO,sv=O.memo(mO);function yO(n){O.useEffect(n,[])}var ov=yO;function vO(n,e,t=!0){let r=O.useRef(!0);O.useEffect(r.current||!t?()=>{r.current=!1}:n,e)}var cn=vO;function No(){}function as(n,e,t,r){return xO(n,r)||wO(n,e,t,r)}function xO(n,e){return n.editor.getModel(lv(n,e))}function wO(n,e,t,r){return n.editor.createModel(e,t,r?lv(n,r):void 0)}function lv(n,e){return n.Uri.parse(e)}function kO({original:n,modified:e,language:t,originalLanguage:r,modifiedLanguage:s,originalModelPath:l,modifiedModelPath:a,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:h=!1,theme:d="light",loading:p="Loading...",options:m={},height:v="100%",width:x="100%",className:k,wrapperProps:b={},beforeMount:C=No,onMount:E=No}){let[R,N]=O.useState(!1),[_,T]=O.useState(!0),F=O.useRef(null),B=O.useRef(null),U=O.useRef(null),q=O.useRef(E),V=O.useRef(C),W=O.useRef(!1);ov(()=>{let G=iv.init();return G.then(ce=>(B.current=ce)&&T(!1)).catch(ce=>(ce==null?void 0:ce.type)!=="cancelation"&&console.error("Monaco initialization: error:",ce)),()=>F.current?ue():G.cancel()}),cn(()=>{if(F.current&&B.current){let G=F.current.getOriginalEditor(),ce=as(B.current,n||"",r||t||"text",l||"");ce!==G.getModel()&&G.setModel(ce)}},[l],R),cn(()=>{if(F.current&&B.current){let G=F.current.getModifiedEditor(),ce=as(B.current,e||"",s||t||"text",a||"");ce!==G.getModel()&&G.setModel(ce)}},[a],R),cn(()=>{let G=F.current.getModifiedEditor();G.getOption(B.current.editor.EditorOption.readOnly)?G.setValue(e||""):e!==G.getValue()&&(G.executeEdits("",[{range:G.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),G.pushUndoStop())},[e],R),cn(()=>{var G,ce;(ce=(G=F.current)==null?void 0:G.getModel())==null||ce.original.setValue(n||"")},[n],R),cn(()=>{let{original:G,modified:ce}=F.current.getModel();B.current.editor.setModelLanguage(G,r||t||"text"),B.current.editor.setModelLanguage(ce,s||t||"text")},[t,r,s],R),cn(()=>{var G;(G=B.current)==null||G.editor.setTheme(d)},[d],R),cn(()=>{var G;(G=F.current)==null||G.updateOptions(m)},[m],R);let H=O.useCallback(()=>{var pe;if(!B.current)return;V.current(B.current);let G=as(B.current,n||"",r||t||"text",l||""),ce=as(B.current,e||"",s||t||"text",a||"");(pe=F.current)==null||pe.setModel({original:G,modified:ce})},[t,e,s,n,r,l,a]),re=O.useCallback(()=>{var G;!W.current&&U.current&&(F.current=B.current.editor.createDiffEditor(U.current,{automaticLayout:!0,...m}),H(),(G=B.current)==null||G.editor.setTheme(d),N(!0),W.current=!0)},[m,d,H]);O.useEffect(()=>{R&&q.current(F.current,B.current)},[R]),O.useEffect(()=>{!_&&!R&&re()},[_,R,re]);function ue(){var ce,pe,K,Z;let G=(ce=F.current)==null?void 0:ce.getModel();c||((pe=G==null?void 0:G.original)==null||pe.dispose()),h||((K=G==null?void 0:G.modified)==null||K.dispose()),(Z=F.current)==null||Z.dispose()}return ot.createElement(sv,{width:x,height:v,isEditorReady:R,loading:p,_ref:U,className:k,wrapperProps:b})}var SO=kO;O.memo(SO);function bO(n){let e=O.useRef();return O.useEffect(()=>{e.current=n},[n]),e.current}var OO=bO,Oa=new Map;function CO({defaultValue:n,defaultLanguage:e,defaultPath:t,value:r,language:s,path:l,theme:a="light",line:c,loading:h="Loading...",options:d={},overrideServices:p={},saveViewState:m=!0,keepCurrentModel:v=!1,width:x="100%",height:k="100%",className:b,wrapperProps:C={},beforeMount:E=No,onMount:R=No,onChange:N,onValidate:_=No}){let[T,F]=O.useState(!1),[B,U]=O.useState(!0),q=O.useRef(null),V=O.useRef(null),W=O.useRef(null),H=O.useRef(R),re=O.useRef(E),ue=O.useRef(),G=O.useRef(r),ce=OO(l),pe=O.useRef(!1),K=O.useRef(!1);ov(()=>{let A=iv.init();return A.then(I=>(q.current=I)&&U(!1)).catch(I=>(I==null?void 0:I.type)!=="cancelation"&&console.error("Monaco initialization: error:",I)),()=>V.current?J():A.cancel()}),cn(()=>{var I,ie,he,ve;let A=as(q.current,n||r||"",e||s||"",l||t||"");A!==((I=V.current)==null?void 0:I.getModel())&&(m&&Oa.set(ce,(ie=V.current)==null?void 0:ie.saveViewState()),(he=V.current)==null||he.setModel(A),m&&((ve=V.current)==null||ve.restoreViewState(Oa.get(l))))},[l],T),cn(()=>{var A;(A=V.current)==null||A.updateOptions(d)},[d],T),cn(()=>{!V.current||r===void 0||(V.current.getOption(q.current.editor.EditorOption.readOnly)?V.current.setValue(r):r!==V.current.getValue()&&(K.current=!0,V.current.executeEdits("",[{range:V.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),V.current.pushUndoStop(),K.current=!1))},[r],T),cn(()=>{var I,ie;let A=(I=V.current)==null?void 0:I.getModel();A&&s&&((ie=q.current)==null||ie.editor.setModelLanguage(A,s))},[s],T),cn(()=>{var A;c!==void 0&&((A=V.current)==null||A.revealLine(c))},[c],T),cn(()=>{var A;(A=q.current)==null||A.editor.setTheme(a)},[a],T);let Z=O.useCallback(()=>{var A;if(!(!W.current||!q.current)&&!pe.current){re.current(q.current);let I=l||t,ie=as(q.current,r||n||"",e||s||"",I||"");V.current=(A=q.current)==null?void 0:A.editor.create(W.current,{model:ie,automaticLayout:!0,...d},p),m&&V.current.restoreViewState(Oa.get(I)),q.current.editor.setTheme(a),c!==void 0&&V.current.revealLine(c),F(!0),pe.current=!0}},[n,e,t,r,s,l,d,p,m,a,c]);O.useEffect(()=>{T&&H.current(V.current,q.current)},[T]),O.useEffect(()=>{!B&&!T&&Z()},[B,T,Z]),G.current=r,O.useEffect(()=>{var A,I;T&&N&&((A=ue.current)==null||A.dispose(),ue.current=(I=V.current)==null?void 0:I.onDidChangeModelContent(ie=>{K.current||N(V.current.getValue(),ie)}))},[T,N]),O.useEffect(()=>{if(T){let A=q.current.editor.onDidChangeMarkers(I=>{var he;let ie=(he=V.current.getModel())==null?void 0:he.uri;if(ie&&I.find(ve=>ve.path===ie.path)){let ve=q.current.editor.getModelMarkers({resource:ie});_==null||_(ve)}});return()=>{A==null||A.dispose()}}return()=>{}},[T,_]);function J(){var A,I;(A=ue.current)==null||A.dispose(),v?m&&Oa.set(l,V.current.saveViewState()):(I=V.current.getModel())==null||I.dispose(),V.current.dispose()}return ot.createElement(sv,{width:x,height:k,isEditorReady:T,loading:h,_ref:W,className:b,wrapperProps:C})}var PO=CO,EO=O.memo(PO),AO=EO;let cf=[],av=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?av:cf).push(t=t+n[e])})();function MO(n){if(n<768)return!1;for(let e=0,t=cf.length;;){let r=e+t>>1;if(n<cf[r])t=r;else if(n>=av[r])e=r+1;else return!0;if(e==t)return!1}}function Um(n){return n>=127462&&n<=127487}const Xm=8205;function RO(n,e,t=!0,r=!0){return(t?uv:DO)(n,e,r)}function uv(n,e,t){if(e==n.length)return e;e&&cv(n.charCodeAt(e))&&hv(n.charCodeAt(e-1))&&e--;let r=Th(n,e);for(e+=Km(r);e<n.length;){let s=Th(n,e);if(r==Xm||s==Xm||t&&MO(s))e+=Km(s),r=s;else if(Um(s)){let l=0,a=e-2;for(;a>=0&&Um(Th(n,a));)l++,a-=2;if(l%2==0)break;e+=2}else break}return e}function DO(n,e,t){for(;e>0;){let r=uv(n,e-2,t);if(r<e)return r;e--}return 0}function Th(n,e){let t=n.charCodeAt(e);if(!hv(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return cv(r)?(t-55296<<10)+(r-56320)+65536:t}function cv(n){return n>=56320&&n<57344}function hv(n){return n>=55296&&n<56320}function Km(n){return n<65536?1:2}class Te{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=vs(this,e,t);let s=[];return this.decompose(0,e,s,2),r.length&&r.decompose(0,r.length,s,3),this.decompose(t,this.length,s,1),er.from(s,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=vs(this,e,t);let r=[];return this.decompose(e,t,r,0),er.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),s=new To(this),l=new To(e);for(let a=t,c=t;;){if(s.next(a),l.next(a),a=0,s.lineBreak!=l.lineBreak||s.done!=l.done||s.value!=l.value)return!1;if(c+=s.value.length,s.done||c>=r)return!0}}iter(e=1){return new To(this,e)}iterRange(e,t=this.length){return new fv(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;r=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new dv(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Te.empty:e.length<=32?new st(e):er.from(st.split(e,[]))}}class st extends Te{constructor(e,t=NO(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,s){for(let l=0;;l++){let a=this.text[l],c=s+a.length;if((t?r:c)>=e)return new TO(s,c,r,a);s=c+1,r++}}decompose(e,t,r,s){let l=e<=0&&t>=this.length?this:new st(qm(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let a=r.pop(),c=Ua(l.text,a.text.slice(),0,l.length);if(c.length<=32)r.push(new st(c,a.length+l.length));else{let h=c.length>>1;r.push(new st(c.slice(0,h)),new st(c.slice(h)))}}else r.push(l)}replace(e,t,r){if(!(r instanceof st))return super.replace(e,t,r);[e,t]=vs(this,e,t);let s=Ua(this.text,Ua(r.text,qm(this.text,0,e)),t),l=this.length+r.length-(t-e);return s.length<=32?new st(s,l):er.from(st.split(s,[]),l)}sliceString(e,t=this.length,r=`
`){[e,t]=vs(this,e,t);let s="";for(let l=0,a=0;l<=t&&a<this.text.length;a++){let c=this.text[a],h=l+c.length;l>e&&a&&(s+=r),e<h&&t>l&&(s+=c.slice(Math.max(0,e-l),t-l)),l=h+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],s=-1;for(let l of e)r.push(l),s+=l.length+1,r.length==32&&(t.push(new st(r,s)),r=[],s=-1);return s>-1&&t.push(new st(r,s)),t}}class er extends Te{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,s){for(let l=0;;l++){let a=this.children[l],c=s+a.length,h=r+a.lines-1;if((t?h:c)>=e)return a.lineInner(e,t,r,s);s=c+1,r=h+1}}decompose(e,t,r,s){for(let l=0,a=0;a<=t&&l<this.children.length;l++){let c=this.children[l],h=a+c.length;if(e<=h&&t>=a){let d=s&((a<=e?1:0)|(h>=t?2:0));a>=e&&h<=t&&!d?r.push(c):c.decompose(e-a,t-a,r,d)}a=h+1}}replace(e,t,r){if([e,t]=vs(this,e,t),r.lines<this.lines)for(let s=0,l=0;s<this.children.length;s++){let a=this.children[s],c=l+a.length;if(e>=l&&t<=c){let h=a.replace(e-l,t-l,r),d=this.lines-a.lines+h.lines;if(h.lines<d>>4&&h.lines>d>>6){let p=this.children.slice();return p[s]=h,new er(p,this.length-(t-e)+r.length)}return super.replace(l,c,h)}l=c+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=vs(this,e,t);let s="";for(let l=0,a=0;l<this.children.length&&a<=t;l++){let c=this.children[l],h=a+c.length;a>e&&l&&(s+=r),e<h&&t>a&&(s+=c.sliceString(e-a,t-a,r)),a=h+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof er))return 0;let r=0,[s,l,a,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,l+=t){if(s==a||l==c)return r;let h=this.children[s],d=e.children[l];if(h!=d)return r+h.scanIdentical(d,t);r+=h.length+1}}static from(e,t=e.reduce((r,s)=>r+s.length+1,-1)){let r=0;for(let x of e)r+=x.lines;if(r<32){let x=[];for(let k of e)k.flatten(x);return new st(x,t)}let s=Math.max(32,r>>5),l=s<<1,a=s>>1,c=[],h=0,d=-1,p=[];function m(x){let k;if(x.lines>l&&x instanceof er)for(let b of x.children)m(b);else x.lines>a&&(h>a||!h)?(v(),c.push(x)):x instanceof st&&h&&(k=p[p.length-1])instanceof st&&x.lines+k.lines<=32?(h+=x.lines,d+=x.length+1,p[p.length-1]=new st(k.text.concat(x.text),k.length+1+x.length)):(h+x.lines>s&&v(),h+=x.lines,d+=x.length+1,p.push(x))}function v(){h!=0&&(c.push(p.length==1?p[0]:er.from(p,d)),d=-1,h=p.length=0)}for(let x of e)m(x);return v(),c.length==1?c[0]:new er(c,t)}}Te.empty=new st([""],0);function NO(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Ua(n,e,t=0,r=1e9){for(let s=0,l=0,a=!0;l<n.length&&s<=r;l++){let c=n[l],h=s+c.length;h>=t&&(h>r&&(c=c.slice(0,r-s)),s<t&&(c=c.slice(t-s)),a?(e[e.length-1]+=c,a=!1):e.push(c)),s=h+1}return e}function qm(n,e,t){return Ua(n,[""],e,t)}class To{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof st?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,s=this.nodes[r],l=this.offsets[r],a=l>>1,c=s instanceof st?s.text.length:s.children.length;if(a==(t>0?c:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((l&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof st){let h=s.text[a+(t<0?-1:0)];if(this.offsets[r]+=t,h.length>Math.max(0,e))return this.value=e==0?h:t>0?h.slice(e):h.slice(0,h.length-e),this;e-=h.length}else{let h=s.children[a+(t<0?-1:0)];e>h.length?(e-=h.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(h),this.offsets.push(t>0?1:(h instanceof st?h.text.length:h.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class fv{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new To(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=r?s:t<0?s.slice(s.length-r):s.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class dv{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:s}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Te.prototype[Symbol.iterator]=function(){return this.iter()},To.prototype[Symbol.iterator]=fv.prototype[Symbol.iterator]=dv.prototype[Symbol.iterator]=function(){return this});class TO{constructor(e,t,r,s){this.from=e,this.to=t,this.number=r,this.text=s}get length(){return this.to-this.from}}function vs(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function Ht(n,e,t=!0,r=!0){return RO(n,e,t,r)}function LO(n){return n>=56320&&n<57344}function IO(n){return n>=55296&&n<56320}function jO(n,e){let t=n.charCodeAt(e);if(!IO(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return LO(r)?(t-55296<<10)+(r-56320)+65536:t}function BO(n){return n<65536?1:2}const hf=/\r\n?|\n/;var hn=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(hn||(hn={}));class wr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,s=0;t<this.sections.length;){let l=this.sections[t++],a=this.sections[t++];a<0?(e(r,s,l),s+=l):s+=a,r+=l}}iterChangedRanges(e,t=!1){ff(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],s=this.sections[t++];s<0?e.push(r,s):e.push(s,r)}return new wr(e)}composeDesc(e){return this.empty?e:e.empty?this:pv(this,e)}mapDesc(e,t=!1){return e.empty?this:df(this,e,t)}mapPos(e,t=-1,r=hn.Simple){let s=0,l=0;for(let a=0;a<this.sections.length;){let c=this.sections[a++],h=this.sections[a++],d=s+c;if(h<0){if(d>e)return l+(e-s);l+=c}else{if(r!=hn.Simple&&d>=e&&(r==hn.TrackDel&&s<e&&d>e||r==hn.TrackBefore&&s<e||r==hn.TrackAfter&&d>e))return null;if(d>e||d==e&&t<0&&!c)return e==s||t<0?l:l+h;l+=h}s=d}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return l}touchesRange(e,t=e){for(let r=0,s=0;r<this.sections.length&&s<=t;){let l=this.sections[r++],a=this.sections[r++],c=s+l;if(a>=0&&s<=t&&c>=e)return s<e&&c>t?"cover":!0;s=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+r+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new wr(e)}static create(e){return new wr(e)}}class vt extends wr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return ff(this,(t,r,s,l,a)=>e=e.replace(s,s+(r-t),a),!1),e}mapDesc(e,t=!1){return df(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let s=0,l=0;s<t.length;s+=2){let a=t[s],c=t[s+1];if(c>=0){t[s]=c,t[s+1]=a;let h=s>>1;for(;r.length<h;)r.push(Te.empty);r.push(a?e.slice(l,l+a):Te.empty)}l+=a}return new vt(t,r)}compose(e){return this.empty?e:e.empty?this:pv(this,e,!0)}map(e,t=!1){return e.empty?this:df(this,e,t,!0)}iterChanges(e,t=!1){ff(this,e,t)}get desc(){return wr.create(this.sections)}filter(e){let t=[],r=[],s=[],l=new Qo(this);e:for(let a=0,c=0;;){let h=a==e.length?1e9:e[a++];for(;c<h||c==h&&l.len==0;){if(l.done)break e;let p=Math.min(l.len,h-c);Lt(s,p,-1);let m=l.ins==-1?-1:l.off==0?l.ins:0;Lt(t,p,m),m>0&&Zr(r,t,l.text),l.forward(p),c+=p}let d=e[a++];for(;c<d;){if(l.done)break e;let p=Math.min(l.len,d-c);Lt(t,p,-1),Lt(s,p,l.ins==-1?-1:l.off==0?l.ins:0),l.forward(p),c+=p}}return{changes:new vt(t,r),filtered:wr.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],s=this.sections[t+1];s<0?e.push(r):s==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let s=[],l=[],a=0,c=null;function h(p=!1){if(!p&&!s.length)return;a<t&&Lt(s,t-a,-1);let m=new vt(s,l);c=c?c.compose(m.map(c)):m,s=[],l=[],a=0}function d(p){if(Array.isArray(p))for(let m of p)d(m);else if(p instanceof vt){if(p.length!=t)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${t})`);h(),c=c?c.compose(p.map(c)):p}else{let{from:m,to:v=m,insert:x}=p;if(m>v||m<0||v>t)throw new RangeError(`Invalid change range ${m} to ${v} (in doc of length ${t})`);let k=x?typeof x=="string"?Te.of(x.split(r||hf)):x:Te.empty,b=k.length;if(m==v&&b==0)return;m<a&&h(),m>a&&Lt(s,m-a,-1),Lt(s,v-m,b),Zr(l,s,k),a=v}}return d(e),h(!c),c}static empty(e){return new vt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")t.push(l,-1);else{if(!Array.isArray(l)||typeof l[0]!="number"||l.some((a,c)=>c&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(l.length==1)t.push(l[0],0);else{for(;r.length<s;)r.push(Te.empty);r[s]=Te.of(l.slice(1)),t.push(l[0],r[s].length)}}}return new vt(t,r)}static createSet(e,t){return new vt(e,t)}}function Lt(n,e,t,r=!1){if(e==0&&t<=0)return;let s=n.length-2;s>=0&&t<=0&&t==n[s+1]?n[s]+=e:s>=0&&e==0&&n[s]==0?n[s+1]+=t:r?(n[s]+=e,n[s+1]+=t):n.push(e,t)}function Zr(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Te.empty);n.push(t)}}function ff(n,e,t){let r=n.inserted;for(let s=0,l=0,a=0;a<n.sections.length;){let c=n.sections[a++],h=n.sections[a++];if(h<0)s+=c,l+=c;else{let d=s,p=l,m=Te.empty;for(;d+=c,p+=h,h&&r&&(m=m.append(r[a-2>>1])),!(t||a==n.sections.length||n.sections[a+1]<0);)c=n.sections[a++],h=n.sections[a++];e(s,d,l,p,m),s=d,l=p}}}function df(n,e,t,r=!1){let s=[],l=r?[]:null,a=new Qo(n),c=new Qo(e);for(let h=-1;;){if(a.done&&c.len||c.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&c.ins==-1){let d=Math.min(a.len,c.len);Lt(s,d,-1),a.forward(d),c.forward(d)}else if(c.ins>=0&&(a.ins<0||h==a.i||a.off==0&&(c.len<a.len||c.len==a.len&&!t))){let d=c.len;for(Lt(s,c.ins,-1);d;){let p=Math.min(a.len,d);a.ins>=0&&h<a.i&&a.len<=p&&(Lt(s,0,a.ins),l&&Zr(l,s,a.text),h=a.i),a.forward(p),d-=p}c.next()}else if(a.ins>=0){let d=0,p=a.len;for(;p;)if(c.ins==-1){let m=Math.min(p,c.len);d+=m,p-=m,c.forward(m)}else if(c.ins==0&&c.len<p)p-=c.len,c.next();else break;Lt(s,d,h<a.i?a.ins:0),l&&h<a.i&&Zr(l,s,a.text),h=a.i,a.forward(a.len-p)}else{if(a.done&&c.done)return l?vt.createSet(s,l):wr.create(s);throw new Error("Mismatched change set lengths")}}}function pv(n,e,t=!1){let r=[],s=t?[]:null,l=new Qo(n),a=new Qo(e);for(let c=!1;;){if(l.done&&a.done)return s?vt.createSet(r,s):wr.create(r);if(l.ins==0)Lt(r,l.len,0,c),l.next();else if(a.len==0&&!a.done)Lt(r,0,a.ins,c),s&&Zr(s,r,a.text),a.next();else{if(l.done||a.done)throw new Error("Mismatched change set lengths");{let h=Math.min(l.len2,a.len),d=r.length;if(l.ins==-1){let p=a.ins==-1?-1:a.off?0:a.ins;Lt(r,h,p,c),s&&p&&Zr(s,r,a.text)}else a.ins==-1?(Lt(r,l.off?0:l.len,h,c),s&&Zr(s,r,l.textBit(h))):(Lt(r,l.off?0:l.len,a.off?0:a.ins,c),s&&!a.off&&Zr(s,r,a.text));c=(l.ins>h||a.ins>=0&&a.len>h)&&(c||r.length>d),l.forward2(h),a.forward(h)}}}}class Qo{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Te.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Te.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ai{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,s;return this.empty?r=s=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),r==this.from&&s==this.to?this:new Ai(r,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return te.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return te.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return te.range(e.anchor,e.head)}static create(e,t,r){return new Ai(e,t,r)}}class te{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:te.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new te([this.main],0)}addRange(e,t=!0){return te.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,te.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new te(e.ranges.map(t=>Ai.fromJSON(t)),e.main)}static single(e,t=e){return new te([te.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,s=0;s<e.length;s++){let l=e[s];if(l.empty?l.from<=r:l.from<r)return te.normalized(e.slice(),t);r=l.to}return new te(e,t)}static cursor(e,t=0,r,s){return Ai.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(s??16777215)<<6)}static range(e,t,r,s){let l=(r??16777215)<<6|(s==null?7:Math.min(6,s));return t<e?Ai.create(t,e,48|l):Ai.create(e,t,(t>e?8:0)|l)}static normalized(e,t=0){let r=e[t];e.sort((s,l)=>s.from-l.from),t=e.indexOf(r);for(let s=1;s<e.length;s++){let l=e[s],a=e[s-1];if(l.empty?l.from<=a.to:l.from<a.to){let c=a.from,h=Math.max(l.to,a.to);s<=t&&t--,e.splice(--s,2,l.anchor>l.head?te.range(h,c):te.range(c,h))}}return new te(e,t)}}function gv(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let yd=0;class we{constructor(e,t,r,s,l){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=s,this.id=yd++,this.default=e([]),this.extensions=typeof l=="function"?l(this):l}get reader(){return this}static define(e={}){return new we(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:vd),!!e.static,e.enables)}of(e){return new Xa([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Xa(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Xa(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function vd(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Xa{constructor(e,t,r,s){this.dependencies=e,this.facet=t,this.type=r,this.value=s,this.id=yd++}dynamicSlot(e){var t;let r=this.value,s=this.facet.compareInput,l=this.id,a=e[l]>>1,c=this.type==2,h=!1,d=!1,p=[];for(let m of this.dependencies)m=="doc"?h=!0:m=="selection"?d=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&p.push(e[m.id]);return{create(m){return m.values[a]=r(m),1},update(m,v){if(h&&v.docChanged||d&&(v.docChanged||v.selection)||pf(m,p)){let x=r(m);if(c?!Ym(x,m.values[a],s):!s(x,m.values[a]))return m.values[a]=x,1}return 0},reconfigure:(m,v)=>{let x,k=v.config.address[l];if(k!=null){let b=cu(v,k);if(this.dependencies.every(C=>C instanceof we?v.facet(C)===m.facet(C):C instanceof Ii?v.field(C,!1)==m.field(C,!1):!0)||(c?Ym(x=r(m),b,s):s(x=r(m),b)))return m.values[a]=b,0}else x=r(m);return m.values[a]=x,1}}}}function Ym(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function pf(n,e){let t=!1;for(let r of e)Lo(n,r)&1&&(t=!0);return t}function zO(n,e,t){let r=t.map(h=>n[h.id]),s=t.map(h=>h.type),l=r.filter(h=>!(h&1)),a=n[e.id]>>1;function c(h){let d=[];for(let p=0;p<r.length;p++){let m=cu(h,r[p]);if(s[p]==2)for(let v of m)d.push(v);else d.push(m)}return e.combine(d)}return{create(h){for(let d of r)Lo(h,d);return h.values[a]=c(h),1},update(h,d){if(!pf(h,l))return 0;let p=c(h);return e.compare(p,h.values[a])?0:(h.values[a]=p,1)},reconfigure(h,d){let p=pf(h,r),m=d.config.facets[e.id],v=d.facet(e);if(m&&!p&&vd(t,m))return h.values[a]=v,0;let x=c(h);return e.compare(x,v)?(h.values[a]=v,0):(h.values[a]=x,1)}}}const Ca=we.define({static:!0});class Ii{constructor(e,t,r,s,l){this.id=e,this.createF=t,this.updateF=r,this.compareF=s,this.spec=l,this.provides=void 0}static define(e){let t=new Ii(yd++,e.create,e.update,e.compare||((r,s)=>r===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Ca).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,s)=>{let l=r.values[t],a=this.updateF(l,s);return this.compareF(l,a)?0:(r.values[t]=a,1)},reconfigure:(r,s)=>{let l=r.facet(Ca),a=s.facet(Ca),c;return(c=l.find(h=>h.field==this))&&c!=a.find(h=>h.field==this)?(r.values[t]=c.create(r),1):s.config.address[this.id]!=null?(r.values[t]=s.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,Ca.of({field:this,create:e})]}get extension(){return this}}const Pi={lowest:4,low:3,default:2,high:1,highest:0};function vo(n){return e=>new mv(e,n)}const Ru={highest:vo(Pi.highest),high:vo(Pi.high),default:vo(Pi.default),low:vo(Pi.low),lowest:vo(Pi.lowest)};class mv{constructor(e,t){this.inner=e,this.prec=t}}class sl{of(e){return new gf(this,e)}reconfigure(e){return sl.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class gf{constructor(e,t){this.compartment=e,this.inner=t}}class uu{constructor(e,t,r,s,l,a){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=s,this.staticValues=l,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let s=[],l=Object.create(null),a=new Map;for(let v of FO(e,t,a))v instanceof Ii?s.push(v):(l[v.facet.id]||(l[v.facet.id]=[])).push(v);let c=Object.create(null),h=[],d=[];for(let v of s)c[v.id]=d.length<<1,d.push(x=>v.slot(x));let p=r==null?void 0:r.config.facets;for(let v in l){let x=l[v],k=x[0].facet,b=p&&p[v]||[];if(x.every(C=>C.type==0))if(c[k.id]=h.length<<1|1,vd(b,x))h.push(r.facet(k));else{let C=k.combine(x.map(E=>E.value));h.push(r&&k.compare(C,r.facet(k))?r.facet(k):C)}else{for(let C of x)C.type==0?(c[C.id]=h.length<<1|1,h.push(C.value)):(c[C.id]=d.length<<1,d.push(E=>C.dynamicSlot(E)));c[k.id]=d.length<<1,d.push(C=>zO(C,k,x))}}let m=d.map(v=>v(c));return new uu(e,a,m,c,h,l)}}function FO(n,e,t){let r=[[],[],[],[],[]],s=new Map;function l(a,c){let h=s.get(a);if(h!=null){if(h<=c)return;let d=r[h].indexOf(a);d>-1&&r[h].splice(d,1),a instanceof gf&&t.delete(a.compartment)}if(s.set(a,c),Array.isArray(a))for(let d of a)l(d,c);else if(a instanceof gf){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=e.get(a.compartment)||a.inner;t.set(a.compartment,d),l(d,c)}else if(a instanceof mv)l(a.inner,a.prec);else if(a instanceof Ii)r[c].push(a),a.provides&&l(a.provides,c);else if(a instanceof Xa)r[c].push(a),a.facet.extensions&&l(a.facet.extensions,Pi.default);else{let d=a.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);l(d,c)}}return l(n,Pi.default),r.reduce((a,c)=>a.concat(c))}function Lo(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let s=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|s}function cu(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const yv=we.define(),mf=we.define({combine:n=>n.some(e=>e),static:!0}),vv=we.define({combine:n=>n.length?n[0]:void 0,static:!0}),xv=we.define(),wv=we.define(),kv=we.define(),Sv=we.define({combine:n=>n.length?n[0]:!1});class Rs{constructor(e,t){this.type=e,this.value=t}static define(){return new _O}}class _O{of(e){return new Rs(this,e)}}class VO{constructor(e){this.map=e}of(e){return new dt(this,e)}}class dt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new dt(this.type,t)}is(e){return this.type==e}static define(e={}){return new VO(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let s of e){let l=s.map(t);l&&r.push(l)}return r}}dt.reconfigure=dt.define();dt.appendConfig=dt.define();class jt{constructor(e,t,r,s,l,a){this.startState=e,this.changes=t,this.selection=r,this.effects=s,this.annotations=l,this.scrollIntoView=a,this._doc=null,this._state=null,r&&gv(r,t.newLength),l.some(c=>c.type==jt.time)||(this.annotations=l.concat(jt.time.of(Date.now())))}static create(e,t,r,s,l,a){return new jt(e,t,r,s,l,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(jt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}jt.time=Rs.define();jt.userEvent=Rs.define();jt.addToHistory=Rs.define();jt.remote=Rs.define();function HO(n,e){let t=[];for(let r=0,s=0;;){let l,a;if(r<n.length&&(s==e.length||e[s]>=n[r]))l=n[r++],a=n[r++];else if(s<e.length)l=e[s++],a=e[s++];else return t;!t.length||t[t.length-1]<l?t.push(l,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function bv(n,e,t){var r;let s,l,a;return t?(s=e.changes,l=vt.empty(e.changes.length),a=n.changes.compose(e.changes)):(s=e.changes.map(n.changes),l=n.changes.mapDesc(e.changes,!0),a=n.changes.compose(s)),{changes:a,selection:e.selection?e.selection.map(l):(r=n.selection)===null||r===void 0?void 0:r.map(s),effects:dt.mapEffects(n.effects,s).concat(dt.mapEffects(e.effects,l)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function yf(n,e,t){let r=e.selection,s=ps(e.annotations);return e.userEvent&&(s=s.concat(jt.userEvent.of(e.userEvent))),{changes:e.changes instanceof vt?e.changes:vt.of(e.changes||[],t,n.facet(vv)),selection:r&&(r instanceof te?r:te.single(r.anchor,r.head)),effects:ps(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function Ov(n,e,t){let r=yf(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let l=1;l<e.length;l++){e[l].filter===!1&&(t=!1);let a=!!e[l].sequential;r=bv(r,yf(n,e[l],a?r.changes.newLength:n.doc.length),a)}let s=jt.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return QO(t?WO(s):s)}function WO(n){let e=n.startState,t=!0;for(let s of e.facet(xv)){let l=s(n);if(l===!1){t=!1;break}Array.isArray(l)&&(t=t===!0?l:HO(t,l))}if(t!==!0){let s,l;if(t===!1)l=n.changes.invertedDesc,s=vt.empty(e.doc.length);else{let a=n.changes.filter(t);s=a.changes,l=a.filtered.mapDesc(a.changes).invertedDesc}n=jt.create(e,s,n.selection&&n.selection.map(l),dt.mapEffects(n.effects,l),n.annotations,n.scrollIntoView)}let r=e.facet(wv);for(let s=r.length-1;s>=0;s--){let l=r[s](n);l instanceof jt?n=l:Array.isArray(l)&&l.length==1&&l[0]instanceof jt?n=l[0]:n=Ov(e,ps(l),!1)}return n}function QO(n){let e=n.startState,t=e.facet(kv),r=n;for(let s=t.length-1;s>=0;s--){let l=t[s](n);l&&Object.keys(l).length&&(r=bv(r,yf(e,l,n.changes.newLength),!0))}return r==n?n:jt.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const $O=[];function ps(n){return n==null?$O:Array.isArray(n)?n:[n]}var xr=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})(xr||(xr={}));const UO=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let vf;try{vf=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function XO(n){if(vf)return vf.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||UO.test(t)))return!0}return!1}function KO(n){return e=>{if(!/\S/.test(e))return xr.Space;if(XO(e))return xr.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return xr.Word;return xr.Other}}class je{constructor(e,t,r,s,l,a){this.config=e,this.doc=t,this.selection=r,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=l,a&&(a._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)Lo(this,c<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return Lo(this,r),cu(this,r)}update(...e){return Ov(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:s}=t;for(let c of e.effects)c.is(sl.reconfigure)?(t&&(s=new Map,t.compartments.forEach((h,d)=>s.set(d,h)),t=null),s.set(c.value.compartment,c.value.extension)):c.is(dt.reconfigure)?(t=null,r=c.value):c.is(dt.appendConfig)&&(t=null,r=ps(r).concat(c.value));let l;t?l=e.startState.values.slice():(t=uu.resolve(r,s,this),l=new je(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(h,d)=>d.reconfigure(h,this),null).values);let a=e.startState.facet(mf)?e.newSelection:e.newSelection.asSingle();new je(t,e.newDoc,a,l,(c,h)=>h.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:te.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),s=this.changes(r.changes),l=[r.range],a=ps(r.effects);for(let c=1;c<t.ranges.length;c++){let h=e(t.ranges[c]),d=this.changes(h.changes),p=d.map(s);for(let v=0;v<c;v++)l[v]=l[v].map(p);let m=s.mapDesc(d,!0);l.push(h.range.map(m)),s=s.compose(p),a=dt.mapEffects(a,p).concat(dt.mapEffects(ps(h.effects),m))}return{changes:s,selection:te.create(l,t.mainIndex),effects:a}}changes(e=[]){return e instanceof vt?e:vt.of(e,this.doc.length,this.facet(je.lineSeparator))}toText(e){return Te.of(e.split(this.facet(je.lineSeparator)||hf))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Lo(this,t),cu(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let s=e[r];s instanceof Ii&&this.config.address[s.id]!=null&&(t[r]=s.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(r){for(let l in r)if(Object.prototype.hasOwnProperty.call(e,l)){let a=r[l],c=e[l];s.push(a.init(h=>a.spec.fromJSON(c,h)))}}return je.create({doc:e.doc,selection:te.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=uu.resolve(e.extensions||[],new Map),r=e.doc instanceof Te?e.doc:Te.of((e.doc||"").split(t.staticFacet(je.lineSeparator)||hf)),s=e.selection?e.selection instanceof te?e.selection:te.single(e.selection.anchor,e.selection.head):te.single(0);return gv(s,r.length),t.staticFacet(mf)||(s=s.asSingle()),new je(t,r,s,t.dynamicSlots.map(()=>null),(l,a)=>a.create(l),null)}get tabSize(){return this.facet(je.tabSize)}get lineBreak(){return this.facet(je.lineSeparator)||`
`}get readOnly(){return this.facet(Sv)}phrase(e,...t){for(let r of this.facet(je.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,s)=>{if(s=="$")return"$";let l=+(s||1);return!l||l>t.length?r:t[l-1]})),e}languageDataAt(e,t,r=-1){let s=[];for(let l of this.facet(yv))for(let a of l(this,t,r))Object.prototype.hasOwnProperty.call(a,e)&&s.push(a[e]);return s}charCategorizer(e){return KO(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:s}=this.doc.lineAt(e),l=this.charCategorizer(e),a=e-r,c=e-r;for(;a>0;){let h=Ht(t,a,!1);if(l(t.slice(h,a))!=xr.Word)break;a=h}for(;c<s;){let h=Ht(t,c);if(l(t.slice(c,h))!=xr.Word)break;c=h}return a==c?null:te.range(a+r,c+r)}}je.allowMultipleSelections=mf;je.tabSize=we.define({combine:n=>n.length?n[0]:4});je.lineSeparator=vv;je.readOnly=Sv;je.phrases=we.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(s=>n[s]==e[s])}});je.languageData=yv;je.changeFilter=xv;je.transactionFilter=wv;je.transactionExtender=kv;sl.reconfigure=dt.define();function Cv(n,e,t={}){let r={};for(let s of n)for(let l of Object.keys(s)){let a=s[l],c=r[l];if(c===void 0)r[l]=a;else if(!(c===a||a===void 0))if(Object.hasOwnProperty.call(t,l))r[l]=t[l](c,a);else throw new Error("Config merge conflict for field "+l)}for(let s in e)r[s]===void 0&&(r[s]=e[s]);return r}class xs{eq(e){return this==e}range(e,t=e){return xf.create(e,t,this)}}xs.prototype.startSide=xs.prototype.endSide=0;xs.prototype.point=!1;xs.prototype.mapMode=hn.TrackDel;let xf=class Pv{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new Pv(e,t,r)}};function wf(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class xd{constructor(e,t,r,s){this.from=e,this.to=t,this.value=r,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,s=0){let l=r?this.to:this.from;for(let a=s,c=l.length;;){if(a==c)return a;let h=a+c>>1,d=l[h]-e||(r?this.value[h].endSide:this.value[h].startSide)-t;if(h==a)return d>=0?a:c;d>=0?c=h:a=h+1}}between(e,t,r,s){for(let l=this.findIndex(t,-1e9,!0),a=this.findIndex(r,1e9,!1,l);l<a;l++)if(s(this.from[l]+e,this.to[l]+e,this.value[l])===!1)return!1}map(e,t){let r=[],s=[],l=[],a=-1,c=-1;for(let h=0;h<this.value.length;h++){let d=this.value[h],p=this.from[h]+e,m=this.to[h]+e,v,x;if(p==m){let k=t.mapPos(p,d.startSide,d.mapMode);if(k==null||(v=x=k,d.startSide!=d.endSide&&(x=t.mapPos(p,d.endSide),x<v)))continue}else if(v=t.mapPos(p,d.startSide),x=t.mapPos(m,d.endSide),v>x||v==x&&d.startSide>0&&d.endSide<=0)continue;(x-v||d.endSide-d.startSide)<0||(a<0&&(a=v),d.point&&(c=Math.max(c,x-v)),r.push(d),s.push(v-a),l.push(x-a))}return{mapped:r.length?new xd(s,l,r,c):null,pos:a}}}class Be{constructor(e,t,r,s){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=s}static create(e,t,r,s){return new Be(e,t,r,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:s=0,filterTo:l=this.length}=e,a=e.filter;if(t.length==0&&!a)return this;if(r&&(t=t.slice().sort(wf)),this.isEmpty)return t.length?Be.of(t):this;let c=new Ev(this,null,-1).goto(0),h=0,d=[],p=new $o;for(;c.value||h<t.length;)if(h<t.length&&(c.from-t[h].from||c.startSide-t[h].value.startSide)>=0){let m=t[h++];p.addInner(m.from,m.to,m.value)||d.push(m)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(h==t.length||this.chunkEnd(c.chunkIndex)<t[h].from)&&(!a||s>this.chunkEnd(c.chunkIndex)||l<this.chunkPos[c.chunkIndex])&&p.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!a||s>c.to||l<c.from||a(c.from,c.to,c.value))&&(p.addInner(c.from,c.to,c.value)||d.push(xf.create(c.from,c.to,c.value))),c.next());return p.finishInner(this.nextLayer.isEmpty&&!d.length?Be.empty:this.nextLayer.update({add:d,filter:a,filterFrom:s,filterTo:l}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],s=-1;for(let a=0;a<this.chunk.length;a++){let c=this.chunkPos[a],h=this.chunk[a],d=e.touchesRange(c,c+h.length);if(d===!1)s=Math.max(s,h.maxPoint),t.push(h),r.push(e.mapPos(c));else if(d===!0){let{mapped:p,pos:m}=h.map(c,e);p&&(s=Math.max(s,p.maxPoint),t.push(p),r.push(m))}}let l=this.nextLayer.map(e);return t.length==0?l:new Be(r,t,l||Be.empty,s)}between(e,t,r){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],a=this.chunk[s];if(t>=l&&e<=l+a.length&&a.between(l,e-l,t-l,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return Uo.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Uo.from(e).goto(t)}static compare(e,t,r,s,l=-1){let a=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=l),c=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=l),h=Gm(a,c,r),d=new xo(a,h,l),p=new xo(c,h,l);r.iterGaps((m,v,x)=>Jm(d,m,p,v,x,s)),r.empty&&r.length==0&&Jm(d,0,p,0,0,s)}static eq(e,t,r=0,s){s==null&&(s=999999999);let l=e.filter(p=>!p.isEmpty&&t.indexOf(p)<0),a=t.filter(p=>!p.isEmpty&&e.indexOf(p)<0);if(l.length!=a.length)return!1;if(!l.length)return!0;let c=Gm(l,a),h=new xo(l,c,0).goto(r),d=new xo(a,c,0).goto(r);for(;;){if(h.to!=d.to||!kf(h.active,d.active)||h.point&&(!d.point||!h.point.eq(d.point)))return!1;if(h.to>s)return!0;h.next(),d.next()}}static spans(e,t,r,s,l=-1){let a=new xo(e,null,l).goto(t),c=t,h=a.openStart;for(;;){let d=Math.min(a.to,r);if(a.point){let p=a.activeForPoint(a.to),m=a.pointFrom<t?p.length+1:a.point.startSide<0?p.length:Math.min(p.length,h);s.point(c,d,a.point,p,m,a.pointRank),h=Math.min(a.openEnd(d),p.length)}else d>c&&(s.span(c,d,a.active,h),h=a.openEnd(d));if(a.to>r)return h+(a.point&&a.to>r?1:0);c=a.to,a.next()}}static of(e,t=!1){let r=new $o;for(let s of e instanceof xf?[e]:t?qO(e):e)r.add(s.from,s.to,s.value);return r.finish()}static join(e){if(!e.length)return Be.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let s=e[r];s!=Be.empty;s=s.nextLayer)t=new Be(s.chunkPos,s.chunk,t,Math.max(s.maxPoint,t.maxPoint));return t}}Be.empty=new Be([],[],null,-1);function qO(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(wf(e,r)>0)return n.slice().sort(wf);e=r}return n}Be.empty.nextLayer=Be.empty;class $o{finishChunk(e){this.chunks.push(new xd(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new $o)).add(e,t,r)}addInner(e,t,r){let s=e-this.lastTo||r.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Be.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Be.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Gm(n,e,t){let r=new Map;for(let l of n)for(let a=0;a<l.chunk.length;a++)l.chunk[a].maxPoint<=0&&r.set(l.chunk[a],l.chunkPos[a]);let s=new Set;for(let l of e)for(let a=0;a<l.chunk.length;a++){let c=r.get(l.chunk[a]);c!=null&&(t?t.mapPos(c):c)==l.chunkPos[a]&&!(t!=null&&t.touchesRange(c,c+l.chunk[a].length))&&s.add(l.chunk[a])}return s}class Ev{constructor(e,t,r,s=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Uo{constructor(e){this.heap=e}static from(e,t=null,r=-1){let s=[];for(let l=0;l<e.length;l++)for(let a=e[l];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&s.push(new Ev(a,t,r,l));return s.length==1?s[0]:new Uo(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)Lh(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)Lh(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Lh(this.heap,0)}}}function Lh(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let s=n[r];if(r+1<n.length&&s.compare(n[r+1])>=0&&(s=n[r+1],r++),t.compare(s)<0)break;n[r]=t,n[e]=s,e=r}}class xo{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Uo.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Pa(this.active,e),Pa(this.activeTo,e),Pa(this.activeRank,e),this.minActive=Zm(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:s,rank:l}=this.cursor;for(;t<this.activeRank.length&&(l-this.activeRank[t]||s-this.activeTo[t])>0;)t++;Ea(this.active,t,r),Ea(this.activeTo,t,s),Ea(this.activeRank,t,l),e&&Ea(e,t,this.cursor.from),this.minActive=Zm(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),r&&Pa(r,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let l=this.cursor.value;if(!l.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=l,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=l.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let s=r.length-1;s>=0&&r[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function Jm(n,e,t,r,s,l){n.goto(e),t.goto(r);let a=r+s,c=r,h=r-e;for(;;){let d=n.to+h-t.to,p=d||n.endSide-t.endSide,m=p<0?n.to+h:t.to,v=Math.min(m,a);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&kf(n.activeForPoint(n.to),t.activeForPoint(t.to))||l.comparePoint(c,v,n.point,t.point):v>c&&!kf(n.active,t.active)&&l.compareRange(c,v,n.active,t.active),m>a)break;(d||n.openEnd!=t.openEnd)&&l.boundChange&&l.boundChange(m),c=m,p<=0&&n.next(),p>=0&&t.next()}}function kf(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Pa(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function Ea(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function Zm(n,e){let t=-1,r=1e9;for(let s=0;s<e.length;s++)(e[s]-r||n[s].endSide-n[t].endSide)<0&&(t=s,r=e[s]);return t}function Du(n,e,t=n.length){let r=0;for(let s=0;s<t&&s<n.length;)n.charCodeAt(s)==9?(r+=e-r%e,s++):(r++,s=Ht(n,s));return r}function YO(n,e,t,r){for(let s=0,l=0;;){if(l>=e)return s;if(s==n.length)break;l+=n.charCodeAt(s)==9?t-l%t:1,s=Ht(n,s)}return n.length}const Sf="",e0=typeof Symbol>"u"?"__"+Sf:Symbol.for(Sf),bf=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class si{constructor(e,t){this.rules=[];let{finish:r}=t||{};function s(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function l(a,c,h,d){let p=[],m=/^@(\w+)\b/.exec(a[0]),v=m&&m[1]=="keyframes";if(m&&c==null)return h.push(a[0]+";");for(let x in c){let k=c[x];if(/&/.test(x))l(x.split(/,\s*/).map(b=>a.map(C=>b.replace(/&/,C))).reduce((b,C)=>b.concat(C)),k,h);else if(k&&typeof k=="object"){if(!m)throw new RangeError("The value of a property ("+x+") should be a primitive value.");l(s(x),k,p,v)}else k!=null&&p.push(x.replace(/_.*/,"").replace(/[A-Z]/g,b=>"-"+b.toLowerCase())+": "+k+";")}(p.length||v)&&h.push((r&&!m&&!d?a.map(r):a).join(", ")+" {"+p.join(" ")+"}")}for(let a in e)l(s(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=t0[e0]||1;return t0[e0]=e+1,Sf+e.toString(36)}static mount(e,t,r){let s=e[bf],l=r&&r.nonce;s?l&&s.setNonce(l):s=new GO(e,l),s.mount(Array.isArray(t)?t:[t],e)}}let n0=new Map;class GO{constructor(e,t){let r=e.ownerDocument||e,s=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let l=n0.get(r);if(l)return e[bf]=l;this.sheet=new s.CSSStyleSheet,n0.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[bf]=this}mount(e,t){let r=this.sheet,s=0,l=0;for(let a=0;a<e.length;a++){let c=e[a],h=this.modules.indexOf(c);if(h<l&&h>-1&&(this.modules.splice(h,1),l--,h=-1),h==-1){if(this.modules.splice(l++,0,c),r)for(let d=0;d<c.rules.length;d++)r.insertRule(c.rules[d],s++)}else{for(;l<h;)s+=this.modules[l++].rules.length;s+=c.rules.length,l++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let a="";for(let h=0;h<this.modules.length;h++)a+=this.modules[h].getRules()+`
`;this.styleTag.textContent=a;let c=t.head||t;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var oi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Xo={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},JO=typeof navigator<"u"&&/Mac/.test(navigator.platform),ZO=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ot=0;Ot<10;Ot++)oi[48+Ot]=oi[96+Ot]=String(Ot);for(var Ot=1;Ot<=24;Ot++)oi[Ot+111]="F"+Ot;for(var Ot=65;Ot<=90;Ot++)oi[Ot]=String.fromCharCode(Ot+32),Xo[Ot]=String.fromCharCode(Ot);for(var Ih in oi)Xo.hasOwnProperty(Ih)||(Xo[Ih]=oi[Ih]);function eC(n){var e=JO&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||ZO&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Xo:oi)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}let Vt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Of=typeof document<"u"?document:{documentElement:{style:{}}};const Cf=/Edge\/(\d+)/.exec(Vt.userAgent),Av=/MSIE \d/.test(Vt.userAgent),Pf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Vt.userAgent),Nu=!!(Av||Pf||Cf),r0=!Nu&&/gecko\/(\d+)/i.test(Vt.userAgent),jh=!Nu&&/Chrome\/(\d+)/.exec(Vt.userAgent),tC="webkitFontSmoothing"in Of.documentElement.style,Ef=!Nu&&/Apple Computer/.test(Vt.vendor),i0=Ef&&(/Mobile\/\w+/.test(Vt.userAgent)||Vt.maxTouchPoints>2);var oe={mac:i0||/Mac/.test(Vt.platform),windows:/Win/.test(Vt.platform),linux:/Linux|X11/.test(Vt.platform),ie:Nu,ie_version:Av?Of.documentMode||6:Pf?+Pf[1]:Cf?+Cf[1]:0,gecko:r0,gecko_version:r0?+(/Firefox\/(\d+)/.exec(Vt.userAgent)||[0,0])[1]:0,chrome:!!jh,chrome_version:jh?+jh[1]:0,ios:i0,android:/Android\b/.test(Vt.userAgent),webkit_version:tC?+(/\bAppleWebKit\/(\d+)/.exec(Vt.userAgent)||[0,0])[1]:0,safari:Ef,safari_version:Ef?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Vt.userAgent)||[0,0])[1]:0,tabSize:Of.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function Ko(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Af(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Ka(n,e){if(!e.anchorNode)return!1;try{return Af(n,e.anchorNode)}catch{return!1}}function qo(n){return n.nodeType==3?Ni(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Io(n,e,t,r){return t?s0(n,e,t,r,-1)||s0(n,e,t,r,1):!1}function Di(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function hu(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function s0(n,e,t,r,s){for(;;){if(n==t&&e==r)return!0;if(e==(s<0?0:ir(n))){if(n.nodeName=="DIV")return!1;let l=n.parentNode;if(!l||l.nodeType!=1)return!1;e=Di(n)+(s<0?0:1),n=l}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=s<0?ir(n):0}else return!1}}function ir(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Tu(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function nC(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function Mv(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function rC(n,e,t,r,s,l,a,c){let h=n.ownerDocument,d=h.defaultView||window;for(let p=n,m=!1;p&&!m;)if(p.nodeType==1){let v,x=p==h.body,k=1,b=1;if(x)v=nC(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(m=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let R=p.getBoundingClientRect();({scaleX:k,scaleY:b}=Mv(p,R)),v={left:R.left,right:R.left+p.clientWidth*k,top:R.top,bottom:R.top+p.clientHeight*b}}let C=0,E=0;if(s=="nearest")e.top<v.top?(E=e.top-(v.top+a),t>0&&e.bottom>v.bottom+E&&(E=e.bottom-v.bottom+a)):e.bottom>v.bottom&&(E=e.bottom-v.bottom+a,t<0&&e.top-E<v.top&&(E=e.top-(v.top+a)));else{let R=e.bottom-e.top,N=v.bottom-v.top;E=(s=="center"&&R<=N?e.top+R/2-N/2:s=="start"||s=="center"&&t<0?e.top-a:e.bottom-N+a)-v.top}if(r=="nearest"?e.left<v.left?(C=e.left-(v.left+l),t>0&&e.right>v.right+C&&(C=e.right-v.right+l)):e.right>v.right&&(C=e.right-v.right+l,t<0&&e.left<v.left+C&&(C=e.left-(v.left+l))):C=(r=="center"?e.left+(e.right-e.left)/2-(v.right-v.left)/2:r=="start"==c?e.left-l:e.right-(v.right-v.left)+l)-v.left,C||E)if(x)d.scrollBy(C,E);else{let R=0,N=0;if(E){let _=p.scrollTop;p.scrollTop+=E/b,N=(p.scrollTop-_)*b}if(C){let _=p.scrollLeft;p.scrollLeft+=C/k,R=(p.scrollLeft-_)*k}e={left:e.left-R,top:e.top-N,right:e.right-R,bottom:e.bottom-N},R&&Math.abs(R-C)<1&&(r="nearest"),N&&Math.abs(N-E)<1&&(s="nearest")}if(x)break;(e.top<v.top||e.bottom>v.bottom||e.left<v.left||e.right>v.right)&&(e={left:Math.max(e.left,v.left),right:Math.min(e.right,v.right),top:Math.max(e.top,v.top),bottom:Math.min(e.bottom,v.bottom)}),p=p.assignedSlot||p.parentNode}else if(p.nodeType==11)p=p.host;else break}function iC(n){let e=n.ownerDocument,t,r;for(let s=n.parentNode;s&&!(s==e.body||t&&r);)if(s.nodeType==1)!r&&s.scrollHeight>s.clientHeight&&(r=s),!t&&s.scrollWidth>s.clientWidth&&(t=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:t,y:r}}class sC{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?ir(t):0),r,Math.min(e.focusOffset,r?ir(r):0))}set(e,t,r,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=s}}let Ci=null;oe.safari&&oe.safari_version>=26&&(Ci=!1);function Rv(n){if(n.setActive)return n.setActive();if(Ci)return n.focus(Ci);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Ci==null?{get preventScroll(){return Ci={preventScroll:!0},!0}}:void 0),!Ci){Ci=!1;for(let t=0;t<e.length;){let r=e[t++],s=e[t++],l=e[t++];r.scrollTop!=s&&(r.scrollTop=s),r.scrollLeft!=l&&(r.scrollLeft=l)}}}let o0;function Ni(n,e,t=e){let r=o0||(o0=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function gs(n,e,t,r){let s={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=r);let l=new KeyboardEvent("keydown",s);l.synthetic=!0,n.dispatchEvent(l);let a=new KeyboardEvent("keyup",s);return a.synthetic=!0,n.dispatchEvent(a),l.defaultPrevented||a.defaultPrevented}function oC(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function Dv(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function lC(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,ir(t));;)if(r){if(t.nodeType!=1)return!1;let s=t.childNodes[r-1];s.contentEditable=="false"?r--:(t=s,r=ir(t))}else{if(t==n)return!0;r=Di(t),t=t.parentNode}}function Nv(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function Tv(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=ir(t)}else if(t.parentNode&&!hu(t))r=Di(t),t=t.parentNode;else return null}}function Lv(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!hu(t))r=Di(t)+1,t=t.parentNode;else return null}}class It{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new It(e.parentNode,Di(e),t)}static after(e,t){return new It(e.parentNode,Di(e)+1,t)}}const wd=[];class _e{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,s=null,l;for(let a of this.children){if(a.flags&7){if(!a.dom&&(l=s?s.nextSibling:r.firstChild)){let c=_e.get(l);(!c||!c.parent&&c.canReuseDOM(a))&&a.reuseDOM(l)}a.sync(e,t),a.flags&=-8}if(l=s?s.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&l!=a.dom&&(t.written=!0),a.dom.parentNode==r)for(;l&&l!=a.dom;)l=l0(l);else r.insertBefore(a.dom,l);s=a.dom}for(l=s?s.nextSibling:r.firstChild,l&&t&&t.node==r&&(t.written=!0);l;)l=l0(l)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let s=ir(e)==0?0:t==0?-1:1;for(;;){let l=e.parentNode;if(l==this.dom)break;s==0&&l.firstChild!=l.lastChild&&(e==l.firstChild?s=-1:s=1),e=l}s<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!_e.get(r);)r=r.nextSibling;if(!r)return this.length;for(let s=0,l=0;;s++){let a=this.children[s];if(a.dom==r)return l;l+=a.length+a.breakAfter}}domBoundsAround(e,t,r=0){let s=-1,l=-1,a=-1,c=-1;for(let h=0,d=r,p=r;h<this.children.length;h++){let m=this.children[h],v=d+m.length;if(d<e&&v>t)return m.domBoundsAround(e,t,d);if(v>=e&&s==-1&&(s=h,l=d),d>t&&m.dom.parentNode==this.dom){a=h,c=p;break}p=v,d=v+m.breakAfter}return{from:l,to:c<0?r+this.length:c,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=wd){this.markDirty();for(let s=e;s<t;s++){let l=this.children[s];l.parent==this&&r.indexOf(l)<0&&l.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let s=0;s<r.length;s++)r[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Iv(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,s,l,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}_e.prototype.breakAfter=0;function l0(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Iv{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function jv(n,e,t,r,s,l,a,c,h){let{children:d}=n,p=d.length?d[e]:null,m=l.length?l[l.length-1]:null,v=m?m.breakAfter:a;if(!(e==r&&p&&!a&&!v&&l.length<2&&p.merge(t,s,l.length?m:null,t==0,c,h))){if(r<d.length){let x=d[r];x&&(s<x.length||x.breakAfter&&(m!=null&&m.breakAfter))?(e==r&&(x=x.split(s),s=0),!v&&m&&x.merge(0,s,m,!0,0,h)?l[l.length-1]=x:((s||x.children.length&&!x.children[0].length)&&x.merge(0,s,null,!1,0,h),l.push(x))):x!=null&&x.breakAfter&&(m?m.breakAfter=1:a=1),r++}for(p&&(p.breakAfter=a,t>0&&(!a&&l.length&&p.merge(t,p.length,l[0],!1,c,0)?p.breakAfter=l.shift().breakAfter:(t<p.length||p.children.length&&p.children[p.children.length-1].length==0)&&p.merge(t,p.length,null,!1,c,0),e++));e<r&&l.length;)if(d[r-1].become(l[l.length-1]))r--,l.pop(),h=l.length?0:c;else if(d[e].become(l[0]))e++,l.shift(),c=l.length?0:h;else break;!l.length&&e&&r<d.length&&!d[e-1].breakAfter&&d[r].merge(0,0,d[e-1],!1,c,h)&&e--,(e<r||l.length)&&n.replaceChildren(e,r,l)}}function Bv(n,e,t,r,s,l){let a=n.childCursor(),{i:c,off:h}=a.findPos(t,1),{i:d,off:p}=a.findPos(e,-1),m=e-t;for(let v of r)m+=v.length;n.length+=m,jv(n,d,p,c,h,r,0,s,l)}const aC=256;class Fn extends _e{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Fn)||this.length-(t-e)+r.length>aC||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Fn(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new It(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return uC(this.dom,e,t)}}class Sr extends _e{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let s of t)s.setParent(this)}setAttrs(e){if(Dv(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,s,l,a){return r&&(!(r instanceof Sr&&r.mark.eq(this.mark))||e&&l<=0||t<this.length&&a<=0)?!1:(Bv(this,e,t,r?r.children.slice():[],l-1,a-1),this.markDirty(),!0)}split(e){let t=[],r=0,s=-1,l=0;for(let c of this.children){let h=r+c.length;h>e&&t.push(r<e?c.split(e-r):c),s<0&&r>=e&&(s=l),r=h,l++}let a=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new Sr(this.mark,t,a)}domAtPos(e){return zv(this,e)}coordsAt(e,t){return _v(this,e,t)}}function uC(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let s=e,l=e,a=0;e==0&&t<0||e==r&&t>=0?oe.chrome||oe.gecko||(e?(s--,a=1):l<r&&(l++,a=-1)):t<0?s--:l<r&&l++;let c=Ni(n,s,l).getClientRects();if(!c.length)return null;let h=c[(a?a<0:t>=0)?0:c.length-1];return oe.safari&&!a&&h.width==0&&(h=Array.prototype.find.call(c,d=>d.width)||h),a?Tu(h,a<0):h||null}class ei extends _e{static create(e,t,r){return new ei(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=ei.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,s,l,a){return r&&(!(r instanceof ei)||!this.widget.compare(r.widget)||e>0&&l<=0||t<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof ei&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Te.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,s=this.posAtStart;return r?r.slice(s,s+this.length):Te.empty}domAtPos(e){return(this.length?e==0:this.side>0)?It.before(this.dom):It.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let s=this.dom.getClientRects(),l=null;if(!s.length)return null;let a=this.side?this.side<0:e>0;for(let c=a?s.length-1:0;l=s[c],!(e>0?c==0:c==s.length-1||l.top<l.bottom);c+=a?-1:1);return Tu(l,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ws extends _e{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ws&&e.side==this.side}split(){return new ws(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?It.before(this.dom):It.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Te.empty}get isHidden(){return!0}}Fn.prototype.children=ei.prototype.children=ws.prototype.children=wd;function zv(n,e){let t=n.dom,{children:r}=n,s=0;for(let l=0;s<r.length;s++){let a=r[s],c=l+a.length;if(!(c==l&&a.getSide()<=0)){if(e>l&&e<c&&a.dom.parentNode==t)return a.domAtPos(e-l);if(e<=l)break;l=c}}for(let l=s;l>0;l--){let a=r[l-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let l=s;l<r.length;l++){let a=r[l];if(a.dom.parentNode==t)return a.domAtPos(0)}return new It(t,0)}function Fv(n,e,t){let r,{children:s}=n;t>0&&e instanceof Sr&&s.length&&(r=s[s.length-1])instanceof Sr&&r.mark.eq(e.mark)?Fv(r,e.children[0],t-1):(s.push(e),e.setParent(n)),n.length+=e.length}function _v(n,e,t){let r=null,s=-1,l=null,a=-1;function c(d,p){for(let m=0,v=0;m<d.children.length&&v<=p;m++){let x=d.children[m],k=v+x.length;k>=p&&(x.children.length?c(x,p-v):(!l||l.isHidden&&(t>0||hC(l,x)))&&(k>p||v==k&&x.getSide()>0)?(l=x,a=p-v):(v<p||v==k&&x.getSide()<0&&!x.isHidden)&&(r=x,s=p-v)),v=k}}c(n,e);let h=(t<0?r:l)||r||l;return h?h.coordsAt(Math.max(0,h==r?s:a),t):cC(n)}function cC(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=qo(e);return t[t.length-1]||null}function hC(n,e){let t=n.coordsAt(0,1),r=e.coordsAt(0,1);return t&&r&&r.top<t.bottom}function Mf(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const a0=Object.create(null);function fu(n,e,t){if(n==e)return!0;n||(n=a0),e||(e=a0);let r=Object.keys(n),s=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=s.length-(t&&s.indexOf(t)>-1?1:0))return!1;for(let l of r)if(l!=t&&(s.indexOf(l)==-1||n[l]!==e[l]))return!1;return!0}function Rf(n,e,t){let r=!1;if(e)for(let s in e)t&&s in t||(r=!0,s=="style"?n.style.cssText="":n.removeAttribute(s));if(t)for(let s in t)e&&e[s]==t[s]||(r=!0,s=="style"?n.style.cssText=t[s]:n.setAttribute(s,t[s]));return r}function fC(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class ol{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Wt=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(Wt||(Wt={}));class nt extends xs{constructor(e,t,r,s){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=s}get heightRelevant(){return!1}static mark(e){return new ll(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new li(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,s;if(e.isBlockGap)r=-5e8,s=4e8;else{let{start:l,end:a}=Vv(e,t);r=(l?t?-3e8:-1:5e8)-1,s=(a?t?2e8:1:-6e8)+1}return new li(e,r,s,t,e.widget||null,!0)}static line(e){return new al(e)}static set(e,t=!1){return Be.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}nt.none=Be.empty;class ll extends nt{constructor(e){let{start:t,end:r}=Vv(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof ll&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&fu(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}ll.prototype.point=!1;class al extends nt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof al&&this.spec.class==e.spec.class&&fu(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}al.prototype.mapMode=hn.TrackBefore;al.prototype.point=!0;class li extends nt{constructor(e,t,r,s,l,a){super(t,r,l,e),this.block=s,this.isReplace=a,this.mapMode=s?t<=0?hn.TrackBefore:hn.TrackAfter:hn.TrackDel}get type(){return this.startSide!=this.endSide?Wt.WidgetRange:this.startSide<=0?Wt.WidgetBefore:Wt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof li&&dC(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}li.prototype.point=!0;function Vv(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function dC(n,e){return n==e||!!(n&&e&&n.compare(e))}function qa(n,e,t,r=0){let s=t.length-1;s>=0&&t[s]+r>=n?t[s]=Math.max(t[s],e):t.push(n,e)}class at extends _e{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,s,l,a){if(r){if(!(r instanceof at))return!1;this.dom||r.transferDOM(this)}return s&&this.setDeco(r?r.attrs:null),Bv(this,e,t,r?r.children.slice():[],l,a),!0}split(e){let t=new at;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:s}=this.childPos(e);s&&(t.append(this.children[r].split(s),0),this.children[r].merge(s,this.children[r].length,null,!1,0,0),r++);for(let l=r;l<this.children.length;l++)t.append(this.children[l],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){fu(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Fv(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=Mf(t,this.attrs||{})),r&&(this.attrs=Mf({class:r},this.attrs||{}))}domAtPos(e){return zv(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(Dv(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Rf(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let s=this.dom.lastChild;for(;s&&_e.get(s)instanceof Sr;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((r=_e.get(s))===null||r===void 0?void 0:r.isEditable)==!1&&(!oe.ios||!this.children.some(l=>l instanceof Fn))){let l=document.createElement("BR");l.cmIgnore=!0,this.dom.appendChild(l)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Fn)||/[^ -~]/.test(r.text))return null;let s=qo(r.dom);if(s.length!=1)return null;e+=s[0].width,t=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=_v(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:s}=this.parent.view.viewState,l=r.bottom-r.top;if(Math.abs(l-s.lineHeight)<2&&s.textHeight<l){let a=(l-s.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return e instanceof at&&this.children.length==0&&e.children.length==0&&fu(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,s=0;r<e.children.length;r++){let l=e.children[r],a=s+l.length;if(a>=t){if(l instanceof at)return l;if(a>t)break}s=a+l.breakAfter}return null}}class kr extends _e{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,s,l,a){return r&&(!(r instanceof kr)||!this.widget.compare(r.widget)||e>0&&l<=0||t<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?It.before(this.dom):It.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new kr(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return wd}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Te.empty}domBoundsAround(){return null}become(e){return e instanceof kr&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof Df?null:Tu(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class Df extends ol{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class jo{constructor(e,t,r,s){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof kr&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new at),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Aa(new ws(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof kr)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:c,done:h}=this.cursor.next(this.skip);if(this.skip=0,h)throw new Error("Ran out of text content when drawing inline views");if(c){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=a,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e),l=Math.min(s,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(Aa(new Fn(this.text.slice(this.textOff,this.textOff+l)),t),r),this.atCursorPos=!0,this.textOff+=l,e-=l,r=s<=l?0:t.length}}span(e,t,r,s){this.buildText(t-e,r,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,r,s,l,a){if(this.disallowBlockEffectsFor[a]&&r instanceof li){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=t-e;if(r instanceof li)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new kr(r.widget||ks.block,c,r));else{let h=ei.create(r.widget||ks.inline,c,c?0:r.startSide),d=this.atCursorPos&&!h.isEditable&&l<=s.length&&(e<t||r.startSide>0),p=!h.isEditable&&(e<t||l>s.length||r.startSide<=0),m=this.getLine();this.pendingBuffer==2&&!d&&!h.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),d&&(m.append(Aa(new ws(1),s),l),l=s.length+Math.max(0,l-s.length)),m.append(Aa(h,s),l),this.atCursorPos=p,this.pendingBuffer=p?e<t||l>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=l)}static build(e,t,r,s,l){let a=new jo(e,t,r,l);return a.openEnd=Be.spans(s,t,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function Aa(n,e){for(let t of e)n=new Sr(t,[n],n.length);return n}class ks extends ol{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}ks.inline=new ks("span");ks.block=new ks("div");var tt=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(tt||(tt={}));const Ti=tt.LTR,kd=tt.RTL;function Hv(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const pC=Hv("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),gC=Hv("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Nf=Object.create(null),Yn=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Nf[e]=t,Nf[t]=-e}function Wv(n){return n<=247?pC[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?gC[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const mC=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class ti{get dir(){return this.level%2?kd:Ti}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,s){let l=-1;for(let a=0;a<e.length;a++){let c=e[a];if(c.from<=t&&c.to>=t){if(c.level==r)return a;(l<0||(s!=0?s<0?c.from<t:c.to>t:e[l].level>c.level))&&(l=a)}}if(l<0)throw new RangeError("Index out of range");return l}}function Qv(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],s=e[t];if(r.from!=s.from||r.to!=s.to||r.direction!=s.direction||!Qv(r.inner,s.inner))return!1}return!0}const Ve=[];function yC(n,e,t,r,s){for(let l=0;l<=r.length;l++){let a=l?r[l-1].to:e,c=l<r.length?r[l].from:t,h=l?256:s;for(let d=a,p=h,m=h;d<c;d++){let v=Wv(n.charCodeAt(d));v==512?v=p:v==8&&m==4&&(v=16),Ve[d]=v==4?2:v,v&7&&(m=v),p=v}for(let d=a,p=h,m=h;d<c;d++){let v=Ve[d];if(v==128)d<c-1&&p==Ve[d+1]&&p&24?v=Ve[d]=p:Ve[d]=256;else if(v==64){let x=d+1;for(;x<c&&Ve[x]==64;)x++;let k=d&&p==8||x<t&&Ve[x]==8?m==1?1:8:256;for(let b=d;b<x;b++)Ve[b]=k;d=x-1}else v==8&&m==1&&(Ve[d]=1);p=v,v&7&&(m=v)}}}function vC(n,e,t,r,s){let l=s==1?2:1;for(let a=0,c=0,h=0;a<=r.length;a++){let d=a?r[a-1].to:e,p=a<r.length?r[a].from:t;for(let m=d,v,x,k;m<p;m++)if(x=Nf[v=n.charCodeAt(m)])if(x<0){for(let b=c-3;b>=0;b-=3)if(Yn[b+1]==-x){let C=Yn[b+2],E=C&2?s:C&4?C&1?l:s:0;E&&(Ve[m]=Ve[Yn[b]]=E),c=b;break}}else{if(Yn.length==189)break;Yn[c++]=m,Yn[c++]=v,Yn[c++]=h}else if((k=Ve[m])==2||k==1){let b=k==s;h=b?0:1;for(let C=c-3;C>=0;C-=3){let E=Yn[C+2];if(E&2)break;if(b)Yn[C+2]|=2;else{if(E&4)break;Yn[C+2]|=4}}}}}function xC(n,e,t,r){for(let s=0,l=r;s<=t.length;s++){let a=s?t[s-1].to:n,c=s<t.length?t[s].from:e;for(let h=a;h<c;){let d=Ve[h];if(d==256){let p=h+1;for(;;)if(p==c){if(s==t.length)break;p=t[s++].to,c=s<t.length?t[s].from:e}else if(Ve[p]==256)p++;else break;let m=l==1,v=(p<e?Ve[p]:r)==1,x=m==v?m?1:2:r;for(let k=p,b=s,C=b?t[b-1].to:n;k>h;)k==C&&(k=t[--b].from,C=b?t[b-1].to:n),Ve[--k]=x;h=p}else l=d,h++}}}function Tf(n,e,t,r,s,l,a){let c=r%2?2:1;if(r%2==s%2)for(let h=e,d=0;h<t;){let p=!0,m=!1;if(d==l.length||h<l[d].from){let b=Ve[h];b!=c&&(p=!1,m=b==16)}let v=!p&&c==1?[]:null,x=p?r:r+1,k=h;e:for(;;)if(d<l.length&&k==l[d].from){if(m)break e;let b=l[d];if(!p)for(let C=b.to,E=d+1;;){if(C==t)break e;if(E<l.length&&l[E].from==C)C=l[E++].to;else{if(Ve[C]==c)break e;break}}if(d++,v)v.push(b);else{b.from>h&&a.push(new ti(h,b.from,x));let C=b.direction==Ti!=!(x%2);Lf(n,C?r+1:r,s,b.inner,b.from,b.to,a),h=b.to}k=b.to}else{if(k==t||(p?Ve[k]!=c:Ve[k]==c))break;k++}v?Tf(n,h,k,r+1,s,v,a):h<k&&a.push(new ti(h,k,x)),h=k}else for(let h=t,d=l.length;h>e;){let p=!0,m=!1;if(!d||h>l[d-1].to){let b=Ve[h-1];b!=c&&(p=!1,m=b==16)}let v=!p&&c==1?[]:null,x=p?r:r+1,k=h;e:for(;;)if(d&&k==l[d-1].to){if(m)break e;let b=l[--d];if(!p)for(let C=b.from,E=d;;){if(C==e)break e;if(E&&l[E-1].to==C)C=l[--E].from;else{if(Ve[C-1]==c)break e;break}}if(v)v.push(b);else{b.to<h&&a.push(new ti(b.to,h,x));let C=b.direction==Ti!=!(x%2);Lf(n,C?r+1:r,s,b.inner,b.from,b.to,a),h=b.from}k=b.from}else{if(k==e||(p?Ve[k-1]!=c:Ve[k-1]==c))break;k--}v?Tf(n,k,h,r+1,s,v,a):k<h&&a.push(new ti(k,h,x)),h=k}}function Lf(n,e,t,r,s,l,a){let c=e%2?2:1;yC(n,s,l,r,c),vC(n,s,l,r,c),xC(s,l,r,c),Tf(n,s,l,e,t,r,a)}function wC(n,e,t){if(!n)return[new ti(0,0,e==kd?1:0)];if(e==Ti&&!t.length&&!mC.test(n))return $v(n.length);if(t.length)for(;n.length>Ve.length;)Ve[Ve.length]=256;let r=[],s=e==Ti?0:1;return Lf(n,s,s,t,0,n.length,r),r}function $v(n){return[new ti(0,n,0)]}let Uv="";function kC(n,e,t,r,s){var l;let a=r.head-n.from,c=ti.find(e,a,(l=r.bidiLevel)!==null&&l!==void 0?l:-1,r.assoc),h=e[c],d=h.side(s,t);if(a==d){let v=c+=s?1:-1;if(v<0||v>=e.length)return null;h=e[c=v],a=h.side(!s,t),d=h.side(s,t)}let p=Ht(n.text,a,h.forward(s,t));(p<h.from||p>h.to)&&(p=d),Uv=n.text.slice(Math.min(a,p),Math.max(a,p));let m=c==(s?e.length-1:0)?null:e[c+(s?1:-1)];return m&&p==d&&m.level+(s?0:1)<h.level?te.cursor(m.side(!s,t)+n.from,m.forward(s,t)?1:-1,m.level):te.cursor(p+n.from,h.forward(s,t)?-1:1,h.level)}function SC(n,e,t){for(let r=e;r<t;r++){let s=Wv(n.charCodeAt(r));if(s==1)return Ti;if(s==2||s==4)return kd}return Ti}const Xv=we.define(),Kv=we.define(),qv=we.define(),Yv=we.define(),If=we.define(),Gv=we.define(),Jv=we.define(),Sd=we.define(),bd=we.define(),Zv=we.define({combine:n=>n.some(e=>e)}),ex=we.define({combine:n=>n.some(e=>e)}),tx=we.define();class ms{constructor(e,t="nearest",r="nearest",s=5,l=5,a=!1){this.range=e,this.y=t,this.x=r,this.yMargin=s,this.xMargin=l,this.isSnapshot=a}map(e){return e.empty?this:new ms(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ms(te.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Ma=dt.define({map:(n,e)=>n.map(e)}),nx=dt.define();function nr(n,e,t){let r=n.facet(Yv);r.length?r[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const vr=we.define({combine:n=>n.length?n[0]:!0});let bC=0;const us=we.define({combine(n){return n.filter((e,t)=>{for(let r=0;r<t;r++)if(n[r].plugin==e.plugin)return!1;return!0})}});class _n{constructor(e,t,r,s,l){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=s,this.baseExtensions=l(this),this.extension=this.baseExtensions.concat(us.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(us.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:r,eventObservers:s,provide:l,decorations:a}=t||{};return new _n(bC++,e,r,s,c=>{let h=[];return a&&h.push(Yo.of(d=>{let p=d.plugin(c);return p?a(p):nt.none})),l&&h.push(l(c)),h})}static fromClass(e,t){return _n.define((r,s)=>new e(r,s),t)}}class Bh{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(nr(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){nr(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){nr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const rx=we.define(),Od=we.define(),Yo=we.define(),ix=we.define(),ul=we.define(),sx=we.define();function u0(n,e){let t=n.state.facet(sx);if(!t.length)return t;let r=t.map(l=>l instanceof Function?l(n):l),s=[];return Be.spans(r,e.from,e.to,{point(){},span(l,a,c,h){let d=l-e.from,p=a-e.from,m=s;for(let v=c.length-1;v>=0;v--,h--){let x=c[v].spec.bidiIsolate,k;if(x==null&&(x=SC(e.text,d,p)),h>0&&m.length&&(k=m[m.length-1]).to==d&&k.direction==x)k.to=p,m=k.inner;else{let b={from:d,to:p,direction:x,inner:[]};m.push(b),m=b.inner}}}}),s}const ox=we.define();function lx(n){let e=0,t=0,r=0,s=0;for(let l of n.state.facet(ox)){let a=l(n);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(t=Math.max(t,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(s=Math.max(s,a.bottom)))}return{left:e,right:t,top:r,bottom:s}}const Co=we.define();class wn{constructor(e,t,r,s){this.fromA=e,this.toA=t,this.fromB=r,this.toB=s}join(e){return new wn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>r.toA)){if(s.toA<r.fromA)break;r=r.join(s),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let s=0,l=0,a=0,c=0;;s++){let h=s==e.length?null:e[s],d=a-c,p=h?h.fromB:1e9;for(;l<t.length&&t[l]<p;){let m=t[l],v=t[l+1],x=Math.max(c,m),k=Math.min(p,v);if(x<=k&&new wn(x+d,k+d,x,k).addToSet(r),v>p)break;l+=2}if(!h)return r;new wn(h.fromA,h.toA,h.fromB,h.toB).addToSet(r),a=h.toA,c=h.toB}}}class du{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=vt.empty(this.startState.doc.length);for(let l of r)this.changes=this.changes.compose(l.changes);let s=[];this.changes.iterChangedRanges((l,a,c,h)=>s.push(new wn(l,a,c,h))),this.changedRanges=s}static create(e,t,r){return new du(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class c0 extends _e{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=nt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new at],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new wn(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:d,toA:p})=>p<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?s=this.domChanged.newSel.head:!RC(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let l=s>-1?CC(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:d,to:p}=this.hasComposition;r=new wn(d,p,e.changes.mapPos(d,-1),e.changes.mapPos(p,1)).addToSet(r.slice())}this.hasComposition=l?{from:l.range.fromB,to:l.range.toB}:null,(oe.ie||oe.chrome)&&!l&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,c=this.updateDeco(),h=AC(a,c,e.changes);return r=wn.extendWithRanges(r,h),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,l),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=oe.chrome||oe.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||s.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let l=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof kr&&a.widget instanceof Df&&l.push(a.dom);s.updateGaps(l)}updateChildren(e,t,r){let s=r?r.range.addToSet(e.slice()):e,l=this.childCursor(t);for(let a=s.length-1;;a--){let c=a>=0?s[a]:null;if(!c)break;let{fromA:h,toA:d,fromB:p,toB:m}=c,v,x,k,b;if(r&&r.range.fromB<m&&r.range.toB>p){let _=jo.build(this.view.state.doc,p,r.range.fromB,this.decorations,this.dynamicDecorationMap),T=jo.build(this.view.state.doc,r.range.toB,m,this.decorations,this.dynamicDecorationMap);x=_.breakAtStart,k=_.openStart,b=T.openEnd;let F=this.compositionView(r);T.breakAtStart?F.breakAfter=1:T.content.length&&F.merge(F.length,F.length,T.content[0],!1,T.openStart,0)&&(F.breakAfter=T.content[0].breakAfter,T.content.shift()),_.content.length&&F.merge(0,0,_.content[_.content.length-1],!0,0,_.openEnd)&&_.content.pop(),v=_.content.concat(F).concat(T.content)}else({content:v,breakAtStart:x,openStart:k,openEnd:b}=jo.build(this.view.state.doc,p,m,this.decorations,this.dynamicDecorationMap));let{i:C,off:E}=l.findPos(d,1),{i:R,off:N}=l.findPos(h,-1);jv(this,R,N,C,E,v,x,k,b)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(nx)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new Fn(e.text.nodeValue);t.flags|=8;for(let{deco:s}of e.marks)t=new Sr(s,[t],t.length);let r=new at;return r.append(t,0),r}fixCompositionDOM(e){let t=(l,a)=>{a.flags|=8|(a.children.some(h=>h.flags&7)?1:0),this.markedForComposition.add(a);let c=_e.get(l);c&&c!=a&&(c.dom=null),a.setDOM(l)},r=this.childPos(e.range.fromB,1),s=this.children[r.i];t(e.line,s);for(let l=e.marks.length-1;l>=-1;l--)r=s.childPos(r.off,1),s=s.children[r.i],t(l>=0?e.marks[l].node:e.text,s)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,s=r==this.dom,l=!s&&!(this.view.state.facet(vr)||this.dom.tabIndex>-1)&&Ka(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(s||t||l))return;let a=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,h=this.moveToLine(this.domAtPos(c.anchor)),d=c.empty?h:this.moveToLine(this.domAtPos(c.head));if(oe.gecko&&c.empty&&!this.hasComposition&&OC(h)){let m=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(m,h.node.childNodes[h.offset]||null)),h=d=new It(m,0),a=!0}let p=this.view.observer.selectionRange;(a||!p.focusNode||(!Io(h.node,h.offset,p.anchorNode,p.anchorOffset)||!Io(d.node,d.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,c))&&(this.view.observer.ignore(()=>{oe.android&&oe.chrome&&this.dom.contains(p.focusNode)&&MC(p.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let m=Ko(this.view.root);if(m)if(c.empty){if(oe.gecko){let v=PC(h.node,h.offset);if(v&&v!=3){let x=(v==1?Tv:Lv)(h.node,h.offset);x&&(h=new It(x.node,x.offset))}}m.collapse(h.node,h.offset),c.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=c.bidiLevel)}else if(m.extend){m.collapse(h.node,h.offset);try{m.extend(d.node,d.offset)}catch{}}else{let v=document.createRange();c.anchor>c.head&&([h,d]=[d,h]),v.setEnd(d.node,d.offset),v.setStart(h.node,h.offset),m.removeAllRanges(),m.addRange(v)}l&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(h,d)),this.impreciseAnchor=h.precise?null:new It(p.anchorNode,p.anchorOffset),this.impreciseHead=d.precise?null:new It(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Io(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=Ko(e.root),{anchorNode:s,anchorOffset:l}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let a=at.find(this,t.head);if(!a)return;let c=a.posAtStart;if(t.head==c||t.head==c+a.length)return;let h=this.coordsAt(t.head,-1),d=this.coordsAt(t.head,1);if(!h||!d||h.bottom>d.top)return;let p=this.domAtPos(t.head+t.assoc);r.collapse(p.node,p.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&r.collapse(s,l)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let s=e.offset;!r&&s<t.childNodes.length;s++){let l=_e.get(t.childNodes[s]);l instanceof at&&(r=l.domAtPos(0))}for(let s=e.offset-1;!r&&s>=0;s--){let l=_e.get(t.childNodes[s]);l instanceof at&&(r=l.domAtPos(l.length))}return r?new It(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=_e.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let s=this.children[t];if(r<s.length||s instanceof at)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,s=0;for(let l=this.length,a=this.children.length-1;a>=0;a--){let c=this.children[a],h=l-c.breakAfter,d=h-c.length;if(h<e)break;if(d<=e&&(d<e||c.covers(-1))&&(h>e||c.covers(1))&&(!r||c instanceof at&&!(r instanceof at&&t>=0)))r=c,s=d;else if(r&&d==e&&h==e&&c instanceof kr&&Math.abs(t)<2){if(c.deco.startSide<0)break;a&&(r=null)}l=d}return r?r.coordsAt(e-s,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),s=this.children[t];if(!(s instanceof at))return null;for(;s.children.length;){let{i:c,off:h}=s.childPos(r,1);for(;;c++){if(c==s.children.length)return null;if((s=s.children[c]).length)break}r=h}if(!(s instanceof Fn))return null;let l=Ht(s.text,r);if(l==r)return null;let a=Ni(s.dom,r,l).getClientRects();for(let c=0;c<a.length;c++){let h=a[c];if(c==a.length-1||h.top<h.bottom&&h.left<h.right)return h}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:s}=e,l=this.view.contentDOM.clientWidth,a=l>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,h=this.view.textDirection==tt.LTR;for(let d=0,p=0;p<this.children.length;p++){let m=this.children[p],v=d+m.length;if(v>s)break;if(d>=r){let x=m.dom.getBoundingClientRect();if(t.push(x.height),a){let k=m.dom.lastChild,b=k?qo(k):[];if(b.length){let C=b[b.length-1],E=h?C.right-x.left:x.right-C.left;E>c&&(c=E,this.minWidth=l,this.minWidthFrom=d,this.minWidthTo=v)}}}d=v+m.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?tt.RTL:tt.LTR}measureTextSize(){for(let l of this.children)if(l instanceof at){let a=l.measureTextSize();if(a)return a}let e=document.createElement("div"),t,r,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let l=qo(e.firstChild)[0];t=e.getBoundingClientRect().height,r=l?l.width/27:7,s=l?l.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:s}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Iv(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,s=0;;s++){let l=s==t.viewports.length?null:t.viewports[s],a=l?l.from-1:this.length;if(a>r){let c=(t.lineBlockAt(a).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(nt.replace({widget:new Df(c),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!l)break;r=l.to+1}return nt.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Yo).map(l=>(this.dynamicDecorationMap[e++]=typeof l=="function")?l(this.view):l),r=!1,s=this.view.state.facet(ix).map((l,a)=>{let c=typeof l=="function";return c&&(r=!0),c?l(this.view):l});for(s.length&&(this.dynamicDecorationMap[e++]=r,t.push(Be.join(s))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let d=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=d.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let d of this.view.state.facet(tx))try{if(d(this.view,e.range,e))return!0}catch(p){nr(this.view.state,p,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!r)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,s.left),top:Math.min(r.top,s.top),right:Math.max(r.right,s.right),bottom:Math.max(r.bottom,s.bottom)});let l=lx(this.view),a={left:r.left-l.left,top:r.top-l.top,right:r.right+l.right,bottom:r.bottom+l.bottom},{offsetWidth:c,offsetHeight:h}=this.view.scrollDOM;rC(this.view.scrollDOM,a,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,h),-h),this.view.textDirection==tt.LTR)}lineHasWidget(e){let{i:t}=this.childCursor().findPos(e);if(t==this.children.length)return!1;let r=s=>s instanceof ei||s.children.some(r);return r(this.children[t])}}function OC(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function ax(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=Tv(t.focusNode,t.focusOffset),s=Lv(t.focusNode,t.focusOffset),l=r||s;if(s&&r&&s.node!=r.node){let c=_e.get(s.node);if(!c||c instanceof Fn&&c.text!=s.node.nodeValue)l=s;else if(n.docView.lastCompositionAfterCursor){let h=_e.get(r.node);!h||h instanceof Fn&&h.text!=r.node.nodeValue||(l=s)}}if(n.docView.lastCompositionAfterCursor=l!=r,!l)return null;let a=e-l.offset;return{from:a,to:a+l.node.nodeValue.length,node:l.node}}function CC(n,e,t){let r=ax(n,t);if(!r)return null;let{node:s,from:l,to:a}=r,c=s.nodeValue;if(/[\n\r]/.test(c)||n.state.doc.sliceString(r.from,r.to)!=c)return null;let h=e.invertedDesc,d=new wn(h.mapPos(l),h.mapPos(a),l,a),p=[];for(let m=s.parentNode;;m=m.parentNode){let v=_e.get(m);if(v instanceof Sr)p.push({node:m,deco:v.mark});else{if(v instanceof at||m.nodeName=="DIV"&&m.parentNode==n.contentDOM)return{range:d,text:s,marks:p,line:m};if(m!=n.contentDOM)p.push({node:m,deco:new ll({inclusive:!0,attributes:fC(m),tagName:m.tagName.toLowerCase()})});else return null}}}function PC(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let EC=class{constructor(){this.changes=[]}compareRange(e,t){qa(e,t,this.changes)}comparePoint(e,t){qa(e,t,this.changes)}boundChange(e){qa(e,e,this.changes)}};function AC(n,e,t){let r=new EC;return Be.compare(n,e,t,r),r.changes}function MC(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function RC(n,e){let t=!1;return e&&n.iterChangedRanges((r,s)=>{r<e.to&&s>e.from&&(t=!0)}),t}function DC(n,e,t=1){let r=n.charCategorizer(e),s=n.doc.lineAt(e),l=e-s.from;if(s.length==0)return te.cursor(e);l==0?t=1:l==s.length&&(t=-1);let a=l,c=l;t<0?a=Ht(s.text,l,!1):c=Ht(s.text,l);let h=r(s.text.slice(a,c));for(;a>0;){let d=Ht(s.text,a,!1);if(r(s.text.slice(d,a))!=h)break;a=d}for(;c<s.length;){let d=Ht(s.text,c);if(r(s.text.slice(c,d))!=h)break;c=d}return te.range(a+s.from,c+s.from)}function NC(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function TC(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function zh(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function h0(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function f0(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function jf(n,e,t){let r,s,l,a,c=!1,h,d,p,m;for(let k=n.firstChild;k;k=k.nextSibling){let b=qo(k);for(let C=0;C<b.length;C++){let E=b[C];s&&zh(s,E)&&(E=h0(f0(E,s.bottom),s.top));let R=NC(e,E),N=TC(t,E);if(R==0&&N==0)return k.nodeType==3?d0(k,e,t):jf(k,e,t);(!r||a>N||a==N&&l>R)&&(r=k,s=E,l=R,a=N,c=R?e<E.left?C>0:C<b.length-1:!0),R==0?t>E.bottom&&(!p||p.bottom<E.bottom)?(h=k,p=E):t<E.top&&(!m||m.top>E.top)&&(d=k,m=E):p&&zh(p,E)?p=f0(p,E.bottom):m&&zh(m,E)&&(m=h0(m,E.top))}}if(p&&p.bottom>=t?(r=h,s=p):m&&m.top<=t&&(r=d,s=m),!r)return{node:n,offset:0};let v=Math.max(s.left,Math.min(s.right,e));if(r.nodeType==3)return d0(r,v,t);if(c&&r.contentEditable!="false")return jf(r,v,t);let x=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(s.left+s.right)/2?1:0);return{node:n,offset:x}}function d0(n,e,t){let r=n.nodeValue.length,s=-1,l=1e9,a=0;for(let c=0;c<r;c++){let h=Ni(n,c,c+1).getClientRects();for(let d=0;d<h.length;d++){let p=h[d];if(p.top==p.bottom)continue;a||(a=e-p.left);let m=(p.top>t?p.top-t:t-p.bottom)-1;if(p.left-1<=e&&p.right+1>=e&&m<l){let v=e>=(p.left+p.right)/2,x=v;if(oe.chrome||oe.gecko){let k=Ni(n,c).getBoundingClientRect();Math.abs(k.left-p.right)<.1&&(x=!v)}if(m<=0)return{node:n,offset:c+(x?1:0)};s=c+(x?1:0),l=m}}}return{node:n,offset:s>-1?s:a>0?n.nodeValue.length:0}}function ux(n,e,t,r=-1){var s,l;let a=n.contentDOM.getBoundingClientRect(),c=a.top+n.viewState.paddingTop,h,{docHeight:d}=n.viewState,{x:p,y:m}=e,v=m-c;if(v<0)return 0;if(v>d)return n.state.doc.length;for(let _=n.viewState.heightOracle.textHeight/2,T=!1;h=n.elementAtHeight(v),h.type!=Wt.Text;)for(;v=r>0?h.bottom+_:h.top-_,!(v>=0&&v<=d);){if(T)return t?null:0;T=!0,r=-r}m=c+v;let x=h.from;if(x<n.viewport.from)return n.viewport.from==0?0:t?null:p0(n,a,h,p,m);if(x>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:p0(n,a,h,p,m);let k=n.dom.ownerDocument,b=n.root.elementFromPoint?n.root:k,C=b.elementFromPoint(p,m);C&&!n.contentDOM.contains(C)&&(C=null),C||(p=Math.max(a.left+1,Math.min(a.right-1,p)),C=b.elementFromPoint(p,m),C&&!n.contentDOM.contains(C)&&(C=null));let E,R=-1;if(C&&((s=n.docView.nearest(C))===null||s===void 0?void 0:s.isEditable)!=!1){if(k.caretPositionFromPoint){let _=k.caretPositionFromPoint(p,m);_&&({offsetNode:E,offset:R}=_)}else if(k.caretRangeFromPoint){let _=k.caretRangeFromPoint(p,m);_&&({startContainer:E,startOffset:R}=_)}E&&(!n.contentDOM.contains(E)||oe.safari&&LC(E,R,p)||oe.chrome&&IC(E,R,p))&&(E=void 0),E&&(R=Math.min(ir(E),R))}if(!E||!n.docView.dom.contains(E)){let _=at.find(n.docView,x);if(!_)return v>h.top+h.height/2?h.to:h.from;({node:E,offset:R}=jf(_.dom,p,m))}let N=n.docView.nearest(E);if(!N)return null;if(N.isWidget&&((l=N.dom)===null||l===void 0?void 0:l.nodeType)==1){let _=N.dom.getBoundingClientRect();return e.y<_.top||e.y<=_.bottom&&e.x<=(_.left+_.right)/2?N.posAtStart:N.posAtEnd}else return N.localPosFromDOM(E,R)+N.posAtStart}function p0(n,e,t,r,s){let l=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let c=n.viewState.heightOracle.textHeight,h=Math.floor((s-t.top-(n.defaultLineHeight-c)*.5)/c);l+=h*n.viewState.heightOracle.lineLength}let a=n.state.sliceDoc(t.from,t.to);return t.from+YO(a,l,n.state.tabSize)}function cx(n,e,t){let r,s=n;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(;;){let l=s.nextSibling;if(l){if(l.nodeName=="BR")break;return!1}else{let a=s.parentNode;if(!a||a.nodeName=="DIV")break;s=a}}return Ni(n,r-1,r).getBoundingClientRect().right>t}function LC(n,e,t){return cx(n,e,t)}function IC(n,e,t){if(e!=0)return cx(n,e,t);for(let s=n;;){let l=s.parentNode;if(!l||l.nodeType!=1||l.firstChild!=s)return!1;if(l.classList.contains("cm-line"))break;s=l}let r=n.nodeType==1?n.getBoundingClientRect():Ni(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function Bf(n,e,t){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){let s;for(let l of r.type){if(l.from>e)break;if(!(l.to<e)){if(l.from<e&&l.to>e)return l;(!s||l.type==Wt.Text&&(s.type!=l.type||(t<0?l.from<e:l.to>e)))&&(s=l)}}return s||r}return r}function jC(n,e,t,r){let s=Bf(n,e.head,e.assoc||-1),l=!r||s.type!=Wt.Text||!(n.lineWrapping||s.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(l){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(s.from),h=n.posAtCoords({x:t==(c==tt.LTR)?a.right-1:a.left+1,y:(l.top+l.bottom)/2});if(h!=null)return te.cursor(h,t?-1:1)}return te.cursor(t?s.to:s.from,t?-1:1)}function g0(n,e,t,r){let s=n.state.doc.lineAt(e.head),l=n.bidiSpans(s),a=n.textDirectionAt(s.from);for(let c=e,h=null;;){let d=kC(s,l,a,c,t),p=Uv;if(!d){if(s.number==(t?n.state.doc.lines:1))return c;p=`
`,s=n.state.doc.line(s.number+(t?1:-1)),l=n.bidiSpans(s),d=n.visualLineSide(s,!t)}if(h){if(!h(p))return c}else{if(!r)return d;h=r(p)}c=d}}function BC(n,e,t){let r=n.state.charCategorizer(e),s=r(t);return l=>{let a=r(l);return s==xr.Space&&(s=a),s==a}}function zC(n,e,t,r){let s=e.head,l=t?1:-1;if(s==(t?n.state.doc.length:0))return te.cursor(s,e.assoc);let a=e.goalColumn,c,h=n.contentDOM.getBoundingClientRect(),d=n.coordsAtPos(s,e.assoc||-1),p=n.documentTop;if(d)a==null&&(a=d.left-h.left),c=l<0?d.top:d.bottom;else{let x=n.viewState.lineBlockAt(s);a==null&&(a=Math.min(h.right-h.left,n.defaultCharacterWidth*(s-x.from))),c=(l<0?x.top:x.bottom)+p}let m=h.left+a,v=r??n.viewState.heightOracle.textHeight>>1;for(let x=0;;x+=10){let k=c+(v+x)*l,b=ux(n,{x:m,y:k},!1,l);if(k<h.top||k>h.bottom||(l<0?b<s:b>s)){let C=n.docView.coordsForChar(b),E=!C||k<C.top?-1:1;return te.cursor(b,E,void 0,a)}}}function Bo(n,e,t){for(;;){let r=0;for(let s of n)s.between(e-1,e+1,(l,a,c)=>{if(e>l&&e<a){let h=r||t||(e-l<a-e?-1:1);e=h<0?l:a,r=h}});if(!r)return e}}function hx(n,e){let t=null;for(let r=0;r<e.ranges.length;r++){let s=e.ranges[r],l=null;if(s.empty){let a=Bo(n,s.from,0);a!=s.from&&(l=te.cursor(a,-1))}else{let a=Bo(n,s.from,-1),c=Bo(n,s.to,1);(a!=s.from||c!=s.to)&&(l=te.range(s.from==s.anchor?a:c,s.from==s.head?a:c))}l&&(t||(t=e.ranges.slice()),t[r]=l)}return t?te.create(t,e.mainIndex):e}function Fh(n,e,t){let r=Bo(n.state.facet(ul).map(s=>s(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:te.cursor(r,r<t.from?1:-1)}const Po="";class FC{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(je.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Po}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let s=e;;){this.findPointBefore(r,s);let l=this.text.length;this.readNode(s);let a=s.nextSibling;if(a==t)break;let c=_e.get(s),h=_e.get(a);(c&&h?c.breakAfter:(c?c.breakAfter:hu(s))||hu(a)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>l)&&!VC(a,t)&&this.lineBreak(),s=a}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let l=-1,a=1,c;if(this.lineSeparator?(l=t.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(c=s.exec(t))&&(l=c.index,a=c[0].length),this.append(t.slice(r,l<0?t.length:l)),l<0)break;if(this.lineBreak(),a>1)for(let h of this.points)h.node==e&&h.pos>this.text.length&&(h.pos-=a-1);r=l+a}}readNode(e){if(e.cmIgnore)return;let t=_e.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let s=r.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(_C(e,r.node,r.offset)?t:0))}}function _C(n,e,t){for(;;){if(!e||t<ir(e))return!1;if(e==n)return!0;t=Di(e)+1,e=e.parentNode}}function VC(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let r=_e.get(n);if(!(r!=null&&r.isWidget||n.cmIgnore))return!1;r&&(t||(t=[])).push(r)}if(t)for(let r of t){let s=r.overrideDOMText;if(s!=null&&s.length)return!1}return!0}class m0{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class HC{constructor(e,t,r,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:l,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let c=l||a?[]:QC(e),h=new FC(c,e.state);h.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=h.text,this.newSel=$C(c,this.bounds.from)}else{let c=e.observer.selectionRange,h=l&&l.node==c.focusNode&&l.offset==c.focusOffset||!Af(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),d=a&&a.node==c.anchorNode&&a.offset==c.anchorOffset||!Af(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),p=e.viewport;if((oe.ios||oe.chrome)&&e.state.selection.main.empty&&h!=d&&(p.from>0||p.to<e.state.doc.length)){let m=Math.min(h,d),v=Math.max(h,d),x=p.from-m,k=p.to-v;(x==0||x==1||m==0)&&(k==0||k==-1||v==e.state.doc.length)&&(h=0,d=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(te.range(d,h)):this.newSel=te.single(d,h)}}}function fx(n,e){let t,{newSel:r}=e,s=n.state.selection.main,l=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:c}=e.bounds,h=s.from,d=null;(l===8||oe.android&&e.text.length<c-a)&&(h=s.to,d="end");let p=dx(n.state.doc.sliceString(a,c,Po),e.text,h-a,d);p&&(oe.chrome&&l==13&&p.toB==p.from+2&&e.text.slice(p.from,p.toB)==Po+Po&&p.toB--,t={from:a+p.from,to:a+p.toA,insert:Te.of(e.text.slice(p.from,p.toB).split(Po))})}else r&&(!n.hasFocus&&n.state.facet(vr)||r.main.eq(s))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!s.empty&&r&&r.main.empty?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:(oe.mac||oe.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=te.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:Te.of([t.insert.toString().replace("."," ")])}):t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,s.to))}:n.state.doc.lineAt(s.from).to<s.to&&n.docView.lineHasWidget(s.to)&&n.inputState.insertingTextAt>Date.now()-50?t={from:s.from,to:s.to,insert:n.state.toText(n.inputState.insertingText)}:oe.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=te.single(r.main.anchor-1,r.main.head-1)),t={from:s.from,to:s.to,insert:Te.of([" "])}),t)return Cd(n,t,r,l);if(r&&!r.main.eq(s)){let a=!1,c="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(a=!0),c=n.inputState.lastSelectionOrigin,c=="select.pointer"&&(r=hx(n.state.facet(ul).map(h=>h(n)),r))),n.dispatch({selection:r,scrollIntoView:a,userEvent:c}),!0}else return!1}function Cd(n,e,t,r=-1){if(oe.ios&&n.inputState.flushIOSKey(e))return!0;let s=n.state.selection.main;if(oe.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&n.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&gs(n.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&gs(n.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&gs(n.contentDOM,"Delete",46)))return!0;let l=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let a,c=()=>a||(a=WC(n,e,t));return n.state.facet(Gv).some(h=>h(n,e.from,e.to,l,c))||n.dispatch(c()),!0}function WC(n,e,t){let r,s=n.state,l=s.selection.main,a=-1;if(e.from==e.to&&e.from<l.from||e.from>l.to){let h=e.from<l.from?-1:1,d=h<0?l.from:l.to,p=Bo(s.facet(ul).map(m=>m(n)),d,h);e.from==p&&(a=p)}if(a>-1)r={changes:e,selection:te.cursor(e.from+e.insert.length,-1)};else if(e.from>=l.from&&e.to<=l.to&&e.to-e.from>=(l.to-l.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let h=l.from<e.from?s.sliceDoc(l.from,e.from):"",d=l.to>e.to?s.sliceDoc(e.to,l.to):"";r=s.replaceSelection(n.state.toText(h+e.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let h=s.changes(e),d=t&&t.main.to<=h.newLength?t.main:void 0;if(s.selection.ranges.length>1&&(n.inputState.composing>=0||n.inputState.compositionPendingChange)&&e.to<=l.to+10&&e.to>=l.to-10){let p=n.state.sliceDoc(e.from,e.to),m,v=t&&ax(n,t.main.head);if(v){let k=e.insert.length-(e.to-e.from);m={from:v.from,to:v.to-k}}else m=n.state.doc.lineAt(l.head);let x=l.to-e.to;r=s.changeByRange(k=>{if(k.from==l.from&&k.to==l.to)return{changes:h,range:d||k.map(h)};let b=k.to-x,C=b-p.length;if(n.state.sliceDoc(C,b)!=p||b>=m.from&&C<=m.to)return{range:k};let E=s.changes({from:C,to:b,insert:e.insert}),R=k.to-l.to;return{changes:E,range:d?te.range(Math.max(0,d.anchor+R),Math.max(0,d.head+R)):k.map(E)}})}else r={changes:h,selection:d&&s.selection.replaceRange(d)}}let c="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,c+=".compose",n.inputState.compositionFirstChange&&(c+=".start",n.inputState.compositionFirstChange=!1)),s.update(r,{userEvent:c,scrollIntoView:!0})}function dx(n,e,t,r){let s=Math.min(n.length,e.length),l=0;for(;l<s&&n.charCodeAt(l)==e.charCodeAt(l);)l++;if(l==s&&n.length==e.length)return null;let a=n.length,c=e.length;for(;a>0&&c>0&&n.charCodeAt(a-1)==e.charCodeAt(c-1);)a--,c--;if(r=="end"){let h=Math.max(0,l-Math.min(a,c));t-=a+h-l}if(a<l&&n.length<e.length){let h=t<=l&&t>=a?l-t:0;l-=h,c=l+(c-a),a=l}else if(c<l){let h=t<=l&&t>=c?l-t:0;l-=h,a=l+(a-c),c=l}return{from:l,toA:a,toB:c}}function QC(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:l}=n.observer.selectionRange;return t&&(e.push(new m0(t,r)),(s!=t||l!=r)&&e.push(new m0(s,l))),e}function $C(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?te.single(t+e,r+e):null}class UC{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,oe.safari&&e.contentDOM.addEventListener("input",()=>null),oe.gecko&&a2(e.contentDOM.ownerDocument)}handleEvent(e){!e2(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let s of r.observers)s(this.view,t);for(let s of r.handlers){if(t.defaultPrevented)break;if(s(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=XC(e),r=this.handlers,s=this.view.contentDOM;for(let l in t)if(l!="scroll"){let a=!t[l].handlers.length,c=r[l];c&&a!=!c.handlers.length&&(s.removeEventListener(l,this.handleEvent),c=null),c||s.addEventListener(l,this.handleEvent,{passive:a})}for(let l in r)l!="scroll"&&!t[l]&&s.removeEventListener(l,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&gx.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),oe.android&&oe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return oe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=px.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||KC.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,gs(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:oe.safari&&!oe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function y0(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(s){nr(t.state,s)}}}function XC(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let s=r.spec,l=s&&s.plugin.domEventHandlers,a=s&&s.plugin.domEventObservers;if(l)for(let c in l){let h=l[c];h&&t(c).handlers.push(y0(r.value,h))}if(a)for(let c in a){let h=a[c];h&&t(c).observers.push(y0(r.value,h))}}for(let r in Vn)t(r).handlers.push(Vn[r]);for(let r in Sn)t(r).observers.push(Sn[r]);return e}const px=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],KC="dthko",gx=[16,17,18,20,91,92,224,225],Ra=6;function Da(n){return Math.max(0,n)*.7+8}function qC(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class YC{constructor(e,t,r,s){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=iC(e.contentDOM),this.atoms=e.state.facet(ul).map(a=>a(e));let l=e.contentDOM.ownerDocument;l.addEventListener("mousemove",this.move=this.move.bind(this)),l.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(je.allowMultipleSelections)&&GC(e,t),this.dragging=ZC(e,t)&&vx(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&qC(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,s=0,l=0,a=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:l,bottom:c}=this.scrollParents.y.getBoundingClientRect());let h=lx(this.view);e.clientX-h.left<=s+Ra?t=-Da(s-e.clientX):e.clientX+h.right>=a-Ra&&(t=Da(e.clientX-a)),e.clientY-h.top<=l+Ra?r=-Da(l-e.clientY):e.clientY+h.bottom>=c-Ra&&(r=Da(e.clientY-c)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,r=hx(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function GC(n,e){let t=n.state.facet(Xv);return t.length?t[0](e):oe.mac?e.metaKey:e.ctrlKey}function JC(n,e){let t=n.state.facet(Kv);return t.length?t[0](e):oe.mac?!e.altKey:!e.ctrlKey}function ZC(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=Ko(n.root);if(!r||r.rangeCount==0)return!0;let s=r.getRangeAt(0).getClientRects();for(let l=0;l<s.length;l++){let a=s[l];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function e2(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=_e.get(t))&&r.ignoreEvent(e))return!1;return!0}const Vn=Object.create(null),Sn=Object.create(null),mx=oe.ie&&oe.ie_version<15||oe.ios&&oe.webkit_version<604;function t2(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),yx(n,t.value)},50)}function Lu(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function yx(n,e){e=Lu(n.state,Sd,e);let{state:t}=n,r,s=1,l=t.toText(e),a=l.lines==t.selection.ranges.length;if(zf!=null&&t.selection.ranges.every(h=>h.empty)&&zf==l.toString()){let h=-1;r=t.changeByRange(d=>{let p=t.doc.lineAt(d.from);if(p.from==h)return{range:d};h=p.from;let m=t.toText((a?l.line(s++).text:e)+t.lineBreak);return{changes:{from:p.from,insert:m},range:te.cursor(d.from+m.length)}})}else a?r=t.changeByRange(h=>{let d=l.line(s++);return{changes:{from:h.from,to:h.to,insert:d.text},range:te.cursor(h.from+d.length)}}):r=t.replaceSelection(l);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Sn.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Vn.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Sn.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Sn.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Vn.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(qv))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=i2(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new YC(n,e,t,r)),r&&n.observer.ignore(()=>{Rv(n.contentDOM);let l=n.root.activeElement;l&&!l.contains(n.contentDOM)&&l.blur()});let s=n.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function v0(n,e,t,r){if(r==1)return te.cursor(e,t);if(r==2)return DC(n.state,e,t);{let s=at.find(n.docView,e),l=n.state.doc.lineAt(s?s.posAtEnd:e),a=s?s.posAtStart:l.from,c=s?s.posAtEnd:l.to;return c<n.state.doc.length&&c==l.to&&c++,te.range(a,c)}}let x0=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function n2(n,e,t,r){let s=at.find(n.docView,e);if(!s)return 1;let l=e-s.posAtStart;if(l==0)return 1;if(l==s.length)return-1;let a=s.coordsAt(l,-1);if(a&&x0(t,r,a))return-1;let c=s.coordsAt(l,1);return c&&x0(t,r,c)?1:a&&a.bottom>=r?-1:1}function w0(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:n2(n,t,e.clientX,e.clientY)}}const r2=oe.ie&&oe.ie_version<=11;let k0=null,S0=0,b0=0;function vx(n){if(!r2)return n.detail;let e=k0,t=b0;return k0=n,b0=Date.now(),S0=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(S0+1)%3:1}function i2(n,e){let t=w0(n,e),r=vx(e),s=n.state.selection;return{update(l){l.docChanged&&(t.pos=l.changes.mapPos(t.pos),s=s.map(l.changes))},get(l,a,c){let h=w0(n,l),d,p=v0(n,h.pos,h.bias,r);if(t.pos!=h.pos&&!a){let m=v0(n,t.pos,t.bias,r),v=Math.min(m.from,p.from),x=Math.max(m.to,p.to);p=v<p.from?te.range(v,x):te.range(x,v)}return a?s.replaceRange(s.main.extend(p.from,p.to)):c&&r==1&&s.ranges.length>1&&(d=s2(s,h.pos))?d:c?s.addRange(p):te.create([p])}}}function s2(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:s}=n.ranges[t];if(r<=e&&s>=e)return te.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Vn.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let s=n.docView.nearest(e.target);if(s&&s.isWidget){let l=s.posAtStart,a=l+s.length;(l>=t.to||a<=t.from)&&(t=te.range(l,a))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Lu(n.state,bd,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Vn.dragend=n=>(n.inputState.draggedContent=null,!1);function O0(n,e,t,r){if(t=Lu(n.state,Sd,t),!t)return;let s=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:l}=n.inputState,a=r&&l&&JC(n,e)?{from:l.from,to:l.to}:null,c={from:s,insert:t},h=n.state.changes(a?[a,c]:c);n.focus(),n.dispatch({changes:h,selection:{anchor:h.mapPos(s,-1),head:h.mapPos(s,1)},userEvent:a?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Vn.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),s=0,l=()=>{++s==t.length&&O0(n,e,r.filter(a=>a!=null).join(n.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let c=new FileReader;c.onerror=l,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(r[a]=c.result),l()},c.readAsText(t[a])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return O0(n,e,r,!0),!0}return!1};Vn.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=mx?null:e.clipboardData;return t?(yx(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(t2(n),!1)};function o2(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function l2(n){let e=[],t=[],r=!1;for(let s of n.selection.ranges)s.empty||(e.push(n.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:l}of n.selection.ranges){let a=n.doc.lineAt(l);a.number>s&&(e.push(a.text),t.push({from:a.from,to:Math.min(n.doc.length,a.to+1)})),s=a.number}r=!0}return{text:Lu(n,bd,e.join(n.lineBreak)),ranges:t,linewise:r}}let zf=null;Vn.copy=Vn.cut=(n,e)=>{let{text:t,ranges:r,linewise:s}=l2(n.state);if(!t&&!s)return!1;zf=s?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let l=mx?null:e.clipboardData;return l?(l.clearData(),l.setData("text/plain",t),!0):(o2(n,t),!1)};const xx=Rs.define();function wx(n,e){let t=[];for(let r of n.facet(Jv)){let s=r(n,e);s&&t.push(s)}return t.length?n.update({effects:t,annotations:xx.of(!0)}):null}function kx(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=wx(n.state,e);t?n.dispatch(t):n.update([])}},10)}Sn.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),kx(n)};Sn.blur=n=>{n.observer.clearSelectionRange(),kx(n)};Sn.compositionstart=Sn.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Sn.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,oe.chrome&&oe.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Sn.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Vn.beforeinput=(n,e)=>{var t,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(n.inputState.insertingText=e.data,n.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&n.observer.editContext){let l=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),a=e.getTargetRanges();if(l&&a.length){let c=a[0],h=n.posAtDOM(c.startContainer,c.startOffset),d=n.posAtDOM(c.endContainer,c.endOffset);return Cd(n,{from:h,to:d,insert:n.state.toText(l)},null),!0}}let s;if(oe.chrome&&oe.android&&(s=px.find(l=>l.inputType==e.inputType))&&(n.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let l=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>l+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return oe.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),oe.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Sn.compositionend(n,e),20),!1};const C0=new Set;function a2(n){C0.has(n)||(C0.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const P0=["pre-wrap","normal","pre-line","break-spaces"];let Ss=!1;function E0(){Ss=!1}class u2{constructor(e){this.lineWrapping=e,this.doc=Te.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return P0.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let s=e[r];s<0?r++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,r,s,l,a){let c=P0.indexOf(e)>-1,h=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=r,this.textHeight=s,this.lineLength=l,h){this.heightSamples={};for(let d=0;d<a.length;d++){let p=a[d];p<0?d++:this.heightSamples[Math.floor(p*10)]=!0}}return h}}class c2{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class tr{constructor(e,t,r,s,l){this.from=e,this.length=t,this.top=r,this.height=s,this._content=l}get type(){return typeof this._content=="number"?Wt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof li?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new tr(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var $e=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})($e||($e={}));const Ya=.001;class Qt{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Ya&&(Ss=!0),this.height=e)}replace(e,t,r){return Qt.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,s){let l=this,a=r.doc;for(let c=s.length-1;c>=0;c--){let{fromA:h,toA:d,fromB:p,toB:m}=s[c],v=l.lineAt(h,$e.ByPosNoHeight,r.setDoc(t),0,0),x=v.to>=d?v:l.lineAt(d,$e.ByPosNoHeight,r,0,0);for(m+=x.to-d,d=x.to;c>0&&v.from<=s[c-1].toA;)h=s[c-1].fromA,p=s[c-1].fromB,c--,h<v.from&&(v=l.lineAt(h,$e.ByPosNoHeight,r,0,0));p+=v.from-h,h=v.from;let k=Pd.build(r.setDoc(a),e,p,m);l=pu(l,l.replace(h,d,k))}return l.updateHeight(r,0)}static empty(){return new un(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,s=0,l=0;for(;;)if(t==r)if(s>l*2){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),r+=1+c.break,s-=c.size}else if(l>s*2){let c=e[r];c.break?e.splice(r,1,c.left,null,c.right):e.splice(r,1,c.left,c.right),r+=2+c.break,l-=c.size}else break;else if(s<l){let c=e[t++];c&&(s+=c.size)}else{let c=e[--r];c&&(l+=c.size)}let a=0;return e[t-1]==null?(a=1,t--):e[t]==null&&(a=1,r++),new h2(Qt.of(e.slice(0,t)),a,Qt.of(e.slice(r)))}}function pu(n,e){return n==e?n:(n.constructor!=e.constructor&&(Ss=!0),e)}Qt.prototype.size=1;class Sx extends Qt{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,s){return new tr(s,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,s,l){return this.blockAt(0,r,s,l)}forEachLine(e,t,r,s,l,a){e<=l+this.length&&t>=l&&a(this.blockAt(0,r,s,l))}updateHeight(e,t=0,r=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class un extends Sx{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,s){return new tr(s,this.length,r,this.height,this.breaks)}replace(e,t,r){let s=r[0];return r.length==1&&(s instanceof un||s instanceof bt&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof bt?s=new un(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):Qt.of(r)}updateHeight(e,t=0,r=!1,s){return s&&s.from<=t&&s.more?this.setHeight(s.heights[s.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class bt extends Qt{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,l=s-r+1,a,c=0;if(e.lineWrapping){let h=Math.min(this.height,e.lineHeight*l);a=h/l,this.length>l+1&&(c=(this.height-h)/(this.length-l-1))}else a=this.height/l;return{firstLine:r,lastLine:s,perLine:a,perChar:c}}blockAt(e,t,r,s){let{firstLine:l,lastLine:a,perLine:c,perChar:h}=this.heightMetrics(t,s);if(t.lineWrapping){let d=s+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),p=t.doc.lineAt(d),m=c+p.length*h,v=Math.max(r,e-m/2);return new tr(p.from,p.length,v,m,0)}else{let d=Math.max(0,Math.min(a-l,Math.floor((e-r)/c))),{from:p,length:m}=t.doc.line(l+d);return new tr(p,m,r+c*d,c,0)}}lineAt(e,t,r,s,l){if(t==$e.ByHeight)return this.blockAt(e,r,s,l);if(t==$e.ByPosNoHeight){let{from:x,to:k}=r.doc.lineAt(e);return new tr(x,k-x,0,0,0)}let{firstLine:a,perLine:c,perChar:h}=this.heightMetrics(r,l),d=r.doc.lineAt(e),p=c+d.length*h,m=d.number-a,v=s+c*m+h*(d.from-l-m);return new tr(d.from,d.length,Math.max(s,Math.min(v,s+this.height-p)),p,0)}forEachLine(e,t,r,s,l,a){e=Math.max(e,l),t=Math.min(t,l+this.length);let{firstLine:c,perLine:h,perChar:d}=this.heightMetrics(r,l);for(let p=e,m=s;p<=t;){let v=r.doc.lineAt(p);if(p==e){let k=v.number-c;m+=h*k+d*(e-l-k)}let x=h+d*v.length;a(new tr(v.from,v.length,m,x,0)),m+=x,p=v.to+1}}replace(e,t,r){let s=this.length-t;if(s>0){let l=r[r.length-1];l instanceof bt?r[r.length-1]=new bt(l.length+s):r.push(null,new bt(s-1))}if(e>0){let l=r[0];l instanceof bt?r[0]=new bt(e+l.length):r.unshift(new bt(e-1),null)}return Qt.of(r)}decomposeLeft(e,t){t.push(new bt(e-1),null)}decomposeRight(e,t){t.push(null,new bt(this.length-e-1))}updateHeight(e,t=0,r=!1,s){let l=t+this.length;if(s&&s.from<=t+this.length&&s.more){let a=[],c=Math.max(t,s.from),h=-1;for(s.from>t&&a.push(new bt(s.from-t-1).updateHeight(e,t));c<=l&&s.more;){let p=e.doc.lineAt(c).length;a.length&&a.push(null);let m=s.heights[s.index++];h==-1?h=m:Math.abs(m-h)>=Ya&&(h=-2);let v=new un(p,m);v.outdated=!1,a.push(v),c+=p+1}c<=l&&a.push(null,new bt(l-c).updateHeight(e,c));let d=Qt.of(a);return(h<0||Math.abs(d.height-this.height)>=Ya||Math.abs(h-this.heightMetrics(e,t).perLine)>=Ya)&&(Ss=!0),pu(this,d)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class h2 extends Qt{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,s){let l=r+this.left.height;return e<l?this.left.blockAt(e,t,r,s):this.right.blockAt(e,t,l,s+this.left.length+this.break)}lineAt(e,t,r,s,l){let a=s+this.left.height,c=l+this.left.length+this.break,h=t==$e.ByHeight?e<a:e<c,d=h?this.left.lineAt(e,t,r,s,l):this.right.lineAt(e,t,r,a,c);if(this.break||(h?d.to<c:d.from>c))return d;let p=t==$e.ByPosNoHeight?$e.ByPosNoHeight:$e.ByPos;return h?d.join(this.right.lineAt(c,p,r,a,c)):this.left.lineAt(c,p,r,s,l).join(d)}forEachLine(e,t,r,s,l,a){let c=s+this.left.height,h=l+this.left.length+this.break;if(this.break)e<h&&this.left.forEachLine(e,t,r,s,l,a),t>=h&&this.right.forEachLine(e,t,r,c,h,a);else{let d=this.lineAt(h,$e.ByPos,r,s,l);e<d.from&&this.left.forEachLine(e,d.from-1,r,s,l,a),d.to>=e&&d.from<=t&&a(d),t>d.to&&this.right.forEachLine(d.to+1,t,r,c,h,a)}}replace(e,t,r){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,r));let l=[];e>0&&this.decomposeLeft(e,l);let a=l.length;for(let c of r)l.push(c);if(e>0&&A0(l,a-1),t<this.length){let c=l.length;this.decomposeRight(t,l),A0(l,c)}return Qt.of(l)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,s=r+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Qt.of(this.break?[e,null,t]:[e,t]):(this.left=pu(this.left,e),this.right=pu(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,s){let{left:l,right:a}=this,c=t+l.length+this.break,h=null;return s&&s.from<=t+l.length&&s.more?h=l=l.updateHeight(e,t,r,s):l.updateHeight(e,t,r),s&&s.from<=c+a.length&&s.more?h=a=a.updateHeight(e,c,r,s):a.updateHeight(e,c,r),h?this.balanced(l,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function A0(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof bt&&(r=n[e+1])instanceof bt&&n.splice(e-1,3,new bt(t.length+1+r.length))}const f2=5;class Pd{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof un?s.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new un(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let s=r.widget?r.widget.estimatedHeight:0,l=r.widget?r.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let a=t-e;r.block?this.addBlock(new Sx(a,s,r)):(a||l||s>=f2)&&this.addLineDeco(s,l,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new un(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new bt(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof un)return e;let t=new un(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let s=this.ensureLine();s.length+=r,s.collapsed+=r,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof un)&&!this.isCovered?this.nodes.push(new un(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let s of this.nodes)s instanceof un&&s.updateHeight(this.oracle,r),r+=s?s.length:1;return this.nodes}static build(e,t,r,s){let l=new Pd(r,e);return Be.spans(t,r,s,l,0),l.finish(r)}}function d2(n,e,t){let r=new p2;return Be.compare(n,e,t,r,0),r.changes}class p2{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,s){(e<t||r&&r.heightRelevant||s&&s.heightRelevant)&&qa(e,t,this.changes,5)}}function g2(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,s=r.defaultView||window,l=Math.max(0,t.left),a=Math.min(s.innerWidth,t.right),c=Math.max(0,t.top),h=Math.min(s.innerHeight,t.bottom);for(let d=n.parentNode;d&&d!=r.body;)if(d.nodeType==1){let p=d,m=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&m.overflow!="visible"){let v=p.getBoundingClientRect();l=Math.max(l,v.left),a=Math.min(a,v.right),c=Math.max(c,v.top),h=Math.min(d==n.parentNode?s.innerHeight:h,v.bottom)}d=m.position=="absolute"||m.position=="fixed"?p.offsetParent:p.parentNode}else if(d.nodeType==11)d=d.host;else break;return{left:l-t.left,right:Math.max(l,a)-t.left,top:c-(t.top+e),bottom:Math.max(c,h)-(t.top+e)}}function m2(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function y2(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class _h{constructor(e,t,r,s){this.from=e,this.to=t,this.size=r,this.displaySize=s}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],l=t[r];if(s.from!=l.from||s.to!=l.to||s.size!=l.size)return!1}return!0}draw(e,t){return nt.replace({widget:new v2(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class v2 extends ol{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class M0{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=R0,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=tt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Od).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new u2(t),this.stateDeco=e.facet(Yo).filter(r=>typeof r!="function"),this.heightMap=Qt.empty().applyChanges(this.stateDeco,Te.empty,this.heightOracle.setDoc(e.doc),[new wn(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=nt.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let s=r?t.head:t.anchor;if(!e.some(({from:l,to:a})=>s>=l&&s<=a)){let{from:l,to:a}=this.lineBlockAt(s);e.push(new Na(l,a))}}return this.viewports=e.sort((r,s)=>r.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?R0:new Ed(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Eo(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Yo).filter(p=>typeof p!="function");let s=e.changedRanges,l=wn.extendWithRanges(s,d2(r,this.stateDeco,e?e.changes:vt.empty(this.state.doc.length))),a=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);E0(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),l),(this.heightMap.height!=a||Ss)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let h=l.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<h.from||t.range.head>h.to)||!this.viewportIsAppropriate(h))&&(h=this.getViewport(0,t));let d=h.from!=this.viewport.from||h.to!=this.viewport.to;this.viewport=h,e.flags|=this.updateForViewport(),(d||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(ex)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),s=this.heightOracle,l=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?tt.RTL:tt.LTR;let a=this.heightOracle.mustRefreshForWrapping(l),c=t.getBoundingClientRect(),h=a||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let d=0,p=0;if(c.width&&c.height){let{scaleX:_,scaleY:T}=Mv(t,c);(_>.005&&Math.abs(this.scaleX-_)>.005||T>.005&&Math.abs(this.scaleY-T)>.005)&&(this.scaleX=_,this.scaleY=T,d|=16,a=h=!0)}let m=(parseInt(r.paddingTop)||0)*this.scaleY,v=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=v)&&(this.paddingTop=m,this.paddingBottom=v,d|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(h=!0),this.editorWidth=e.scrollDOM.clientWidth,d|=16);let x=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=Nv(e.scrollDOM);let k=(this.printing?y2:g2)(t,this.paddingTop),b=k.top-this.pixelViewport.top,C=k.bottom-this.pixelViewport.bottom;this.pixelViewport=k;let E=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(E!=this.inView&&(this.inView=E,E&&(h=!0)),!this.inView&&!this.scrollTarget&&!m2(e.dom))return 0;let R=c.width;if((this.contentDOMWidth!=R||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,d|=16),h){let _=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(_)&&(a=!0),a||s.lineWrapping&&Math.abs(R-this.contentDOMWidth)>s.charWidth){let{lineHeight:T,charWidth:F,textHeight:B}=e.docView.measureTextSize();a=T>0&&s.refresh(l,T,F,B,Math.max(5,R/F),_),a&&(e.docView.minWidth=0,d|=16)}b>0&&C>0?p=Math.max(b,C):b<0&&C<0&&(p=Math.min(b,C)),E0();for(let T of this.viewports){let F=T.from==this.viewport.from?_:e.docView.measureVisibleLineHeights(T);this.heightMap=(a?Qt.empty().applyChanges(this.stateDeco,Te.empty,this.heightOracle,[new wn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,a,new c2(T.from,F))}Ss&&(d|=2)}let N=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return N&&(d&2&&(d|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),d|=this.updateForViewport()),(d&2||N)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,l=this.heightOracle,{visibleTop:a,visibleBottom:c}=this,h=new Na(s.lineAt(a-r*1e3,$e.ByHeight,l,0,0).from,s.lineAt(c+(1-r)*1e3,$e.ByHeight,l,0,0).to);if(t){let{head:d}=t.range;if(d<h.from||d>h.to){let p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=s.lineAt(d,$e.ByPos,l,0,0),v;t.y=="center"?v=(m.top+m.bottom)/2-p/2:t.y=="start"||t.y=="nearest"&&d<h.from?v=m.top:v=m.bottom-p,h=new Na(s.lineAt(v-1e3/2,$e.ByHeight,l,0,0).from,s.lineAt(v+p+1e3/2,$e.ByHeight,l,0,0).to)}}return h}mapViewport(e,t){let r=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new Na(this.heightMap.lineAt(r,$e.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,$e.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,$e.ByPos,this.heightOracle,0,0),{bottom:l}=this.heightMap.lineAt(t,$e.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:c}=this;return(e==0||s<=a-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||l>=c+Math.max(10,Math.min(r,250)))&&s>a-2*1e3&&l<c+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let s of e)t.touchesRange(s.from,s.to)||r.push(new _h(t.mapPos(s.from),t.mapPos(s.to),s.size,s.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,s=r?1e4:2e3,l=s>>1,a=s<<1;if(this.defaultTextDirection!=tt.LTR&&!r)return[];let c=[],h=(p,m,v,x)=>{if(m-p<l)return;let k=this.state.selection.main,b=[k.from];k.empty||b.push(k.to);for(let E of b)if(E>p&&E<m){h(p,E-10,v,x),h(E+10,m,v,x);return}let C=w2(e,E=>E.from>=v.from&&E.to<=v.to&&Math.abs(E.from-p)<l&&Math.abs(E.to-m)<l&&!b.some(R=>E.from<R&&E.to>R));if(!C){if(m<v.to&&t&&r&&t.visibleRanges.some(N=>N.from<=m&&N.to>=m)){let N=t.moveToLineBoundary(te.cursor(m),!1,!0).head;N>p&&(m=N)}let E=this.gapSize(v,p,m,x),R=r||E<2e6?E:2e6;C=new _h(p,m,E,R)}c.push(C)},d=p=>{if(p.length<a||p.type!=Wt.Text)return;let m=x2(p.from,p.to,this.stateDeco);if(m.total<a)return;let v=this.scrollTarget?this.scrollTarget.range.head:null,x,k;if(r){let b=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,C,E;if(v!=null){let R=La(m,v),N=((this.visibleBottom-this.visibleTop)/2+b)/p.height;C=R-N,E=R+N}else C=(this.visibleTop-p.top-b)/p.height,E=(this.visibleBottom-p.top+b)/p.height;x=Ta(m,C),k=Ta(m,E)}else{let b=m.total*this.heightOracle.charWidth,C=s*this.heightOracle.charWidth,E=0;if(b>2e6)for(let F of e)F.from>=p.from&&F.from<p.to&&F.size!=F.displaySize&&F.from*this.heightOracle.charWidth+E<this.pixelViewport.left&&(E=F.size-F.displaySize);let R=this.pixelViewport.left+E,N=this.pixelViewport.right+E,_,T;if(v!=null){let F=La(m,v),B=((N-R)/2+C)/b;_=F-B,T=F+B}else _=(R-C)/b,T=(N+C)/b;x=Ta(m,_),k=Ta(m,T)}x>p.from&&h(p.from,x,p,m),k<p.to&&h(k,p.to,p,m)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(d):d(p);return c}gapSize(e,t,r,s){let l=La(s,r)-La(s,t);return this.heightOracle.lineWrapping?e.height*l:s.total*this.heightOracle.charWidth*l}updateLineGaps(e){_h.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=nt.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];Be.spans(t,this.viewport.from,this.viewport.to,{span(l,a){r.push({from:l,to:a})},point(){}},20);let s=0;if(r.length!=this.visibleRanges.length)s=12;else for(let l=0;l<r.length&&!(s&8);l++){let a=this.visibleRanges[l],c=r[l];(a.from!=c.from||a.to!=c.to)&&(s|=4,e&&e.mapPos(a.from,-1)==c.from&&e.mapPos(a.to,1)==c.to||(s|=8))}return this.visibleRanges=r,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Eo(this.heightMap.lineAt(e,$e.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Eo(this.heightMap.lineAt(this.scaler.fromDOM(e),$e.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Eo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Na{constructor(e,t){this.from=e,this.to=t}}function x2(n,e,t){let r=[],s=n,l=0;return Be.spans(t,n,e,{span(){},point(a,c){a>s&&(r.push({from:s,to:a}),l+=a-s),s=c}},20),s<e&&(r.push({from:s,to:e}),l+=e-s),{total:l,ranges:r}}function Ta({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let s=0;;s++){let{from:l,to:a}=e[s],c=a-l;if(r<=c)return l+r;r-=c}}function La(n,e){let t=0;for(let{from:r,to:s}of n.ranges){if(e<=s){t+=e-r;break}t+=s-r}return t/n.total}function w2(n,e){for(let t of n)if(e(t))return t}const R0={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class Ed{constructor(e,t,r){let s=0,l=0,a=0;this.viewports=r.map(({from:c,to:h})=>{let d=t.lineAt(c,$e.ByPos,e,0,0).top,p=t.lineAt(h,$e.ByPos,e,0,0).bottom;return s+=p-d,{from:c,to:h,top:d,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let c of this.viewports)c.domTop=a+(c.top-l)*this.scale,a=c.domBottom=c.domTop+(c.bottom-c.top),l=c.bottom}toDOM(e){for(let t=0,r=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.top)return s+(e-r)*this.scale;if(e<=l.bottom)return l.domTop+(e-l.top);r=l.bottom,s=l.domBottom}}fromDOM(e){for(let t=0,r=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.domTop)return r+(e-s)/this.scale;if(e<=l.domBottom)return l.top+(e-l.domTop);r=l.bottom,s=l.domBottom}}eq(e){return e instanceof Ed?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function Eo(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new tr(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(s=>Eo(s,e)):n._content)}const Ia=we.define({combine:n=>n.join(" ")}),Ff=we.define({combine:n=>n.indexOf(!0)>-1}),_f=si.newName(),bx=si.newName(),Ox=si.newName(),Cx={"&light":"."+bx,"&dark":"."+Ox};function Vf(n,e,t){return new si(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,s=>{if(s=="&")return n;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):n+" "+r}})}const k2=Vf("."+_f,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Cx),S2={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Vh=oe.ie&&oe.ie_version<=11;class b2{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new sC,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(oe.ie&&oe.ie_version<=11||oe.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&oe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(oe.chrome&&oe.chrome_version<126)&&(this.editContext=new C2(e),e.state.facet(vr)&&(e.contentDOM.editContext=this.editContext.editContext)),Vh&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,s=this.selectionRange;if(r.state.facet(vr)?r.root.activeElement!=this.dom:!Ka(this.dom,s))return;let l=s.anchorNode&&r.docView.nearest(s.anchorNode);if(l&&l.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(oe.ie&&oe.ie_version<=11||oe.android&&oe.chrome)&&!r.state.selection.main.empty&&s.focusNode&&Io(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Ko(e.root);if(!t)return!1;let r=oe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&O2(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let s=Ka(this.dom,r);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&lC(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,S2),Vh&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Vh&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let s=()=>{let l=this.delayedAndroidKey;l&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=l.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&l.force&&gs(this.dom,l.key,l.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,s=!1;for(let l of e){let a=this.readMutation(l);a&&(a.typeOver&&(s=!0),t==-1?{from:t,to:r}=a:(t=Math.min(a.from,t),r=Math.max(a.to,r)))}return{from:t,to:r,typeOver:s}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),s=this.selectionChanged&&Ka(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let l=new HC(this.view,e,t,r);return this.view.docView.domChanged={newSel:l.newSel?l.newSel.main:null},l}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,s=fx(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=D0(t,e.previousSibling||e.target.previousSibling,-1),s=D0(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(vr)!=e.state.facet(vr)&&(e.view.contentDOM.editContext=e.state.facet(vr)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function D0(n,e,t){for(;e;){let r=_e.get(e);if(r&&r.parent==n)return r;let s=e.parentNode;e=s!=n.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function N0(n,e){let t=e.startContainer,r=e.startOffset,s=e.endContainer,l=e.endOffset,a=n.docView.domAtPos(n.state.selection.main.anchor);return Io(a.node,a.offset,s,l)&&([t,r,s,l]=[s,l,t,r]),{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:l}}function O2(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return N0(n,s)}let t=null;function r(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?N0(n,t):null}class C2{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let s=e.state.selection.main,{anchor:l,head:a}=s,c=this.toEditorPos(r.updateRangeStart),h=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:c,drifted:!1});let d=h-c>r.text.length;c==this.from&&l<this.from?c=l:h==this.to&&l>this.to&&(h=l);let p=dx(e.state.sliceDoc(c,h),r.text,(d?s.from:s.to)-c,d?"end":null);if(!p){let v=te.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));v.main.eq(s)||e.dispatch({selection:v,userEvent:"select"});return}let m={from:p.from+c,to:p.toA+c,insert:Te.of(r.text.slice(p.from,p.toB).split(`
`))};if((oe.mac||oe.android)&&m.from==a-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:c,to:h,insert:Te.of([r.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let v=this.to-this.from+(m.to-m.from+m.insert.length);Cd(e,m,te.single(this.toEditorPos(r.selectionStart,v),this.toEditorPos(r.selectionEnd,v)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(t.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let s=[],l=null;for(let a=this.toEditorPos(r.rangeStart),c=this.toEditorPos(r.rangeEnd);a<c;a++){let h=e.coordsForChar(a);l=h&&new DOMRect(h.left,h.top,h.right-h.left,h.bottom-h.top)||l||new DOMRect,s.push(l)}t.updateCharacterBounds(r.rangeStart,s)},this.handlers.textformatupdate=r=>{let s=[];for(let l of r.getTextFormats()){let a=l.underlineStyle,c=l.underlineThickness;if(!/none/i.test(a)&&!/none/i.test(c)){let h=this.toEditorPos(l.rangeStart),d=this.toEditorPos(l.rangeEnd);if(h<d){let p=`text-decoration: underline ${/^[a-z]/.test(a)?a+" ":a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${/thin/i.test(c)?1:2}px`;s.push(nt.mark({attributes:{style:p}}).range(h,d))}}}e.dispatch({effects:nx.of(nt.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let s=Ko(r.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,s=this.pendingContextChange;return e.changes.iterChanges((l,a,c,h,d)=>{if(r)return;let p=d.length-(a-l);if(s&&a>=s.to)if(s.from==l&&s.to==a&&s.insert.eq(d)){s=this.pendingContextChange=null,t+=p,this.to+=p;return}else s=null,this.revertPending(e.state);if(l+=t,a+=t,a<=this.from)this.from+=p,this.to+=p;else if(l<this.to){if(l<this.from||a>this.to||this.to-this.from+d.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(l),this.toContextPos(a),d.toString()),this.to+=p}t+=p}),s&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),s=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(r,s)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Ce{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(s=>s.forEach(l=>r(l,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||oC(e.parent)||document,this.viewState=new M0(e.state||je.create(e)),e.scrollTo&&e.scrollTo.is(Ma)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(us).map(s=>new Bh(s));for(let s of this.plugins)s.update(this);this.observer=new b2(this),this.inputState=new UC(this),this.inputState.ensureHandlers(this.plugins),this.docView=new c0(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof jt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,s,l=this.state;for(let v of e){if(v.startState!=l)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");l=v.state}if(this.destroyed){this.viewState.state=l;return}let a=this.hasFocus,c=0,h=null;e.some(v=>v.annotation(xx))?(this.inputState.notifiedFocused=a,c=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,h=wx(l,a),h||(c=1));let d=this.observer.delayedAndroidKey,p=null;if(d?(this.observer.clearDelayedAndroidKey(),p=this.observer.readChange(),(p&&!this.state.doc.eq(l.doc)||!this.state.selection.eq(l.selection))&&(p=null)):this.observer.clear(),l.facet(je.phrases)!=this.state.facet(je.phrases))return this.setState(l);s=du.create(this,l,e),s.flags|=c;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let v of e){if(m&&(m=m.map(v.changes)),v.scrollIntoView){let{main:x}=v.state.selection;m=new ms(x.empty?x:te.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of v.effects)x.is(Ma)&&(m=x.value.clip(this.state))}this.viewState.update(s,m),this.bidiCache=gu.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(Co)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(v=>v.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(Ia)!=s.state.facet(Ia)&&(this.viewState.mustMeasureContent=!0),(t||r||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!s.empty)for(let v of this.state.facet(If))try{v(s)}catch(x){nr(this.state,x,"update listener")}(h||p)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),p&&!fx(this,p)&&d.force&&gs(this.contentDOM,d.key,d.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new M0(e),this.plugins=e.facet(us).map(r=>new Bh(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new c0(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(us),r=e.state.facet(us);if(t!=r){let s=[];for(let l of r){let a=t.indexOf(l);if(a<0)s.push(new Bh(l));else{let c=this.plugins[a];c.mustUpdate=e,s.push(c)}}for(let l of this.plugins)l.mustUpdate!=e&&l.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){nr(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,s=r.scrollTop*this.scaleY,{scrollAnchorPos:l,scrollAnchorHeight:a}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(a<0)if(Nv(r))l=-1,a=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(s);l=x.from,a=x.top}this.updateState=1;let h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];h&4||([this.measureRequests,d]=[d,this.measureRequests]);let p=d.map(x=>{try{return x.read(this)}catch(k){return nr(this.state,k),T0}}),m=du.create(this,this.state,[]),v=!1;m.flags|=h,t?t.flags|=h:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),v=this.docView.update(m),v&&this.docViewUpdate());for(let x=0;x<d.length;x++)if(p[x]!=T0)try{let k=d[x];k.write&&k.write(p[x],this)}catch(k){nr(this.state,k)}if(v&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let k=(l<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(l).top)-a;if(k>1||k<-1){s=s+k,r.scrollTop=s/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let c of this.state.facet(If))c(t)}get themeClasses(){return _f+" "+(this.state.facet(Ff)?Ox:bx)+" "+this.state.facet(Ia)}updateAttrs(){let e=L0(this,rx,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(vr)?"true":"false",class:"cm-content",style:`${oe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),L0(this,Od,t);let r=this.observer.ignore(()=>{let s=Rf(this.contentDOM,this.contentAttrs,t),l=Rf(this.dom,this.editorAttrs,e);return s||l});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let s of r.effects)if(s.is(Ce.announce)){t&&(this.announceDOM.textContent=""),t=!1;let l=this.announceDOM.appendChild(document.createElement("div"));l.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(Co);let e=this.state.facet(Ce.cspNonce);si.mount(this.root,this.styleModules.concat(k2).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return Fh(this,e,g0(this,e,t,r))}moveByGroup(e,t){return Fh(this,e,g0(this,e,t,r=>BC(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),s=this.textDirectionAt(e.from),l=r[t?r.length-1:0];return te.cursor(l.side(t,s)+e.from,l.forward(!t,s)?1:-1)}moveToLineBoundary(e,t,r=!0){return jC(this,e,t,r)}moveVertically(e,t,r){return Fh(this,e,zC(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),ux(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let s=this.state.doc.lineAt(e),l=this.bidiSpans(s),a=l[ti.find(l,e-s.from,-1,t)];return Tu(r,a.dir==tt.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Zv)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>P2)return $v(e.length);let t=this.textDirectionAt(e.from),r;for(let l of this.bidiCache)if(l.from==e.from&&l.dir==t&&(l.fresh||Qv(l.isolates,r=u0(this,e))))return l.order;r||(r=u0(this,e));let s=wC(e.text,t,r);return this.bidiCache.push(new gu(e.from,e.to,t,r,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||oe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Rv(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Ma.of(new ms(typeof e=="number"?te.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Ma.of(new ms(te.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return _n.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return _n.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=si.newName(),s=[Ia.of(r),Co.of(Vf(`.${r}`,e))];return t&&t.dark&&s.push(Ff.of(!0)),s}static baseTheme(e){return Ru.lowest(Co.of(Vf("."+_f,e,Cx)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),s=r&&_e.get(r)||_e.get(e);return((t=s==null?void 0:s.rootView)===null||t===void 0?void 0:t.view)||null}}Ce.styleModule=Co;Ce.inputHandler=Gv;Ce.clipboardInputFilter=Sd;Ce.clipboardOutputFilter=bd;Ce.scrollHandler=tx;Ce.focusChangeEffect=Jv;Ce.perLineTextDirection=Zv;Ce.exceptionSink=Yv;Ce.updateListener=If;Ce.editable=vr;Ce.mouseSelectionStyle=qv;Ce.dragMovesSelection=Kv;Ce.clickAddsSelectionRange=Xv;Ce.decorations=Yo;Ce.outerDecorations=ix;Ce.atomicRanges=ul;Ce.bidiIsolatedRanges=sx;Ce.scrollMargins=ox;Ce.darkTheme=Ff;Ce.cspNonce=we.define({combine:n=>n.length?n[0]:""});Ce.contentAttributes=Od;Ce.editorAttributes=rx;Ce.lineWrapping=Ce.contentAttributes.of({class:"cm-lineWrapping"});Ce.announce=dt.define();const P2=4096,T0={};class gu{constructor(e,t,r,s,l,a){this.from=e,this.to=t,this.dir=r,this.isolates=s,this.fresh=l,this.order=a}static update(e,t){if(t.empty&&!e.some(l=>l.fresh))return e;let r=[],s=e.length?e[e.length-1].dir:tt.LTR;for(let l=Math.max(0,e.length-10);l<e.length;l++){let a=e[l];a.dir==s&&!t.touchesRange(a.from,a.to)&&r.push(new gu(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function L0(n,e,t){for(let r=n.state.facet(e),s=r.length-1;s>=0;s--){let l=r[s],a=typeof l=="function"?l(n):l;a&&Mf(a,t)}return t}const E2=oe.mac?"mac":oe.windows?"win":oe.linux?"linux":"key";function A2(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let s,l,a,c;for(let h=0;h<t.length-1;++h){const d=t[h];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))s=!0;else if(/^(c|ctrl|control)$/i.test(d))l=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))e=="mac"?c=!0:l=!0;else throw new Error("Unrecognized modifier name: "+d)}return s&&(r="Alt-"+r),l&&(r="Ctrl-"+r),c&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function ja(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const M2=Ru.default(Ce.domEventHandlers({keydown(n,e){return T2(R2(e.state),n,e,"editor")}})),Ad=we.define({enables:M2}),I0=new WeakMap;function R2(n){let e=n.facet(Ad),t=I0.get(e);return t||I0.set(e,t=N2(e.reduce((r,s)=>r.concat(s),[]))),t}let Jr=null;const D2=4e3;function N2(n,e=E2){let t=Object.create(null),r=Object.create(null),s=(a,c)=>{let h=r[a];if(h==null)r[a]=c;else if(h!=c)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},l=(a,c,h,d,p)=>{var m,v;let x=t[a]||(t[a]=Object.create(null)),k=c.split(/ (?!$)/).map(E=>A2(E,e));for(let E=1;E<k.length;E++){let R=k.slice(0,E).join(" ");s(R,!0),x[R]||(x[R]={preventDefault:!0,stopPropagation:!1,run:[N=>{let _=Jr={view:N,prefix:R,scope:a};return setTimeout(()=>{Jr==_&&(Jr=null)},D2),!0}]})}let b=k.join(" ");s(b,!1);let C=x[b]||(x[b]={preventDefault:!1,stopPropagation:!1,run:((v=(m=x._any)===null||m===void 0?void 0:m.run)===null||v===void 0?void 0:v.slice())||[]});h&&C.run.push(h),d&&(C.preventDefault=!0),p&&(C.stopPropagation=!0)};for(let a of n){let c=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let d of c){let p=t[d]||(t[d]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=a;for(let v in p)p[v].run.push(x=>m(x,Hf))}let h=a[e]||a.key;if(h)for(let d of c)l(d,h,a.run,a.preventDefault,a.stopPropagation),a.shift&&l(d,"Shift-"+h,a.shift,a.preventDefault,a.stopPropagation)}return t}let Hf=null;function T2(n,e,t,r){Hf=e;let s=eC(e),l=jO(s,0),a=BO(l)==s.length&&s!=" ",c="",h=!1,d=!1,p=!1;Jr&&Jr.view==t&&Jr.scope==r&&(c=Jr.prefix+" ",gx.indexOf(e.keyCode)<0&&(d=!0,Jr=null));let m=new Set,v=C=>{if(C){for(let E of C.run)if(!m.has(E)&&(m.add(E),E(t)))return C.stopPropagation&&(p=!0),!0;C.preventDefault&&(C.stopPropagation&&(p=!0),d=!0)}return!1},x=n[r],k,b;return x&&(v(x[c+ja(s,e,!a)])?h=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(oe.windows&&e.ctrlKey&&e.altKey)&&!(oe.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(k=oi[e.keyCode])&&k!=s?(v(x[c+ja(k,e,!0)])||e.shiftKey&&(b=Xo[e.keyCode])!=s&&b!=k&&v(x[c+ja(b,e,!1)]))&&(h=!0):a&&e.shiftKey&&v(x[c+ja(s,e,!0)])&&(h=!0),!h&&v(x._any)&&(h=!0)),d&&(h=!0),h&&p&&e.stopPropagation(),Hf=null,h}class cl{constructor(e,t,r,s,l){this.className=e,this.left=t,this.top=r,this.width=s,this.height=l}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let s=e.coordsAtPos(r.head,r.assoc||1);if(!s)return[];let l=Px(e);return[new cl(t,s.left-l.left,s.top-l.top,null,s.bottom-s.top)]}else return L2(e,t,r)}}function Px(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==tt.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function j0(n,e,t,r){let s=n.coordsAtPos(e,t*2);if(!s)return r;let l=n.dom.getBoundingClientRect(),a=(s.top+s.bottom)/2,c=n.posAtCoords({x:l.left+1,y:a}),h=n.posAtCoords({x:l.right-1,y:a});return c==null||h==null?r:{from:Math.max(r.from,Math.min(c,h)),to:Math.min(r.to,Math.max(c,h))}}function L2(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),s=Math.min(t.to,n.viewport.to),l=n.textDirection==tt.LTR,a=n.contentDOM,c=a.getBoundingClientRect(),h=Px(n),d=a.querySelector(".cm-line"),p=d&&window.getComputedStyle(d),m=c.left+(p?parseInt(p.paddingLeft)+Math.min(0,parseInt(p.textIndent)):0),v=c.right-(p?parseInt(p.paddingRight):0),x=Bf(n,r,1),k=Bf(n,s,-1),b=x.type==Wt.Text?x:null,C=k.type==Wt.Text?k:null;if(b&&(n.lineWrapping||x.widgetLineBreaks)&&(b=j0(n,r,1,b)),C&&(n.lineWrapping||k.widgetLineBreaks)&&(C=j0(n,s,-1,C)),b&&C&&b.from==C.from&&b.to==C.to)return R(N(t.from,t.to,b));{let T=b?N(t.from,null,b):_(x,!1),F=C?N(null,t.to,C):_(k,!0),B=[];return(b||x).to<(C||k).from-(b&&C?1:0)||x.widgetLineBreaks>1&&T.bottom+n.defaultLineHeight/2<F.top?B.push(E(m,T.bottom,v,F.top)):T.bottom<F.top&&n.elementAtHeight((T.bottom+F.top)/2).type==Wt.Text&&(T.bottom=F.top=(T.bottom+F.top)/2),R(T).concat(B).concat(R(F))}function E(T,F,B,U){return new cl(e,T-h.left,F-h.top,B-T,U-F)}function R({top:T,bottom:F,horizontal:B}){let U=[];for(let q=0;q<B.length;q+=2)U.push(E(B[q],T,B[q+1],F));return U}function N(T,F,B){let U=1e9,q=-1e9,V=[];function W(ue,G,ce,pe,K){let Z=n.coordsAtPos(ue,ue==B.to?-2:2),J=n.coordsAtPos(ce,ce==B.from?2:-2);!Z||!J||(U=Math.min(Z.top,J.top,U),q=Math.max(Z.bottom,J.bottom,q),K==tt.LTR?V.push(l&&G?m:Z.left,l&&pe?v:J.right):V.push(!l&&pe?m:J.left,!l&&G?v:Z.right))}let H=T??B.from,re=F??B.to;for(let ue of n.visibleRanges)if(ue.to>H&&ue.from<re)for(let G=Math.max(ue.from,H),ce=Math.min(ue.to,re);;){let pe=n.state.doc.lineAt(G);for(let K of n.bidiSpans(pe)){let Z=K.from+pe.from,J=K.to+pe.from;if(Z>=ce)break;J>G&&W(Math.max(Z,G),T==null&&Z<=H,Math.min(J,ce),F==null&&J>=re,K.dir)}if(G=pe.to+1,G>=ce)break}return V.length==0&&W(H,T==null,re,F==null,n.textDirection),{top:U,bottom:q,horizontal:V}}function _(T,F){let B=c.top+(F?T.top:T.bottom);return{top:B,bottom:B,horizontal:[]}}}function I2(n,e){return n.constructor==e.constructor&&n.eq(e)}class j2{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Ga)!=e.state.facet(Ga)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(Ga);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!I2(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let s of e)s.update&&t&&s.constructor&&this.drawn[r].constructor&&s.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(s.draw(),t);for(;t;){let s=t.nextSibling;t.remove(),t=s}this.drawn=e,oe.safari&&oe.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Ga=we.define();function Ex(n){return[_n.define(e=>new j2(e,n)),Ga.of(n)]}const Go=we.define({combine(n){return Cv(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function B2(n={}){return[Go.of(n),z2,F2,_2,ex.of(!0)]}function Ax(n){return n.startState.facet(Go)!=n.state.facet(Go)}const z2=Ex({above:!0,markers(n){let{state:e}=n,t=e.facet(Go),r=[];for(let s of e.selection.ranges){let l=s==e.selection.main;if(s.empty||t.drawRangeCursor){let a=l?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=s.empty?s:te.cursor(s.head,s.head>s.anchor?-1:1);for(let h of cl.forRange(n,a,c))r.push(h)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=Ax(n);return t&&B0(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){B0(e.state,n)},class:"cm-cursorLayer"});function B0(n,e){e.style.animationDuration=n.facet(Go).cursorBlinkRate+"ms"}const F2=Ex({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:cl.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||Ax(n)},class:"cm-selectionLayer"}),_2=Ru.highest(Ce.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}}));function V2(){return W2}const H2=nt.line({class:"cm-activeLine"}),W2=_n.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let s=n.lineBlockAt(r.head);s.from>e&&(t.push(H2.range(s.from)),e=s.from)}return nt.set(t)}},{decorations:n=>n.decorations});class ai extends xs{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ai.prototype.elementClass="";ai.prototype.toDOM=void 0;ai.prototype.mapMode=hn.TrackBefore;ai.prototype.startSide=ai.prototype.endSide=-1;ai.prototype.point=!0;const Ja=we.define(),Q2=we.define(),Za=we.define(),z0=we.define({combine:n=>n.some(e=>e)});function $2(n){return[U2]}const U2=_n.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Za).map(e=>new _0(n,e)),this.fixed=!n.state.facet(z0);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(z0)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Be.iter(this.view.state.facet(Ja),this.view.viewport.from),r=[],s=this.gutters.map(l=>new X2(l,this.view.viewport,-this.view.documentPadding.top));for(let l of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(l.type)){let a=!0;for(let c of l.type)if(c.type==Wt.Text&&a){Wf(t,r,c.from);for(let h of s)h.line(this.view,c,r);a=!1}else if(c.widget)for(let h of s)h.widget(this.view,c)}else if(l.type==Wt.Text){Wf(t,r,l.from);for(let a of s)a.line(this.view,l,r)}else if(l.widget)for(let a of s)a.widget(this.view,l);for(let l of s)l.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(Za),t=n.state.facet(Za),r=n.docChanged||n.heightChanged||n.viewportChanged||!Be.eq(n.startState.facet(Ja),n.state.facet(Ja),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(n)&&(r=!0);else{r=!0;let s=[];for(let l of t){let a=e.indexOf(l);a<0?s.push(new _0(this.view,l)):(this.gutters[a].update(n),s.push(this.gutters[a]))}for(let l of this.gutters)l.dom.remove(),s.indexOf(l)<0&&l.destroy();for(let l of s)l.config.side=="after"?this.getDOMAfter().appendChild(l.dom):this.dom.appendChild(l.dom);this.gutters=s}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>Ce.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let r=t.dom.offsetWidth*e.scaleX,s=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==tt.LTR?{left:r,right:s}:{right:r,left:s}})});function F0(n){return Array.isArray(n)?n:[n]}function Wf(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class X2{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Be.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:s}=this,l=(t.top-this.height)/e.scaleY,a=t.height/e.scaleY;if(this.i==s.elements.length){let c=new Mx(e,a,l,r);s.elements.push(c),s.dom.appendChild(c.dom)}else s.elements[this.i].update(e,a,l,r);this.height=t.bottom,this.i++}line(e,t,r){let s=[];Wf(this.cursor,s,t.from),r.length&&(s=s.concat(r));let l=this.gutter.config.lineMarker(e,t,s);l&&s.unshift(l);let a=this.gutter;s.length==0&&!a.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),s=r?[r]:null;for(let l of e.state.facet(Q2)){let a=l(e,t.widget,t);a&&(s||(s=[])).push(a)}s&&this.addElement(e,t,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class _0{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,s=>{let l=s.target,a;if(l!=this.dom&&this.dom.contains(l)){for(;l.parentNode!=this.dom;)l=l.parentNode;let h=l.getBoundingClientRect();a=(h.top+h.bottom)/2}else a=s.clientY;let c=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[r](e,c,s)&&s.preventDefault()});this.markers=F0(t.markers(e)),t.initialSpacer&&(this.spacer=new Mx(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=F0(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let r=e.view.viewport;return!Be.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Mx{constructor(e,t,r,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,s)}update(e,t,r,s){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),K2(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let r="cm-gutterElement",s=this.dom.firstChild;for(let l=0,a=0;;){let c=a,h=l<t.length?t[l++]:null,d=!1;if(h){let p=h.elementClass;p&&(r+=" "+p);for(let m=a;m<this.markers.length;m++)if(this.markers[m].compare(h)){c=m,d=!0;break}}else c=this.markers.length;for(;a<c;){let p=this.markers[a++];if(p.toDOM){p.destroy(s);let m=s.nextSibling;s.remove(),s=m}}if(!h)break;h.toDOM&&(d?s=s.nextSibling:this.dom.insertBefore(h.toDOM(e),s)),d&&a++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function K2(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const q2=we.define(),Y2=we.define(),cs=we.define({combine(n){return Cv(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let s in t){let l=r[s],a=t[s];r[s]=l?(c,h,d)=>l(c,h,d)||a(c,h,d):a}return r}})}});class Hh extends ai{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Wh(n,e){return n.state.facet(cs).formatNumber(e,n.state)}const G2=Za.compute([cs],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(q2)},lineMarker(e,t,r){return r.some(s=>s.toDOM)?null:new Hh(Wh(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let s of e.state.facet(Y2)){let l=s(e,t,r);if(l)return l}return null},lineMarkerChange:e=>e.startState.facet(cs)!=e.state.facet(cs),initialSpacer(e){return new Hh(Wh(e,V0(e.state.doc.lines)))},updateSpacer(e,t){let r=Wh(t.view,V0(t.view.state.doc.lines));return r==e.number?e:new Hh(r)},domEventHandlers:n.facet(cs).domEventHandlers,side:"before"}));function J2(n={}){return[cs.of(n),$2(),G2]}function V0(n){let e=9;for(;e<n;)e=e*10+9;return e}const Z2=new class extends ai{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},eP=Ja.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let s=n.doc.lineAt(r.head).from;s>t&&(t=s,e.push(Z2.range(s)))}return Be.of(e)});function tP(){return eP}const Rx=1024;let nP=0;class Qh{constructor(e,t){this.from=e,this.to=t}}class Ae{constructor(e={}){this.id=nP++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Zt.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Ae.closedBy=new Ae({deserialize:n=>n.split(" ")});Ae.openedBy=new Ae({deserialize:n=>n.split(" ")});Ae.group=new Ae({deserialize:n=>n.split(" ")});Ae.isolate=new Ae({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Ae.contextHash=new Ae({perNode:!0});Ae.lookAhead=new Ae({perNode:!0});Ae.mounted=new Ae({perNode:!0});class mu{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Ae.mounted.id]}}const rP=Object.create(null);class Zt{constructor(e,t,r,s=0){this.name=e,this.props=t,this.id=r,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):rP,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new Zt(e.name||"",t,e.id,r);if(e.props){for(let l of e.props)if(Array.isArray(l)||(l=l(s)),l){if(l[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[l[0].id]=l[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Ae.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let s of r.split(" "))t[s]=e[r];return r=>{for(let s=r.prop(Ae.group),l=-1;l<(s?s.length:0);l++){let a=t[l<0?r.name:s[l]];if(a)return a}}}}Zt.none=new Zt("",Object.create(null),0,8);class Md{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let s=null;for(let l of e){let a=l(r);if(a){s||(s=Object.assign({},r.props));let c=a[1],h=a[0];h.combine&&h.id in s&&(c=h.combine(s[h.id],c)),s[h.id]=c}}t.push(s?new Zt(r.name,s,r.id,r.flags):r)}return new Md(t)}}const Ba=new WeakMap,H0=new WeakMap;var xt;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(xt||(xt={}));class ut{constructor(e,t,r,s,l){if(this.type=e,this.children=t,this.positions=r,this.length=s,this.props=null,l&&l.length){this.props=Object.create(null);for(let[a,c]of l)this.props[typeof a=="number"?a:a.id]=c}}toString(){let e=mu.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let s=r.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new $f(this.topNode,e)}cursorAt(e,t=0,r=0){let s=Ba.get(this)||this.topNode,l=new $f(s);return l.moveTo(e,t),Ba.set(this,l._tree),l}get topNode(){return new kn(this,0,0,null)}resolve(e,t=0){let r=Jo(Ba.get(this)||this.topNode,e,t,!1);return Ba.set(this,r),r}resolveInner(e,t=0){let r=Jo(H0.get(this)||this.topNode,e,t,!0);return H0.set(this,r),r}resolveStack(e,t=0){return oP(this,e,t)}iterate(e){let{enter:t,leave:r,from:s=0,to:l=this.length}=e,a=e.mode||0,c=(a&xt.IncludeAnonymous)>0;for(let h=this.cursor(a|xt.IncludeAnonymous);;){let d=!1;if(h.from<=l&&h.to>=s&&(!c&&h.type.isAnonymous||t(h)!==!1)){if(h.firstChild())continue;d=!0}for(;d&&r&&(c||!h.type.isAnonymous)&&r(h),!h.nextSibling();){if(!h.parent())return;d=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Nd(Zt.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,s)=>new ut(this.type,t,r,s,this.propValues),e.makeTree||((t,r,s)=>new ut(Zt.none,t,r,s)))}static build(e){return lP(e)}}ut.empty=new ut(Zt.none,[],[],0);class Rd{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Rd(this.buffer,this.index)}}class ui{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Zt.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],s=this.set.types[t],l=s.name;if(/\W/.test(l)&&!s.isError&&(l=JSON.stringify(l)),e+=4,r==e)return l;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return l+"("+a.join(",")+")"}findChild(e,t,r,s,l){let{buffer:a}=this,c=-1;for(let h=e;h!=t&&!(Dx(l,s,a[h+1],a[h+2])&&(c=h,r>0));h=a[h+3]);return c}slice(e,t,r){let s=this.buffer,l=new Uint16Array(t-e),a=0;for(let c=e,h=0;c<t;){l[h++]=s[c++],l[h++]=s[c++]-r;let d=l[h++]=s[c++]-r;l[h++]=s[c++]-e,a=Math.max(a,d)}return new ui(l,a,this.set)}}function Dx(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Jo(n,e,t,r){for(var s;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let a=!r&&n instanceof kn&&n.index<0?null:n.parent;if(!a)return n;n=a}let l=r?0:xt.IgnoreOverlays;if(r)for(let a=n,c=a.parent;c;a=c,c=a.parent)a instanceof kn&&a.index<0&&((s=c.enter(e,t,l))===null||s===void 0?void 0:s.from)!=a.from&&(n=c);for(;;){let a=n.enter(e,t,l);if(!a)return n;n=a}}class Nx{cursor(e=0){return new $f(this,e)}getChild(e,t=null,r=null){let s=W0(this,e,t,r);return s.length?s[0]:null}getChildren(e,t=null,r=null){return W0(this,e,t,r)}resolve(e,t=0){return Jo(this,e,t,!1)}resolveInner(e,t=0){return Jo(this,e,t,!0)}matchContext(e){return Qf(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let s=t.lastChild;if(!s||s.to!=t.to)break;s.type.isError&&s.from==s.to?(r=t,t=s.prevSibling):t=s}return r}get node(){return this}get next(){return this.parent}}class kn extends Nx{constructor(e,t,r,s){super(),this._tree=e,this.from=t,this.index=r,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,s,l=0){for(let a=this;;){for(let{children:c,positions:h}=a._tree,d=t>0?c.length:-1;e!=d;e+=t){let p=c[e],m=h[e]+a.from;if(Dx(s,r,m,m+p.length)){if(p instanceof ui){if(l&xt.ExcludeBuffers)continue;let v=p.findChild(0,p.buffer.length,t,r-m,s);if(v>-1)return new ni(new iP(a,p,e,m),null,v)}else if(l&xt.IncludeAnonymous||!p.type.isAnonymous||Dd(p)){let v;if(!(l&xt.IgnoreMounts)&&(v=mu.get(p))&&!v.overlay)return new kn(v.tree,m,e,a);let x=new kn(p,m,e,a);return l&xt.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(t<0?p.children.length-1:0,t,r,s)}}}if(l&xt.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+t:e=t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let s;if(!(r&xt.IgnoreOverlays)&&(s=mu.get(this._tree))&&s.overlay){let l=e-this.from;for(let{from:a,to:c}of s.overlay)if((t>0?a<=l:a<l)&&(t<0?c>=l:c>l))return new kn(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function W0(n,e,t,r){let s=n.cursor(),l=[];if(!s.firstChild())return l;if(t!=null){for(let a=!1;!a;)if(a=s.type.is(t),!s.nextSibling())return l}for(;;){if(r!=null&&s.type.is(r))return l;if(s.type.is(e)&&l.push(s.node),!s.nextSibling())return r==null?l:[]}}function Qf(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class iP{constructor(e,t,r,s){this.parent=e,this.buffer=t,this.index=r,this.start=s}}class ni extends Nx{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,r);return l<0?null:new ni(this.context,this,l)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&xt.ExcludeBuffers)return null;let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return l<0?null:new ni(this.context,this,l)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ni(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new ni(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,s=this.index+4,l=r.buffer[this.index+3];if(l>s){let a=r.buffer[this.index+1];e.push(r.slice(s,l,a)),t.push(0)}return new ut(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Tx(n){if(!n.length)return null;let e=0,t=n[0];for(let l=1;l<n.length;l++){let a=n[l];(a.from>t.from||a.to<t.to)&&(t=a,e=l)}let r=t instanceof kn&&t.index<0?null:t.parent,s=n.slice();return r?s[e]=r:s.splice(e,1),new sP(s,t)}class sP{constructor(e,t){this.heads=e,this.node=t}get next(){return Tx(this.heads)}}function oP(n,e,t){let r=n.resolveInner(e,t),s=null;for(let l=r instanceof kn?r:r.context.parent;l;l=l.parent)if(l.index<0){let a=l.parent;(s||(s=[r])).push(a.resolve(e,t)),l=a}else{let a=mu.get(l.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let c=new kn(a.tree,a.overlay[0].from+l.from,-1,l);(s||(s=[r])).push(Jo(c,e,t,!1))}}return s?Tx(s):r}class $f{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof kn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=r+s.buffer[e+1],this.to=r+s.buffer[e+2],!0}yield(e){return e?e instanceof kn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:s}=this.buffer,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,r);return l<0?!1:(this.stack.push(this.index),this.yieldBuf(l))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&xt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&xt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&xt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let s=r<0?0:this.stack[r]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(s)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let l=0;l<this.index;l++)if(s.buffer.buffer[l+3]<this.index)return!1;({index:t,parent:r}=s)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let l=t+e,a=e<0?-1:r._tree.children.length;l!=a;l+=e){let c=r._tree.children[l];if(this.mode&xt.IncludeAnonymous||c instanceof ui||!c.type.isAnonymous||Dd(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let s=this.index,l=this.stack.length;l>=0;){for(let a=e;a;a=a._parent)if(a.index==s){if(s==this.index)return a;t=a,r=l+1;break e}s=this.stack[--l]}for(let s=r;s<this.stack.length;s++)t=new ni(this.buffer,t,this.stack[s]);return this.bufferNode=new ni(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&t&&t(this),s=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,s=!0}}}matchContext(e){if(!this.buffer)return Qf(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let s=e.length-1,l=this.stack.length-1;s>=0;l--){if(l<0)return Qf(this._tree,e,s);let a=r[t.buffer[this.stack[l]]];if(!a.isAnonymous){if(e[s]&&e[s]!=a.name)return!1;s--}}return!0}}function Dd(n){return n.children.some(e=>e instanceof ui||!e.type.isAnonymous||Dd(e))}function lP(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:s=Rx,reused:l=[],minRepeatType:a=r.types.length}=n,c=Array.isArray(t)?new Rd(t,t.length):t,h=r.types,d=0,p=0;function m(T,F,B,U,q,V){let{id:W,start:H,end:re,size:ue}=c,G=p,ce=d;if(ue<0)if(c.next(),ue==-1){let A=l[W];B.push(A),U.push(H-T);return}else if(ue==-3){d=W;return}else if(ue==-4){p=W;return}else throw new RangeError(`Unrecognized record size: ${ue}`);let pe=h[W],K,Z,J=H-T;if(re-H<=s&&(Z=C(c.pos-F,q))){let A=new Uint16Array(Z.size-Z.skip),I=c.pos-Z.size,ie=A.length;for(;c.pos>I;)ie=E(Z.start,A,ie);K=new ui(A,re-Z.start,r),J=Z.start-T}else{let A=c.pos-ue;c.next();let I=[],ie=[],he=W>=a?W:-1,ve=0,ne=re;for(;c.pos>A;)he>=0&&c.id==he&&c.size>=0?(c.end<=ne-s&&(k(I,ie,H,ve,c.end,ne,he,G,ce),ve=I.length,ne=c.end),c.next()):V>2500?v(H,A,I,ie):m(H,A,I,ie,he,V+1);if(he>=0&&ve>0&&ve<I.length&&k(I,ie,H,ve,H,ne,he,G,ce),I.reverse(),ie.reverse(),he>-1&&ve>0){let ae=x(pe,ce);K=Nd(pe,I,ie,0,I.length,0,re-H,ae,ae)}else K=b(pe,I,ie,re-H,G-re,ce)}B.push(K),U.push(J)}function v(T,F,B,U){let q=[],V=0,W=-1;for(;c.pos>F;){let{id:H,start:re,end:ue,size:G}=c;if(G>4)c.next();else{if(W>-1&&re<W)break;W<0&&(W=ue-s),q.push(H,re,ue),V++,c.next()}}if(V){let H=new Uint16Array(V*4),re=q[q.length-2];for(let ue=q.length-3,G=0;ue>=0;ue-=3)H[G++]=q[ue],H[G++]=q[ue+1]-re,H[G++]=q[ue+2]-re,H[G++]=G;B.push(new ui(H,q[2]-re,r)),U.push(re-T)}}function x(T,F){return(B,U,q)=>{let V=0,W=B.length-1,H,re;if(W>=0&&(H=B[W])instanceof ut){if(!W&&H.type==T&&H.length==q)return H;(re=H.prop(Ae.lookAhead))&&(V=U[W]+H.length+re)}return b(T,B,U,q,V,F)}}function k(T,F,B,U,q,V,W,H,re){let ue=[],G=[];for(;T.length>U;)ue.push(T.pop()),G.push(F.pop()+B-q);T.push(b(r.types[W],ue,G,V-q,H-V,re)),F.push(q-B)}function b(T,F,B,U,q,V,W){if(V){let H=[Ae.contextHash,V];W=W?[H].concat(W):[H]}if(q>25){let H=[Ae.lookAhead,q];W=W?[H].concat(W):[H]}return new ut(T,F,B,U,W)}function C(T,F){let B=c.fork(),U=0,q=0,V=0,W=B.end-s,H={size:0,start:0,skip:0};e:for(let re=B.pos-T;B.pos>re;){let ue=B.size;if(B.id==F&&ue>=0){H.size=U,H.start=q,H.skip=V,V+=4,U+=4,B.next();continue}let G=B.pos-ue;if(ue<0||G<re||B.start<W)break;let ce=B.id>=a?4:0,pe=B.start;for(B.next();B.pos>G;){if(B.size<0)if(B.size==-3)ce+=4;else break e;else B.id>=a&&(ce+=4);B.next()}q=pe,U+=ue,V+=ce}return(F<0||U==T)&&(H.size=U,H.start=q,H.skip=V),H.size>4?H:void 0}function E(T,F,B){let{id:U,start:q,end:V,size:W}=c;if(c.next(),W>=0&&U<a){let H=B;if(W>4){let re=c.pos-(W-4);for(;c.pos>re;)B=E(T,F,B)}F[--B]=H,F[--B]=V-T,F[--B]=q-T,F[--B]=U}else W==-3?d=U:W==-4&&(p=U);return B}let R=[],N=[];for(;c.pos>0;)m(n.start||0,n.bufferStart||0,R,N,-1,0);let _=(e=n.length)!==null&&e!==void 0?e:R.length?N[0]+R[0].length:0;return new ut(h[n.topID],R.reverse(),N.reverse(),_)}const Q0=new WeakMap;function eu(n,e){if(!n.isAnonymous||e instanceof ui||e.type!=n)return 1;let t=Q0.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof ut)){t=1;break}t+=eu(n,r)}Q0.set(e,t)}return t}function Nd(n,e,t,r,s,l,a,c,h){let d=0;for(let k=r;k<s;k++)d+=eu(n,e[k]);let p=Math.ceil(d*1.5/8),m=[],v=[];function x(k,b,C,E,R){for(let N=C;N<E;){let _=N,T=b[N],F=eu(n,k[N]);for(N++;N<E;N++){let B=eu(n,k[N]);if(F+B>=p)break;F+=B}if(N==_+1){if(F>p){let B=k[_];x(B.children,B.positions,0,B.children.length,b[_]+R);continue}m.push(k[_])}else{let B=b[N-1]+k[N-1].length-T;m.push(Nd(n,k,b,_,N,T,B,null,h))}v.push(T+R-l)}}return x(e,t,r,s,0),(c||h)(m,v,a)}class Ri{constructor(e,t,r,s,l=!1,a=!1){this.from=e,this.to=t,this.tree=r,this.offset=s,this.open=(l?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let s=[new Ri(0,e.length,e,0,!1,r)];for(let l of t)l.to>e.length&&s.push(l);return s}static applyChanges(e,t,r=128){if(!t.length)return e;let s=[],l=1,a=e.length?e[0]:null;for(let c=0,h=0,d=0;;c++){let p=c<t.length?t[c]:null,m=p?p.fromA:1e9;if(m-h>=r)for(;a&&a.from<m;){let v=a;if(h>=v.from||m<=v.to||d){let x=Math.max(v.from,h)-d,k=Math.min(v.to,m)-d;v=x>=k?null:new Ri(x,k,v.tree,v.offset+d,c>0,!!p)}if(v&&s.push(v),a.to>m)break;a=l<e.length?e[l++]:null}if(!p)break;h=p.toA,d=p.toA-p.toB}return s}}let Lx=class{startParse(e,t,r){return typeof e=="string"&&(e=new aP(e)),r=r?r.length?r.map(s=>new Qh(s.from,s.to)):[new Qh(0,0)]:[new Qh(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let s=this.startParse(e,t,r);for(;;){let l=s.advance();if(l)return l}}};class aP{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Ae({perNode:!0});var $0={};class yu{constructor(e,t,r,s,l,a,c,h,d,p=0,m){this.p=e,this.stack=t,this.state=r,this.reducePos=s,this.pos=l,this.score=a,this.buffer=c,this.bufferBase=h,this.curContext=d,this.lookAhead=p,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let s=e.parser.context;return new yu(e,[],t,r,r,0,[],0,s?new U0(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,s=e&65535,{parser:l}=this.p,a=this.reducePos<this.pos-25;a&&this.setLookAhead(this.pos);let c=l.dynamicPrecedence(s);if(c&&(this.score+=c),r==0){this.pushState(l.getGoto(this.state,s,!0),this.reducePos),s<l.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(s,this.reducePos);return}let h=this.stack.length-(r-1)*3-(e&262144?6:0),d=h?this.stack[h-2]:this.p.ranges[0].from,p=this.reducePos-d;p>=2e3&&!(!((t=this.p.parser.nodeSet.types[s])===null||t===void 0)&&t.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=p));let m=h?this.stack[h-1]:0,v=this.bufferBase+this.buffer.length-m;if(s<l.minRepeatTerm||e&131072){let x=l.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,d,x,v+4,!0)}if(e&262144)this.state=this.stack[h];else{let x=this.stack[h-3];this.state=l.getGoto(x,s,!0)}for(;this.stack.length>h;)this.stack.pop();this.reduceContext(s,d)}storeNode(e,t,r,s=4,l=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,c=this.buffer.length;if(c==0&&a.parent&&(c=a.bufferBase-a.parent.bufferBase,a=a.parent),c>0&&a.buffer[c-4]==0&&a.buffer[c-1]>-1){if(t==r)return;if(a.buffer[c-2]>=t){a.buffer[c-2]=r;return}}}if(!l||this.pos==r)this.buffer.push(e,t,r,s);else{let a=this.buffer.length;if(a>0&&(this.buffer[a-4]!=0||this.buffer[a-1]<0)){let c=!1;for(let h=a;h>0&&this.buffer[h-2]>r;h-=4)if(this.buffer[h-1]>=0){c=!0;break}if(c)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,s>4&&(s-=4)}this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=r,this.buffer[a+3]=s}}shift(e,t,r,s){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let l=e,{parser:a}=this.p;(s>this.pos||t<=a.maxNode)&&(this.pos=s,a.stateFlag(l,1)||(this.reducePos=s)),this.pushState(l,r),this.shiftContext(t,r),t<=a.maxNode&&this.buffer.push(t,r,s,4)}else this.pos=s,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,s,4)}apply(e,t,r,s){e&65536?this.reduce(e):this.shift(e,t,r,s)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(r,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new yu(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new uP(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if((r&65536)==0)return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let s=[];for(let l=0,a;l<t.length;l+=2)(a=t[l+1])!=this.state&&this.p.parser.hasAction(a,e)&&s.push(t[l],a);if(this.stack.length<120)for(let l=0;s.length<8&&l<t.length;l+=2){let a=t[l+1];s.some((c,h)=>h&1&&c==a)||s.push(t[l],a)}t=s}let r=[];for(let s=0;s<t.length&&r.length<4;s+=2){let l=t[s+1];if(l==this.state)continue;let a=this.split();a.pushState(l,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[s],this.pos),a.reducePos=this.pos,a.score-=200,r.push(a)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let r=t>>19,s=t&65535,l=this.stack.length-r*3;if(l<0||e.getGoto(this.stack[l],s,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;t=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(s,l)=>{if(!t.includes(s))return t.push(s),e.allActions(s,a=>{if(!(a&393216))if(a&65536){let c=(a>>19)-l;if(c>1){let h=a&65535,d=this.stack.length-c*3;if(d>=0&&e.getGoto(this.stack[d],h,!1)>=0)return c<<19|65536|h}}else{let c=r(a,l+1);if(c!=null)return c}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new U0(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class U0{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class uP{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class vu{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new vu(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new vu(this.stack,this.pos,this.index)}}function za(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,s=0;r<n.length;){let l=0;for(;;){let a=n.charCodeAt(r++),c=!1;if(a==126){l=65535;break}a>=92&&a--,a>=34&&a--;let h=a-32;if(h>=46&&(h-=46,c=!0),l+=h,c)break;l*=46}t?t[s++]=l:t=new e(l)}return t}class tu{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const X0=new tu;class cP{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=X0,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,s=this.rangeIndex,l=this.pos+e;for(;l<r.from;){if(!s)return null;let a=this.ranges[--s];l-=r.from-a.to,r=a}for(;t<0?l>r.to:l>=r.to;){if(s==this.ranges.length-1)return null;let a=this.ranges[++s];l+=a.from-r.to,r=a}return l}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,s;if(t>=0&&t<this.chunk.length)r=this.pos+e,s=this.chunk.charCodeAt(t);else{let l=this.resolveOffset(e,1);if(l==null)return-1;if(r=l,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,c=this.range;for(;c.to<=r;)c=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-r)),s=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),s}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=X0,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(r+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return r}}class ys{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;hP(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}ys.prototype.contextual=ys.prototype.fallback=ys.prototype.extend=!1;ys.prototype.fallback=ys.prototype.extend=!1;class Iu{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function hP(n,e,t,r,s,l){let a=0,c=1<<r,{dialect:h}=t.p.parser;e:for(;(c&n[a])!=0;){let d=n[a+1];for(let x=a+3;x<d;x+=2)if((n[x+1]&c)>0){let k=n[x];if(h.allows(k)&&(e.token.value==-1||e.token.value==k||fP(k,e.token.value,s,l))){e.acceptToken(k);break}}let p=e.next,m=0,v=n[a+2];if(e.next<0&&v>m&&n[d+v*3-3]==65535){a=n[d+v*3-1];continue e}for(;m<v;){let x=m+v>>1,k=d+x+(x<<1),b=n[k],C=n[k+1]||65536;if(p<b)v=x;else if(p>=C)m=x+1;else{a=n[k+2],e.advance();continue e}}break}}function K0(n,e,t){for(let r=e,s;(s=n[r])!=65535;r++)if(s==t)return r-e;return-1}function fP(n,e,t,r){let s=K0(t,r,e);return s<0||K0(t,r,n)<s}const an=typeof process<"u"&&$0&&/\bparse\b/.test($0.LOG);let $h=null;function q0(n,e,t){let r=n.cursor(xt.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class dP{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?q0(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?q0(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],s=this.index[t];if(s==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let l=r.children[s],a=this.start[t]+r.positions[s];if(a>e)return this.nextStart=a,null;if(l instanceof ut){if(a==e){if(a<this.safeFrom)return null;let c=a+l.length;if(c<=this.safeTo){let h=l.prop(Ae.lookAhead);if(!h||c+h<this.fragment.to)return l}}this.index[t]++,a+l.length>=Math.max(this.safeFrom,e)&&(this.trees.push(l),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+l.length}}}class pP{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new tu)}getActions(e){let t=0,r=null,{parser:s}=e.p,{tokenizers:l}=s,a=s.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,h=0;for(let d=0;d<l.length;d++){if((1<<d&a)==0)continue;let p=l[d],m=this.tokens[d];if(!(r&&!p.fallback)&&((p.contextual||m.start!=e.pos||m.mask!=a||m.context!=c)&&(this.updateCachedToken(m,p,e),m.mask=a,m.context=c),m.lookAhead>m.end+25&&(h=Math.max(m.lookAhead,h)),m.value!=0)){let v=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!p.extend&&(r=m,t>v))break}}for(;this.actions.length>t;)this.actions.pop();return h&&e.setLookAhead(h),!r&&e.pos==this.stream.end&&(r=new tu,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new tu,{pos:r,p:s}=e;return t.start=r,t.end=Math.min(r+1,s.stream.end),t.value=r==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,r){let s=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(s,e),r),e.value>-1){let{parser:l}=r.p;for(let a=0;a<l.specialized.length;a++)if(l.specialized[a]==e.value){let c=l.specializers[a](this.stream.read(e.start,e.end),r);if(c>=0&&r.p.parser.dialect.allows(c>>1)){(c&1)==0?e.value=c>>1:e.extended=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,r,s){for(let l=0;l<s;l+=3)if(this.actions[l]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=r,s}addActions(e,t,r,s){let{state:l}=e,{parser:a}=e.p,{data:c}=a;for(let h=0;h<2;h++)for(let d=a.stateSlot(l,h?2:1);;d+=3){if(c[d]==65535)if(c[d+1]==1)d=mr(c,d+2);else{s==0&&c[d+1]==2&&(s=this.putAction(mr(c,d+2),t,r,s));break}c[d]==t&&(s=this.putAction(mr(c,d+1),t,r,s))}return s}}class gP{constructor(e,t,r,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new cP(t,s),this.tokens=new pP(e,this.stream),this.topTerm=e.top[1];let{from:l}=s[0];this.stacks=[yu.start(this,e.top[0],l)],this.fragments=r.length&&this.stream.end-l>e.bufferLength*4?new dP(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],s,l;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let c=e[a];for(;;){if(this.tokens.mainToken=null,c.pos>t)r.push(c);else{if(this.advanceStack(c,r,e))continue;{s||(s=[],l=[]),s.push(c);let h=this.tokens.getMainToken(c);l.push(h.value,h.end)}}break}}if(!r.length){let a=s&&vP(s);if(a)return an&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw an&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let a=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,l,r);if(a)return an&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((c,h)=>h.score-c.score);r.length>a;)r.pop();r.some(c=>c.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let c=r[a];for(let h=a+1;h<r.length;h++){let d=r[h];if(c.sameState(d)||c.buffer.length>500&&d.buffer.length>500)if((c.score-d.score||c.buffer.length-d.buffer.length)>0)r.splice(h--,1);else{r.splice(a--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let s=e.pos,{parser:l}=this,a=an?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let d=e.curContext&&e.curContext.tracker.strict,p=d?e.curContext.hash:0;for(let m=this.fragments.nodeAt(s);m;){let v=this.parser.nodeSet.types[m.type.id]==m.type?l.getGoto(e.state,m.type.id):-1;if(v>-1&&m.length&&(!d||(m.prop(Ae.contextHash)||0)==p))return e.useNode(m,v),an&&console.log(a+this.stackID(e)+` (via reuse of ${l.getName(m.type.id)})`),!0;if(!(m instanceof ut)||m.children.length==0||m.positions[0]>0)break;let x=m.children[0];if(x instanceof ut&&m.positions[0]==0)m=x;else break}}let c=l.stateSlot(e.state,4);if(c>0)return e.reduce(c),an&&console.log(a+this.stackID(e)+` (via always-reduce ${l.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let h=this.tokens.getActions(e);for(let d=0;d<h.length;){let p=h[d++],m=h[d++],v=h[d++],x=d==h.length||!r,k=x?e:e.split(),b=this.tokens.mainToken;if(k.apply(p,m,b?b.start:k.pos,v),an&&console.log(a+this.stackID(k)+` (via ${(p&65536)==0?"shift":`reduce of ${l.getName(p&65535)}`} for ${l.getName(m)} @ ${s}${k==e?"":", split"})`),x)return!0;k.pos>s?t.push(k):r.push(k)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return Y0(e,t),!0}}runRecovery(e,t,r){let s=null,l=!1;for(let a=0;a<e.length;a++){let c=e[a],h=t[a<<1],d=t[(a<<1)+1],p=an?this.stackID(c)+" -> ":"";if(c.deadEnd&&(l||(l=!0,c.restart(),an&&console.log(p+this.stackID(c)+" (restarted)"),this.advanceFully(c,r))))continue;let m=c.split(),v=p;for(let x=0;x<10&&m.forceReduce()&&(an&&console.log(v+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,r));x++)an&&(v=this.stackID(m)+" -> ");for(let x of c.recoverByInsert(h))an&&console.log(p+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,r);this.stream.end>c.pos?(d==c.pos&&(d++,h=0),c.recoverByDelete(h,d),an&&console.log(p+this.stackID(c)+` (via recover-delete ${this.parser.getName(h)})`),Y0(c,r)):(!s||s.score<c.score)&&(s=c)}return s}stackToTree(e){return e.close(),ut.build({buffer:vu.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=($h||($h=new WeakMap)).get(e);return t||$h.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Y0(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class mP{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const Uh=n=>n;class yP{constructor(e){this.start=e.start,this.shift=e.shift||Uh,this.reduce=e.reduce||Uh,this.reuse=e.reuse||Uh,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class xu extends Lx{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let r=Object.keys(e.topRules).map(c=>e.topRules[c][1]),s=[];for(let c=0;c<t.length;c++)s.push([]);function l(c,h,d){s[c].push([h,h.deserialize(String(d))])}if(e.nodeProps)for(let c of e.nodeProps){let h=c[0];typeof h=="string"&&(h=Ae[h]);for(let d=1;d<c.length;){let p=c[d++];if(p>=0)l(p,h,c[d++]);else{let m=c[d+-p];for(let v=-p;v>0;v--)l(c[d++],h,m);d++}}}this.nodeSet=new Md(t.map((c,h)=>Zt.define({name:h>=this.minRepeatTerm?void 0:c,id:h,props:s[h],top:r.indexOf(h)>-1,error:h==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(h)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Rx;let a=za(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(G0),this.states=za(e.states,Uint32Array),this.data=za(e.stateData),this.goto=za(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new ys(a,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let s=new gP(this,e,t,r);for(let l of this.wrappers)s=l(s,e,t,r);return s}getGoto(e,t,r=!1){let s=this.goto;if(t>=s[0])return-1;for(let l=s[t+1];;){let a=s[l++],c=a&1,h=s[l++];if(c&&r)return h;for(let d=l+(a>>1);l<d;l++)if(s[l]==e)return h;if(c)return-1}}hasAction(e,t){let r=this.data;for(let s=0;s<2;s++)for(let l=this.stateSlot(e,s?2:1),a;;l+=3){if((a=r[l])==65535)if(r[l+1]==1)a=r[l=mr(r,l+2)];else{if(r[l+1]==2)return mr(r,l+2);break}if(a==t||a==0)return mr(r,l+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),s=r?t(r):void 0;for(let l=this.stateSlot(e,1);s==null;l+=3){if(this.data[l]==65535)if(this.data[l+1]==1)l=mr(this.data,l+2);else break;s=t(mr(this.data,l+1))}return s}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=mr(this.data,r+2);else break;if((this.data[r+2]&1)==0){let s=this.data[r+1];t.some((l,a)=>a&1&&l==s)||t.push(this.data[r],s)}}return t}configure(e){let t=Object.assign(Object.create(xu.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let s=e.tokenizers.find(l=>l.from==r);return s?s.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,s)=>{let l=e.specializers.find(c=>c.from==r.external);if(!l)return r;let a=Object.assign(Object.assign({},r),{external:l.to});return t.specializers[s]=G0(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let l of e.split(" ")){let a=t.indexOf(l);a>=0&&(r[a]=!0)}let s=null;for(let l=0;l<t.length;l++)if(!r[l])for(let a=this.dialects[t[l]],c;(c=this.data[a++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[c]=1;return new mP(e,r,s)}static deserialize(e){return new xu(e)}}function mr(n,e){return n[e]|n[e+1]<<16}function vP(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function G0(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}let xP=0,yr=class Uf{constructor(e,t,r,s){this.name=e,this.set=t,this.base=r,this.modified=s,this.id=xP++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof Uf&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let s=new Uf(r,[],null,[]);if(s.set.push(s),t)for(let l of t.set)s.set.push(l);return s}static defineModifier(e){let t=new wu(e);return r=>r.modified.indexOf(t)>-1?r:wu.get(r.base||r,r.modified.concat(t).sort((s,l)=>s.id-l.id))}},wP=0;class wu{constructor(e){this.name=e,this.instances=[],this.id=wP++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(c=>c.base==e&&kP(t,c.modified));if(r)return r;let s=[],l=new yr(e.name,s,e,t);for(let c of t)c.instances.push(l);let a=SP(t);for(let c of e.set)if(!c.modified.length)for(let h of a)s.push(wu.get(c,h));return l}}function kP(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function SP(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,s=e.length;r<s;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function Ix(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let s of t.split(" "))if(s){let l=[],a=2,c=s;for(let m=0;;){if(c=="..."&&m>0&&m+3==s.length){a=1;break}let v=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!v)throw new RangeError("Invalid path: "+s);if(l.push(v[0]=="*"?"":v[0][0]=='"'?JSON.parse(v[0]):v[0]),m+=v[0].length,m==s.length)break;let x=s[m++];if(m==s.length&&x=="!"){a=0;break}if(x!="/")throw new RangeError("Invalid path: "+s);c=s.slice(m)}let h=l.length-1,d=l[h];if(!d)throw new RangeError("Invalid path: "+s);let p=new Zo(r,a,h>0?l.slice(0,h):null);e[d]=p.sort(e[d])}}return jx.add(e)}const jx=new Ae({combine(n,e){let t,r,s;for(;n||e;){if(!n||e&&n.depth>=e.depth?(s=e,e=e.next):(s=n,n=n.next),t&&t.mode==s.mode&&!s.context&&!t.context)continue;let l=new Zo(s.tags,s.mode,s.context);t?t.next=l:r=l,t=l}return r}});class Zo{constructor(e,t,r,s){this.tags=e,this.mode=t,this.context=r,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Zo.empty=new Zo([],2,null);function Bx(n,e){let t=Object.create(null);for(let l of n)if(!Array.isArray(l.tag))t[l.tag.id]=l.class;else for(let a of l.tag)t[a.id]=l.class;let{scope:r,all:s=null}=e||{};return{style:l=>{let a=s;for(let c of l)for(let h of c.set){let d=t[h.id];if(d){a=a?a+" "+d:d;break}}return a},scope:r}}function bP(n,e){let t=null;for(let r of n){let s=r.style(e);s&&(t=t?t+" "+s:s)}return t}function OP(n,e,t,r=0,s=n.length){let l=new CP(r,Array.isArray(e)?e:[e],t);l.highlightRange(n.cursor(),r,s,"",l.highlighters),l.flush(s)}class CP{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,s,l){let{type:a,from:c,to:h}=e;if(c>=r||h<=t)return;a.isTop&&(l=this.highlighters.filter(x=>!x.scope||x.scope(a)));let d=s,p=PP(e)||Zo.empty,m=bP(l,p.tags);if(m&&(d&&(d+=" "),d+=m,p.mode==1&&(s+=(s?" ":"")+m)),this.startSpan(Math.max(t,c),d),p.opaque)return;let v=e.tree&&e.tree.prop(Ae.mounted);if(v&&v.overlay){let x=e.node.enter(v.overlay[0].from+c,1),k=this.highlighters.filter(C=>!C.scope||C.scope(v.tree.type)),b=e.firstChild();for(let C=0,E=c;;C++){let R=C<v.overlay.length?v.overlay[C]:null,N=R?R.from+c:h,_=Math.max(t,E),T=Math.min(r,N);if(_<T&&b)for(;e.from<T&&(this.highlightRange(e,_,T,s,l),this.startSpan(Math.min(T,e.to),d),!(e.to>=N||!e.nextSibling())););if(!R||N>r)break;E=R.to+c,E>t&&(this.highlightRange(x.cursor(),Math.max(t,R.from+c),Math.min(r,E),"",k),this.startSpan(Math.min(r,E),d))}b&&e.parent()}else if(e.firstChild()){v&&(s="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,s,l),this.startSpan(Math.min(r,e.to),d)}while(e.nextSibling());e.parent()}}}function PP(n){let e=n.type.prop(jx);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const se=yr.define,Fa=se(),Yr=se(),J0=se(Yr),Z0=se(Yr),Gr=se(),_a=se(Gr),Xh=se(Gr),Zn=se(),Oi=se(Zn),Gn=se(),Jn=se(),Xf=se(),wo=se(Xf),Va=se(),Q={comment:Fa,lineComment:se(Fa),blockComment:se(Fa),docComment:se(Fa),name:Yr,variableName:se(Yr),typeName:J0,tagName:se(J0),propertyName:Z0,attributeName:se(Z0),className:se(Yr),labelName:se(Yr),namespace:se(Yr),macroName:se(Yr),literal:Gr,string:_a,docString:se(_a),character:se(_a),attributeValue:se(_a),number:Xh,integer:se(Xh),float:se(Xh),bool:se(Gr),regexp:se(Gr),escape:se(Gr),color:se(Gr),url:se(Gr),keyword:Gn,self:se(Gn),null:se(Gn),atom:se(Gn),unit:se(Gn),modifier:se(Gn),operatorKeyword:se(Gn),controlKeyword:se(Gn),definitionKeyword:se(Gn),moduleKeyword:se(Gn),operator:Jn,derefOperator:se(Jn),arithmeticOperator:se(Jn),logicOperator:se(Jn),bitwiseOperator:se(Jn),compareOperator:se(Jn),updateOperator:se(Jn),definitionOperator:se(Jn),typeOperator:se(Jn),controlOperator:se(Jn),punctuation:Xf,separator:se(Xf),bracket:wo,angleBracket:se(wo),squareBracket:se(wo),paren:se(wo),brace:se(wo),content:Zn,heading:Oi,heading1:se(Oi),heading2:se(Oi),heading3:se(Oi),heading4:se(Oi),heading5:se(Oi),heading6:se(Oi),contentSeparator:se(Zn),list:se(Zn),quote:se(Zn),emphasis:se(Zn),strong:se(Zn),link:se(Zn),monospace:se(Zn),strikethrough:se(Zn),inserted:se(),deleted:se(),changed:se(),invalid:se(),meta:Va,documentMeta:se(Va),annotation:se(Va),processingInstruction:se(Va),definition:yr.defineModifier("definition"),constant:yr.defineModifier("constant"),function:yr.defineModifier("function"),standard:yr.defineModifier("standard"),local:yr.defineModifier("local"),special:yr.defineModifier("special")};for(let n in Q){let e=Q[n];e instanceof yr&&(e.name=n)}Bx([{tag:Q.link,class:"tok-link"},{tag:Q.heading,class:"tok-heading"},{tag:Q.emphasis,class:"tok-emphasis"},{tag:Q.strong,class:"tok-strong"},{tag:Q.keyword,class:"tok-keyword"},{tag:Q.atom,class:"tok-atom"},{tag:Q.bool,class:"tok-bool"},{tag:Q.url,class:"tok-url"},{tag:Q.labelName,class:"tok-labelName"},{tag:Q.inserted,class:"tok-inserted"},{tag:Q.deleted,class:"tok-deleted"},{tag:Q.literal,class:"tok-literal"},{tag:Q.string,class:"tok-string"},{tag:Q.number,class:"tok-number"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],class:"tok-string2"},{tag:Q.variableName,class:"tok-variableName"},{tag:Q.local(Q.variableName),class:"tok-variableName tok-local"},{tag:Q.definition(Q.variableName),class:"tok-variableName tok-definition"},{tag:Q.special(Q.variableName),class:"tok-variableName2"},{tag:Q.definition(Q.propertyName),class:"tok-propertyName tok-definition"},{tag:Q.typeName,class:"tok-typeName"},{tag:Q.namespace,class:"tok-namespace"},{tag:Q.className,class:"tok-className"},{tag:Q.macroName,class:"tok-macroName"},{tag:Q.propertyName,class:"tok-propertyName"},{tag:Q.operator,class:"tok-operator"},{tag:Q.comment,class:"tok-comment"},{tag:Q.meta,class:"tok-meta"},{tag:Q.invalid,class:"tok-invalid"},{tag:Q.punctuation,class:"tok-punctuation"}]);const ls=63,ey=64,EP=1,AP=2,zx=3,MP=4,Fx=5,RP=6,DP=7,_x=65,NP=66,TP=8,LP=9,IP=10,jP=11,BP=12,Vx=13,zP=19,FP=20,_P=29,VP=33,HP=34,WP=47,QP=0,Td=1,Kf=2,el=3,qf=4;class Ei{constructor(e,t,r){this.parent=e,this.depth=t,this.type=r,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)+r}}Ei.top=new Ei(null,-1,QP);function zo(n,e){for(let t=0,r=e-n.pos-1;;r--,t++){let s=n.peek(r);if(br(s)||s==-1)return t}}function Yf(n){return n==32||n==9}function br(n){return n==10||n==13}function Hx(n){return Yf(n)||br(n)}function Mi(n){return n<0||Hx(n)}const $P=new yP({start:Ei.top,reduce(n,e){return n.type==el&&(e==FP||e==HP)?n.parent:n},shift(n,e,t,r){if(e==zx)return new Ei(n,zo(r,r.pos),Td);if(e==_x||e==Fx)return new Ei(n,zo(r,r.pos),Kf);if(e==ls)return n.parent;if(e==zP||e==VP)return new Ei(n,0,el);if(e==Vx&&n.type==qf)return n.parent;if(e==WP){let s=/[1-9]/.exec(r.read(r.pos,t.pos));if(s)return new Ei(n,n.depth+ +s[0],qf)}return n},hash(n){return n.hash}});function bs(n,e,t=0){return n.peek(t)==e&&n.peek(t+1)==e&&n.peek(t+2)==e&&Mi(n.peek(t+3))}const UP=new Iu((n,e)=>{if(n.next==-1&&e.canShift(ey))return n.acceptToken(ey);let t=n.peek(-1);if((br(t)||t<0)&&e.context.type!=el){if(bs(n,45))if(e.canShift(ls))n.acceptToken(ls);else return n.acceptToken(EP,3);if(bs(n,46))if(e.canShift(ls))n.acceptToken(ls);else return n.acceptToken(AP,3);let r=0;for(;n.next==32;)r++,n.advance();(r<e.context.depth||r==e.context.depth&&e.context.type==Td&&(n.next!=45||!Mi(n.peek(1))))&&n.next!=-1&&!br(n.next)&&n.next!=35&&n.acceptToken(ls,-r)}},{contextual:!0}),XP=new Iu((n,e)=>{if(e.context.type==el){n.next==63&&(n.advance(),Mi(n.next)&&n.acceptToken(DP));return}if(n.next==45)n.advance(),Mi(n.next)&&n.acceptToken(e.context.type==Td&&e.context.depth==zo(n,n.pos-1)?MP:zx);else if(n.next==63)n.advance(),Mi(n.next)&&n.acceptToken(e.context.type==Kf&&e.context.depth==zo(n,n.pos-1)?RP:Fx);else{let t=n.pos;for(;;)if(Yf(n.next)){if(n.pos==t)return;n.advance()}else if(n.next==33)Wx(n);else if(n.next==38)Gf(n);else if(n.next==42){Gf(n);break}else if(n.next==39||n.next==34){if(Ld(n,!0))break;return}else if(n.next==91||n.next==123){if(!qP(n))return;break}else{Qx(n,!0,!1,0);break}for(;Yf(n.next);)n.advance();if(n.next==58){if(n.pos==t&&e.canShift(_P))return;let r=n.peek(1);Mi(r)&&n.acceptTokenTo(e.context.type==Kf&&e.context.depth==zo(n,t)?NP:_x,t)}}},{contextual:!0});function KP(n){return n>32&&n<127&&n!=34&&n!=37&&n!=44&&n!=60&&n!=62&&n!=92&&n!=94&&n!=96&&n!=123&&n!=124&&n!=125}function ty(n){return n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70}function ny(n,e){return n.next==37?(n.advance(),ty(n.next)&&n.advance(),ty(n.next)&&n.advance(),!0):KP(n.next)||e&&n.next==44?(n.advance(),!0):!1}function Wx(n){if(n.advance(),n.next==60){for(n.advance();;)if(!ny(n,!0)){n.next==62&&n.advance();break}}else for(;ny(n,!1););}function Gf(n){for(n.advance();!Mi(n.next)&&ku(n.tag)!="f";)n.advance()}function Ld(n,e){let t=n.next,r=!1,s=n.pos;for(n.advance();;){let l=n.next;if(l<0)break;if(n.advance(),l==t)if(l==39)if(n.next==39)n.advance();else break;else break;else if(l==92&&t==34)n.next>=0&&n.advance();else if(br(l)){if(e)return!1;r=!0}else if(e&&n.pos>=s+1024)return!1}return!r}function qP(n){for(let e=[],t=n.pos+1024;;)if(n.next==91||n.next==123)e.push(n.next),n.advance();else if(n.next==39||n.next==34){if(!Ld(n,!0))return!1}else if(n.next==93||n.next==125){if(e[e.length-1]!=n.next-2)return!1;if(e.pop(),n.advance(),!e.length)return!0}else{if(n.next<0||n.pos>t||br(n.next))return!1;n.advance()}}const YP="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function ku(n){return n<33?"u":n>125?"s":YP[n-33]}function Kh(n,e){let t=ku(n);return t!="u"&&!(e&&t=="f")}function Qx(n,e,t,r){if(ku(n.next)=="s"||(n.next==63||n.next==58||n.next==45)&&Kh(n.peek(1),t))n.advance();else return!1;let s=n.pos;for(;;){let l=n.next,a=0,c=r+1;for(;Hx(l);){if(br(l)){if(e)return!1;c=0}else c++;l=n.peek(++a)}if(!(l>=0&&(l==58?Kh(n.peek(a+1),t):l==35?n.peek(a-1)!=32:Kh(l,t)))||!t&&c<=r||c==0&&!t&&(bs(n,45,a)||bs(n,46,a)))break;if(e&&ku(l)=="f")return!1;for(let d=a;d>=0;d--)n.advance();if(e&&n.pos>s+1024)return!1}return!0}const GP=new Iu((n,e)=>{if(n.next==33)Wx(n),n.acceptToken(BP);else if(n.next==38||n.next==42){let t=n.next==38?IP:jP;Gf(n),n.acceptToken(t)}else n.next==39||n.next==34?(Ld(n,!1),n.acceptToken(LP)):Qx(n,!1,e.context.type==el,e.context.depth)&&n.acceptToken(TP)}),JP=new Iu((n,e)=>{let t=e.context.type==qf?e.context.depth:-1,r=n.pos;e:for(;;){let s=0,l=n.next;for(;l==32;)l=n.peek(++s);if(!s&&(bs(n,45,s)||bs(n,46,s))||!br(l)&&(t<0&&(t=Math.max(e.context.depth+1,s)),s<t))break;for(;;){if(n.next<0)break e;let a=br(n.next);if(n.advance(),a)continue e;r=n.pos}}n.acceptTokenTo(Vx,r)}),ZP=Ix({DirectiveName:Q.keyword,DirectiveContent:Q.attributeValue,"DirectiveEnd DocEnd":Q.meta,QuotedLiteral:Q.string,BlockLiteralHeader:Q.special(Q.string),BlockLiteralContent:Q.content,Literal:Q.content,"Key/Literal Key/QuotedLiteral":Q.definition(Q.propertyName),"Anchor Alias":Q.labelName,Tag:Q.typeName,Comment:Q.lineComment,": , -":Q.separator,"?":Q.punctuation,"[ ]":Q.squareBracket,"{ }":Q.brace}),eE=xu.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:$P,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[ZP],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[UP,XP,GP,JP,0,1],topRules:{Stream:[0,15]},tokenPrec:0});var qh;const hs=new Ae;function tE(n){return we.define({combine:n?e=>e.concat(n):void 0})}const nE=new Ae;class Bn{constructor(e,t,r=[],s=""){this.data=e,this.name=s,je.prototype.hasOwnProperty("tree")||Object.defineProperty(je.prototype,"tree",{get(){return sr(this)}}),this.parser=t,this.extension=[Cs.of(this),je.languageData.of((l,a,c)=>{let h=ry(l,a,c),d=h.type.prop(hs);if(!d)return[];let p=l.facet(d),m=h.type.prop(nE);if(m){let v=h.resolve(a-h.from,c);for(let x of m)if(x.test(v,l)){let k=l.facet(x.facet);return x.type=="replace"?k:k.concat(p)}}return p})].concat(r)}isActiveAt(e,t,r=-1){return ry(e,t,r).type.prop(hs)==this.data}findRegions(e){let t=e.facet(Cs);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],s=(l,a)=>{if(l.prop(hs)==this.data){r.push({from:a,to:a+l.length});return}let c=l.prop(Ae.mounted);if(c){if(c.tree.prop(hs)==this.data){if(c.overlay)for(let h of c.overlay)r.push({from:h.from+a,to:h.to+a});else r.push({from:a,to:a+l.length});return}else if(c.overlay){let h=r.length;if(s(c.tree,c.overlay[0].from+a),r.length>h)return}}for(let h=0;h<l.children.length;h++){let d=l.children[h];d instanceof ut&&s(d,l.positions[h]+a)}};return s(sr(e),0),r}get allowsNesting(){return!0}}Bn.setState=dt.define();function ry(n,e,t){let r=n.facet(Cs),s=sr(n).topNode;if(!r||r.allowsNesting)for(let l=s;l;l=l.enter(e,t,xt.ExcludeBuffers))l.type.isTop&&(s=l);return s}class Su extends Bn{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=tE(e.languageData);return new Su(t,e.parser.configure({props:[hs.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new Su(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function sr(n){let e=n.field(Bn.state,!1);return e?e.tree:ut.empty}class rE{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let ko=null;class bu{constructor(e,t,r=[],s,l,a,c,h){this.parser=e,this.state=t,this.fragments=r,this.tree=s,this.treeLen=l,this.viewport=a,this.skipped=c,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new bu(e,t,[],ut.empty,0,r,[],null)}startParse(){return this.parser.startParse(new rE(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=ut.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(Ri.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Ri.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=ko;ko=this;try{return e()}finally{ko=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=iy(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:s,treeLen:l,viewport:a,skipped:c}=this;if(this.takeTree(),!e.empty){let h=[];if(e.iterChangedRanges((d,p,m,v)=>h.push({fromA:d,toA:p,fromB:m,toB:v})),r=Ri.applyChanges(r,h),s=ut.empty,l=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){c=[];for(let d of this.skipped){let p=e.mapPos(d.from,1),m=e.mapPos(d.to,-1);p<m&&c.push({from:p,to:m})}}}return new bu(this.parser,t,r,s,l,a,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:s,to:l}=this.skipped[r];s<e.to&&l>e.from&&(this.fragments=iy(this.fragments,s,l),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Lx{createParse(t,r,s){let l=s[0].from,a=s[s.length-1].to;return{parsedPos:l,advance(){let h=ko;if(h){for(let d of s)h.tempSkipped.push(d);e&&(h.scheduleOn=h.scheduleOn?Promise.all([h.scheduleOn,e]):e)}return this.parsedPos=a,new ut(Zt.none,[],[],a-l)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return ko}}function iy(n,e,t){return Ri.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Os{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Os(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=bu.create(e.facet(Cs).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Os(r)}}Bn.state=Ii.define({create:Os.init,update(n,e){for(let t of e.effects)if(t.is(Bn.setState))return t.value;return e.startState.facet(Cs)!=e.state.facet(Cs)?Os.init(e.state):n.apply(e)}});let $x=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&($x=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Yh=typeof navigator<"u"&&(!((qh=navigator.scheduling)===null||qh===void 0)&&qh.isInputPending)?()=>navigator.scheduling.isInputPending():null,iE=_n.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Bn.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Bn.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=$x(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:s}}=this.view,l=r.field(Bn.state);if(l.tree==l.context.tree&&l.context.isDone(s+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!Yh?Math.max(25,e.timeRemaining()-5):1e9),c=l.context.treeLen<s&&r.doc.length>s+1e3,h=l.context.work(()=>Yh&&Yh()||Date.now()>a,s+(c?0:1e5));this.chunkBudget-=Date.now()-t,(h||this.chunkBudget<=0)&&(l.context.takeTree(),this.view.dispatch({effects:Bn.setState.of(new Os(l.context))})),this.chunkBudget>0&&!(h&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(l.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>nr(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Cs=we.define({combine(n){return n.length?n[0]:null},enables:n=>[Bn.state,iE,Ce.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class sE{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const oE=we.define(),Id=we.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Ou(n){let e=n.facet(Id);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Cu(n,e){let t="",r=n.tabSize,s=n.facet(Id)[0];if(s=="	"){for(;e>=r;)t+="	",e-=r;s=" "}for(let l=0;l<e;l++)t+=s;return t}function Ux(n,e){n instanceof je&&(n=new ju(n));for(let r of n.state.facet(oE)){let s=r(n,e);if(s!==void 0)return s}let t=sr(n.state);return t.length>=e?lE(n,t,e):null}class ju{constructor(e,t={}){this.state=e,this.options=t,this.unit=Ou(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:l}=this.options;return s!=null&&s>=r.from&&s<=r.to?l&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:r.text.slice(s-r.from),from:s}:{text:r.text.slice(0,s-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:s}=this.lineAt(e,t);return r.slice(e-s,Math.min(r.length,e+100-s))}column(e,t=1){let{text:r,from:s}=this.lineAt(e,t),l=this.countColumn(r,e-s),a=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return a>-1&&(l+=a-this.countColumn(r,r.search(/\S|$/))),l}countColumn(e,t=e.length){return Du(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:s}=this.lineAt(e,t),l=this.options.overrideIndentation;if(l){let a=l(s);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Xx=new Ae;function lE(n,e,t){let r=e.resolveStack(t),s=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(s!=r.node){let l=[];for(let a=s;a&&!(a.from<r.node.from||a.to>r.node.to||a.from==r.node.from&&a.type==r.node.type);a=a.parent)l.push(a);for(let a=l.length-1;a>=0;a--)r={node:l[a],next:r}}return Kx(r,n,t)}function Kx(n,e,t){for(let r=n;r;r=r.next){let s=uE(r.node);if(s)return s(jd.create(e,t,r))}return 0}function aE(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function uE(n){let e=n.type.prop(Xx);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(Ae.closedBy))){let s=n.lastChild,l=s&&r.indexOf(s.name)>-1;return a=>qx(a,!0,1,void 0,l&&!aE(a)?s.from:void 0)}return n.parent==null?cE:null}function cE(){return 0}class jd extends ju{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new jd(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(hE(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return Kx(this.context.next,this.base,this.pos)}}function hE(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function fE(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let s=n.options.simulateBreak,l=n.state.doc.lineAt(t.from),a=s==null||s<=l.from?l.to:Math.min(l.to,s);for(let c=t.to;;){let h=e.childAfter(c);if(!h||h==r)return null;if(!h.type.isSkipped){if(h.from>=a)return null;let d=/^ */.exec(l.text.slice(t.to-l.from))[0].length;return{from:t.from,to:t.to+d}}c=h.to}}function sy({closing:n,align:e=!0,units:t=1}){return r=>qx(r,e,t,n)}function qx(n,e,t,r,s){let l=n.textAfter,a=l.match(/^\s*/)[0].length,c=r&&l.slice(a,a+r.length)==r||s==n.pos+a,h=e?fE(n):null;return h?c?n.column(h.from):n.column(h.to):n.baseIndent+(c?0:n.unit*t)}const dE=new Ae;function pE(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}class Bu{constructor(e,t){this.specs=e;let r;function s(c){let h=si.newName();return(r||(r=Object.create(null)))["."+h]=c,h}const l=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,a=t.scope;this.scope=a instanceof Bn?c=>c.prop(hs)==a.data:a?c=>c==a:void 0,this.style=Bx(e.map(c=>({tag:c.tag,class:c.class||s(Object.assign({},c,{tag:null}))})),{all:l}).style,this.module=r?new si(r):null,this.themeType=t.themeType}static define(e,t){return new Bu(e,t||{})}}const Jf=we.define(),gE=we.define({combine(n){return n.length?[n[0]]:null}});function Gh(n){let e=n.facet(Jf);return e.length?e:n.facet(gE)}function mE(n,e){let t=[vE],r;return n instanceof Bu&&(n.module&&t.push(Ce.styleModule.of(n.module)),r=n.themeType),r?t.push(Jf.computeN([Ce.darkTheme],s=>s.facet(Ce.darkTheme)==(r=="dark")?[n]:[])):t.push(Jf.of(n)),t}class yE{constructor(e){this.markCache=Object.create(null),this.tree=sr(e.state),this.decorations=this.buildDeco(e,Gh(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=sr(e.state),r=Gh(e.state),s=r!=Gh(e.startState),{viewport:l}=e.view,a=e.changes.mapPos(this.decoratedTo,1);t.length<l.to&&!s&&t.type==this.tree.type&&a>=l.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=l.to)}buildDeco(e,t){if(!t||!this.tree.length)return nt.none;let r=new $o;for(let{from:s,to:l}of e.visibleRanges)OP(this.tree,t,(a,c,h)=>{r.add(a,c,this.markCache[h]||(this.markCache[h]=nt.mark({class:h})))},s,l);return r.finish()}}const vE=Ru.high(_n.fromClass(yE,{decorations:n=>n.decorations})),xE=1e4,wE="()[]{}",kE=new Ae;function Zf(n,e,t){let r=n.prop(e<0?Ae.openedBy:Ae.closedBy);if(r)return r;if(n.name.length==1){let s=t.indexOf(n.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function ed(n){let e=n.type.prop(kE);return e?e(n.node):n}function fs(n,e,t,r={}){let s=r.maxScanDistance||xE,l=r.brackets||wE,a=sr(n),c=a.resolveInner(e,t);for(let h=c;h;h=h.parent){let d=Zf(h.type,t,l);if(d&&h.from<h.to){let p=ed(h);if(p&&(t>0?e>=p.from&&e<p.to:e>p.from&&e<=p.to))return SE(n,e,t,h,p,d,l)}}return bE(n,e,t,a,c.type,s,l)}function SE(n,e,t,r,s,l,a){let c=r.parent,h={from:s.from,to:s.to},d=0,p=c==null?void 0:c.cursor();if(p&&(t<0?p.childBefore(r.from):p.childAfter(r.to)))do if(t<0?p.to<=r.from:p.from>=r.to){if(d==0&&l.indexOf(p.type.name)>-1&&p.from<p.to){let m=ed(p);return{start:h,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(Zf(p.type,t,a))d++;else if(Zf(p.type,-t,a)){if(d==0){let m=ed(p);return{start:h,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}d--}}while(t<0?p.prevSibling():p.nextSibling());return{start:h,matched:!1}}function bE(n,e,t,r,s,l,a){let c=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),h=a.indexOf(c);if(h<0||h%2==0!=t>0)return null;let d={from:t<0?e-1:e,to:t>0?e+1:e},p=n.doc.iterRange(e,t>0?n.doc.length:0),m=0;for(let v=0;!p.next().done&&v<=l;){let x=p.value;t<0&&(v+=x.length);let k=e+v*t;for(let b=t>0?0:x.length-1,C=t>0?x.length:-1;b!=C;b+=t){let E=a.indexOf(x[b]);if(!(E<0||r.resolveInner(k+b,1).type!=s))if(E%2==0==t>0)m++;else{if(m==1)return{start:d,end:{from:k+b,to:k+b+1},matched:E>>1==h>>1};m--}}t>0&&(v+=x.length)}return p.done?{start:d,matched:!1}:null}const OE=Object.create(null),oy=[Zt.none],ly=[],ay=Object.create(null),CE=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])CE[n]=PE(OE,e);function Jh(n,e){ly.indexOf(n)>-1||(ly.push(n),console.warn(e))}function PE(n,e){let t=[];for(let c of e.split(" ")){let h=[];for(let d of c.split(".")){let p=n[d]||Q[d];p?typeof p=="function"?h.length?h=h.map(p):Jh(d,`Modifier ${d} used at start of tag`):h.length?Jh(d,`Tag ${d} used as modifier`):h=Array.isArray(p)?p:[p]:Jh(d,`Unknown highlighting tag ${d}`)}for(let d of h)t.push(d)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),s=r+" "+t.map(c=>c.id),l=ay[s];if(l)return l.id;let a=ay[s]=Zt.define({id:oy.length,name:r,props:[Ix({[r]:t})]});return oy.push(a),a.id}tt.RTL,tt.LTR;const EE=Su.define({name:"yaml",parser:eE.configure({props:[Xx.add({Stream:n=>{for(let e=n.node.resolve(n.pos,-1);e&&e.to>=n.pos;e=e.parent){if(e.name=="BlockLiteralContent"&&e.from<e.to)return n.baseIndentFor(e);if(e.name=="BlockLiteral")return n.baseIndentFor(e)+n.unit;if(e.name=="BlockSequence"||e.name=="BlockMapping")return n.column(e.from,1);if(e.name=="QuotedLiteral")return null;if(e.name=="Literal"){let t=n.column(e.from,1);if(t==n.lineIndent(e.from,1))return t;if(e.to>n.pos)return null}}return null},FlowMapping:sy({closing:"}"}),FlowSequence:sy({closing:"]"})}),dE.add({"FlowMapping FlowSequence":pE,"Item Pair BlockLiteral":(n,e)=>({from:e.doc.lineAt(n.from).to,to:n.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});function AE(){return new sE(EE)}const ME="#e5c07b",uy="#e06c75",RE="#56b6c2",DE="#ffffff",nu="#abb2bf",td="#7d8799",NE="#61afef",TE="#98c379",cy="#d19a66",LE="#c678dd",IE="#21252b",hy="#2c313a",fy="#282c34",Zh="#353a42",jE="#3E4451",dy="#528bff",BE=Ce.theme({"&":{color:nu,backgroundColor:fy},".cm-content":{caretColor:dy},".cm-cursor, .cm-dropCursor":{borderLeftColor:dy},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:jE},".cm-panels":{backgroundColor:IE,color:nu},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:fy,color:td,border:"none"},".cm-activeLineGutter":{backgroundColor:hy},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Zh},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Zh,borderBottomColor:Zh},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:hy,color:nu}}},{dark:!0}),zE=Bu.define([{tag:Q.keyword,color:LE},{tag:[Q.name,Q.deleted,Q.character,Q.propertyName,Q.macroName],color:uy},{tag:[Q.function(Q.variableName),Q.labelName],color:NE},{tag:[Q.color,Q.constant(Q.name),Q.standard(Q.name)],color:cy},{tag:[Q.definition(Q.name),Q.separator],color:nu},{tag:[Q.typeName,Q.className,Q.number,Q.changed,Q.annotation,Q.modifier,Q.self,Q.namespace],color:ME},{tag:[Q.operator,Q.operatorKeyword,Q.url,Q.escape,Q.regexp,Q.link,Q.special(Q.string)],color:RE},{tag:[Q.meta,Q.comment],color:td},{tag:Q.strong,fontWeight:"bold"},{tag:Q.emphasis,fontStyle:"italic"},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.link,color:td,textDecoration:"underline"},{tag:Q.heading,fontWeight:"bold",color:uy},{tag:[Q.atom,Q.bool,Q.special(Q.variableName)],color:cy},{tag:[Q.processingInstruction,Q.string,Q.inserted],color:TE},{tag:Q.invalid,color:DE}]),FE=[BE,mE(zE)],_E=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=zd(n.state,t.from);return r.line?VE(n):r.block?WE(n):!1};function Bd(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let s=n(e,t);return s?(r(t.update(s)),!0):!1}}const VE=Bd(UE,0),HE=Bd(Yx,0),WE=Bd((n,e)=>Yx(n,e,$E(e)),0);function zd(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const So=50;function QE(n,{open:e,close:t},r,s){let l=n.sliceDoc(r-So,r),a=n.sliceDoc(s,s+So),c=/\s*$/.exec(l)[0].length,h=/^\s*/.exec(a)[0].length,d=l.length-c;if(l.slice(d-e.length,d)==e&&a.slice(h,h+t.length)==t)return{open:{pos:r-c,margin:c&&1},close:{pos:s+h,margin:h&&1}};let p,m;s-r<=2*So?p=m=n.sliceDoc(r,s):(p=n.sliceDoc(r,r+So),m=n.sliceDoc(s-So,s));let v=/^\s*/.exec(p)[0].length,x=/\s*$/.exec(m)[0].length,k=m.length-x-t.length;return p.slice(v,v+e.length)==e&&m.slice(k,k+t.length)==t?{open:{pos:r+v+e.length,margin:/\s/.test(p.charAt(v+e.length))?1:0},close:{pos:s-x-t.length,margin:/\s/.test(m.charAt(k-1))?1:0}}:null}function $E(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),s=t.to<=r.to?r:n.doc.lineAt(t.to);s.from>r.from&&s.from==t.to&&(s=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let l=e.length-1;l>=0&&e[l].to>r.from?e[l].to=s.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:s.to})}return e}function Yx(n,e,t=e.selection.ranges){let r=t.map(l=>zd(e,l.from).block);if(!r.every(l=>l))return null;let s=t.map((l,a)=>QE(e,r[a],l.from,l.to));if(n!=2&&!s.every(l=>l))return{changes:e.changes(t.map((l,a)=>s[a]?[]:[{from:l.from,insert:r[a].open+" "},{from:l.to,insert:" "+r[a].close}]))};if(n!=1&&s.some(l=>l)){let l=[];for(let a=0,c;a<s.length;a++)if(c=s[a]){let h=r[a],{open:d,close:p}=c;l.push({from:d.pos-h.open.length,to:d.pos+d.margin},{from:p.pos-p.margin,to:p.pos+h.close.length})}return{changes:l}}return null}function UE(n,e,t=e.selection.ranges){let r=[],s=-1;for(let{from:l,to:a}of t){let c=r.length,h=1e9,d=zd(e,l).line;if(d){for(let p=l;p<=a;){let m=e.doc.lineAt(p);if(m.from>s&&(l==a||a>m.from)){s=m.from;let v=/^\s*/.exec(m.text)[0].length,x=v==m.length,k=m.text.slice(v,v+d.length)==d?v:-1;v<m.text.length&&v<h&&(h=v),r.push({line:m,comment:k,token:d,indent:v,empty:x,single:!1})}p=m.to+1}if(h<1e9)for(let p=c;p<r.length;p++)r[p].indent<r[p].line.text.length&&(r[p].indent=h);r.length==c+1&&(r[c].single=!0)}}if(n!=2&&r.some(l=>l.comment<0&&(!l.empty||l.single))){let l=[];for(let{line:c,token:h,indent:d,empty:p,single:m}of r)(m||!p)&&l.push({from:c.from+d,insert:h+" "});let a=e.changes(l);return{changes:a,selection:e.selection.map(a,1)}}else if(n!=1&&r.some(l=>l.comment>=0)){let l=[];for(let{line:a,comment:c,token:h}of r)if(c>=0){let d=a.from+c,p=d+h.length;a.text[p-a.from]==" "&&p++,l.push({from:d,to:p})}return{changes:l}}return null}function Ds(n,e){return te.create(n.ranges.map(e),n.mainIndex)}function Hn(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Wn({state:n,dispatch:e},t){let r=Ds(n.selection,t);return r.eq(n.selection,!0)?!1:(e(Hn(n,r)),!0)}function zu(n,e){return te.cursor(e?n.to:n.from)}function Gx(n,e){return Wn(n,t=>t.empty?n.moveByChar(t,e):zu(t,e))}function Bt(n){return n.textDirectionAt(n.state.selection.main.head)==tt.LTR}const Jx=n=>Gx(n,!Bt(n)),Zx=n=>Gx(n,Bt(n));function e1(n,e){return Wn(n,t=>t.empty?n.moveByGroup(t,e):zu(t,e))}const XE=n=>e1(n,!Bt(n)),KE=n=>e1(n,Bt(n));function qE(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Fu(n,e,t){let r=sr(n).resolveInner(e.head),s=t?Ae.closedBy:Ae.openedBy;for(let h=e.head;;){let d=t?r.childAfter(h):r.childBefore(h);if(!d)break;qE(n,d,s)?r=d:h=t?d.to:d.from}let l=r.type.prop(s),a,c;return l&&(a=t?fs(n,r.from,1):fs(n,r.to,-1))&&a.matched?c=t?a.end.to:a.end.from:c=t?r.to:r.from,te.cursor(c,t?-1:1)}const YE=n=>Wn(n,e=>Fu(n.state,e,!Bt(n))),GE=n=>Wn(n,e=>Fu(n.state,e,Bt(n)));function t1(n,e){return Wn(n,t=>{if(!t.empty)return zu(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const n1=n=>t1(n,!1),r1=n=>t1(n,!0);function i1(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,s;if(e){for(let l of n.state.facet(Ce.scrollMargins)){let a=l(n);a!=null&&a.top&&(t=Math.max(a==null?void 0:a.top,t)),a!=null&&a.bottom&&(r=Math.max(a==null?void 0:a.bottom,r))}s=n.scrollDOM.clientHeight-t-r}else s=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,s-5)}}function s1(n,e){let t=i1(n),{state:r}=n,s=Ds(r.selection,a=>a.empty?n.moveVertically(a,e,t.height):zu(a,e));if(s.eq(r.selection))return!1;let l;if(t.selfScroll){let a=n.coordsAtPos(r.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),h=c.top+t.marginTop,d=c.bottom-t.marginBottom;a&&a.top>h&&a.bottom<d&&(l=Ce.scrollIntoView(s.main.head,{y:"start",yMargin:a.top-h}))}return n.dispatch(Hn(r,s),{effects:l}),!0}const py=n=>s1(n,!1),nd=n=>s1(n,!0);function ci(n,e,t){let r=n.lineBlockAt(e.head),s=n.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?r.to:r.from)&&(s=n.moveToLineBoundary(e,t,!1)),!t&&s.head==r.from&&r.length){let l=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;l&&e.head!=r.from+l&&(s=te.cursor(r.from+l))}return s}const JE=n=>Wn(n,e=>ci(n,e,!0)),ZE=n=>Wn(n,e=>ci(n,e,!1)),eA=n=>Wn(n,e=>ci(n,e,!Bt(n))),tA=n=>Wn(n,e=>ci(n,e,Bt(n))),nA=n=>Wn(n,e=>te.cursor(n.lineBlockAt(e.head).from,1)),rA=n=>Wn(n,e=>te.cursor(n.lineBlockAt(e.head).to,-1));function iA(n,e,t){let r=!1,s=Ds(n.selection,l=>{let a=fs(n,l.head,-1)||fs(n,l.head,1)||l.head>0&&fs(n,l.head-1,1)||l.head<n.doc.length&&fs(n,l.head+1,-1);if(!a||!a.end)return l;r=!0;let c=a.start.from==l.head?a.end.to:a.end.from;return te.cursor(c)});return r?(e(Hn(n,s)),!0):!1}const sA=({state:n,dispatch:e})=>iA(n,e);function bn(n,e){let t=Ds(n.state.selection,r=>{let s=e(r);return te.range(r.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Hn(n.state,t)),!0)}function o1(n,e){return bn(n,t=>n.moveByChar(t,e))}const l1=n=>o1(n,!Bt(n)),a1=n=>o1(n,Bt(n));function u1(n,e){return bn(n,t=>n.moveByGroup(t,e))}const oA=n=>u1(n,!Bt(n)),lA=n=>u1(n,Bt(n)),aA=n=>bn(n,e=>Fu(n.state,e,!Bt(n))),uA=n=>bn(n,e=>Fu(n.state,e,Bt(n)));function c1(n,e){return bn(n,t=>n.moveVertically(t,e))}const h1=n=>c1(n,!1),f1=n=>c1(n,!0);function d1(n,e){return bn(n,t=>n.moveVertically(t,e,i1(n).height))}const gy=n=>d1(n,!1),my=n=>d1(n,!0),cA=n=>bn(n,e=>ci(n,e,!0)),hA=n=>bn(n,e=>ci(n,e,!1)),fA=n=>bn(n,e=>ci(n,e,!Bt(n))),dA=n=>bn(n,e=>ci(n,e,Bt(n))),pA=n=>bn(n,e=>te.cursor(n.lineBlockAt(e.head).from)),gA=n=>bn(n,e=>te.cursor(n.lineBlockAt(e.head).to)),yy=({state:n,dispatch:e})=>(e(Hn(n,{anchor:0})),!0),vy=({state:n,dispatch:e})=>(e(Hn(n,{anchor:n.doc.length})),!0),xy=({state:n,dispatch:e})=>(e(Hn(n,{anchor:n.selection.main.anchor,head:0})),!0),wy=({state:n,dispatch:e})=>(e(Hn(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),mA=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),yA=({state:n,dispatch:e})=>{let t=_u(n).map(({from:r,to:s})=>te.range(r,Math.min(s+1,n.doc.length)));return e(n.update({selection:te.create(t),userEvent:"select"})),!0},vA=({state:n,dispatch:e})=>{let t=Ds(n.selection,r=>{let s=sr(n),l=s.resolveStack(r.from,1);if(r.empty){let a=s.resolveStack(r.from,-1);a.node.from>=l.node.from&&a.node.to<=l.node.to&&(l=a)}for(let a=l;a;a=a.next){let{node:c}=a;if((c.from<r.from&&c.to>=r.to||c.to>r.to&&c.from<=r.from)&&a.next)return te.range(c.to,c.from)}return r});return t.eq(n.selection)?!1:(e(Hn(n,t)),!0)};function p1(n,e){let{state:t}=n,r=t.selection,s=t.selection.ranges.slice();for(let l of t.selection.ranges){let a=t.doc.lineAt(l.head);if(e?a.to<n.state.doc.length:a.from>0)for(let c=l;;){let h=n.moveVertically(c,e);if(h.head<a.from||h.head>a.to){s.some(d=>d.head==h.head)||s.push(h);break}else{if(h.head==c.head)break;c=h}}}return s.length==r.ranges.length?!1:(n.dispatch(Hn(t,te.create(s,s.length-1))),!0)}const xA=n=>p1(n,!1),wA=n=>p1(n,!0),kA=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=te.create([t.main]):t.main.empty||(r=te.create([te.cursor(t.main.head)])),r?(e(Hn(n,r)),!0):!1};function hl(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,s=r.changeByRange(l=>{let{from:a,to:c}=l;if(a==c){let h=e(l);h<a?(t="delete.backward",h=Ha(n,h,!1)):h>a&&(t="delete.forward",h=Ha(n,h,!0)),a=Math.min(a,h),c=Math.max(c,h)}else a=Ha(n,a,!1),c=Ha(n,c,!0);return a==c?{range:l}:{changes:{from:a,to:c},range:te.cursor(a,a<l.head?-1:1)}});return s.changes.empty?!1:(n.dispatch(r.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Ce.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Ha(n,e,t){if(n instanceof Ce)for(let r of n.state.facet(Ce.atomicRanges).map(s=>s(n)))r.between(e,e,(s,l)=>{s<e&&l>e&&(e=t?l:s)});return e}const g1=(n,e,t)=>hl(n,r=>{let s=r.from,{state:l}=n,a=l.doc.lineAt(s),c,h;if(t&&!e&&s>a.from&&s<a.from+200&&!/[^ \t]/.test(c=a.text.slice(0,s-a.from))){if(c[c.length-1]=="	")return s-1;let d=Du(c,l.tabSize),p=d%Ou(l)||Ou(l);for(let m=0;m<p&&c[c.length-1-m]==" ";m++)s--;h=s}else h=Ht(a.text,s-a.from,e,e)+a.from,h==s&&a.number!=(e?l.doc.lines:1)?h+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(h-a.from,s-a.from))&&(h=Ht(a.text,h-a.from,!1,!1)+a.from);return h}),rd=n=>g1(n,!1,!0),m1=n=>g1(n,!0,!1),y1=(n,e)=>hl(n,t=>{let r=t.head,{state:s}=n,l=s.doc.lineAt(r),a=s.charCategorizer(r);for(let c=null;;){if(r==(e?l.to:l.from)){r==t.head&&l.number!=(e?s.doc.lines:1)&&(r+=e?1:-1);break}let h=Ht(l.text,r-l.from,e)+l.from,d=l.text.slice(Math.min(r,h)-l.from,Math.max(r,h)-l.from),p=a(d);if(c!=null&&p!=c)break;(d!=" "||r!=t.head)&&(c=p),r=h}return r}),v1=n=>y1(n,!1),SA=n=>y1(n,!0),bA=n=>hl(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),OA=n=>hl(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),CA=n=>hl(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),PA=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Te.of(["",""])},range:te.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},EA=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let s=r.from,l=n.doc.lineAt(s),a=s==l.from?s-1:Ht(l.text,s-l.from,!1)+l.from,c=s==l.to?s+1:Ht(l.text,s-l.from,!0)+l.from;return{changes:{from:a,to:c,insert:n.doc.slice(s,c).append(n.doc.slice(a,s))},range:te.cursor(c)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function _u(n){let e=[],t=-1;for(let r of n.selection.ranges){let s=n.doc.lineAt(r.from),l=n.doc.lineAt(r.to);if(!r.empty&&r.to==l.from&&(l=n.doc.lineAt(r.to-1)),t>=s.number){let a=e[e.length-1];a.to=l.to,a.ranges.push(r)}else e.push({from:s.from,to:l.to,ranges:[r]});t=l.number+1}return e}function x1(n,e,t){if(n.readOnly)return!1;let r=[],s=[];for(let l of _u(n)){if(t?l.to==n.doc.length:l.from==0)continue;let a=n.doc.lineAt(t?l.to+1:l.from-1),c=a.length+1;if(t){r.push({from:l.to,to:a.to},{from:l.from,insert:a.text+n.lineBreak});for(let h of l.ranges)s.push(te.range(Math.min(n.doc.length,h.anchor+c),Math.min(n.doc.length,h.head+c)))}else{r.push({from:a.from,to:l.from},{from:l.to,insert:n.lineBreak+a.text});for(let h of l.ranges)s.push(te.range(h.anchor-c,h.head-c))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:te.create(s,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const AA=({state:n,dispatch:e})=>x1(n,e,!1),MA=({state:n,dispatch:e})=>x1(n,e,!0);function w1(n,e,t){if(n.readOnly)return!1;let r=[];for(let s of _u(n))t?r.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):r.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const RA=({state:n,dispatch:e})=>w1(n,e,!1),DA=({state:n,dispatch:e})=>w1(n,e,!0),NA=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(_u(e).map(({from:s,to:l})=>(s>0?s--:l<e.doc.length&&l++,{from:s,to:l}))),r=Ds(e.selection,s=>{let l;if(n.lineWrapping){let a=n.lineBlockAt(s.head),c=n.coordsAtPos(s.head,s.assoc||1);c&&(l=a.bottom+n.documentTop-c.bottom+n.defaultLineHeight/2)}return n.moveVertically(s,!0,l)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function TA(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=sr(n).resolveInner(e),r=t.childBefore(e),s=t.childAfter(e),l;return r&&s&&r.to<=e&&s.from>=e&&(l=r.type.prop(Ae.closedBy))&&l.indexOf(s.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(s.from).from&&!/\S/.test(n.sliceDoc(r.to,s.from))?{from:r.to,to:s.from}:null}const ky=k1(!1),LA=k1(!0);function k1(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(s=>{let{from:l,to:a}=s,c=e.doc.lineAt(l),h=!n&&l==a&&TA(e,l);n&&(l=a=(a<=c.to?c:e.doc.lineAt(a)).to);let d=new ju(e,{simulateBreak:l,simulateDoubleBreak:!!h}),p=Ux(d,l);for(p==null&&(p=Du(/^\s*/.exec(e.doc.lineAt(l).text)[0],e.tabSize));a<c.to&&/\s/.test(c.text[a-c.from]);)a++;h?{from:l,to:a}=h:l>c.from&&l<c.from+100&&!/\S/.test(c.text.slice(0,l))&&(l=c.from);let m=["",Cu(e,p)];return h&&m.push(Cu(e,d.lineIndent(c.from,-1))),{changes:{from:l,to:a,insert:Te.of(m)},range:te.cursor(l+1+m[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Fd(n,e){let t=-1;return n.changeByRange(r=>{let s=[];for(let a=r.from;a<=r.to;){let c=n.doc.lineAt(a);c.number>t&&(r.empty||r.to>c.from)&&(e(c,s,r),t=c.number),a=c.to+1}let l=n.changes(s);return{changes:s,range:te.range(l.mapPos(r.anchor,1),l.mapPos(r.head,1))}})}const IA=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new ju(n,{overrideIndentation:l=>{let a=t[l];return a??-1}}),s=Fd(n,(l,a,c)=>{let h=Ux(r,l.from);if(h==null)return;/\S/.test(l.text)||(h=0);let d=/^\s*/.exec(l.text)[0],p=Cu(n,h);(d!=p||c.from<l.from+d.length)&&(t[l.from]=h,a.push({from:l.from,to:l.from+d.length,insert:p}))});return s.changes.empty||e(n.update(s,{userEvent:"indent"})),!0},jA=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Fd(n,(t,r)=>{r.push({from:t.from,insert:n.facet(Id)})}),{userEvent:"input.indent"})),!0),BA=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Fd(n,(t,r)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let l=Du(s,n.tabSize),a=0,c=Cu(n,Math.max(0,l-Ou(n)));for(;a<s.length&&a<c.length&&s.charCodeAt(a)==c.charCodeAt(a);)a++;r.push({from:t.from+a,to:t.from+s.length,insert:c.slice(a)})}),{userEvent:"delete.dedent"})),!0),zA=n=>(n.setTabFocusMode(),!0),FA=[{key:"Ctrl-b",run:Jx,shift:l1,preventDefault:!0},{key:"Ctrl-f",run:Zx,shift:a1},{key:"Ctrl-p",run:n1,shift:h1},{key:"Ctrl-n",run:r1,shift:f1},{key:"Ctrl-a",run:nA,shift:pA},{key:"Ctrl-e",run:rA,shift:gA},{key:"Ctrl-d",run:m1},{key:"Ctrl-h",run:rd},{key:"Ctrl-k",run:bA},{key:"Ctrl-Alt-h",run:v1},{key:"Ctrl-o",run:PA},{key:"Ctrl-t",run:EA},{key:"Ctrl-v",run:nd}],_A=[{key:"ArrowLeft",run:Jx,shift:l1,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:XE,shift:oA,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:eA,shift:fA,preventDefault:!0},{key:"ArrowRight",run:Zx,shift:a1,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:KE,shift:lA,preventDefault:!0},{mac:"Cmd-ArrowRight",run:tA,shift:dA,preventDefault:!0},{key:"ArrowUp",run:n1,shift:h1,preventDefault:!0},{mac:"Cmd-ArrowUp",run:yy,shift:xy},{mac:"Ctrl-ArrowUp",run:py,shift:gy},{key:"ArrowDown",run:r1,shift:f1,preventDefault:!0},{mac:"Cmd-ArrowDown",run:vy,shift:wy},{mac:"Ctrl-ArrowDown",run:nd,shift:my},{key:"PageUp",run:py,shift:gy},{key:"PageDown",run:nd,shift:my},{key:"Home",run:ZE,shift:hA,preventDefault:!0},{key:"Mod-Home",run:yy,shift:xy},{key:"End",run:JE,shift:cA,preventDefault:!0},{key:"Mod-End",run:vy,shift:wy},{key:"Enter",run:ky,shift:ky},{key:"Mod-a",run:mA},{key:"Backspace",run:rd,shift:rd,preventDefault:!0},{key:"Delete",run:m1,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:v1,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:SA,preventDefault:!0},{mac:"Mod-Backspace",run:OA,preventDefault:!0},{mac:"Mod-Delete",run:CA,preventDefault:!0}].concat(FA.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),VA=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:YE,shift:aA},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:GE,shift:uA},{key:"Alt-ArrowUp",run:AA},{key:"Shift-Alt-ArrowUp",run:RA},{key:"Alt-ArrowDown",run:MA},{key:"Shift-Alt-ArrowDown",run:DA},{key:"Mod-Alt-ArrowUp",run:xA},{key:"Mod-Alt-ArrowDown",run:wA},{key:"Escape",run:kA},{key:"Mod-Enter",run:LA},{key:"Alt-l",mac:"Ctrl-l",run:yA},{key:"Mod-i",run:vA,preventDefault:!0},{key:"Mod-[",run:BA},{key:"Mod-]",run:jA},{key:"Mod-Alt-\\",run:IA},{key:"Shift-Mod-k",run:NA},{key:"Shift-Mod-\\",run:sA},{key:"Mod-/",run:_E},{key:"Alt-A",run:HE},{key:"Ctrl-m",mac:"Shift-Alt-m",run:zA}].concat(_A),HA=n=>{const{state:e}=n,t=e.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:"	"},range:te.cursor(r.from+1)}));return n.dispatch(t),!0},WA=Ad.of([{key:"Tab",run:HA}]);class QA extends ol{toDOM(){const e=document.createElement("span");return e.className="cm-space-dot",e.textContent="",e}}class $A extends ol{toDOM(){const e=document.createElement("span");return e.className="cm-tab-arrow",e.textContent="",e}}const UA=_n.fromClass(class{constructor(n){ym(this,"decorations");this.decorations=this.buildDecorations(n)}update(n){(n.docChanged||n.viewportChanged)&&(this.decorations=this.buildDecorations(n.view))}buildDecorations(n){const e=[];for(const{from:t,to:r}of n.visibleRanges){const s=n.state.doc.sliceString(t,r);for(let l=0;l<s.length;l++){const a=s[l],c=t+l;a===" "?e.push({from:c,to:c+1,decoration:nt.replace({widget:new QA})}):a==="	"&&e.push({from:c,to:c+1,decoration:nt.replace({widget:new $A})})}}return nt.set(e.map(t=>t.decoration.range(t.from,t.to)))}},{decorations:n=>n.decorations}),XA=Ce.theme({"&":{backgroundColor:"#ffffff",color:"#000000"},".cm-content":{caretColor:"#000000"},".cm-gutters":{backgroundColor:"#f5f5f5",color:"#999999",border:"none"},".cm-activeLineGutter":{backgroundColor:"#e8e8e8"},".cm-activeLine":{backgroundColor:"#f0f0f0"},".cm-space-dot":{color:"#999999"},".cm-tab-arrow":{color:"#999999",display:"inline-block",width:"calc(4ch)",textAlign:"left"}}),KA=Ce.theme({"&":{backgroundColor:"#000000",color:"#ffffff"},".cm-content":{caretColor:"#ffffff"},".cm-gutters":{backgroundColor:"#000000",color:"#ffffff",border:"none"},".cm-activeLineGutter":{backgroundColor:"#333333"},".cm-activeLine":{backgroundColor:"#222222"},".cm-space-dot":{color:"#ffff00"},".cm-tab-arrow":{color:"#ffff00",display:"inline-block",width:"calc(4ch)",textAlign:"left"}}),qA=Ce.theme({".cm-space-dot":{color:"#666666"},".cm-tab-arrow":{color:"#666666",display:"inline-block",width:"calc(4ch)",textAlign:"left"}});function Sy(n){switch(n){case"light":return[XA];case"high-contrast":return[KA];case"dark":default:return[FE,qA]}}const YA=O.forwardRef(function({value:e,onChange:t,colorScheme:r},s){const l=O.useRef(null),a=O.useRef(null),c=O.useRef(new sl);O.useImperativeHandle(s,()=>({focus:()=>{var d;(d=a.current)==null||d.focus()},blur:()=>{var d;(d=a.current)==null||d.contentDOM.blur()}}),[]),O.useEffect(()=>{if(!l.current||a.current)return;const d=je.create({doc:e,extensions:[J2(),tP(),V2(),B2(),AE(),WA,Ad.of(VA),je.tabSize.of(4),UA,Ce.updateListener.of(p=>{p.docChanged&&t(p.state.doc.toString())}),c.current.of(Sy(r)),Ce.lineWrapping]});return a.current=new Ce({state:d,parent:l.current}),()=>{var p;(p=a.current)==null||p.destroy(),a.current=null}},[]);const h=O.useCallback(d=>{const p=a.current;if(!p)return;const m=p.state.doc.toString();m!==d&&p.dispatch({changes:{from:0,to:m.length,insert:d}})},[]);return O.useEffect(()=>{h(e)},[e,h]),O.useEffect(()=>{const d=a.current;d&&d.dispatch({effects:c.current.reconfigure(Sy(r))})},[r]),S.jsx("div",{ref:l,className:"h-full w-full overflow-auto [&_.cm-editor]:h-full [&_.cm-scroller]:overflow-auto",style:{fontSize:"14px"}})});let Wa=null,ef=null;async function S1(){return Wa||(ef||(ef=(async()=>{const n=await fetch("/testsuite/tests.json");if(!n.ok)throw new Error(`Failed to load test suite: ${n.status}`);return Wa=await n.json(),Wa})()),ef)}function GA({isOpen:n,onClose:e,onSelect:t}){const[r,s]=O.useState([]),[l,a]=O.useState([]),[c,h]=O.useState(""),[d,p]=O.useState(!1),[m,v]=O.useState(null),[x,k]=O.useState(null),b=O.useRef(null);O.useEffect(()=>{n&&r.length===0&&!d&&(p(!0),S1().then(E=>{s(E.tests),a(E.tests),p(!1)}).catch(E=>{v(E.message),p(!1)}))},[n,r.length,d]),O.useEffect(()=>{n&&setTimeout(()=>{var E;return(E=b.current)==null?void 0:E.focus()},100)},[n]),O.useEffect(()=>{if(!c){a(r),k(null);return}try{const E=new RegExp(c,"i");k(null),a(r.filter(R=>E.test(R.id)||E.test(R.name)))}catch{k("Invalid regex"),a([])}},[c,r]),O.useEffect(()=>{const E=R=>{R.key==="Escape"&&n&&e()};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[n,e]);const C=E=>{t(E.yaml),e(),h("")};return n?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-[600px] max-h-[80vh] flex flex-col",children:[S.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[S.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Search"," ",S.jsx("a",{href:"https://github.com/yaml/yaml-test-suite/tree/data",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"YAML Test Suite"})]}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:"X"})]}),S.jsxs("div",{className:"p-4 border-b border-gray-700",children:[S.jsx("input",{ref:b,type:"text",placeholder:"Search by regex (e.g., 'block.*map' or 'spec example')",value:c,onChange:E=>h(E.target.value),className:"w-full px-3 py-2 bg-gray-900 text-white rounded border border-gray-600 focus:border-blue-500 focus:outline-none"}),x&&S.jsx("div",{className:"mt-1 text-red-400 text-sm",children:x})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d&&S.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading tests..."}),m&&S.jsx("div",{className:"p-8 text-center text-red-400",children:m}),!d&&!m&&l.map(E=>S.jsxs("button",{onClick:()=>C(E),className:"w-full px-4 py-3 text-left hover:bg-gray-700 transition-colors border-b border-gray-700 last:border-b-0",children:[S.jsx("span",{className:`font-mono ${E.error?"text-red-400":"text-blue-400"}`,children:E.id}),S.jsx("span",{className:"text-gray-400 mx-2",children:"-"}),S.jsx("span",{className:"text-gray-200",children:E.name})]},E.id)),!d&&!m&&l.length===0&&c&&!x&&S.jsx("div",{className:"p-8 text-center text-gray-400",children:"No tests match your search"})]}),S.jsxs("div",{className:"px-4 py-2 border-t border-gray-700 text-sm text-gray-500 flex justify-between",children:[S.jsxs("span",{children:[l.length," of ",r.length," tests"]}),S.jsx("span",{children:"(E) = expected parse error"})]})]})}):null}const JA={dark:"vs-dark",light:"light","high-contrast":"hc-black"},Fo=`# Edit this YAML and see how
# different parsers handle it.

# Green = matches reference parser
# Red = differs or errored

name: YAML Parser Playground

url: https://play.yaml.com/
repo:
  https://github.com/yaml/yaml-play

current parsers: 17
actively maintained: true

features:
- Compare outputs from multiple
  YAML parsers
- Search and load tests from the
  YAML Test Suite
- Select and drag output panes
- Click Help for shortcut keys
`,by=200,Oy=800,Cy=O.forwardRef(function({value:e,onChange:t,width:r,onWidthChange:s,colorScheme:l,editorType:a,showBorder:c=!0,heightMode:h="full",isMobile:d=!1},p){const m=O.useRef(!1),v=O.useRef(0),x=O.useRef(0),k=O.useRef(null),b=O.useRef(null),[C,E]=O.useState(!1),[R,N]=O.useState(!1),_=O.useRef(null);O.useEffect(()=>{if(!R)return;const V=H=>{_.current&&!_.current.contains(H.target)&&N(!1)},W=H=>{H.key==="Escape"&&N(!1)};return document.addEventListener("mousedown",V),document.addEventListener("keydown",W),()=>{document.removeEventListener("mousedown",V),document.removeEventListener("keydown",W)}},[R]),O.useImperativeHandle(p,()=>({focus:()=>{var V,W;a==="codemirror"?(V=b.current)==null||V.focus():(W=k.current)==null||W.focus()},blur:()=>{var V,W,H;a==="codemirror"?(V=b.current)==null||V.blur():(W=k.current)!=null&&W.getDomNode()&&((H=document.activeElement)==null||H.blur())}}),[a]);const T=O.useCallback(V=>{k.current=V;const W=V.getModel();W&&W.updateOptions({tabSize:4,insertSpaces:!1})},[]),F=O.useCallback(V=>{m.current=!0,v.current=V.clientX,x.current=r,document.body.style.cursor="col-resize",document.body.style.userSelect="none";const W=re=>{if(!m.current)return;const ue=re.clientX-v.current,G=Math.min(Oy,Math.max(by,x.current+ue));s(G)},H=()=>{m.current=!1,document.body.style.cursor="",document.body.style.userSelect="",document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",W),document.addEventListener("mouseup",H)},[r,s]),B=h==="full"?"h-full":"h-full overflow-hidden",U=c?"border-r border-gray-700":"",q=d?{}:{width:`${r}px`,minWidth:`${by}px`,maxWidth:`${Oy}px`};return S.jsxs("div",{className:`flex flex-col ${B} ${d?"w-full border-b border-gray-700":U} relative`,style:q,children:[S.jsxs("div",{className:"bg-gray-800 px-4 py-2 border-b border-gray-700 flex items-center justify-between",children:[S.jsx("h2",{className:"text-white font-semibold",children:"YAML Input Editor"}),S.jsxs("div",{className:"relative",ref:_,children:[S.jsx("button",{onClick:()=>N(!R),className:"text-white hover:text-gray-300 p-1",title:"Menu",children:S.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),R&&S.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-gray-800 border border-gray-700 rounded shadow-lg z-50 min-w-[160px]",children:[S.jsx("button",{onClick:()=>{N(!1),E(!0)},className:"w-full text-left px-3 py-2 text-sm text-white hover:bg-gray-700",children:"Search Test Suite"}),S.jsx("button",{onClick:()=>{N(!1),t("")},className:"w-full text-left px-3 py-2 text-sm text-white hover:bg-gray-700",children:"Clear"}),S.jsx("button",{onClick:()=>{N(!1),t(Fo)},className:"w-full text-left px-3 py-2 text-sm text-white hover:bg-gray-700",children:"Default YAML"})]})]})]}),S.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:a==="codemirror"?S.jsx(YA,{ref:b,value:e,onChange:t,colorScheme:l}):S.jsx(AO,{height:"100%",defaultLanguage:"yaml",defaultValue:Fo,value:e,onChange:V=>t(V||""),theme:JA[l],onMount:T,options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",renderWhitespace:"all",tabSize:4,insertSpaces:!1,detectIndentation:!1,useTabStops:!1,scrollBeyondLastLine:!1,wordWrap:"on",automaticLayout:!0}})}),!d&&S.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize hover:bg-blue-500 transition-colors",onMouseDown:F}),S.jsx(GA,{isOpen:C,onClose:()=>E(!1),onSelect:t})]})});function ZA({parser:n,matches:e,loading:t,onClose:r,isDraggable:s=!0,onInfoClick:l,onRunTestSuite:a,showTestSuite:c=!0}){const[h,d]=O.useState(!1),p=O.useRef(null);O.useEffect(()=>{if(!h)return;const T=B=>{p.current&&!p.current.contains(B.target)&&d(!1)},F=B=>{B.key==="Escape"&&d(!1)};return document.addEventListener("mousedown",T),document.addEventListener("keydown",F),()=>{document.removeEventListener("mousedown",T),document.removeEventListener("keydown",F)}},[h]);const{attributes:m,listeners:v,setNodeRef:x,transform:k,transition:b,isDragging:C}=vb({id:n.id,disabled:!s}),E={transform:Vo.Transform.toString(k),transition:b,opacity:C?.5:1},R=t||e===void 0?"bg-gray-700":e?"bg-green-700":"bg-red-700",N=`${n.name} v${n.version} (${n.language})`,_=T=>{T.stopPropagation(),d(!h)};return S.jsxs("div",{ref:x,style:E,className:`${R} px-3 py-2 flex items-center justify-between cursor-grab active:cursor-grabbing select-none`,...m,...v,children:[S.jsxs("div",{className:"flex items-center gap-2 cursor-pointer flex-1 relative",onClick:_,ref:p,children:[S.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),S.jsx("span",{className:"text-white font-semibold",title:N,children:n.name}),h&&S.jsxs("div",{className:"absolute left-0 top-full mt-1 bg-gray-800 border border-gray-700 rounded shadow-lg z-50 min-w-[140px]",children:[c&&S.jsx("button",{onClick:T=>{T.stopPropagation(),d(!1),a==null||a()},className:"w-full text-left px-3 py-2 text-sm text-white hover:bg-gray-700",children:"Test Suite"}),S.jsx("button",{onClick:T=>{T.stopPropagation(),d(!1),l==null||l()},className:"w-full text-left px-3 py-2 text-sm text-white hover:bg-gray-700",children:"Parser Info"})]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[t&&S.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),r&&S.jsx("button",{onClick:T=>{T.stopPropagation(),r()},className:"text-white hover:text-gray-300 text-lg leading-none px-1",title:"Close pane",children:""})]})]})}function eM({isOpen:n,onClose:e,parser:t}){return O.useEffect(()=>{if(!n)return;const r=s=>{s.key==="Escape"&&e()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[n,e]),n?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:S.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",onClick:r=>r.stopPropagation(),children:[S.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[S.jsx("h2",{className:"text-lg font-semibold text-white",children:t.name}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),S.jsx("div",{className:"p-4 space-y-3",children:S.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-x-4 gap-y-2 text-sm",children:[t.repo&&S.jsxs(S.Fragment,{children:[S.jsx("span",{className:"text-gray-400",children:"Repository"}),S.jsx("a",{href:t.repo,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline truncate",children:t.repo})]}),S.jsx("span",{className:"text-gray-400",children:"Language"}),S.jsx("span",{className:"text-white",children:t.language}),S.jsx("span",{className:"text-gray-400",children:"Version"}),S.jsx("span",{className:"text-white",children:t.version})]})})]})}):null}const b1="https://localhost:7481",ru="0.1.34";function tM(){return ru}async function nM(){try{return(await fetch(`${b1}/`,{method:"HEAD"})).ok}catch{return!1}}async function O1(n,e,t){const r=`${b1}/?version=${encodeURIComponent(ru)}&parser=yaml-test-parse-${n}`;try{const s=new URLSearchParams;s.append("text",e);const l=await fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!l.ok){const h=(await l.text()).match(/Requires sandbox version (\S+)/);if(h)return{status:-1,output:`Version mismatch: sandbox is ${h[1]}, but frontend requires ${ru}`,versionMismatch:{required:ru,found:h[1]}};throw new Error(`HTTP ${l.status}: ${l.statusText}`)}const a=await l.json();return{status:a.status,output:a.output}}catch(s){return s&&typeof s=="object"&&"versionMismatch"in s?s:{status:-1,output:s instanceof Error?s.message:"Unknown error"}}}let id=null,sd=null,Py=!1;async function rM(){if(Py)return;const[n,e,t,r,s]=await Promise.all([fetch("/refparse/prelude.js").then(a=>a.text()),fetch("/refparse/grammar.js").then(a=>a.text()),fetch("/refparse/parser.js").then(a=>a.text()),fetch("/refparse/receiver.js").then(a=>a.text()),fetch("/refparse/test-receiver.js").then(a=>a.text())]),l=eval;window.global=window,l(n),l(e),l(t),l(r),l(s),id=window.Parser,sd=window.TestReceiver,Py=!0}async function C1(n){try{if(await rM(),!sd)return{status:1,output:"TestReceiverClass not loaded"};if(!id)return{status:1,output:"Parser not loaded"};const e=new sd,t=new id(e);return t.parse(n),{status:0,output:t.receiver.output().replace(/\n$/,"")||"(empty output)"}}catch(e){return{status:1,output:e instanceof Error?e.message:String(e)}}}function Ey(n){return n.replace(/\s+(\{\}|\[\])$/mg,"").replace(/^=COMMENT .*\n?/mg,"").replace(/^[^+\-=].*\n?/gm,"").trim()}function P1(n,e,t){let r=Ey(n),s=Ey(e);if(t==="rustyaml"&&(s=s.replace(/<Tag\("!!", "(.*?)"\)>/g,"<tag:yaml.org,2002:$1>").replace(/<Tag\("!", "(.*?)"\)>/g,"<!$1>").replace(/<Tag\("", "!"\)>/g,"<!>").replace(/<Tag\("", "(tag:.*?)"\)>/g,"<$1>").replace(/<Tag\("", "(!.*?)"\)>/g,"<$1>"),r=r.replace(/^\+DOC ---/gm,"+DOC").replace(/^-DOC \.\.\./gm,"-DOC").replace(/^=VAL :$/gm,"=VAL :~").replace(/^\+MAP \{\}( ?)/gm,"+MAP$1").replace(/^\+SEQ \[\]( ?)/gm,"+SEQ$1"),s.match(/&1/))){let l=1,a;for(;a=r.match(/&([a-zA-Z]\S*)/);){const c=a[1];r=r.replace(new RegExp(`([&*])${c}`,"g"),`$1${l}`),l++}}if(t==="goyaml"){const l=r.split(`
`),a=s.split(`
`);l.length===a.length&&(s=a.map((h,d)=>l[d]==="+DOC"&&h==="+DOC ---"?"+DOC":h).join(`
`))}return r===s}const Ps="yaml-play-test-results-";function iM(n){try{const e=Ps+n,t=localStorage.getItem(e);return t?JSON.parse(t):null}catch{return null}}function sM(n,e){try{const t=Ps+n;localStorage.setItem(t,JSON.stringify(e))}catch{}}function Ao(n){try{const e=Ps+n;localStorage.removeItem(e)}catch{}}function oM(n,e,t){return n?n.parserVersion===e&&n.testSuiteVersion===t:!1}function lM(){try{const n=[];for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&t.startsWith(Ps)&&n.push(t)}n.forEach(e=>localStorage.removeItem(e))}catch{}}function aM(){const n=[];try{for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);if(t&&t.startsWith(Ps)){const r=t.substring(Ps.length),s=localStorage.getItem(t);if(s){const l=JSON.parse(s);n.push({parserId:r,cache:l})}}}}catch{}return n}const E1="yaml-play-test-sort";function Ay(){try{const n=localStorage.getItem(E1);if(n)return JSON.parse(n)}catch{}return{column:"id",direction:"asc"}}function uM(n){try{localStorage.setItem(E1,JSON.stringify(n))}catch{}}function od({isOpen:n,onClose:e,parser:t,onSelectTest:r,forceRerun:s=!1,onCompare:l,onRunAgain:a,onClearCache:c}){const[h,d]=O.useState([]),[p,m]=O.useState([]),[v,x]=O.useState(!1),[k,b]=O.useState(null),[C,E]=O.useState(0),[R,N]=O.useState(Ay),[_,T]=O.useState(!1),[F,B]=O.useState(!1),U=O.useRef(!1),q=O.useRef(!1),V=O.useRef(0),W=O.useRef(null),H=O.useRef(null),re=O.useRef(null);O.useEffect(()=>{n&&(N(Ay()),T(!1))},[n]),O.useEffect(()=>{if(!_)return;const ne=ae=>{re.current&&!re.current.contains(ae.target)&&T(!1)};return document.addEventListener("mousedown",ne),()=>document.removeEventListener("mousedown",ne)},[_]);const ue=O.useCallback((ne,ae)=>{const be=[...ne];return be.sort((Pe,xe)=>{let Re=0;switch(ae.column){case"ok":Re=(Pe.passed?1:0)-(xe.passed?1:0);break;case"id":Re=Pe.testId.localeCompare(xe.testId);break;case"description":Re=Pe.testName.localeCompare(xe.testName);break}return ae.direction==="asc"?Re:-Re}),be},[]),G=ne=>{const ae={column:ne,direction:R.column===ne&&R.direction==="asc"?"desc":"asc"};N(ae),uM(ae)},ce=ne=>R.column!==ne?null:R.direction==="asc"?" ":" ",pe=v?p:ue(p,R);O.useEffect(()=>{if(!n){q.current=!1,B(!1),H.current&&(clearInterval(H.current),H.current=null);return}if(U.current=!1,b(null),m([]),E(0),d([]),!q.current)return q.current=!0,x(!0),B(!0),V.current=Date.now(),H.current=window.setInterval(()=>{E(Date.now()-V.current)},10),()=>{U.current=!0,H.current&&(clearInterval(H.current),H.current=null)}},[n,t.id,t.version,s]),O.useEffect(()=>{if(!F||!n)return;B(!1),(async()=>{try{const ae=await S1();if(U.current){x(!1),q.current=!1,H.current&&(clearInterval(H.current),H.current=null);return}d(ae.tests);const be=iM(t.id);if(!s&&oM(be,t.version,ae.version)){const xe=be.results.map(Re=>{const ze=ae.tests.find(Ge=>Ge.id===Re.testId);return{testId:Re.testId,testName:(ze==null?void 0:ze.name)||Re.testId,passed:Re.passed}});m(xe),x(!1),q.current=!1,H.current&&(clearInterval(H.current),H.current=null);return}s&&Ao(t.id);const Pe=[];for(let xe=0;xe<ae.tests.length&&!U.current;xe++){const Re=ae.tests[xe];m(Je=>[...Je,{testId:Re.id,testName:Re.name,passed:!1,running:!0}]);let ze;if(t.id==="refparse"){const Je=await C1(Re.yaml);ze={status:Je.status,output:Je.output}}else ze=await O1(t.id,Re.yaml,t.version);if(U.current)break;let Ge;Re.error?Ge=ze.status!==0:Ge=ze.status===0&&P1(Re.expected,ze.output,t.id),m(Je=>{const Ct=[...Je];return Ct.length>0&&(Ct[Ct.length-1]={testId:Re.id,testName:Re.name,passed:Ge,running:!1}),Ct}),Pe.push({testId:Re.id,passed:Ge}),setTimeout(()=>{W.current&&(W.current.scrollTop=W.current.scrollHeight)},0)}if(!U.current&&Pe.length===ae.tests.length){const xe=Date.now()-V.current,Re={parserVersion:t.version,testSuiteVersion:ae.version,results:Pe,elapsedTime:xe};sM(t.id,Re)}}catch(ae){b(ae instanceof Error?ae.message:"Unknown error")}finally{H.current&&(clearInterval(H.current),H.current=null),x(!1),q.current=!1,setTimeout(()=>{W.current&&(W.current.scrollTop=0)},0)}})()},[F,n,t.id,t.version,s]),O.useEffect(()=>{if(!n)return;const ne=ae=>{ae.key==="Escape"&&(_?T(!1):(U.current=!0,e())),ae.key.toUpperCase()==="C"&&!ae.ctrlKey&&!ae.metaKey&&!ae.altKey&&!v&&l&&(e(),l())};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[n,e,v,l,_]);const K=ne=>{U.current=!0,r(ne.yaml),e()},Z=()=>{U.current=!0,e()};if(!n)return null;const J=p.filter(ne=>ne.passed&&!ne.running).length,A=p.filter(ne=>!ne.passed&&!ne.running).length,I=h.length,ie=I>0?Math.round(p.length/I*100):0,he=I>0?(J/I*100).toFixed(1):"0.0",ve=ne=>{const ae=Math.floor(ne/1e3),be=Math.floor(ne%1e3/10);return`${ae}.${be.toString().padStart(2,"0")}s`};return S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:Z,children:S.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] flex flex-col",onClick:ne=>ne.stopPropagation(),children:[S.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[S.jsxs("h2",{className:"text-lg font-semibold text-white",children:[t.name," - Test Suite"]}),S.jsx("button",{onClick:Z,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),S.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center gap-4",children:[S.jsxs("span",{className:"text-green-400",children:["Pass: ",J]}),S.jsxs("span",{className:"text-red-400",children:["Fail: ",A]}),S.jsxs("span",{className:"text-gray-400",children:["Total: ",I]}),v?S.jsxs("span",{className:"text-blue-400 flex items-center gap-2",children:[S.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-400 border-t-transparent rounded-full"}),ve(C)," (",ie,"%)"]}):C>0?S.jsxs("span",{className:"text-gray-500",children:[he,"% passing (",ve(C),")"]}):S.jsxs("span",{className:"text-gray-500",children:[he,"% passing (cached)"]}),!v&&(a||c||l)&&S.jsxs("div",{className:"ml-auto relative",ref:re,children:[S.jsx("button",{onClick:()=>T(!_),className:"text-white hover:text-gray-300 p-1",title:"Menu",children:S.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),_&&S.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-gray-800 border border-gray-700 rounded shadow-lg z-50 min-w-[160px]",children:[l&&S.jsxs("button",{onClick:()=>{T(!1),e(),l()},className:"w-full text-left px-3 py-2 text-sm text-white hover:bg-gray-700",children:[S.jsx("span",{className:"underline",children:"C"}),"ompare Test Runs"]}),a&&S.jsx("button",{onClick:()=>{T(!1),a()},className:"w-full text-left px-3 py-2 text-sm text-white hover:bg-gray-700",children:"Run Again"}),c&&S.jsx("button",{onClick:()=>{T(!1),c()},className:"w-full text-left px-3 py-2 text-sm text-white hover:bg-gray-700",children:"Clear Cache"})]})]})]}),k&&S.jsxs("div",{className:"px-4 py-3 bg-red-900 text-red-200 text-sm",children:["Error: ",k]}),p.length>0&&S.jsxs("div",{className:"px-4 py-2 border-b border-gray-700 flex items-center gap-2 text-sm text-gray-400",children:[S.jsxs("span",{className:"w-10 cursor-pointer hover:text-white select-none",onClick:()=>G("ok"),children:["OK",ce("ok")]}),S.jsxs("span",{className:"w-20 cursor-pointer hover:text-white select-none font-mono",onClick:()=>G("id"),children:["ID",ce("id")]}),S.jsxs("span",{className:"flex-1 cursor-pointer hover:text-white select-none",onClick:()=>G("description"),children:["Description",ce("description")]})]}),S.jsxs("div",{ref:W,className:"flex-1 overflow-y-auto p-2 space-y-1",children:[pe.map(ne=>{const ae=h.find(be=>be.id===ne.testId);return S.jsxs("button",{onClick:()=>ae&&K(ae),className:`w-full text-left px-3 py-2 rounded text-sm flex items-center gap-2 hover:bg-gray-700 ${ne.running?"bg-gray-700":""}`,children:[S.jsx("span",{className:"w-10 flex-shrink-0 text-center",children:ne.running?S.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-400 border-t-transparent rounded-full"}):ne.passed?S.jsx("span",{className:"text-green-400",children:""}):S.jsx("span",{className:"text-red-400",children:""})}),S.jsx("span",{className:"w-20 text-gray-400 font-mono flex-shrink-0",children:ne.testId}),S.jsx("span",{className:"flex-1 text-gray-300 truncate",children:ne.testName})]},ne.testId)}),p.length===0&&!v&&!k&&S.jsx("div",{className:"text-gray-500 text-center py-4",children:"No test results available"}),p.length===0&&v&&S.jsx("div",{className:"text-gray-500 text-center py-4",children:"Loading test suite..."})]})]})})}const Li=[{id:"refparse",name:"Reference Parser",version:"f003194",repo:"https://github.com/yaml/yaml-reference-parser",language:"JavaScript",isJavaScript:!0},{id:"npmyaml",name:"eemeli/yaml",version:"2.8.1",repo:"https://github.com/eemeli/yaml",language:"JavaScript",isJavaScript:!0},{id:"libyaml",name:"libyaml",version:"0.2.5",repo:"https://github.com/yaml/libyaml",language:"C"},{id:"pyyaml",name:"PyYAML",version:"6.0.3",language:"Python"},{id:"ruamel",name:"ruamel.yaml",version:"0.18.16",language:"Python"},{id:"goyaml",name:"go-yaml",version:"94c6e9d",repo:"https://github.com/pantoniou/yaml",language:"Go"},{id:"libfyaml",name:"libfyaml",version:"0.9",repo:"https://github.com/pantoniou/libfyaml",language:"C"},{id:"rapid",name:"rapidyaml",version:"0.10.0",repo:"https://github.com/biojppm/rapidyaml",language:"C++"},{id:"rustyaml",name:"serde-yaml",version:"0.9.34",repo:"https://github.com/dtolnay/serde-yaml",language:"Rust"},{id:"snake",name:"SnakeYAML",version:"2.5",repo:"https://bitbucket.org/snakeyaml/snakeyaml",language:"Java"},{id:"snakeeng",name:"SnakeYAML Engine",version:"3.0.1",repo:"https://bitbucket.org/snakeyaml/snakeyaml-engine",language:"Java"},{id:"dotnet",name:"YamlDotNet",version:"11.2.1",repo:"https://github.com/aaubry/YamlDotNet",language:"C#"},{id:"luayaml",name:"lyaml",version:"6.2.8",repo:"https://github.com/gvvaughan/lyaml",language:"Lua"},{id:"nimyaml",name:"NimYAML",version:"1.0.0",repo:"https://github.com/flyx/NimYAML",language:"Nim"},{id:"ppyaml",name:"YAML::PP",version:"0.039",language:"Perl"},{id:"hsyaml",name:"HsYAML",version:"0.2.1.1",repo:"https://github.com/haskell-hvr/HsYAML",language:"Haskell"},{id:"refhs",name:"yamlreference",version:"bf471f8",repo:"https://github.com/orenbenkiki/yamlreference",language:"Haskell"}],ri=n=>Li.find(e=>e.id===n),cM=()=>["refparse","pyyaml","libyaml","goyaml"],A1="yaml-play-compare-sort";function hM(n){const e=Math.floor(n/1e3),t=Math.floor(n%1e3/10);return`${e}.${t.toString().padStart(2,"0")}s`}function My(){try{const n=localStorage.getItem(A1);if(n)return JSON.parse(n)}catch{}return{column:"percent",direction:"desc"}}function fM(n){try{localStorage.setItem(A1,JSON.stringify(n))}catch{}}function M1({isOpen:n,onClose:e,onSelectParser:t}){const[r,s]=O.useState([]),[l,a]=O.useState(My);O.useEffect(()=>{n&&a(My())},[n]);const c=O.useCallback((p,m)=>{const v=[...p];return v.sort((x,k)=>{let b=0;switch(m.column){case"parserName":b=x.parserName.localeCompare(k.parserName);break;case"version":b=x.version.localeCompare(k.version);break;case"passed":b=x.passed-k.passed;break;case"failed":b=x.failed-k.failed;break;case"total":b=x.total-k.total;break;case"percent":b=x.percentNum-k.percentNum;break;case"time":b=(x.elapsedTime??0)-(k.elapsedTime??0);break}return m.direction==="asc"?b:-b}),v},[]);O.useEffect(()=>{if(!n)return;const m=aM().map(v=>{const x=ri(v.parserId),k=v.cache.results.filter(N=>N.passed).length,b=v.cache.results.length,C=b-k,E=b>0?k/b*100:0,R=E.toFixed(1);return{parserId:v.parserId,parserName:(x==null?void 0:x.name)||v.parserId,passed:k,failed:C,total:b,percent:R,percentNum:E,version:v.cache.parserVersion,elapsedTime:v.cache.elapsedTime}});s(c(m,l))},[n,l,c]);const h=p=>{const m={column:p,direction:l.column===p&&l.direction==="asc"?"desc":"asc"};a(m),fM(m)},d=p=>l.column!==p?null:l.direction==="asc"?" ":" ";return O.useEffect(()=>{if(!n)return;const p=m=>{m.key==="Escape"&&e()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n,e]),n?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:S.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] flex flex-col",onClick:p=>p.stopPropagation(),children:[S.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[S.jsx("h2",{className:"text-lg font-semibold text-white",children:"Compare Test Runs"}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[S.jsxs("table",{className:"w-full text-sm",children:[S.jsx("thead",{children:S.jsxs("tr",{className:"text-left text-gray-400 border-b border-gray-700",children:[S.jsxs("th",{className:"pb-2 cursor-pointer hover:text-white select-none",onClick:()=>h("parserName"),children:["Parser",d("parserName")]}),S.jsxs("th",{className:"pb-2 text-right cursor-pointer hover:text-white select-none",onClick:()=>h("version"),children:["Version",d("version")]}),S.jsxs("th",{className:"pb-2 text-right cursor-pointer hover:text-white select-none",onClick:()=>h("passed"),children:["Pass",d("passed")]}),S.jsxs("th",{className:"pb-2 text-right cursor-pointer hover:text-white select-none",onClick:()=>h("failed"),children:["Fail",d("failed")]}),S.jsxs("th",{className:"pb-2 text-right cursor-pointer hover:text-white select-none",onClick:()=>h("total"),children:["Total",d("total")]}),S.jsxs("th",{className:"pb-2 text-right cursor-pointer hover:text-white select-none",onClick:()=>h("percent"),children:["%",d("percent")]}),S.jsxs("th",{className:"pb-2 text-right cursor-pointer hover:text-white select-none",onClick:()=>h("time"),children:["Time",d("time")]})]})}),S.jsx("tbody",{children:r.map(p=>S.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700 cursor-pointer",onClick:()=>{t(p.parserId),e()},children:[S.jsx("td",{className:"py-2 text-white",children:p.parserName}),S.jsx("td",{className:"py-2 text-right text-gray-400 font-mono text-xs",children:p.version}),S.jsx("td",{className:"py-2 text-right text-green-400",children:p.passed}),S.jsx("td",{className:"py-2 text-right text-red-400",children:p.failed}),S.jsx("td",{className:"py-2 text-right text-gray-400",children:p.total}),S.jsxs("td",{className:"py-2 text-right text-white font-semibold",children:[p.percent,"%"]}),S.jsx("td",{className:"py-2 text-right text-gray-400 font-mono text-xs",children:p.elapsedTime!=null?hM(p.elapsedTime):"-"})]},p.parserId))})]}),r.length===0&&S.jsx("div",{className:"text-gray-500 text-center py-8",children:"No cached test results available"})]})]})}):null}function dM(n){return["Failed to fetch","NetworkError","network error","ERR_CONNECTION_REFUSED","ECONNREFUSED","fetch failed","Load failed","HTTP 500","HTTP 502","HTTP 503","HTTP 504","Internal Server Error"].some(t=>n.toLowerCase().includes(t.toLowerCase()))}function tf({parser:n,result:e,onClose:t,isDraggable:r=!0,onSetYamlInput:s,showTestSuite:l=!0}){const[a,c]=O.useState(!1),[h,d]=O.useState(!1),[p,m]=O.useState(!1),[v,x]=O.useState(0),[k,b]=O.useState(!1),[C,E]=O.useState(null),[R,N]=O.useState(!1),[_,T]=O.useState(0),F=O.useCallback(()=>{Ao(n.id),m(!0),x(re=>re+1)},[n.id]),B=O.useCallback(()=>{Ao(n.id),d(!1)},[n.id]),U=O.useCallback(()=>{C&&(Ao(C),N(!0),T(re=>re+1))},[C]),q=O.useCallback(()=>{C&&(Ao(C),E(null))},[C]),V=n.id!=="refparse",W=V&&(e==null?void 0:e.versionMismatch),H=V&&!W&&(e==null?void 0:e.status)===-1&&(e==null?void 0:e.output)&&dM(e.output);return S.jsxs("div",{className:"flex flex-col h-full min-h-[200px] bg-gray-900",children:[S.jsx(ZA,{parser:n,matches:e==null?void 0:e.matches,loading:e==null?void 0:e.loading,onClose:t,isDraggable:r,onInfoClick:()=>c(!0),onRunTestSuite:()=>{m(!1),d(!0)},showTestSuite:l}),S.jsx(eM,{isOpen:a,onClose:()=>c(!1),parser:n}),S.jsx(od,{isOpen:h,onClose:()=>d(!1),parser:n,onSelectTest:re=>s==null?void 0:s(re),forceRerun:p,onCompare:()=>b(!0),onRunAgain:F,onClearCache:B},v),S.jsx(M1,{isOpen:k,onClose:()=>b(!1),onSelectParser:re=>E(re)}),C&&ri(C)&&S.jsx(od,{isOpen:!0,onClose:()=>{E(null),N(!1)},parser:ri(C),onSelectTest:re=>s==null?void 0:s(re),forceRerun:R,onCompare:()=>{E(null),b(!0)},onRunAgain:U,onClearCache:q},`view-${C}-${_}`),S.jsx("div",{className:"flex-1 bg-gray-900 overflow-auto",children:e!=null&&e.error?S.jsxs("pre",{className:"p-3 text-red-400 text-sm font-mono whitespace-pre-wrap",children:["Error: ",e.error]}):W?S.jsxs("div",{className:"p-3 text-sm",children:[S.jsxs("p",{className:"text-yellow-400 mb-2",children:["Wrong sandbox version (",e.versionMismatch.found,") found. Requires ",e.versionMismatch.required,"."]}),S.jsxs("p",{className:"text-gray-400",children:['Click the "',S.jsx("span",{className:"text-white font-medium",children:"Setup"}),'" button for instructions.']})]}):H?S.jsxs("div",{className:"p-3 text-sm",children:[S.jsx("p",{className:"text-gray-300 mb-2",children:"Can't connect to a local YAML parser sandbox server."}),S.jsxs("p",{className:"text-gray-400",children:['Click the "',S.jsx("span",{className:"text-white font-medium",children:"Setup"}),'" button for instructions.']})]}):e!=null&&e.loading?S.jsx("div",{className:"p-3 text-gray-500 text-sm",children:"Running parser..."}):S.jsx("pre",{className:"p-3 text-gray-200 text-sm font-mono whitespace-pre-wrap",children:(e==null?void 0:e.output)||"No output yet"})})]})}function pM({total:n,disagreeing:e,disagreeingNames:t,loading:r,sandboxAvailable:s=!0}){if(!s)return null;if(r)return S.jsx("div",{className:"bg-gray-800 border-t border-gray-700 px-4 py-2",children:S.jsx("span",{className:"text-gray-400 font-semibold",children:"Running parsers..."})});const l=e===0;return S.jsxs("div",{className:"bg-gray-800 border-t border-gray-700 px-4 py-2 flex items-center justify-between",children:[l?S.jsxs("span",{className:"text-green-400 font-semibold",children:["All ",n," parsers agree with the Reference Parser"]}):S.jsxs("span",{className:"text-red-400 font-semibold",children:[e,"/",n," parsers disagree with the Reference Parser: ",t.join(", ")]}),S.jsx("a",{href:"https://github.com/yaml/yaml-play",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",title:"View on GitHub",children:S.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.604-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.464-1.11-1.464-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.115 2.504.337 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z"})})})]})}const gM=[{id:"dark",label:"Dark"},{id:"light",label:"Light"},{id:"high-contrast",label:"High Contrast"}],mM=[{id:"monaco",label:"Monaco"},{id:"codemirror",label:"CodeMirror"}];function yM({isOpen:n,onClose:e,paneStates:t,onToggleVisibility:r,colorScheme:s,onColorSchemeChange:l,editorType:a,onEditorTypeChange:c}){if(O.useEffect(()=>{if(!n)return;const p=m=>{m.key==="Escape"&&e()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n,e]),!n)return null;const h=new Map(t.map(p=>[p.id,p])),d=[...Li].filter(p=>p.id!=="refparse").sort((p,m)=>p.id.localeCompare(m.id));return S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:S.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-sm w-full mx-4 max-h-[80vh] overflow-hidden",onClick:p=>p.stopPropagation(),children:[S.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[S.jsx("h2",{className:"text-lg font-semibold text-white",children:"Preferences"}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),S.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:[S.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"Editor"}),S.jsx("div",{className:"flex gap-2 mb-4",children:mM.map(p=>S.jsx("button",{onClick:()=>c(p.id),className:`flex-1 py-2 px-3 rounded text-sm transition-colors ${a===p.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:p.label},p.id))}),S.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"Color Scheme"}),S.jsx("div",{className:"flex gap-2 mb-4",children:gM.map(p=>S.jsx("button",{onClick:()=>l(p.id),className:`flex-1 py-2 px-3 rounded text-sm transition-colors ${s===p.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:p.label},p.id))}),S.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"Parser Panes"}),d.map(p=>{const m=h.get(p.id),v=(m==null?void 0:m.visible)??!1,x=/^\d+(\.\d+)+$/.test(p.version);return S.jsxs("label",{className:"flex items-center gap-3 py-2 px-2 rounded cursor-pointer hover:bg-gray-700",children:[S.jsx("input",{type:"checkbox",checked:v,onChange:k=>r(p.id,k.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),S.jsx("span",{className:"text-white font-medium",children:p.name}),S.jsx("span",{className:"text-xs text-gray-400",children:p.language}),x&&S.jsx("span",{className:"text-xs text-blue-400",children:p.version})]},p.id)})]})]})})}function Ry({isOpen:n,onClose:e,isMobile:t=!1}){return O.useEffect(()=>{if(!n)return;const r=s=>{s.key==="Escape"&&e()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[n,e]),n?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:S.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[80vh] overflow-hidden",onClick:r=>r.stopPropagation(),children:[S.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[S.jsx("h2",{className:"text-lg font-semibold text-white",children:"Help"}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),S.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh] space-y-6",children:[t&&S.jsxs("section",{className:"bg-blue-900 bg-opacity-50 rounded-lg p-4 border border-blue-700",children:[S.jsx("h3",{className:"text-sm font-semibold text-blue-300 mb-2",children:"Mobile Mode"}),S.jsx("p",{className:"text-gray-300 text-sm",children:"This site works on mobile but is really designed for desktop use. On a desktop you can compare output from 17+ YAML parsers side by side, use keyboard shortcuts, and drag to reorder panes."}),S.jsx("p",{className:"text-gray-300 text-sm mt-2",children:"The other parsers require Docker to run, which is not available on mobile devices. Only the JavaScript Reference Parser is shown here."})]}),!t&&S.jsxs("section",{children:[S.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"Keyboard Shortcuts"}),S.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-x-4 gap-y-2 text-sm",children:[S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"Esc"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Unfocus input pane / Close modal"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"I"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Focus input pane"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"A"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Show all panes"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"N"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Hide all panes"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"D"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Show differing panes"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"S"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Show your selected panes"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"P"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Open Preferences"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"H"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Open Help"})]})]}),S.jsxs("section",{children:[S.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"About"}),S.jsx("p",{className:"text-gray-300 text-sm",children:"The YAML Parser Playground compares output from multiple YAML parser implementations. The Reference Parser is used as the baseline. Green headers indicate matching output and red ones indicate differences."}),S.jsx("br",{}),S.jsxs("p",{className:"text-gray-300 text-sm",children:[`The output format is a DSL for YAML parser "events", which are the data structures most YAML parsers create internally. A YAML "parser" is just one of many stages in a YAML "loader"'s stack, but it is the most difficult and important one to get right. This DSL is the one used by the `,S.jsx("a",{href:"https://github.com/yaml/yaml-test-suite",className:"text-blue-400 hover:underline",children:"YAML Test Suite"}),"."]}),!t&&S.jsxs(S.Fragment,{children:[S.jsx("br",{}),S.jsx("p",{className:"text-gray-300 text-sm",children:"Note: The S key will restore your selected panes after using A, N, or D to show all, none, or differing panes."})]}),S.jsx("br",{}),S.jsx("p",{className:"text-gray-300 text-sm",children:"This site turns your input into sharable URLs. This can be very useful when discussing particular YAML issues or reporting bugs."})]})]})]})}):null}const R1=tM(),nf=`docker run --rm -d -p 7481:7481 yamlio/yaml-play-sandbox:${R1} 7481`;function vM({isOpen:n,onClose:e}){const[t,r]=O.useState(!1),s=async()=>{try{await navigator.clipboard.writeText(nf),r(!0),setTimeout(()=>r(!1),2e3)}catch{const l=document.createElement("textarea");l.value=nf,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),r(!0),setTimeout(()=>r(!1),2e3)}};return O.useEffect(()=>{if(!n)return;const l=a=>{a.key==="Escape"&&e()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[n,e]),n?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:S.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[80vh] overflow-hidden",onClick:l=>l.stopPropagation(),children:[S.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[S.jsx("h2",{className:"text-lg font-semibold text-white",children:"Sandbox Setup"}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),S.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh] space-y-6",children:[S.jsxs("section",{children:[S.jsxs("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:["Start the Sandbox Server (version ",R1,")"]}),S.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Most of these parsers run in a Docker container that you need to start on your machine. If you see connection errors, start the sandbox by running this command in a terminal:"}),S.jsxs("div",{className:"relative",children:[S.jsx("pre",{className:"bg-gray-900 p-3 pr-16 rounded text-sm text-green-400 font-mono overflow-x-auto",children:nf}),S.jsx("button",{onClick:s,className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded transition-colors",children:t?"Copied!":"Copy"})]}),S.jsx("br",{}),S.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Note: If a different version of the sandbox server Docker container is already running, you'll need to kill that first."})]}),S.jsxs("section",{children:[S.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 uppercase",children:"HTTPS Certificate (if needed)"}),S.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"If you are still getting connection errors, you may need to accept the unsigned HTTPS certificate:"}),S.jsxs("ol",{className:"text-gray-300 text-sm list-decimal list-inside space-y-1",children:[S.jsxs("li",{children:["Click here:"," ",S.jsx("a",{href:"https://localhost:7481",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"https://localhost:7481"})," ","(opens in a new tab)"]}),S.jsx("li",{children:"Accept the security warning / proceed anyway"}),S.jsx("li",{children:"Return to this page and refresh"})]})]})]})]})}):null}function xM({onAbout:n,onPreferences:e,onKeyboardShortcuts:t,onFactoryReset:r}){const[s,l]=O.useState(!1),a=O.useRef(null);return O.useEffect(()=>{if(!s)return;const c=d=>{a.current&&!a.current.contains(d.target)&&l(!1)},h=d=>{d.key==="Escape"&&l(!1)};return document.addEventListener("mousedown",c),document.addEventListener("keydown",h),()=>{document.removeEventListener("mousedown",c),document.removeEventListener("keydown",h)}},[s]),S.jsxs("div",{className:"relative",ref:a,children:[S.jsx("button",{onClick:()=>l(!s),className:"text-white hover:text-gray-300 p-2",title:"Menu",children:S.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),s&&S.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-gray-800 border border-gray-700 rounded shadow-lg z-50 min-w-[160px]",children:[S.jsx("button",{onClick:()=>{l(!1),n()},className:"w-full text-left px-3 py-2 text-sm text-white hover:bg-gray-700",children:"About"}),S.jsxs("button",{onClick:()=>{l(!1),e()},className:"w-full text-left px-3 py-2 text-sm text-white hover:bg-gray-700",children:[S.jsx("span",{className:"underline",children:"P"}),"references"]}),S.jsxs("button",{onClick:()=>{l(!1),t()},className:"w-full text-left px-3 py-2 text-sm text-white hover:bg-gray-700",children:[S.jsx("span",{className:"underline",children:"K"}),"eyboard Shortcuts"]}),S.jsx("button",{onClick:()=>{l(!1),r()},className:"w-full text-left px-3 py-2 text-sm text-red-400 hover:bg-gray-700",children:"Factory Reset"})]})]})}function wM({isOpen:n,onClose:e}){return O.useEffect(()=>{if(!n)return;const t=r=>{r.key==="Escape"&&e()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[n,e]),n?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:S.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4",onClick:t=>t.stopPropagation(),children:[S.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[S.jsx("h2",{className:"text-lg font-semibold text-white",children:"About"}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),S.jsxs("div",{className:"p-4 space-y-4",children:[S.jsx("p",{className:"text-gray-300 text-sm",children:"The YAML Parser Playground compares output from multiple YAML parser implementations. The Reference Parser is used as the baseline. Green headers indicate matching output and red ones indicate differences."}),S.jsxs("p",{className:"text-gray-300 text-sm",children:[`The output format is a DSL for YAML parser "events", which are the data structures most YAML parsers create internally. A YAML "parser" is just one of many stages in a YAML "loader"'s stack, but it is the most difficult and important one to get right. This DSL is the one used by the`," ",S.jsx("a",{href:"https://github.com/yaml/yaml-test-suite",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"YAML Test Suite"}),"."]}),S.jsx("p",{className:"text-gray-300 text-sm",children:"This site turns your input into sharable URLs. This can be very useful when discussing particular YAML issues or reporting bugs."})]})]})}):null}function kM({isOpen:n,onClose:e}){return O.useEffect(()=>{if(!n)return;const t=r=>{r.key==="Escape"&&e()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[n,e]),n?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:S.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4",onClick:t=>t.stopPropagation(),children:[S.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[S.jsx("h2",{className:"text-lg font-semibold text-white",children:"Keyboard Shortcuts"}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),S.jsx("div",{className:"p-4",children:S.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-x-4 gap-y-2 text-sm",children:[S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"Esc"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Unfocus input pane / Close modal"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"I"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Focus input pane"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"A"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Show all panes"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"N"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Hide all panes"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"D"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Show differing panes"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"S"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Show your selected panes"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"C"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Compare Test Runs"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"P"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Open Preferences"}),S.jsx("kbd",{className:"bg-gray-900 px-2 py-1 rounded text-gray-200 font-mono",children:"K"}),S.jsx("span",{className:"text-gray-300 self-center",children:"Show keyboard shortcuts"})]})})]})}):null}const rf="yaml-play-layout";function Dy(){const n=cM();return{panes:Li.map(t=>{const r=n.indexOf(t.id);return{id:t.id,visible:r>=0,order:r>=0?r:1e3+Li.findIndex(s=>s.id===t.id)}}),selectedPaneIds:n}}function SM(){const[n,e]=O.useState(()=>{try{const x=localStorage.getItem(rf);if(x){const k=JSON.parse(x),b=new Set(k.panes.map(E=>E.id)),C=Li.filter(E=>!b.has(E.id)).map((E,R)=>({id:E.id,visible:!1,order:k.panes.length+R}));return{...k,panes:[...k.panes,...C]}}}catch{}return Dy()});O.useEffect(()=>{localStorage.setItem(rf,JSON.stringify(n))},[n]);const t=O.useCallback((x,k)=>{e(b=>{let C;if(k){const R=Math.max(...b.panes.map(N=>N.order));C=b.panes.map(N=>N.id===x?{...N,visible:k,order:R+1}:N)}else C=b.panes.map(R=>R.id===x?{...R,visible:k}:R);const E=C.filter(R=>R.visible).map(R=>R.id);return{...b,panes:C,selectedPaneIds:E}})},[]),r=O.useCallback((x,k)=>{e(b=>{const C=[...b.panes],E=C.findIndex(_=>_.id===x),R=C.findIndex(_=>_.id===k);if(E===-1||R===-1)return b;const[N]=C.splice(E,1);return C.splice(R,0,N),{panes:C.map((_,T)=>({..._,order:T}))}})},[]),s=O.useCallback(()=>{localStorage.removeItem(rf),lM(),e(Dy())},[]),l=O.useCallback(()=>{e(x=>{const k=x.panes.filter(R=>R.visible),b=k.length>0?Math.max(...k.map(R=>R.order)):-1,C=x.panes.filter(R=>!R.visible&&R.id!=="refparse").sort((R,N)=>R.id.localeCompare(N.id)),E=new Map;return C.forEach((R,N)=>{E.set(R.id,b+1+N)}),{...x,panes:x.panes.map(R=>({...R,visible:!0,order:E.has(R.id)?E.get(R.id):R.order}))}})},[]),a=O.useCallback(()=>{e(x=>({...x,panes:x.panes.map(k=>k.id==="refparse"?k:{...k,visible:!1})}))},[]),c=O.useCallback(()=>{e(x=>{const k=new Set(x.selectedPaneIds??[]);return k.size===0?x:{...x,panes:x.panes.map(b=>({...b,visible:k.has(b.id)}))}})},[]),h=O.useCallback(x=>{e(k=>{const b=new Set(x);if(k.panes.filter(N=>!N.visible&&b.has(N.id)).length===0)return k;let R=Math.max(...k.panes.filter(N=>N.visible).map(N=>N.order),-1)+1;return{...k,panes:k.panes.map(N=>!N.visible&&b.has(N.id)?{...N,visible:!0,order:R++}:N)}})},[]),d=O.useCallback(x=>{e(k=>({...k,inputPaneWidth:x}))},[]),p=O.useCallback(x=>{e(k=>({...k,colorScheme:x}))},[]),m=O.useCallback(x=>{e(k=>({...k,editorType:x}))},[]),v=O.useCallback(()=>n.panes.filter(x=>x.visible).sort((x,k)=>x.order-k.order),[n.panes]);return{layout:n,updatePaneVisibility:t,reorderPanes:r,resetLayout:s,showAllPanes:l,hideAllPanes:a,showSelectedPanes:c,showErrorPanes:h,getVisiblePanes:v,inputPaneWidth:n.inputPaneWidth??400,setInputPaneWidth:d,colorScheme:n.colorScheme??"dark",setColorScheme:p,editorType:n.editorType??"monaco",setEditorType:m}}const Qa=Li.filter(n=>n.id!=="refparse").map(n=>n.id);function bM(){const[n,e]=O.useState(new Map),[t,r]=O.useState(""),s=O.useRef(null),l=O.useCallback(async(h,d)=>{s.current&&s.current.abort(),s.current=new AbortController,e(x=>{const k=new Map(x);return k.set("refparse",{parserId:"refparse",output:"",status:0,loading:!0}),Qa.forEach(b=>{k.set(b,{parserId:b,output:"",status:0,loading:!0})}),k});const p=await C1(h),m=p.output,v=p.status;r(m),e(x=>{const k=new Map(x);return k.set("refparse",{parserId:"refparse",output:p.output,status:p.status,loading:!1,matches:p.status===0,agrees:!0}),k}),await Promise.all(Qa.map(async x=>{const k=Li.find(R=>R.id===x);if(!k)return;const b=await O1(x,h,k.version);let C,E;if(b.status===-1)C=!1,E=!1;else if(x==="refhs"){const R=v===0,N=b.status===0;C=R===N,E=v===0&&C}else v!==0?(C=b.status!==0,E=!1):(C=b.status===0&&P1(m,b.output,x),E=C);e(R=>{const N=new Map(R);return N.set(x,{parserId:x,output:b.output,status:b.status,loading:!1,matches:E,agrees:C,versionMismatch:b.versionMismatch}),N})}))},[]),a=O.useCallback(h=>n.get(h),[n]),c=O.useCallback(()=>{const h=[];let d=0;return Qa.forEach(p=>{const m=n.get(p);if(!m||m.loading)d++;else if(!m.agrees){const v=ri(p);h.push((v==null?void 0:v.name)||p)}}),{total:Qa.length,disagreeing:h.length,disagreeingNames:h,loading:d>0}},[n]);return{results:n,refOutput:t,runAllParsers:l,getResult:a,getAgreementCount:c}}function OM(n=640){const[e,t]=O.useState(typeof window<"u"?window.innerWidth<n:!1);return O.useEffect(()=>{const r=()=>t(window.innerWidth<n);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[n]),e}function CM(){const[n,e]=O.useState(typeof window<"u"?window.innerWidth>window.innerHeight:!1);return O.useEffect(()=>{const t=()=>e(window.innerWidth>window.innerHeight);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),n}function PM(){const n=window.location.hash.slice(1);if(!n)return null;try{return atob(n)}catch{return null}}function EM(n){const e=btoa(n);window.history.replaceState(null,"",`#${e}`)}function AM(){const[n,e]=O.useState(()=>PM()||Fo),[t,r]=O.useState(!1),[s,l]=O.useState(!1),[a,c]=O.useState(!1),[h,d]=O.useState(!1),[p,m]=O.useState(!1),[v,x]=O.useState(!1),[k,b]=O.useState(null),[C,E]=O.useState(!0),[R,N]=O.useState(!1),_=O.useRef(null),T=O.useRef(""),F=OM(640),B=CM(),{layout:U,updatePaneVisibility:q,reorderPanes:V,resetLayout:W,showAllPanes:H,hideAllPanes:re,showSelectedPanes:ue,showErrorPanes:G,getVisiblePanes:ce,inputPaneWidth:pe,setInputPaneWidth:K,colorScheme:Z,setColorScheme:J,editorType:A,setEditorType:I}=SM(),{results:ie,runAllParsers:he,getResult:ve,getAgreementCount:ne}=bM(),ae=ce(),{total:be,disagreeing:Pe,disagreeingNames:xe,loading:Re}=ne(),ze=ae.map(Me=>Me.id).join(","),Ge=O.useRef({input:"",panes:""}),Je=Array.from(ie.values()).some(Me=>Me.versionMismatch);O.useEffect(()=>{const Me=async()=>{const De=await nM();E(De)};Me();const fe=setInterval(Me,1e4);return()=>clearInterval(fe)},[]),O.useEffect(()=>{const Me=U.panes.find(fe=>fe.id==="refparse");Me&&!Me.visible&&q("refparse",!0)},[U.panes,q]),O.useEffect(()=>{const Me=setTimeout(()=>{EM(n)},1e3);return()=>clearTimeout(Me)},[n]),O.useEffect(()=>{if(Ge.current.input===n&&Ge.current.panes===ze)return;const Me=setTimeout(()=>{const fe=ze.split(",").filter(Boolean);fe.length>0&&(Ge.current={input:n,panes:ze},he(n,fe))},500);return()=>clearTimeout(Me)},[n,ze,he]),O.useEffect(()=>{const Me=fe=>{var Or,Cr;const De=fe.target,wt=De.tagName==="INPUT"||De.tagName==="TEXTAREA"||De.closest(".monaco-editor")||De.closest(".cm-editor");if(fe.key==="Escape"&&wt){fe.preventDefault(),(Or=_.current)==null||Or.blur();return}if(wt)return;const Ze=fe.key.toUpperCase();if(Ze==="I"&&!fe.ctrlKey&&!fe.metaKey&&!fe.altKey&&(fe.preventDefault(),(Cr=_.current)==null||Cr.focus()),Ze==="H"&&!fe.ctrlKey&&!fe.metaKey&&!fe.altKey&&(fe.preventDefault(),l(!0)),Ze==="P"&&!fe.ctrlKey&&!fe.metaKey&&!fe.altKey&&(fe.preventDefault(),r(!0)),Ze==="A"&&!fe.ctrlKey&&!fe.metaKey&&!fe.altKey&&(fe.preventDefault(),H()),Ze==="N"&&!fe.ctrlKey&&!fe.metaKey&&!fe.altKey&&(fe.preventDefault(),re()),Ze==="S"&&!fe.ctrlKey&&!fe.metaKey&&!fe.altKey&&(fe.preventDefault(),ue()),Ze==="C"&&!fe.ctrlKey&&!fe.metaKey&&!fe.altKey&&(fe.preventDefault(),x(!0)),Ze==="K"&&!fe.ctrlKey&&!fe.metaKey&&!fe.altKey&&(fe.preventDefault(),m(!0)),Ze==="D"&&!fe.ctrlKey&&!fe.metaKey&&!fe.altKey){fe.preventDefault();const Pr=[];ie.forEach((ji,tn)=>{tn!=="refparse"&&ji.agrees===!1&&Pr.push(tn)}),Pr.length>0&&G(Pr)}Ze==="X"&&!fe.ctrlKey&&!fe.metaKey&&!fe.altKey?(T.current+="X",T.current==="XXX"&&(fe.preventDefault(),W(),e(Fo),T.current="")):T.current=""};return document.addEventListener("keydown",Me),()=>document.removeEventListener("keydown",Me)},[H,re,ue,G,ie,W]);const Ct=Kk(Am(md,{activationConstraint:{distance:8}}),Am(pd)),On=O.useCallback(Me=>{const{active:fe,over:De}=Me;if(De&&fe.id!==De.id){if(fe.id==="refparse")return;V(fe.id,De.id)}},[V]),Cn=ri("refparse");return F?S.jsxs("div",{className:"h-screen flex flex-col bg-gray-900",children:[S.jsxs("header",{className:"bg-gray-800 px-3 py-2 border-b border-gray-700 flex items-center justify-between flex-shrink-0",children:[S.jsx("h1",{className:"text-lg font-bold text-white",children:"YAML Playground"}),S.jsxs("div",{className:"relative",children:[S.jsx("button",{onClick:()=>N(!R),className:"p-2 text-white hover:bg-gray-700 rounded transition-colors","aria-label":"Menu",children:S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),R&&S.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50",children:[S.jsx("button",{onClick:()=>{l(!0),N(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-gray-700 transition-colors",children:"About"}),S.jsx("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),N(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-gray-700 transition-colors",children:"Share"}),S.jsx("a",{href:"https://github.com/yaml/yaml-play",target:"_blank",rel:"noopener noreferrer",onClick:()=>N(!1),className:"block w-full px-4 py-3 text-left text-white hover:bg-gray-700 transition-colors",children:"GitHub"})]})]})]}),S.jsxs("div",{className:`flex-1 flex ${B?"flex-row":"flex-col"} overflow-hidden min-h-0`,children:[S.jsx("div",{className:`${B?"w-1/2 h-full":"h-1/2 w-full"} flex flex-col overflow-hidden ${B?"border-r border-gray-700":"border-b border-gray-700"}`,children:S.jsx(Cy,{ref:_,value:n,onChange:e,width:pe,onWidthChange:K,colorScheme:Z,editorType:A,showBorder:!1,isMobile:!0})}),Cn&&S.jsx("div",{className:`${B?"w-1/2 h-full":"h-1/2 w-full"} flex flex-col overflow-hidden`,children:S.jsx(tf,{parser:Cn,result:ve("refparse"),isDraggable:!1,onSetYamlInput:e,showTestSuite:!1})})]}),S.jsx(Ry,{isOpen:s,onClose:()=>l(!1),isMobile:F})]}):S.jsxs("div",{className:"h-screen flex flex-col bg-gray-900",children:[S.jsxs("header",{className:"bg-gray-800 px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[S.jsx("h1",{className:"text-xl font-bold text-white",children:"YAML Parser Playground"}),S.jsxs("div",{className:"flex items-center gap-2",children:[(!C||Je)&&S.jsx("button",{onClick:()=>c(!0),className:"px-3 py-1.5 bg-yellow-500 text-black font-semibold rounded hover:bg-yellow-400 transition-colors text-sm",children:"Setup"}),S.jsx(xM,{onAbout:()=>d(!0),onPreferences:()=>r(!0),onKeyboardShortcuts:()=>m(!0),onFactoryReset:()=>{W(),e(Fo)}})]})]}),S.jsx("div",{className:"flex-1 flex overflow-hidden",children:(()=>{const Me=ae.length>8,fe=Me?ae.filter(De=>De.id!=="refparse"):ae;return S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:`${Me?"grid grid-rows-2":"flex flex-col"} h-full border-r border-gray-700`,style:{width:`${pe}px`,minWidth:"200px",maxWidth:"800px"},children:[S.jsx(Cy,{ref:_,value:n,onChange:e,width:pe,onWidthChange:K,colorScheme:Z,editorType:A,showBorder:!1,heightMode:Me?"half":"full"}),Me&&Cn&&S.jsx("div",{className:"h-full overflow-hidden border-t border-gray-700",children:S.jsx(tf,{parser:Cn,result:ve("refparse"),isDraggable:!1,onSetYamlInput:e},"refparse-sidebar")})]},Me?"left-col-split":"left-col-full"),S.jsx("div",{className:"flex-1 grid grid-cols-4 overflow-y-auto pane-container gap-px bg-gray-700 auto-rows-fr",children:S.jsx(JS,{sensors:Ct,collisionDetection:Zk,onDragEnd:On,children:S.jsx(hb,{items:fe.map(De=>De.id),strategy:ub,children:fe.map(De=>{const wt=ri(De.id);if(!wt)return null;const Ze=De.id==="refparse";return S.jsx(tf,{parser:wt,result:ve(De.id),onClose:Ze?void 0:()=>q(De.id,!1),isDraggable:!Ze,onSetYamlInput:e},De.id)})})})})]})})()}),S.jsx(pM,{total:be,disagreeing:Pe,disagreeingNames:xe,loading:Re,sandboxAvailable:C}),S.jsx(yM,{isOpen:t,onClose:()=>r(!1),paneStates:U.panes,onToggleVisibility:q,colorScheme:Z,onColorSchemeChange:J,editorType:A,onEditorTypeChange:I}),S.jsx(Ry,{isOpen:s,onClose:()=>l(!1)}),S.jsx(vM,{isOpen:a,onClose:()=>{c(!1);const Me=ze.split(",").filter(Boolean);Me.length>0&&he(n,Me)}}),S.jsx(wM,{isOpen:h,onClose:()=>d(!1)}),S.jsx(kM,{isOpen:p,onClose:()=>m(!1)}),S.jsx(M1,{isOpen:v,onClose:()=>x(!1),onSelectParser:Me=>b(Me)}),k&&ri(k)&&S.jsx(od,{isOpen:!0,onClose:()=>b(null),parser:ri(k),onSelectTest:Me=>e(Me),forceRerun:!1,onCompare:()=>{b(null),x(!0)}})]})}Tk.createRoot(document.getElementById("root")).render(S.jsx(ot.StrictMode,{children:S.jsx(AM,{})}));
//# sourceMappingURL=index-DNs8r-6l.js.map
